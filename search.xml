<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>【Vue.js 3】008 學習筆記</title>
    <url>/2021/02/11/008-book-sharing/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/008vue3.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>過年前收到了預購的 Vue.js 3 書，除了支持以外也希望透過紀錄把看過的東西在寫下來加深印象，以下就分享一些我看的過程中覺得有學習到的部分。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="HTML-引入問題"><a href="#HTML-引入問題" class="headerlink" title="HTML 引入問題"></a>HTML 引入問題</h2><p>若放在 Head tag 上，可能會發現 Vue 沒有效果，因為瀏覽器還沒解析放入 <body> 中，因此要加入 <code>DOMContentLoaded</code> 來加入監聽事件。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = Vue.createApp(&#123;...&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// When DOM ready.</span></span><br><span class="line">  vm.mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="重新定義模板語法"><a href="#重新定義模板語法" class="headerlink" title="重新定義模板語法"></a>重新定義模板語法</h2><p>為了避免<code>&#123;&#123;&#125;&#125;</code>被某些框架使用到(如 flask)，因此可以如下定義來避免掉這個問題：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = createApp(&#123;</span><br><span class="line">  delimiters: [<span class="string">&#x27;%&#123;&#x27;</span>,<span class="string">&#x27;&#125;%&#x27;</span>],</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="避免環境污染：淺拷貝-vs-深拷貝"><a href="#避免環境污染：淺拷貝-vs-深拷貝" class="headerlink" title="避免環境污染：淺拷貝 vs 深拷貝"></a>避免環境污染：淺拷貝 vs 深拷貝</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;...data&#125;</span><br></pre></td></tr></table></figure>

<p>vs</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(data));</span><br></pre></td></tr></table></figure>

<h2 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h2><h3 id="v-model-修飾子-輸入框-小技巧"><a href="#v-model-修飾子-輸入框-小技巧" class="headerlink" title="v-model 修飾子 (輸入框 小技巧)"></a>v-model 修飾子 (輸入框<input> 小技巧)</h3><blockquote>
<p>用法: <input v-model.ooo="message"></p>
</blockquote>
<ul>
<li><code>.lazy</code>: 將事件轉為 change 模式<ul>
<li>不希望輸入框太頻繁更新時則可使用</li>
</ul>
</li>
<li><code>.number</code>: 即便輸入全數字，由 DOM API 拿到數值時也會被轉為字串</li>
<li><code>.trim</code>: 過濾輸入框文字前後的空白</li>
</ul>
<h3 id="Select-下拉式選單問題"><a href="#Select-下拉式選單問題" class="headerlink" title="Select 下拉式選單問題"></a>Select 下拉式選單問題</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selectParam&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">disabled</span>&gt;</span>請選擇<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;台北市&quot;</span>&gt;</span>台北市<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;台中市&quot;</span>&gt;</span>台中市<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>v-model 不可套在 <strong>option</strong> 上</li>
<li>select 中無法對應到任何選項，標籤會預設為未選中狀態，iOS 中會讓使用者無法選擇第一個項目，因此 iOS 不會出發 change 事件。<ul>
<li>解決方案：第一個 option 加入 disabled 屬性，排除此問題</li>
</ul>
</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li>盡可能避免使用 <code>_</code> 與 <code>$</code> 來命名參數，因會與 Vue 的核心內容衝突</li>
</ul>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>2020/01/10 的mur mur</title>
    <url>/2020/01/10/2020-01-10-%E7%9A%84mur-mur/</url>
    <content><![CDATA[<h1 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h1><p>其實本來也沒打算在我的部落格發這種 mur mur 文，但總覺得在前往更高層級時總是需要思考一下自己在做的事情是不是對的，接下來就在描述一下好了 😆</p>
<h1 id="Body"><a href="#Body" class="headerlink" title="Body"></a>Body</h1><p>就在今天跟著大家一起看<code>GitHub</code> 全球最大軟體工程師交友平台的排名網站(可惜我貢獻還不夠多沒排進去 😭)<br><a href="https://commits.top/taiwan.html">https://commits.top/taiwan.html</a></p>
<p>看著各位為大神的排行榜中點來點去就碰巧點到了這篇文章<br><a href="https://jaceju.net/be-a-senior-engineer/">https://jaceju.net/be-a-senior-engineer/</a></p>
<p>而最近也是一直在想這問題</p>
<blockquote>
<p>「如何才有資格稱為資深工程師」</p>
</blockquote>
<p>以前總想著只要工作一陣子之後我就可以號稱我是 senior<br>但工作後又跑社群發現認識的一個比一個還強都覺得離他們好遠啊 👀</p>
<p>但看完這篇之後也很慶幸自己身邊有那麼多貴人在幫助我往資深工程師的方向在走<br>但不管職稱是什麼我認為「自我反省」是一件很重要的事<br>小到文件錯字、大到系統 runtime 爆炸 🐛<br>都得從中去找到錯誤去找出讓自己成長的契機</p>
<p>這是最近做了一個類似 AWS IoT Job 的 mur mur 🤣<br>讓自己成為更好的軟體工程師～</p>
]]></content>
      <categories>
        <category>日記</category>
      </categories>
      <tags>
        <tag>日記</tag>
      </tags>
  </entry>
  <entry>
    <title>2020 一、二月的學習紀錄</title>
    <url>/2020/02/07/2020-Q1-learning/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/0uMmQBV.jpg" alt="learn records"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>礙於最近做事有點手忙腳亂，沒有很有效的管理時間，記錄下來讓往後能有個經驗可循並增加自我管理能力。</p>
<h1 id="實作項目"><a href="#實作項目" class="headerlink" title="實作項目"></a>實作項目</h1><h2 id="Docker-amp-Docker-Compose"><a href="#Docker-amp-Docker-Compose" class="headerlink" title="Docker &amp; Docker-Compose"></a>Docker &amp; Docker-Compose</h2><p>我記得上次自己弄 docker container 已經是一年多前，當時還結合 Drone CI 來跑(好久了 👀)，對於 Dockerfile 使用方法依稀有點印象，而最近因為看了許多 open source 後對於 Dockerfile 的內容了解度也提升了許多(實在是個不錯的方法 👍)，會這樣子弄的原因是我認為 Serverless 的架構很容易被 AWS 綁架，我認為 API 這類可拆出來的功能應該要包成 container 增加彈性不讓平台限制，被這個想法 trigger 後就來好好練習 Docker 了 🏋️‍♂️。</p>
<p>這次使用 <a href="https://github.com/louis70109/Twitch-Bot">Twitch-Bot</a> 做我的練習對象，裡面主要用了 <code>node</code> 以及 <code>mongo</code> 兩個服務，在此同時如果各別起 docker 挺麻煩，因此就需要使用 <code>docker-compose</code> 幫忙啟動，而在這過程中學到了:</p>
<ul>
<li>把 Dockerfile 遷移到 docker-compose 上 (<del>如何複製別人的檔案(大誤)</del>)。</li>
<li>藉由 docker-compose 裡面的 <code>network</code> 連接兩個容器的使用方法。</li>
<li>Google container-registry 上傳以及 gcloud 過期的 docker 使用方法(<a href="https://cloud.google.com/container-registry/docs/support/deprecation-notices">參考</a>)，同時也修正後可以使用 docker 的原生指令將 container 送上 Google。</li>
</ul>
<p>接下來就是趁六月 credit 過期前趕快來玩玩 Google Kubernetes 🚀</p>
<h2 id="AWS-IoT-Job"><a href="#AWS-IoT-Job" class="headerlink" title="AWS IoT Job"></a>AWS IoT Job</h2><p>最近在公司實作 AWS IoT Job 部分的功能(以下稱為 Job)，因為 Job 每次執行收費約 1 塊台幣，之所以會用它是因為在 IoT 執行時不是只會單純發送訊號出來讓後台收訊號做事，而是需要跟後台經過一連串的溝通來達成功能(例如 <code>韌體更新</code>)，當然還有很多更複雜的功能，這邊只列舉一個小部分。</p>
<p>從這段時間的實作上學到的部分:</p>
<h3 id="裝置工作列表"><a href="#裝置工作列表" class="headerlink" title="裝置工作列表"></a>裝置工作列表</h3><p>當後台的 Queue 同時塞進很多工作時要如何管理並通知裝置此時的工作有哪些(All Job)以及要做哪件事(Next Job)，實作這功能時不能只考慮到一個裝置，而是考慮到 N 個裝置時要如何過濾並管理狀態機，限制裝置要依照狀態執行避免系統錯亂。</p>
<h3 id="平台化"><a href="#平台化" class="headerlink" title="平台化"></a>平台化</h3><p>之前主要功能都是介接 AWS IoT，而這次是要實作一個類似的功能提供給其他使用者，不能只開一個 API 就想要功能都包好，而是將功能明確劃分，讓使用者可以有彈性的去組合，只是在此時我沒有處理得很好，之後的 Task 需要更注意。</p>
<h2 id="LINE-SDK-Narrowcast-Client-API"><a href="#LINE-SDK-Narrowcast-Client-API" class="headerlink" title="LINE SDK - Narrowcast Client API"></a>LINE SDK - Narrowcast Client API</h2><blockquote>
<p>參考 Pull Request: <a href="https://github.com/line/line-bot-sdk-python/pull/237">Add narrowcast client api #237</a></p>
</blockquote>
<h3 id="工廠模式"><a href="#工廠模式" class="headerlink" title="工廠模式"></a>工廠模式</h3><p>功能主要是讓開發者可以透過 API 來做分眾的推播，在實作這個 issue 時讓我原本模糊的工廠模式清晰了許多，主要是 SDK 使用了 Python Class 來擔任 Model 的角色，讓進來資料可以經過 model 去轉換成對應的 key-value，所有的資料都分類進去對應的工廠處理完再回傳出來。</p>
<p>在還沒開始看 code 前只想著要寫什麼邏輯去處理，其實使用 Model 的方法就處理掉大部分資料格式的問題，很多 LINE 文件已經清楚定義的格式只要照著填就解決了，只是在這個 Task 遇到了<code>Python 保留字</code>的問題，而經過各種 google 後只好自己寫邏輯去判斷掉這件事，之後只能繼續看有沒有更好的寫法可以取代掉這個<code>保留字</code>的問題。</p>
<h3 id="Lint"><a href="#Lint" class="headerlink" title="Lint"></a>Lint</h3><p>官方 Github 有寫要 Contribute 時需要執行的內容(<a href="https://github.com/line/line-bot-sdk-python#contributing">參考</a>)，lint 則是遵照<code>flake8</code>，而執行<code>tox</code>後會對每個版本的 python 去做測試，但像我電腦只有 3.7 版 tox 就只會針對這個版本做測試。</p>
<ul>
<li>在這件事上學到的 <code>tab</code> 與 <code>空白鍵(space)</code> 的差異，<a href="https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces">PEP-08</a> 上也告訴建議使用<code>空白鍵</code>，而 python 3 之後也不允許兩個混用，畢盡 python 是很注重縮排，既然官網都寫了哪有不遵守的道理呢？😃</li>
</ul>
<blockquote>
<p>Lint 也不會無緣無故來刁難開發者 XD</p>
</blockquote>
<ul>
<li>內部函式(Class、Function)都需要再第一行下註解，而會這樣用的因素可能在 python 上並沒有 <code>public</code>、<code>private</code> 的觀念，透過這樣的方法來表示它(Class、Function)是一個內部函式，藉由 Lint 讓開發者可以知道這個功能是內部還外部，只是在 python 只能使用這個 lint 讓大家遵守這規則，如果沒有 CI 要硬上的話其實也管不住，畢竟不像 golang 這類語言會編譯(汗顏)。</li>
</ul>
<p>總之使用 lint 的好處就是開發風格可以統一，能夠盡量避免不必要的 programing 麻煩，在寫任何語言都推薦使用各個語言的 lint，雖然一開始會很討厭它，但它真的是在幫助你 😆。</p>
<h2 id="Netflix"><a href="#Netflix" class="headerlink" title="Netflix"></a>Netflix</h2><p>這時間與家人一起訂閱了一年份的會員，而我的初衷就是想把英文學好，而我也花了時間好好的看完一部全英文影集(發英與字幕)，第一次嘗試這樣看全英文，並且邊看邊 Google 翻譯不懂的單字同時口述跟著念一遍增加記憶力，隨著工作量減輕後下班也可以再安排時間繼續看下個影集學了～</p>
<blockquote>
<p>然後迷上了<code>愛的迫降</code>這個韓劇，推薦喜歡看愛情片的朋友去看 ❤️</p>
</blockquote>
<h2 id="武漢肺炎"><a href="#武漢肺炎" class="headerlink" title="武漢肺炎"></a>武漢肺炎</h2><p>最近剛好因為這傳染病盛行，除了防疫之餘，g0v 也提供 API 讓開發者可以拿去介接，隨著大家各種開發前端 web 以及 chatbot …的應用後本來在想有個什麼想法可以參與這個全民黑客松，只是我認為用途實在重複性太高，而在大家開發應用時我又剛好在寫 LINE SDK，錯失了第一時間發佈口罩相關的服務建立時間，本來想到 LIFF v2 + LINE Notify，但只是在使用上很容易吵到用戶進而封鎖它(LINE Notify)，因此要考慮好功能再來看會不會有比較好的使用情境。</p>
<blockquote>
<p>出入公共場所記得戴口罩，有帶隨身瓶酒精的記得消毒！😷</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>有時候在思考與規劃的過程中如果經驗不夠時真的很難馬上到位，不過任何事情都一樣，若這件事可以輕鬆且又得心應手，代表它可能已經是你熟悉的領域或是過於簡單，就像我一開始處理社群一樣，若是沒有前輩們帶著走的話我跟本無法有效地處理事情，總之凡是起頭難，即早加入即早熟悉各個領域才是王道 😆</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><p><a href="https://docs.aws.amazon.com/zh_tw/iot/latest/developerguide/iot-rule-actions.html">AWS IoT 觸發後可以執行的功能</a><br><a href="https://docs.aws.amazon.com/iot/latest/developerguide/events-jobs.html">Job Events</a><br><a href="https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces">Tab 與 space 的差異(PEP-08)</a></p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>日記</tag>
        <tag>Docker</tag>
        <tag>LINE SDK</tag>
        <tag>AWS</tag>
        <tag>LINT</tag>
        <tag>Netflix</tag>
      </tags>
  </entry>
  <entry>
    <title>【觀察系列-01】我認知的社群生態</title>
    <url>/2020/06/11/2020-community-status-by-myself/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>自從參與舉辦社群活動也一年多了，過往大多都是參加看大神表演為主，而自從開始處理社群後也認識很多負責人，在最近的待業中其實也思考了很多這類型的事，以下我就稍微整理我對於他們的看法以及推坑的文字。 <del>(誤)</del></p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>以我自身而立，常關注的就是 <strong>核心型社群</strong> 與 <strong>應用型社群</strong> 這兩種，基本上已經涵括大部分的社群，以下就稍微提一下我的看法。</p>
<h2 id="核心型社群"><a href="#核心型社群" class="headerlink" title="核心型社群"></a>核心型社群</h2><p>我認為語言(Python、Ruby、Golang…)、Cloud Native、AI 演算法相關，至於為甚麼是這三個呢，稍微說明一下：</p>
<h3 id="語言-Python、Ruby、Golang…"><a href="#語言-Python、Ruby、Golang…" class="headerlink" title="語言(Python、Ruby、Golang…)"></a>語言(Python、Ruby、Golang…)</h3><p>基本上在研討會上最容易出現也最容易變成 Conference，原因在於通常都在討論<strong>語言特性</strong>、<strong>底層實作</strong>、<strong>適用環境</strong>…，當然還是會有許多相關應用實作的討論在裡面，但我認為前者佔比較大。</p>
<p>像是以前在寫 Ruby 時，其實就很想去參加 <strong>默默會</strong>，給我的印象是前輩們很願意犧牲業餘的時間帶後輩們，讓整個學習環境變很棒，只可惜我身在台中一直沒機會參加，也許之後北上可以去當地與大家交流交流，學習不一樣的社群管理方式。</p>
<p>以 Golang 來說，隨著越來越多產業加入這個語言，風潮感覺有點像之前的 Ruby on Rails，只是這語言的好處就是他是靜態語言，且因為檔案會編譯成靜態檔，所以應用程式是可跨平台。雖然我還沒機會去參加社群就換語言了，但從在學 Golang 時其實就一直有在參考社群前輩們的文章，在這之後其實很多人持續分享相關應用、語言特性的文章，自己是認為社群風格是很開放的，只要你願意分享，這邊都會提供舞台給你。</p>
<h2 id="Cloud-Native"><a href="#Cloud-Native" class="headerlink" title="Cloud Native"></a>Cloud Native</h2><p>我覺得 Cloud Native 就橫跨兩個這兩種類型，若是提到 kernel 相關實作(Linux、Kubernetes、Docker…)、防火牆如何實現等等那就屬於核心系列，而若是架構、Load balance、打造環境等等就會屬於應用類型。</p>
<p>話說以前碩班時其實也都在研究相關技能，只是當時對於整個生態根本不熟，且台中也沒社群，想學或找人問時其實都沒相關資源，後來找工作就只好往 coding 這塊去了，也因為做 Backend 系列的工作接觸到 Cloud 才有一種回家的感覺 😆，只是有好多東西都需要再複習，甚至可以說是重學了 😭，期待去台北工作後可以參加社群～</p>
<h2 id="AI-相關"><a href="#AI-相關" class="headerlink" title="AI 相關"></a>AI 相關</h2><p>老實說我只去過一場，因為以前有聽人家說過 NLP 相關，因此就選擇台中的社群參加，我自己認為提到 AI 相關就一定要看論文了解自己關注的項目背後演算法是如何操作，並且透過數學定理去優化它們，曾經也想過想要去研究，但這裡水太深了，還是留給高手們來好了 😆。</p>
<h2 id="核心型小結"><a href="#核心型小結" class="headerlink" title="核心型小結"></a>核心型小結</h2><p>若今天想對相關技能要更深入研究時，勢必一定會碰到類似上述例子中的環境，我認為這部分時常沒有特定解答，大多都是當下的最佳解(概念很像解演算法)，當在這個環境裡面時勢必是很孤獨的(高手總是孤獨)，參加社群與大家交流也許你的問題別人已經解過，透過交流可以讓你趕快釐清<del>這淌混水(誤)</del>你當前遇到的問題！</p>
<h1 id="應用型社群"><a href="#應用型社群" class="headerlink" title="應用型社群"></a>應用型社群</h1><p>我覺得這系列大致上的宗旨就是：「你用了這個技術去解決的什麼事情。」，以下就介紹兩個我關注的社群。</p>
<h2 id="Chatbot"><a href="#Chatbot" class="headerlink" title="Chatbot"></a>Chatbot</h2><p>LINE 在台灣崛起之後陸續有很多開發者開發相關的 chatbot (如 卡米狗)，隨著時間的演進我也加入社群中。</p>
<p>我認為像是 Chatbot 的入門門檻其實相較於核心型並不算高，你只要用過特定平台(FaceBook、LINE、Telegram)你應該就會用過人家自動回覆的服務，像在此社群中就會有多輪對話、抽獎、看直播、查天氣…超多的應用，在這裡其實大家就是激發想法並分享點子，也許會在某些時刻創造出商機，透過不同點子的分享也就會讓我們社群越來越活絡。</p>
<p>若是游走在前端、後端不定的朋友，其實不妨可以來 Chatbot Developer Taiwan 走走，因為 Chatbot 並不是一個單純的後端服務…</p>
<h2 id="GDG-Google-Developer-Group"><a href="#GDG-Google-Developer-Group" class="headerlink" title="GDG (Google Developer Group)"></a>GDG (Google Developer Group)</h2><blockquote>
<p><del>其實大多時都去噌吃的</del></p>
</blockquote>
<p>第一次參加時(2018)其實是為了看保哥秀 Angular 的技能(簡單說看神表演)，在當時大會中就聽到各種不一樣雲端的應用與情境，實在是琳琅滿目！</p>
<p>我覺得雲端對於剛踏入程式領域一兩年的人來說應該會有點錯愕，為什麼這個有、那個他們也有，我應該用什麼服務才對？ 之類的問題，若是接觸像是 AWS、Google、Azure 這類的雲服務時，應該先可以手動打造一個完整的線上服務(如 購物車)，當打造完時參加社群問其他人應該怎麼改進，也許會收到類似的答案：</p>
<ul>
<li>使用者登入你可以用 Firebase 去記錄步驟，分析使用者有沒有完成註冊。</li>
<li>購物車內的內容放在 NoSQL 中，放在資料庫太浪費空間了。</li>
<li>網址有用 CDN 嗎？不然載入會變很慢喔！</li>
</ul>
<p>當收到以上的問題時，開始 google 後其實就會找到相對應的資源，收集問題後一步一步找對應的服務，串接上你的購物車，當 issue 解決掉時不僅你的購物車完整度超高，且你也學到雲端相關的技能，此時再去 GDG 分享你的成果，同時也可以滿足你的成就感呢！</p>
<h2 id="應用型小結"><a href="#應用型小結" class="headerlink" title="應用型小結"></a>應用型小結</h2><p>畢竟人在世就是來解決問題，也許當下工作你並不會用到這個技能，但若哪天你上司希望用這服務建出<strong>商業邏輯</strong>時，又這麼剛好你都會，這豈不就發達的時候了？在現在資訊爆炸時代當然我們都需要廣學，在學習路程中若有個社群幫忙，其實會讓你在這坑坑的路上走得更順。</p>
<blockquote>
<p>一個人走走得快，一群人走走得遠。</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>不管哪個社群，其實就是大家用了特定技術來解決某些大家都在意的問題，進而形成這個社群，也許你的工作上有點失意，沒關係來社群大家一起取暖(誤)，很多朋友都會覺得是要大神才可以去，錯了！其實透過分享技術學最多的就是分享本人，別以為你這個技能沒什麼而不分享，也許就剛好你對面的朋友他也遇到這個問題，那分享出來不就一起解決對方的問題了嗎？或許你現在還不知道參加什麼社群好，那就來參加 2020 的 COSCUP 吧，上面有很多精彩的議程讓你聽爆！🎉</p>
]]></content>
      <categories>
        <category>日記</category>
      </categories>
      <tags>
        <tag>核心型</tag>
        <tag>應用型</tag>
        <tag>社群</tag>
        <tag>學習</tag>
      </tags>
  </entry>
  <entry>
    <title>2021 LINE Taiwan On Job Training(OJT) 線上花絮</title>
    <url>/2021/10/29/2021-line-on-job-training-for-newcomer/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/ojt/1.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>一年一度 LINE Taiwan On Job Training 在許多同仁加入之後就正式展開啦，這兩年來因爲疫情的關係小編無法與大家一起前往日本受訓，但台灣內部講者、技術資源也是非常豐富，怎麼可以錯過這麼寶貴機會 😁</p>
<p>員工訓練一直工程部門都是很注重的一環，除了大家日常熟悉的 Coding 之外，包括整個部門的狀態、文化、資安意識、開發規範、部署工具等等都是需要了解的部分，</p>
<p>LINE 工程團隊為了持續增加開發品質，一直很遵守所以資安以及許多開發上的規範，而在新人剛加入時不免需要讓大家知道許多規範</p>
<blockquote>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-new-employee-traning/">【LINE】新進員工的內部訓練花絮</a></li>
</ul>
</blockquote>
<span id="more"></span>

<h1 id="Engineering-Introduction"><a href="#Engineering-Introduction" class="headerlink" title="Engineering Introduction"></a>Engineering Introduction</h1><p>教育訓練很重要的一部份就是要讓大家知道這個團隊是如何被建立起來，因此在開場就由 CTO - Marco 為大家帶來部門的歷史以及整體部門架構的組成等等，而在前半段中有幾個需要新加入同仁省思的問題</p>
<ul>
<li>你覺得 LINE 是怎樣的公司?</li>
<li>為什麼要加入 LINE?</li>
</ul>
<p>隨著部門持續擴增，都要盡可能地讓新進同仁可以清楚了解自己加入的初衷，並且時刻回想，讓大家在這麼快速成長的團隊中可以跟著大家的部門一同成長。</p>
<blockquote>
<p>若對於加入我們有興趣，不妨先從 LINE 裡面有的在地化服務開始著手使用吧！相信會對你之後更有幫助 ：）</p>
</blockquote>
<h2 id="任何一段-Code-進入前都需要被-Review"><a href="#任何一段-Code-進入前都需要被-Review" class="headerlink" title="任何一段 Code 進入前都需要被 Review"></a>任何一段 Code 進入前都需要被 Review</h2><p><img src="https://nijialin.com/images/2021/ojt/2.png"></p>
<p>如同上述所說，在產品與團隊越來越多之後，品質的控管就格外重要，在工程部門裡的衷旨就是「<strong>任何一段 Code 進入前都需要被 Review</strong>」，因為這些程式碼可能隨著產品快速迭代之後，下次再更動到的時間可能就很少，為了讓往後的人可以更快速了解當時所做的內容，因此在 Code Review 階段時就顯得格外重要，也讓這份程式碼是有一個以上的同伴一起確認它的品質是足夠的，往後在查找問題時也較能快速找到問題發生點。</p>
<hr>
<p>除了打造服務外，由於人員越來越多，當然也就需要 Developer Relations 這樣的部門角色來建立起優良的內部文化，讓大家除了在打造生態系服務的同時，也可以透過各式各樣的內部活動來互相學習與交流，讓每位工程師可以將自身努力的經驗分享給大家。那到底做了些什麼呢？以下就由 Developer Relations 部門的資深技術推廣工程師 – Evan Lin 為大家介紹這個角色日常都在做些什麼。</p>
<h1 id="文化的重要性-Developer-Relations"><a href="#文化的重要性-Developer-Relations" class="headerlink" title="文化的重要性 Developer Relations"></a>文化的重要性 Developer Relations</h1><p><img src="https://nijialin.com/images/2021/ojt/4.png"></p>
<ul>
<li><strong>Take Ownership</strong><br>我們注重讓每位開發人員的自主權，從規劃、開發、參與討論，讓大家決定該做什麼、該怎麼做。這邊講者首先以 Antman 這個專案為開場介紹，透過工程師們自主提出問題，與不同團隊協同開發，讓壓縮的方式來節省圖片儲存空間 (詳細參考此篇)。<br>接著是去年的 LINE SPOT 口罩地圖，因為疫情的關係，剛好搭配 location-based 的 LINE SPOT，在短短的幾天內迅速打造出口罩地圖，讓各位可以在線上就可以查詢還有哪邊還可以買到口罩，在嚴峻的疫情下效率最大化讓大家可以以最有效的方式找到需要的東西，同時也鼓勵每位同仁發揮黑客的精神持續打造與發想新的應用。<blockquote>
<p>延伸閱讀： <a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-internal-hackathon-2020/">LINE Taiwan Internal Hackathon 2020 活動紀錄</a></p>
</blockquote>
</li>
<li><strong>Be Open</strong>：鼓勵每位同仁踴躍參加研討會或是當講者，除了分享自己在專案上學到的東西外，也能學習成果不同領域的講者所使用的技能，回饋平台上應用的新技術與新知於社群上，讓自己更進步外也能更多瞭解其他地方是如何應用相關技術。</li>
<li><strong>Trust and Respect</strong>：團隊間成員彼此互相信任且尊重彼此的意見，當團隊裡的成員提出不同角度的想法時，能夠藉由彼此的討論，進而增加產品的創新性與提升團隊的化學效應。</li>
</ul>
<blockquote>
<p>歡迎參考在 <a href="https://engineering.linecorp.com/zh-hant/blog/line-recruitment-day-2021/#internal-developer-relations">Recruitment Day 2021 的議程</a></p>
</blockquote>
<p>呼應到開頭我們很注重員工們的資安、開發流程等相關意識，我們也有內部的學習系統 - LINE Class 上安排許多課程內容讓同仁們安排時間上完相關的課程，以隨時更新相關的知識與技術</p>
<blockquote>
<p>延伸閱讀：<a href="https://www.ithome.com.tw/pr/139429">LINE Class 以資安主題打頭陣，透過線上學習及實作提升防禦力</a></p>
</blockquote>
<h2 id="為什麼要確認資訊安全-Security-team"><a href="#為什麼要確認資訊安全-Security-team" class="headerlink" title="為什麼要確認資訊安全? Security team"></a>為什麼要確認資訊安全? Security team</h2><p><img src="https://nijialin.com/images/2021/ojt/6.png"></p>
<p>資訊安全從寫程式開始到日常生活中都是很需要重視的部分，也因為我們重視每位員工(使用者)的相關個人資訊，從入職的第一天就需要注意自己的相關資產是否保存得宜，是否有被竊取的風險，進而到每一行程式碼的相關風險評估，有效地保存個人的資訊從日常生活中就要開始囉！</p>
<blockquote>
<p>雖然許多工具以及論壇上的內容都相當方便且快速，但在使用上還是要多注意相關細節，避免自己的資產遭受到影響～</p>
</blockquote>
<h2 id="共用工具的需求-SRE-team"><a href="#共用工具的需求-SRE-team" class="headerlink" title="共用工具的需求 - SRE team"></a>共用工具的需求 - SRE team</h2><p>服務的監控、可靠度以及部署上的種種疑難雜症都會需要 SRE 團隊的幫忙與協助，由於 LINE 的服務很容易在上線的同時抵達超高流量，因此在監測上就需要與開發不同服務的團隊下功夫把相關監測數據整理出來，讓服務可以達到各樣的可靠度指標。而在這麼多團隊(服務)的情況下，SRE 團隊就會經常性的協助排除疑難雜症。</p>
<p>因此這部分就需要新進同仁多多了解 SRE 團隊日常的相關工作內容，藉此讓各位在日後工作上只要有遇到類似問題才知道要如何諮詢與排解問題。</p>
<blockquote>
<p>SRE 團隊相關介紹可以查看 Recruitment Day 的影片</p>
</blockquote>
<h2 id="開發流程的重要性"><a href="#開發流程的重要性" class="headerlink" title="開發流程的重要性"></a>開發流程的重要性</h2><ul>
<li>DevOps Task Force</li>
</ul>
<p>當中的內容圍繞著以上列點的項目，首先的 Task Force，在 TECHPULSE 2020 有提到，歡迎大家參考影片中的內容</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XE7-xpTCCTM?start=945" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<ul>
<li>Development Regulations Highlights<ul>
<li>Development Processes</li>
<li>Source Code Management</li>
<li>Deployment System</li>
<li>Log Management</li>
</ul>
</li>
</ul>
<p>團隊擴編、程式碼持續迭代、Sprint 一個接著一個之餘，管理開發流程就相當的重要，一切都是要從基本做起，因此在這個部分的介紹讓新進人員可以透過訓練讓相關知識更加穩固，未來開發上也可以更依循相關的技巧讓專案變得更好維護以及監控。</p>
<h3 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h3><iframe width="560" height="315" src="https://www.youtube.com/embed/CfPf9VtvkNk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="世界地圖競賽"><a href="#世界地圖競賽" class="headerlink" title="世界地圖競賽"></a><a href="https://virtualvacation.us/guess">世界地圖競賽</a></h2><p>因為疫情關係無法帶同仁們去日本總部 Training (洗禮?)，但身在跨國公司怎麼能不有國際觀呢？因此將同仁們分到每組來體驗異國風情，當中許多同仁會透過各種方法來辨認地區，右駕、招牌、穿著、植物等等，甚至同仁直接開啟 F12 來檢查一下是不是有答案(API)在後面…(小編覺得佩服)</p>
<p><img src="https://nijialin.com/images/2021/ojt/7.jpeg"></p>
<p>過程中非常的精彩，在有限時間內搭配組員間的默契也可以在分組討論的空間中互相幫忙，也讓每位同仁可以認識未來有機會合作的同仁，經過最後的競爭也前三名的同仁獲得小禮物啦～</p>
<p><img src="https://nijialin.com/images/2021/ojt/9.jpeg"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2021/ojt/8.jpeg"></p>
<p>我們重視每位同仁的發展與相關的訓練制度，確保同仁們加入工程部門後對於跨部門知識是有一定的見解，日後合作時可以更清楚相關問題可以諮詢哪個部門，如果你也想加入我們，除了到 LINE Career 上投遞正職職缺外，如果讀者目前還是學生身份，也很歡迎申請我們 <a href="https://careers.linecorp.com/jobs/83">TECH FRESH 計畫</a>的職缺，相關訊息放在下面提供給大家參考囉！</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs?ca=All&ci=Taipei&co=East%20Asia">LINE Career 台灣類別</a></li>
<li><a href="https://careers.linecorp.com/jobs/83">TECH FRESH 計畫</a></li>
</ul>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>On Job Training</tag>
        <tag>LINE</tag>
      </tags>
  </entry>
  <entry>
    <title>疫情趨緩之後的狀態回歸 | 在台北一年來的生活狀態</title>
    <url>/2021/09/07/20210907-taipei-life/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>近期終於可以比較安心地進入辦公室工作，在前一陣子WFH時再不太習慣且無法出門的狀態時，讓自己原本的生活亂了節奏，近期也比較回歸上軌道了，以下紀錄一下近期的狀態，希望接下來疫情可以穩定點 &gt;&lt;</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="禮拜一"><a href="#禮拜一" class="headerlink" title="禮拜一"></a>禮拜一</h2><p>因為自覺自己快速回到狀態的能力並沒有很強，因此禮拜一都會設定比較早的鬧鐘</p>
<ul>
<li>上班<ul>
<li>8:50 起床</li>
<li>到 9:10 分前梳洗+蒸饅頭(選填)+整理包包</li>
<li>9:10 ~ 9:15 出門</li>
<li>搭公車到港墘站(9:25)</li>
<li>走到公司(9:35~到)</li>
<li>邊看專案進度+吃早餐，邊回想來回狀態(20 mins)</li>
</ul>
</li>
</ul>
<h2 id="禮拜二-五"><a href="#禮拜二-五" class="headerlink" title="禮拜二~五"></a>禮拜二~五</h2><ul>
<li>上班<ul>
<li>9:10 起床</li>
<li>梳洗整理到 9:20 (會有鬧鐘提醒，避免睡過頭)</li>
<li>9:20 出門</li>
<li>搭車~9:45 進辦公室</li>
<li>開始準備發一些通知信件+看行事曆安排追蹤中事情</li>
</ul>
</li>
</ul>
<h2 id="下班"><a href="#下班" class="headerlink" title="下班"></a>下班</h2><ul>
<li>(如果要運動) 7:00 下班 -&gt; 運動到 8:30</li>
<li>不用運動則會到 7:30~8:00 下班</li>
<li>覓食+找野貓一起發呆 8:00(30)~9:00</li>
<li>玩遊戲+洗澡+看廢片 9:00~11:00</li>
<li>11:00~12:30 思考性時間(擇一)<ul>
<li>背日文單字</li>
<li>想明天上班內容</li>
<li>寫點個人文章(就是現在)</li>
<li>看書</li>
</ul>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>基本上每天都是日復一日做不多的事情，偶爾也會有時間到了沒做特定的事情，不過日常操作框架大致上都沒什麼改變，但自己就是自己的產品經理，好好經營自己的的人生以及控管身體狀態，讓自己可以經常性的在好的狀態中度過每一天，如果連自己都顧不好，如何去帶團隊&#x2F;家庭呢?</p>
<script async class="speakerdeck-embed" data-slide="24" data-id="a62ae4f456db4615bf54a6337005b2ea" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>]]></content>
      <categories>
        <category>日記</category>
      </categories>
      <tags>
        <tag>規律</tag>
        <tag>生活習慣</tag>
      </tags>
  </entry>
  <entry>
    <title>【AWS】使用 API Gateway Authorizer 做使用者驗證 feat. Serverless</title>
    <url>/2020/04/18/AWS-API-Gateway-Authorizer-Serverless/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/0QAGPDc.png" alt="API Gateway Lambda authorization workflow"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在 AWS 的 API gateway 上就有一個項目(<code>Authorizer</code>)是支援 Cognito 以及客制認證的方法，好處就是在進我們寫的 API 之前有個可以做<strong>身份確認</strong>的 Lambda Function 幫我們好前處理，而本篇則會介紹如何在 Serverless framework 上設定 API gateway 的 Authorizer 以及成功讓 API 回應，串接 Cognito 做使用部分就留給之後吧！</p>
<h4 id="👉-本篇的範例全都在-GitHub"><a href="#👉-本篇的範例全都在-GitHub" class="headerlink" title="👉 本篇的範例全都在 GitHub"></a>👉 本篇的範例全都在 <a href="https://github.com/louis70109/aws-serverless-authorizer">GitHub</a></h4><span id="more"></span>

<h1 id="API-Gateway-Authorizer"><a href="#API-Gateway-Authorizer" class="headerlink" title="API Gateway - Authorizer"></a>API Gateway - Authorizer</h1><ul>
<li><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html">官方文件</a></li>
</ul>
<p>擁有 Authorizer 的一個 Serverless 服務會長這樣:</p>
<blockquote>
<p>User Request - [Authorizer] - API - Response user</p>
</blockquote>
<p>好處除了前言所提到的前處理外，還有如果設定是 <code>Edge</code> 模式 (不是透過 <code>region</code> 從網路層傳) 的話其實在認證完後傳到 API 時速度是很快的。</p>
<p>以下就開始好好的介紹它 😆</p>
<h2 id="實際的位置"><a href="#實際的位置" class="headerlink" title="實際的位置"></a>實際的位置</h2><p>如果在這邊設定覺得不知道在哪邊的話可以參考 - <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/">純手動用法官方教學</a></p>
<p>中文的話左邊名為<code>授權方</code>，英文則是<code>Authorizer</code><br><img src="https://i.imgur.com/v2vflgw.png" alt="API Gateway Authorizer"></p>
<h2 id="Serverless-實作"><a href="#Serverless-實作" class="headerlink" title="Serverless 實作"></a>Serverless 實作</h2><h3 id="Yaml-settings"><a href="#Yaml-settings" class="headerlink" title="Yaml settings"></a>Yaml settings</h3><p>原始如果串接 python WSGI 的話設定檔應該會長得如下:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">functions:</span></span><br><span class="line">  <span class="attr">api:</span></span><br><span class="line">    <span class="attr">handler:</span> <span class="string">wsgi_handler.handler</span></span><br><span class="line">    <span class="attr">events:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span> <span class="string">ANY</span> <span class="string">/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span> <span class="string">ANY</span> &#123;<span class="string">proxy+</span>&#125;</span><br></pre></td></tr></table></figure>

<p>設定 Authorizer Lambda function，先在跟 <code>api</code> 同層加上 <code>Authorizer</code> Lambda，指定 handler 為 <code>handler 資料夾</code>下的 <code>authorizer.py</code> 的 <code>auth_handler</code> function，並且設定 <code>cors</code> 為 true，避免呼叫 api 時被 AWS 擋下來無法使用。</p>
<p>接著在把 <code>events</code> 裡的兩個事件加上 <code>authorizer</code> 的 Function，名為 <code>ResourceAuthorizer</code>，改編過後入下:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">functions:</span></span><br><span class="line">  <span class="attr">api:</span></span><br><span class="line">    <span class="attr">handler:</span> <span class="string">wsgi_handler.handler</span></span><br><span class="line">    <span class="attr">events:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">          <span class="attr">method:</span> <span class="string">ANY</span></span><br><span class="line">          <span class="attr">authorizer:</span> <span class="string">ResourceAuthorizer</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">/&#123;proxy+&#125;</span></span><br><span class="line">          <span class="attr">method:</span> <span class="string">ANY</span></span><br><span class="line">          <span class="attr">authorizer:</span> <span class="string">ResourceAuthorizer</span></span><br><span class="line">  <span class="attr">ResourceAuthorizer:</span></span><br><span class="line">    <span class="attr">handler:</span> <span class="string">handler/authorizer.auth_handler</span></span><br><span class="line">    <span class="attr">cors:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>這部分參考來自 <a href="https://serverless.com/framework/docs/providers/aws/events/apigateway/#http-endpoints-with-custom-authorizers">Serverless docs</a></li>
</ul>
<blockquote>
<p>只要透過簡單的設定 function 就可以互相溝通是不是很像 docker compose 呀 😏</p>
</blockquote>
<h2 id="處理-Lambda-function-handler"><a href="#處理-Lambda-function-handler" class="headerlink" title="處理 Lambda function handler"></a>處理 Lambda function handler</h2><p><a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/master/blueprints/python/api-gateway-authorizer-python.py#L15">參考並複製官方的範例程式</a>會看到我的開頭要從 <code>event</code> 取得 token:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">event_token = event.get(<span class="string">&#x27;authorizationToken&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>🐛🐛 這裡雖然是取 <code>authorizationToken</code>，不過呼叫 api 時 header 是要帶 <code>Authorization</code>，如此一來 Api gateway 才會收到對的值，這邊是需要注意 AWS 比較不一樣的地方！<br><a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/master/blueprints/python/api-gateway-authorizer-python.py#L17">參考支援在這啦 QQ</a></p>
</blockquote>
<p>取得 token 後一般就會做身份驗證的部分，以我的例子來說我就是解 JWT 下來做驗證，這邊為了 Demo 就先不處理它。</p>
<h2 id="產生-Auth-Policy"><a href="#產生-Auth-Policy" class="headerlink" title="產生 Auth Policy"></a>產生 Auth Policy</h2><p>官方提供的範例版本是 Node.js[<a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html#api-gateway-lambda-authorizer-request-lambda-function-create">參考資料</a>]，但畢竟我們是用 python 看著 javascript 我怎麼用啊！！</p>
<p>因此查了一番找到了範例: <a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints">aws-apigateway-lambda-authorizer-blueprints</a>，只是說沒有任何文件使用起來只能靠本能了 😭，這邊他很佛心的提供 <code>dotnet</code>、<code>golang</code>、<code>python</code>、<code>java</code>、<code>node.js</code>以及 <code>rust</code> 的範例，基本上常在 Serverless 上跑的語言都有了，就只好放過它一馬了 😇</p>
<p>基本上從官方的範例終止需要改寫成像<a href="https://github.com/louis70109/aws-serverless-authorizer/blob/master/handler/authorizer.py">我專案這樣</a>只要注意 <code>auth_handler</code> 裡面的內容需要填什麼即可。</p>
<p>其他需要注意的就如<a href="https://github.com/louis70109/aws-serverless-authorizer/blob/master/handler/authorizer.py#L25">第 25 行的 policy</a>以及 <a href="https://github.com/louis70109/aws-serverless-authorizer/blob/master/handler/authorizer.py#L28">28 行的 build policy</a>所產出的東西需要確認清楚才行:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">policy.allowAllMethods()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Finally, build the policy</span></span><br><span class="line">authResponse = policy.build()</span><br></pre></td></tr></table></figure>

<p>而下面的 class code 就可以先忽略不管，因為那些官方是為了產生出 Authorizer 回應狀態 pattern 所使用的 code，即便我們去改也出不了什麼作用:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpVerb</span>:</span></span><br><span class="line">    GET = <span class="string">&quot;GET&quot;</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AuthPolicy</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    awsAccountId = <span class="string">&quot;&quot;</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<h2 id="Lambda-回應狀態"><a href="#Lambda-回應狀態" class="headerlink" title="Lambda 回應狀態"></a>Lambda 回應狀態</h2><p>Authorizer 認證成功之後 Lambda 會回傳給 API Gateway 的 pattern：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;Version&quot;</span>: <span class="string">&quot;2012-10-17&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;Statement&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;Action&quot;</span>: <span class="string">&quot;execute-api:Invoke&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Effect&quot;</span>: <span class="string">&quot;Allow&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Resource&quot;</span>: <span class="string">&quot;arn:aws:execute-api:us-east-1:123456789012:ivdtdhp7b5/ESTestInvoke-stage/GET/&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>認證失敗回傳的樣子:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;Version&quot;</span>: <span class="string">&quot;2012-10-17&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;Statement&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;Action&quot;</span>: <span class="string">&quot;execute-api:Invoke&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Effect&quot;</span>: <span class="string">&quot;Deny&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Resource&quot;</span>: <span class="string">&quot;arn:aws:execute-api:us-east-1:123456789012:ivdtdhp7b5/ESTestInvoke-stage/GET/&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>這些都會是透過 AuthPolicy 來產生的，直接對 Function return value 是部會作用的。</p>
</blockquote>
<h1 id="使用心得-踩坑"><a href="#使用心得-踩坑" class="headerlink" title="使用心得 (踩坑)"></a>使用心得 (踩坑)</h1><ul>
<li>Header 收的名稱是 <code>Authorization</code>，但程式是收<code>authorizationToken</code>，<a href="">參考</a>。</li>
<li>只能 raise Exception(‘Unauthorized’)，多一字少一字都不行，真的很奇怪，<a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/master/blueprints/python/api-gateway-authorizer-python.py#L29">參考</a>。</li>
<li>好不容易找到的範例預設是會先 <code>deny</code> 掉使用者，但這在測行為會很困擾，<a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/master/blueprints/python/api-gateway-authorizer-python.py#L52">官方範例 code</a>。</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以往都要使用框架(Flask, Django…)裡提供的功能實作 middleware 來做處理，但若使用像 AWS、Google、Azure 他們 Serverless 服務的話不妨使用 Authorizer 來做驗證，除了認證使用者以外還可以藉由這些 Function Service 來降低 API 的負載，讓它們可以更專心地處理後端邏輯的問題。</p>
<blockquote>
<p>如果真的很想知道 Authorizer 的行為機制的話可以看看這篇官方文件 - <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/call-api-with-api-gateway-lambda-authorization.html">使用 postman 去測試 authorizer</a></p>
</blockquote>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><p><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-create-api-from-example.html">純手動用法官方教學</a></p>
</li>
<li><p><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html">AWS Authorizer Official Document</a></p>
</li>
<li><p><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/call-api-with-api-gateway-lambda-authorization.html">使用 postman 去測試 authorizer</a></p>
</li>
<li><p><a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints">範例 aws-apigateway-lambda-authorizer-blueprints</a></p>
</li>
<li><p><a href="https://serverless.com/framework/docs/providers/aws/events/apigateway#http-endpoints-with-custom-authorizers">Serverless Docs settings</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>Serverless</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>AWS</tag>
        <tag>Serverless</tag>
        <tag>API Gateway</tag>
        <tag>Authorizer</tag>
        <tag>Amazon Web Service</tag>
        <tag>JWT</tag>
      </tags>
  </entry>
  <entry>
    <title>原子習慣 - 閱讀心得</title>
    <url>/2020/12/31/An-Easy-Proven-Way-to-Build-Good-Habits-Break-Bad-Ones/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/reading/habit.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因為這週給自己休息片刻準備迎接新的一年，為了避免放假都躲在家打電動，因此特意請我姊姊幫我借了這本 - 原子習慣。在這篇心得中我也將使用我打籃球、健身以及日常生活中的經驗來敘述我從書中認知的內容。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="行為改變的三個層次-結果、過程、身份認同"><a href="#行為改變的三個層次-結果、過程、身份認同" class="headerlink" title="行為改變的三個層次 - 結果、過程、身份認同"></a>行為改變的三個層次 - 結果、過程、身份認同</h2><blockquote>
<p>越是重複某個行為，就是越強化與那個行為的相關身份認同，我每週「訓練五天」是一個「健身的人」、我每天要「寫一些內容」是個「喜歡貢獻的人」。</p>
</blockquote>
<h2 id="提示-渴望-回應-獎賞-x2F-逞罰"><a href="#提示-渴望-回應-獎賞-x2F-逞罰" class="headerlink" title="提示 - 渴望 - 回應 - 獎賞&#x2F;逞罰"></a>提示 - 渴望 - 回應 - 獎賞&#x2F;逞罰</h2><p>不管在任何領域，時常都會接觸到「複利效應」，在建立習慣這件事不免還要再提一次</p>
<blockquote>
<p>每天進步 1%，持續一年：1.01*1.01…&#x3D;37.78<br>每天退步 1%，持續一年：0.99*0&#x2F;99…&#x3D;0.03</p>
</blockquote>
<h2 id="別管目標，專注系統就好"><a href="#別管目標，專注系統就好" class="headerlink" title="別管目標，專注系統就好"></a>別管目標，專注<code>系統</code>就好</h2><p>上籃球場我會希望：我要得分過十分、籃板十個等等不同的目標，想要一展自己這些日子來的訓練。而在這部分我的理解是應該將平常所練的跑位、戰術素養、練習的那個投籃、卡位姿勢發揮出來，專注於在這競技場上的<code>自身</code>以及<code>球隊</code>運作系統。以 NBA 球員來說，在籃球的最高競技場上，更注重在每天的訓練，從飲食、體重控制(專研類型)、肌肉記憶(投籃)、協調訓練…等等各種一般球員觸及不到的領域，讓球員在正是球賽時會按造某個<code>循環(系統)</code>在運作，如最近 Paul George 的<a href="https://basketball.biji.co/index.php?q=news&act=info&id=24146&subtitle=%E3%80%90%E5%BD%B1%E7%89%87%E3%80%91NBA+/+%E7%AB%99%E4%BD%8D%E5%A4%AA%E6%BC%82%E4%BA%AE%EF%BC%81Paul+George%E8%AA%A4%E5%82%B3%E7%B5%A6%E5%BA%95%E8%A7%92%E8%A3%81%E5%88%A4%E9%87%80%E5%A4%B1%E8%AA%A4">傳球失誤</a>，詳細我認為看這部影片應該可以更了解系統的運作：</p>
<blockquote>
<p>現代籃球快攻哲學 - <a href="https://www.youtube.com/watch?v=4K_BQHOXnh0">錯把裁判當隊友？Paul George 為什麼系隊失誤還要怪隊友！｜追追熊戰術板</a></p>
</blockquote>
<h2 id="來至日本的「指差確認」"><a href="#來至日本的「指差確認」" class="headerlink" title="來至日本的「指差確認」"></a>來至日本的<mark>「指差確認」</mark></h2><blockquote>
<p>我會於「時間」，在「地點」進行「行為」。</p>
</blockquote>
<p>這部分例子則使用<a href="https://zh.wikipedia.org/zh-tw/%E6%8C%87%E5%B7%AE%E7%A2%BA%E8%AA%8D">日本電車為例</a>，說明在各種細節的確認，不因是小而忽略錯過，反而是要不辭辛勞地再度確認確保萬無一失。</p>
<p>這部分以我重訓經驗來說，當我在拼<strong>相撲硬舉</strong>這個項目時，假設上次成果為 160 kg，在這次一定是要拼過它，從<code>熱身</code>重量到<code>漸進式</code>重量時每個動作都要確認，從：</p>
<blockquote>
<p>腳就位 ➡️ 膝蓋對腳尖方向與角度 ➡️ 抓槓 ➡️ 背打直 ➡️ 收肩胛骨&#x2F;肩膀&#x2F;下巴 ➡️ 吸氣至核心 ➡️ 上半身(依序:前臂&#x2F;二三頭&#x2F;肩膀&#x2F;胸&#x2F;背&#x2F;核心)出力 ➡️ 下半身(屁股&#x2F;大腿&#x2F;小腿&#x2F;腳掌)出力 ➡️ 拉起(成功&#x2F;失敗) ➡️ 吐氣 (通常因為超負荷所以都會出聲)</p>
</blockquote>
<p>每一組、每一下都要確認所有的<code>神經傳導</code>是否連結在一起，否則很容易在最後上重量時很容易一瞬間就出不了力拉不起來，糟糕一點還會受大傷導致無法訓練，總之在做日常的事，在可行範圍內都建議可以使用「指差確認」喔！</p>
<blockquote>
<p>出門 - 錢包鑰匙手機 😆</p>
</blockquote>
<h2 id="習慣堆疊"><a href="#習慣堆疊" class="headerlink" title="習慣堆疊"></a><mark>習慣堆疊</mark></h2><blockquote>
<p>在既有的習慣堆疊(stack)中加入一個新習慣，來確保這個習慣可以被正確執行，變成「執意意向」。</p>
</blockquote>
<p>常常會看到有朋友開始加入健身行列，希望可以「變瘦」或「變壯」等等，而許多知識都指向「吃」這件事，可能會接收到：吃得好、健康、少油少糖、168 斷食…等等的資訊，卻在開始執行不久後卻馬上因為突發事件就中斷，雖然目標很篤定要「變瘦」，但因為這新來的事件沒有加入原本的習慣中，而因為把原本的習慣直接改掉導致容易因為誘惑而中斷。</p>
<p>就我而言，在開始訓練的前幾年，因為晚餐一定是固定<code>吃家裡</code>煮的，也沒辦法控制家裡煮的飯菜(甚至還要清完)，這情況下為了適應這餐我得在其他餐下手。例如：自己準備食材帶便當(控制中午及點心)、晚餐(改到八點吃)前運動、多吃香蕉…等等的作法逐步加入每天的生活中，如此一來既不會改變<code>家裡煮晚餐</code>這件事，且同時能<code>漸進式控制</code>我的飲食，讓身體的反應不會瞬間變化太多導致不適應。(但效果當然比不了完整控制的巨巨)</p>
<h2 id="激勵被高估了，環境往往更重要"><a href="#激勵被高估了，環境往往更重要" class="headerlink" title="激勵被高估了，環境往往更重要"></a>激勵被高估了，環境往往更重要</h2><h3 id="「習慣改變取決於你所在空間，以及眼前的提示」"><a href="#「習慣改變取決於你所在空間，以及眼前的提示」" class="headerlink" title="「習慣改變取決於你所在空間，以及眼前的提示」"></a>「習慣改變取決於你所在空間，以及眼前的提示」</h3><p>若你考ＯＯ分，週末可以玩手機整天(<code>激勵</code>)，但親朋好友全部都在玩導致孩子寧願捨棄週末玩整天也要當下玩(<code>環境</code>)。此時需要思考的問題是否家庭、朋友圈、學校、工作周遭環境也是如此造就如今的情況。</p>
<h3 id="「容易注意到突出的提示」"><a href="#「容易注意到突出的提示」" class="headerlink" title="「容易注意到突出的提示」"></a>「容易注意到突出的提示」</h3><p>小時候要買飲料、點心可能要走一段路到附近的柑仔店買，而如今幾乎走沒兩步就有<code>便利商店</code>或<code>量販店</code>，如今這麼便利的生活中隨處可見商店，也許往往會為了省下一些錢(<code>激勵</code>)而去較遠的商店買貨，但在<code>環境的提示</code>上，也許影響你不必走那麼遠，<code>來這買就好</code>而捨棄省那幾塊錢的想法，而若因為想存錢卻被環境卻影響到，也許住在更郊區一點讓自己別接觸到，或許就能省下這些日常花費的差價了。</p>
<h3 id="「想要改變一個生活的習慣，就讓提示成為環境中的一大部份」"><a href="#「想要改變一個生活的習慣，就讓提示成為環境中的一大部份」" class="headerlink" title="「想要改變一個生活的習慣，就讓提示成為環境中的一大部份」"></a>「想要改變一個生活的習慣，就讓提示成為環境中的一大部份」</h3><p>就去年初(2020)疫情來臨時，許多人(包括我)都沒有戴口罩的習慣，隨著路上的人都開始口罩戴緊緊的<code>提示</code>，讓我少根筋的我也就跟著<code>環境</code>戴上口罩，也許也因為我的加入，間接影響到其他人一起戴口罩。</p>
<h3 id="在新環境中比較容易改變習慣，不用對抗舊習慣"><a href="#在新環境中比較容易改變習慣，不用對抗舊習慣" class="headerlink" title="在新環境中比較容易改變習慣，不用對抗舊習慣"></a>在新環境中比較容易改變習慣，不用對抗舊習慣</h3><p>這裡我覺得最好的例子就是<mark>住飯店</mark>，以我之前長期住在家裡，躺到床上時常覺得床不夠舒服而翻來覆去睡不著(也可能是腦袋還在工作沒休息)，但是到了飯店之後，不管精神再好只要讓我趴到床上即可秒睡到天亮，不會有睡不著的問題。</p>
<blockquote>
<p>但住飯店的例子太重本了，若要對抗<code>舊習慣</code>必須還要搭配<code>環境提示</code>喔！</p>
</blockquote>
<h2 id="讓習慣與思考模式連結在一起"><a href="#讓習慣與思考模式連結在一起" class="headerlink" title="讓習慣與思考模式連結在一起"></a>讓習慣與思考模式連結在一起</h2><p>之前有個習慣，就是我一旦答應了某個邀約，我一定會在那個時間準時抵達，以至於之後就喜歡把事情的時間排得剛剛好，甚至連做事都會連結在一起，雖然之後因為吃了些虧需要改變這個習慣(Buffer Time)，但也因為<code>習慣</code>與<code>思考</code>連結在一起讓身體可以更沒有負擔的去執行事情。</p>
<p>也因為這樣，再加入現在公司之前，最有印象的是我這幾年都處於一個上班寫程式、下班健身一小時、吃飯、洗澡、寫 side project(或部落格)、睡覺，在之後並加入一個月跑一次台北辦社群聚會的 Action，週而復始了一兩年我已經很習慣這樣的生活，卻也對我現在工作有著深遠的影響。</p>
<blockquote>
<p>在習慣與思考模式融合之後，在引入前面提到的「習慣堆疊」，讓習慣可以更有效的安排。</p>
</blockquote>
<h2 id="減少會接觸惡習的提示，迴避誘惑比抗拒誘惑簡單"><a href="#減少會接觸惡習的提示，迴避誘惑比抗拒誘惑簡單" class="headerlink" title="減少會接觸惡習的提示，迴避誘惑比抗拒誘惑簡單"></a>減少會接觸惡習的提示，迴避誘惑比抗拒誘惑簡單</h2><blockquote>
<p>有自制力的人不會把自己放在誘惑的環境中</p>
</blockquote>
<h2 id="模仿親近的人"><a href="#模仿親近的人" class="headerlink" title="模仿親近的人"></a>模仿親近的人</h2><p>一開始以西洋棋家庭為例說明家庭帶來的影響(女兒們紛紛破紀錄)，主要是以每個人會<code>模仿親近的人</code>為出發點的思考方式，帶到<code>社會化</code>的群體效益。在這部分我的心得是，一般加入一個群體中，會因習性差不多而加入，但通常都會先觀察群體中的<code>習慣</code>&#x2F;<code>系統</code>，而這個習慣&#x2F;系統可能好可能壞，而我認為加入前都會滿懷一腔熱血想加入&#x2F;改變什麼，但新來的總是會因為時空背景而影響有限，所以依照環境模仿對象可能是<code>家長</code>&#x2F;<code>男女朋友</code>&#x2F;<code>教授</code>&#x2F;<code>主管</code>，但總結來說，如何不失去原先的自我的情況下去加入一個群體的這件事都是個值得思考的議題，是你會怎麼做呢？</p>
<h2 id="動機儀式"><a href="#動機儀式" class="headerlink" title="動機儀式"></a>動機儀式</h2><ul>
<li>LeBron James 賽前撒止汗粉</li>
<li>Kershaw 的兩階段投球</li>
<li>Klay Thompson 罰球時會運三下球後投籃</li>
<li>前面提到的<code>相撲硬舉</code>步驟</li>
</ul>
<p>以上這些若你有看過黑子籃球應該會知道<code>Zone</code>領域，意指說讓這些運動員(範例)可以經由某個特定儀式讓自己進入狀態並完成目標，藉由為自身打造的儀式或許可以更快地進入狀態執行事情。</p>
<blockquote>
<p>E.g. 每個早上吃完早餐與家人擁抱後上班、泡完咖啡整理好桌面後開始工作…</p>
</blockquote>
<h2 id="習慣養成取決不是「時間」而是「頻率」"><a href="#習慣養成取決不是「時間」而是「頻率」" class="headerlink" title="習慣養成取決不是「時間」而是「頻率」"></a>習慣養成取決不是「時間」而是「頻率」</h2><p>書上提到一個曲線叫做<code>「習慣線」</code>，舉個例子來說：之前我也使用過不少的英文，看文件、看解答、看新聞…但總沒一個地方去使用，而在加入現在公司後，因為公司裡有許多外國人或者是需要跟國外同事討論，因此就會開始<code>聽、說、寫</code>英文，在一開始還沒習慣時總覺得用起來怪怪的痛苦的，隨著時間推進照著<code>「習慣線」</code>走，到現在雖然不敢說自己英文多厲害，至少在使用上比較不會有那麼大的抗拒來使用英文了。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>對於我在看這本時比較沒以前那麼大的思考衝擊(e.g. 阿德勒 - <code>被討厭的勇氣</code>、TED -<code>向沒有借東西</code>)，但建立習慣、提示、環境等等都在日常生活中隨處可見，有一部份我也認為在建立某種儀式。但總而言之，這本書很值得反思自己日常生活中的種種行為，看看自己是否因為某些習慣而影響到了什麼(不一定是壞事)，這邊就推薦這本「原子習慣」給大家 😊</p>
<blockquote>
<p>最後有一句我認為很適合放在這：「You are what you do.」</p>
</blockquote>
]]></content>
      <categories>
        <category>閱讀</category>
      </categories>
      <tags>
        <tag>習慣</tag>
        <tag>提醒</tag>
        <tag>環境</tag>
      </tags>
  </entry>
  <entry>
    <title>2019 LINE Dev Day - 議程心得(3) - Armeria - A Microservice Framework Well-suited Everywhere</title>
    <url>/2019/12/01/Armeria-A-Microservice-Framework-Well-suited-Everywhere/</url>
    <content><![CDATA[<h1 id="Armeria-A-Microservice-Framework-Well-suited-Everywhere"><a href="#Armeria-A-Microservice-Framework-Well-suited-Everywhere" class="headerlink" title="Armeria: A Microservice Framework Well-suited Everywhere"></a>Armeria: A Microservice Framework Well-suited Everywhere</h1><p><img src="https://i.imgur.com/MNnrFnm.jpg"></p>
<ul>
<li><a href="https://speakerdeck.com/line_devday2019/armeria-a-microservice-framework-well-suited-everywhere">簡報連結</a></li>
<li><a href="https://github.com/line/armeria">Github</a></li>
<li><a href="https://line.github.io/armeria/">官網</a></li>
</ul>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好我是 <a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot Developer Taiwan</a> - NiJia，很開心這次能夠以 LINE API Expert 的身份被邀請來參加 LINE Developer Day 2019。</p>
<p>本次議程是由韓國的 open source manager - <a href="https://github.com/trustin">trustin</a> 為我們帶來議程。</p>
<p>而在今年參加八月舉辦的 COSCUP，並且在第一天的 after party 參加 LINE BoF 上就已經看到 LINE 開發的 Open Source - <a href="https://github.com/line/armeria">Armeria</a>，它是基於 Java 所撰寫的一個非同步的專案，支援 Java8, Netty, HTTP&#x2F;2, Thrift 以及 gRPC，當時聽團隊簡單介紹就覺得這個專案一定是個很不得的專案，只不過當時因為他們快速介紹兒少聽了很多細節，這次就把我聽到的細節告訴各位吧！</p>
<blockquote>
<p>據之前的議程的以及講者的分享說這個服務已經被應用於很多 LINE 服務裡頭，因為覺得好用才推出來🤣</p>
</blockquote>
<h1 id="如何讓開發者快速使用-Armeria"><a href="#如何讓開發者快速使用-Armeria" class="headerlink" title="如何讓開發者快速使用 Armeria"></a>如何讓開發者快速使用 Armeria</h1><p>接下來就用 Java code 來簡單火力展示如何用一個串聯式寫法把服務互叫起來，不管是要用什麼服務只要用串接的方式加入即可，像是 gRPC、Thrift、annotation…等等如下面幾張圖所示。</p>
<p><img src="https://i.imgur.com/KKU0eXG.png"></p>
<hr>
<p><img src="https://i.imgur.com/6rAex3K.png"></p>
<hr>
<p><img src="https://i.imgur.com/mAKhwh4.png"></p>
<hr>
<p><img src="https://i.imgur.com/Z9jfFkI.png"></p>
<blockquote>
<p>這邊看到可以這麼簡單就把一個服務叫起來，然後要讓他開發者可以很輕易地理解並上手，LINE 團隊的開發文化真的是令人佩服…</p>
</blockquote>
<h1 id="為什麼要做成-async-以及-reactive"><a href="#為什麼要做成-async-以及-reactive" class="headerlink" title="為什麼要做成 async 以及 reactive"></a>為什麼要做成 async 以及 reactive</h1><p>首先就先提到若 Queue 裡頭的東西若是都 sync 的話會有什麼問題，這邊就以一個 Call API 常遇到的問題 - Timeout，在大量的 Queue 在排隊時，以 sync 的方式存在時光遇到 Timeout 就會有服務器爆炸的問題，因為彼此不能影響彼此，且這件事會發生在真實世界的每個地方。<br><img src="https://i.imgur.com/Telr7lG.jpg"></p>
<hr>
<p><img src="https://i.imgur.com/hkltFFS.jpg"></p>
<p>這邊講者提出的解決方案為：</p>
<ul>
<li>增加執行緒的標記(#)並且減少呼叫堆疊(stack)</li>
<li>預準備 Tread pools 讓大家互相共享</li>
<li>少調用 points</li>
<li>使用非同步的好處就是能夠平行呼叫+較少的執行緒</li>
</ul>
<p>現在他們能用非同步的方式解決系統被鎖住的問題，但今天若遇到一個很肥～的 payload 呢？以範例來說若一個用戶送他 10 MB 的大小，一次送給 100K 個用戶就相當於 1 TB 大小的流量。</p>
<p>這邊使用的方法是用不同的頻寬 &amp; 處理能力，並且只需要足夠的 buffer 來排除  Out of Memory 的錯誤。</p>
<p><img src="https://i.imgur.com/10mGUaD.jpg"></p>
<p>聽到這邊看起來是使用相關的工具來讓整個串接服務可以更有效的 Debug，最後透過 Kibana 來讓訊息可視化，讓 Debug 可以更加快速。</p>
<blockquote>
<p>若對相關 Debug 工具可以參考我之前寫的 <a href="https://nijialin.com/2019/11/12/sentry-in-serverless/">Sentry 文章</a></p>
</blockquote>
<blockquote>
<p>Kibana 可參考： <a href="https://blog.toright.com/posts/5319/fulltext-search-elasticsearch-kibana-bigdata.html">安裝 ElasticSearch + Kibana 實現中文全文搜尋與數據分析</a></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>經過了講者一連串的火力展示後感受到 LINE 對於 open source 有多麽的重視，連 Slack 也都愛上 Armeria 這套 Java 函式庫，用於他們的軟體中並公開推薦，讓像我這種喜歡做 open source 的工程師可以燃起新希望繼續為開源做努力。<br><img src="https://i.imgur.com/eKYqMpo.png"></p>
<p>其實還有很多技術細節的部分在簡報裡，這邊我就不再多家贅述，大家可以參考 <a href="https://github.com/line/armeria">GitHub</a>，裡面有更加詳細的用法提供給大家。</p>
<p>這次來 LINE Developer Day 讓我感受到不同於其他大公司的文化，除了精彩的議程外也招待我們這群 LINE API Expert 前來共襄盛舉，若你也想成為 LINE API Expert，不妨拿著你的貢獻來申請看看<a href="https://www.line-community.me/contributors/request">連結</a>，或許明年我們就能一起去啦！</p>
<p>或是你想面對面直接問問看，也可以來 <a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot Taiwan</a> 參加我們一個月一次的社群聚會喔！我們時常會邀請 LINE 的資深技術傳教士 - Evan 來為各位帶來第一手 LINE 的資訊，也許可以跟他詢問看看，或許會有意外的收穫喔！<br><img src="https://i.imgur.com/kIDIfPl.jpg"></p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Dev Day 2019</tag>
      </tags>
  </entry>
  <entry>
    <title>梅竹黑客松賽前企業工作坊 - LIFF shareTargetPicker</title>
    <url>/2020/10/21/20201017-meichu-workshop/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>很開心能參加到梅竹黑客松的賽前企業工作坊，為了能夠讓各位學生朋友更快速上手 LIFF(LINE Front-end Framework)，並使用來打造更 WoW 的應用服務，因此在這天我們則找到 UIT(a.k.a 前端)部門專業的同仁 - Coke 帶領學生們來做實作相關內容，讓大家更了解 LIFF 以及 <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">shareTargetPicker</a> 個別是什麼、如何實作並且能應用在什麼地方，以下就來一步一步來介紹。</p>
<span id="more"></span>

<h1 id="LINE-Front-end-Framework"><a href="#LINE-Front-end-Framework" class="headerlink" title="LINE Front-end Framework"></a><a href="https://developers.line.biz/en/docs/liff/overview/">LINE Front-end Framework</a></h1><script async class="speakerdeck-embed" data-slide="4" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LIFF 是 LINE 提供的一個前端框架，主要是為了讓大家可以更快速的整合前端服務並創造更多更特別應用於 LINE App 上。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LIFF 良好的整合讓大家可以快速應用以下的內容：</p>
<ul>
<li>LINE Login</li>
<li>JavaScript SDK</li>
<li>User Profile</li>
<li>Message API</li>
</ul>
<h2 id="Part-1-LIFF-starter"><a href="#Part-1-LIFF-starter" class="headerlink" title="Part 1 - LIFF starter"></a>Part 1 - LIFF starter</h2><script async class="speakerdeck-embed" data-slide="8" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>首先從 LINE 官方的 repo - <a href="https://github.com/line/line-liff-starter">line-liff-starter</a> Fork 至自己的 GitHub 帳號上，接著在 README 下方的 Heroku 部署按鈕會進入到 Heroku 的部署頁面</p>
<blockquote>
<p>在按下這<strong>部署按鈕</strong>之前必須先註冊 <a href="https://www.heroku.com/">Heroku</a> 的帳號，否則會在註冊完成後回來時已經遺失原先專案幫忙設定的 Config，因為註冊跳轉回來時 Config 已經被清除了。(當天許多同學有類似的問題)</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="12" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>待建立完成後按下 <code>View</code> 進去後會看到錯誤訊息，代表這一步驟成功了。接著就是到 <a href="https://developers.line.biz/console">LINE Developer Console</a> 註冊 LIFF 相關的 Channel。</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>首先需要先建立 <code>Provider</code>，白話來說就是服務提供商的名稱，這邊就是讓同學們可以以自己的黑客松隊伍名稱取名。</p>
<script async class="speakerdeck-embed" data-slide="17" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>建立完 Provider 之後就要接著建立 LINE Login channel，因為 LIFF 是基於 LINE Login 所實作的一個整合服務應用的前端框架，讓大家可以在上面更有效的整合服務於 LINE 上。</p>
<p>這部分則是將<code>名稱</code>以及<code>描述</code>填寫清楚後即可建立 channel。(上面也會有敘述 <code>Provider</code> 是誰)</p>
<script async class="speakerdeck-embed" data-slide="18" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這邊 Coke 也詳細解釋剛剛所填寫的內容全都會在接下來使用者第一次使用時認證所需頁面會跳出來的資訊。</p>
<script async class="speakerdeck-embed" data-slide="19" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著來到 Login channel 裡面的 LIFF 頁籤中選擇 <code>Add</code> 建立第一個 LIFF 頁面(page)。</p>
<script async class="speakerdeck-embed" data-slide="20" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這一頁當中的需要打勾的 checkbox 一定要按照上面打勾，現場就有許多同學沒有打勾到 <code>chat_message.write</code> 導致訊息無法送出而找不出問題，這邊要詳細確認才行！</p>
<p>LIFF size 有分為以下三種：</p>
<ul>
<li>Full</li>
<li>Tall</li>
<li>Compact</li>
</ul>
<script async class="speakerdeck-embed" data-slide="23" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>建立到下方之後會發現有個 <code>Bot link</code> 的選項，若你選擇 <code>normal</code> 時則會在下方看到有一個 <strong>Add friend</strong> 的按鈕，反之選擇 <code>aggressive</code> 實則會在 Allow 之後跳出一個加好友的選項讓使用者選擇。這邊就看各位開發者應用的場景去選擇囉！</p>
<script async class="speakerdeck-embed" data-slide="25" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>畢竟這次 LINE 工作坊以 <code>shareTargetPicker</code> 這個強大且可以發送 Flex Message 的 API 作為主軸，因此這邊就提醒大家若要使用這個獨家功能的話，一定要<code>打開按鈕</code>才可以使用！</p>
<script async class="speakerdeck-embed" data-slide="27" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這部分 Coke 提醒大家剛剛建立的 LIFF 是會幫忙轉址到對應的 Endpoint URL 上，值得注意的是若你在 LIFF URL 後面加上不同的路徑以及參數時，會如投影片所敘述的方式去產生最終的 Endpoint URL，若對這部分還是不甚了解的話可以參考 - <a href="https://engineering.linecorp.com/zh-hant/blog/new-liff-url-infomation/">您需要了解有關新 LIFF URL 的所有資訊</a> 文章敘述。</p>
<script async class="speakerdeck-embed" data-slide="28" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>待各位建立完後接著就複製 LIFF id 並回到 Heroku 的頁面上。</p>
<script async class="speakerdeck-embed" data-slide="30" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>從你剛剛建立的機器名稱(ex: example-1)點進去後按到 <code>settings</code> ➡️ <code>Reveal Config Vars</code> 並對應欄位輸入：</p>
<ul>
<li>Key: <code>MY_LIFF_ID</code></li>
<li>Value: 剛剛複製的 LIFF ID</li>
</ul>
<script async class="speakerdeck-embed" data-slide="32" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>加入後按下 <code>Open app</code> 的按鈕就會看到以上畫面，若在這部還是沒出現的話請往前檢查是否有哪一個步驟遺漏了。</p>
<script async class="speakerdeck-embed" data-slide="35" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>因為我們的服務接下來就是開給其他人使用，因此你的 LINE Login channel 就必須要 <code>publish</code> 才行喔！</p>
<script async class="speakerdeck-embed" data-slide="36" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著就可以把剛剛建立的 LIFF 頁面的網址貼到任意聊天室上，並用手機點下來試玩看看 starter 是否有成功。</p>
<h3 id="Flex-Message"><a href="#Flex-Message" class="headerlink" title="Flex Message"></a>Flex Message</h3><script async class="speakerdeck-embed" data-slide="38" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>Flex Message 是一個可以把訊息內容當作網頁排版的一個特殊(神奇)格式，在 shareTargetPicker 尚未問世之前，開發者皆只能使用 Chatbot 使用來回應相關內容，在問世後大幅提升使用的可行性，讓大家可以應用更多點子在 Chatbot 以及 LIFF 身上。</p>
<p>想客製化 Flex Message 的樣板可使用 LINE 官方工具 - <a href="https://developers.line.biz/flex-simulator/">Simulator</a></p>
<blockquote>
<p>需要注意 shareTargetPicker 功能只支援 LINE 10.13.0 以上的版本</p>
</blockquote>
<h2 id="Part-2-梗圖範例"><a href="#Part-2-梗圖範例" class="headerlink" title="Part 2 - 梗圖範例"></a>Part 2 - 梗圖範例</h2><p>相信經過前面的說明應該對三個平台操作方法有一定程度的熟悉，接下來這部分 Coke 做了一個 <a href="https://github.com/cichien/liff-workshop-demo">Demo 專案</a>帶大家來操作，與前面的步驟一下先 Fork 至自己的 GitHub ➡️ 按下 README 裡的 Heroku Deploy 按鈕 ➡️ 建立一個新的 LIFF 頁面</p>
<script async class="speakerdeck-embed" data-slide="45" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>使用 <code>git clone</code> 的方式把剛剛 Fork 的專案下載到本機上</li>
<li>進入資料夾後 <code>npm install</code> 安裝相依套件</li>
<li>將 <code>.env.example</code> 改成 <code>.env</code> 並且設定裡面的 <code>MY_LIFF_ID</code> 為你剛剛新建立的 LIFF 頁面</li>
<li>步驟完成後就使用 <code>npm run dev</code> 啟動你的專案</li>
<li>訪問 <a href="https://localhost:8000/">https://localhost:8000</a><ul>
<li>因為本地端有提供憑證給大家使用，請勿 ❌ 使用這個憑證於 production 環境</li>
</ul>
</li>
</ul>
<script async class="speakerdeck-embed" data-slide="48" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>按造前面的步驟進入後會發現頁面只有簡單的內容，接著就 <code>git checkout liff-meme-fin</code> 切換到完成版的分支(沒有<code>fin</code>的分支是讓大家可以發揮)，重新使用 <code>npm run dev</code> 啟動專案則可以看到上面的畫面，將文字更改後按 Share 即可分享給 LINE 好友。</p>
<p><img src="https://nijialin.com/images/2020/target-picker-sample.PNG"></p>
<h3 id="liff-isApiAvailable"><a href="#liff-isApiAvailable" class="headerlink" title="liff.isApiAvailable"></a>liff.isApiAvailable</h3><script async class="speakerdeck-embed" data-slide="49" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這部分 Coke 也提醒大家在使用相關 API 時需要確認相關的判斷式來確保 API 有被正確使用。</p>
<h3 id="liff-state-使用小技巧"><a href="#liff-state-使用小技巧" class="headerlink" title="liff.state 使用小技巧"></a>liff.state 使用小技巧</h3><script async class="speakerdeck-embed" data-slide="54" data-id="29f68cae8f9d4a80adde4ebf5a5fca5e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在做前端時時常最怕內容還沒載入完成時使用者就開始操作上面元素，進而導致非預期錯誤(Exception)，這邊提供一個使用 JavaScript 的方式操作 CSS body 元素，若在 Query parameter 上有找到 <code>liff.state</code> 時則先不顯示頁面上的內容(display: none)，如此一來就不會有上述的問題產生了。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>相信經過這次梅竹黑客松的賽前企業工作坊可以讓學生朋友們除了深入了解 LIFF 這個整合度極高的框架以外，也了解如何使用 shareTargetPicker 做出許多有特色的應用，增添作品的可觀性，期待於 10&#x2F;24、25 可以發掘出學生朋友們更多更 WoW 的應用與作品。</p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
        <tag>shareTargetPicker</tag>
        <tag>梅竹黑客松</tag>
      </tags>
  </entry>
  <entry>
    <title>Bottender x Dialogflow x LINE</title>
    <url>/2019/12/10/Bottender-x-Dialogflow-x-LINE/</url>
    <content><![CDATA[<p>大家好，我是 Chatbot Taiwan 的 NiJia，最近我們 Github 開張囉，想找之前演講的紀錄都會在此哦！</p>
<ul>
<li><a href="https://github.com/Chatbot-Taiwan/meetups">Github</a></li>
<li><a href="https://www.facebook.com/groups/chatbot.tw/">Facebook</a></li>
<li><a href="https://chatbots.kktix.cc/">KKTIX</a></li>
</ul>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>事情是這樣的，本週末 12&#x2F;13-12&#x2F;15 我要去 <a href="https://www.meetup.com/GDGTaichung/events/266686542/">GDG Taichung Hackthon Party</a> 上當導師，礙於我實在想不出有個題目可以分享給其他同好，碰巧之前跟過 Wolke 大大的 Dialogflow + LINE bot 工作坊，憶起當時的明媚風景，接著前陣子寫鐵人賽也有跟到 C.T Lin 大大寫的<a href="https://ithelp.ithome.com.tw/users/20103630/ironman/2798">使用 Modern Web 技術來打造 Chat App</a>，如此一來我就乾脆把這兩個東西合在一起弄個東西！</p>
<p>又這麼剛好的我最近瘋狂看 ABL 球賽(支持本土球隊！)，剛好週末也沒事，就順手把它做出來啦~有在看球賽的朋友別錯過這隻機器人囉！他可以告訴你下一場比賽是哪時候～<br><img src="https://i.imgur.com/RTmyJPr.png"></p>
<p>以下記錄著我踩雷的過程 🤣，詳細 bottender 使用手冊還是參考 -&gt; <a href="https://ithelp.ithome.com.tw/users/20103630/ironman/2798">使用 Modern Web 技術來打造 Chat App</a></p>
<p>本篇文章的程式碼已經開源囉 <a href="https://github.com/louis70109/Taiwan-ABL-games">Taiwan-ABL-Games</a></p>
<h1 id="建立專案"><a href="#建立專案" class="headerlink" title="建立專案"></a>建立專案</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">npx create-bottender-app taiwan-abl-games</span><br></pre></td></tr></table></figure>

<p>接著會看到以下的畫面，bottender 很貼心的列出一些大家平常比較會使用的平台，這邊我們先選擇 LINE，後續會再告訴大家如何增加其他平台選項。<br><img src="https://i.imgur.com/k12ig2m.png"></p>
<h1 id="Dialogflow-注意事項與串接"><a href="#Dialogflow-注意事項與串接" class="headerlink" title="Dialogflow 注意事項與串接"></a>Dialogflow 注意事項與串接</h1><p>這邊一定是要參考主要開發者所寫的文章啊 -&gt; <a href="https://ithelp.ithome.com.tw/articles/10226833">Day25</a><br>大致上創建服務的過程差不多，這個部分就簡單帶過比較重要的部分。</p>
<blockquote>
<p>在處理意圖部分有個小撇步，若鼠標從左邊到右邊，到第二個時會把第一個意圖覆蓋掉，這邊我都是從右邊到左邊一個一個選，才不會遇到覆蓋的問題。</p>
</blockquote>
<p><img src="https://i.imgur.com/HtZ1OWd.png"></p>
<p>接下來再處理 Dialogflow API 的問題，Day 25 文章中所提到的地方 Google UI 似乎有換位置，我找到的位置在此 -&gt; <a href="https://cloud.google.com/docs/authentication/production#obtaining_and_providing_service_account_credentials_manually">URL</a><br><img src="https://i.imgur.com/5HJ3uL7.png"></p>
<p>從頁面的藍色按鈕(建立服務金鑰)後會遇到下圖畫面，第一個紅色框框需要注意是不是剛剛建立的 Dialogflow 的 agent。<br>而第二個下拉式選單選擇 <code>Dialogflow Integrations</code>，下面則選擇 <code>JSON</code> 格式。<br><img src="https://i.imgur.com/vBRfIgp.png"></p>
<blockquote>
<p>在一開始建立完之後若是要回來管理的話，直接到 GCP 的<a href="https://console.cloud.google.com/home/dashboard">主控台</a>左側的<code>API &amp; Services</code>的<code>Cedemtials</code>來管理金鑰。</p>
</blockquote>
<p><img src="https://i.imgur.com/IEGyogB.png"></p>
<p>把下載的檔案放在主目錄下，接著要在<code>.env</code>下新增以下兩個 key，<code>GOOGLE_APPLICATION_CREDENTIALS</code>則需要打上<code>絕對路徑</code>，後面再部署會再解釋這段。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">GOOGLE_APPLICATION_CREDENTIALS=<span class="regexp">/Users/</span>...<span class="regexp">/taiwan-abl-games/</span>YOUR_KEY.json</span><br><span class="line">GOOGLE_APPLICATION_PROJECT_ID=taiwan-abl-games-mpmomf</span><br></pre></td></tr></table></figure>

<p><code>PROJECT_ID</code>要去 <a href="https://console.cloud.google.com/home/dashboard">GCP 主控台</a>查詢。<br><img src="https://i.imgur.com/GSHaMTK.png"></p>
<h1 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h1><p>這邊就先複製原作者的 code 並稍做修改至 &#x2F;src&#x2F;index.js：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> dialogflow = <span class="built_in">require</span>(<span class="string">&#x27;dialogflow&#x27;</span>); <span class="comment">// 記得安裝</span></span><br><span class="line"><span class="keyword">const</span> &#123; format &#125; = <span class="built_in">require</span>(<span class="string">&#x27;date-fns&#x27;</span>); <span class="comment">// 記得安裝</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> PROJECT_ID = process.env.GOOGLE_APPLICATION_PROJECT_ID;</span><br><span class="line"><span class="keyword">const</span> sessionClient = <span class="keyword">new</span> dialogflow.SessionsClient();</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (context.event.isText) &#123;</span><br><span class="line">    <span class="keyword">const</span> sessionPath = sessionClient.sessionPath(</span><br><span class="line">      PROJECT_ID,</span><br><span class="line">      context.session.id</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> request = &#123;</span><br><span class="line">      session: sessionPath,</span><br><span class="line">      queryInput: &#123;</span><br><span class="line">        text: &#123;</span><br><span class="line">          text: context.event.text,</span><br><span class="line">          languageCode: <span class="string">&#x27;zh-tw&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      queryParams: &#123;</span><br><span class="line">        timeZone: <span class="string">&#x27;Asia/Taipei&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 透過 dialogflow 偵測意圖</span></span><br><span class="line">    <span class="keyword">const</span> responses = <span class="keyword">await</span> sessionClient.detectIntent(request);</span><br><span class="line">    <span class="keyword">const</span> &#123; intent, parameters &#125; = responses[<span class="number">0</span>].queryResult;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (intent.displayName === <span class="string">&#x27;dreamer-next-game&#x27;</span>) &#123;</span><br><span class="line">      <span class="comment">//...YOUR CONTEXT</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> context.sendText(<span class="string">&#x27;您輸入的內容我不懂哦~🏀&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>藉由上述程式碼會發現藉由 Dialogflow 判斷出來的 intent 到底是要填入什麼？intent 顯示的字串就如下圖所示，我們在 Dialogflow 裡建立的 Intent 的名字就是最後 API 會回傳給我們的判斷字串，這邊就正規化一下自己所要提供的意圖吧！<br><img src="https://i.imgur.com/sEsEep8.png"></p>
<h2 id="bottender-config-js"><a href="#bottender-config-js" class="headerlink" title="bottender.config.js"></a>bottender.config.js</h2><p>最後這邊提一下如何設定給多平台使用，一開始藉由<code>npx create-bottender-app xxx</code>幫我們建立 app 時這個檔案就會自動生成，bottender 很好心的把所有明台所會用到的 key 全部都會放在這裡面。<br><img src="https://i.imgur.com/Ba6I5HR.png"><br>以我為例我就有使用到 Messager 來試玩，這邊就需要把<code>enabled</code>啟動(false -&gt; true)，實際建立粉絲頁相關可以<a href="https://ithelp.ithome.com.tw/articles/10218682">參考</a></p>
<blockquote>
<p>題外話: 最後再使用<code>npx bottender messenger webhook set</code>就會幫我們把 localhost 串接到 Message 上，實在是太讚了！！！</p>
</blockquote>
<h1 id="部署注意事項"><a href="#部署注意事項" class="headerlink" title="部署注意事項"></a>部署注意事項</h1><p>我是使用 Heroku 當作我部署的環境，請服用這篇<a href="https://ithelp.ithome.com.tw/articles/10228055">Heroku 部署</a></p>
<p>在本地端測試時會用到很多的環境變數，而 Dialogflow API json 的路徑我是透過環境變數去取得，在 Heroku 上會把專案的內容放在<code>/app</code>底下(不管你專案叫什麼名字)，因此環境變數<code>GOOGLE_APPLICATION_CREDENTIALS</code>需要輸入<code>/app/xx-ooo.json</code>這樣就會取到當前目錄下的檔案囉！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>經由這次試玩這個 project 讓我覺得 <a href="https://github.com/Yoctol/bottender">bottender</a> 這個 chatbot 框架整合真的是厲害，幫開發者處理掉很多跨平台上的問題，我認為最酷的就是 console mode，在測試程式邏輯上可以不用每次都一直用手機開 LINE 或是 FB 來測試機器人狀態，而是在終端機就解決這件事，這是我開發機器人到目前為止覺得最酷的模式 👍！</p>
<p>而在這個專案上我使用到 Dialogflow，除了參考的原文畫面 (GCP 頁面) 已有些許更動外，其實介接的速度是非常快的，此外我很認同原文作者的觀點，把 Dialogflow 接在程式後面才去處理這件事會增加很多彈性，畢竟當一個<strong>回應</strong>來的時候可能會想做其他不同的應用，此時若是模型就在前面先把訊息回覆掉，會增加很多開發上的問題(當然若簡單的功能單人沒問題 🤣)。</p>
<p>總而言之～誠心推薦大家去玩玩 bottender，也許你會跟我一樣發現了新大陸 😎。</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><p><a href="https://dialogflow.com/">Dialogflow</a><br><a href="https://console.cloud.google.com/?hl=zh-TW">GCP</a><br><a href="https://ithelp.ithome.com.tw/articles/10216040">Bottneder 建立專案</a><br><a href="https://ithelp.ithome.com.tw/articles/10228055">Heroku 部署</a></p>
]]></content>
      <categories>
        <category>Chatbot</category>
      </categories>
      <tags>
        <tag>chatbot</tag>
        <tag>Google</tag>
        <tag>Dialogflow</tag>
      </tags>
  </entry>
  <entry>
    <title>SDN x Cloud Native Meetup #29 活動心得</title>
    <url>/2020/06/30/CNTUG-29-sharing/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本次活動連結：<a href="https://www.meetup.com/CloudNative-Taiwan/events/271350471/">https://www.meetup.com/CloudNative-Taiwan/events/271350471/</a></p>
<p>這次一樣是線上小聚的方式為大家帶來精彩的活動，自從碩班畢業之後對於 Cloud Native 接觸的頻率就越來越低，最多是在工作上可能會擦邊學到相關的內容，較多面向程式開發上，那也因為剛好有機會可以跟上活動時間，既然以前有相關經歷那就來參加看一下大家現在都在討論些什麼新知識 🙂。</p>
<span id="more"></span>

<h1 id="How-to-make-your-Container-x2F-Kubernetes-is-a-bit-more-secure-Kyle-Bai"><a href="#How-to-make-your-Container-x2F-Kubernetes-is-a-bit-more-secure-Kyle-Bai" class="headerlink" title="How to make your Container&#x2F;Kubernetes is a bit more secure - Kyle Bai"></a>How to make your Container&#x2F;Kubernetes is a bit more secure - Kyle Bai</h1><p>講題主要圍繞在 Cloud Native 的 4C module 安全性上：</p>
<ul>
<li>Cloud&#x2F;Co-location</li>
<li>Cluster</li>
<li>Container</li>
<li>Code</li>
</ul>
<p>這次的議程主要帶到許多在 Cloud Native 上安全性的問題，首先就帶來兩個案例，從中最有印象的就是<code>羅門幣</code>的挖礦程式，因為以前在 openstack 時伺服器也曾經遭襲擊過 😆，以及幾個 CVE 認證過的漏洞，講者當中提到 <code>CVE-2018-1002105</code> 並說明他在 KubeCon 中被很多位講者講過，也提醒加入這行的朋友還是要去了解一下，因為發展與迭代越來越快也建議趁早了解對之後再實作時會比較好。</p>
<p>用 Cloud 除了要注意一些 RBAC 之外，也需要注意這兩個問題:</p>
<ul>
<li><a href="https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A6-Security_Misconfiguration">Misconfiguration Issues</a></li>
<li>Automation： 自動化有時若沒檢查的話可能會導致漏洞傳播速度很快</li>
</ul>
<p>接著還有使用 AWS 上的一些例子帶到安全性相關的問題，例如 RDS、DynamoDB 若這些資料庫 VPC 沒有管控好的情況下，開發者在不經意的情況下將 Internet 對外且沒加密，就會將資料庫直接暴露在危險中。</p>
<p>中間的部分就稍微整理一下幾個我叫有印象的議題：</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege">PoLP 的最小權限原則</a>: 當一個東西分工越細時就越需要控管權限，程式、容器、虛擬機都是。</li>
<li>盡可能用一些工具去增加資安議題的可見度，盡可能地避免問題產生。</li>
</ul>
<blockquote>
<p>工具參考：截圖</p>
</blockquote>
<p><img src="https://i.imgur.com/qNjsU0g.png"></p>
<ul>
<li>透過 code review 的方式降低被從程式碼注入的問題。</li>
<li>權限的開放程度須依照需求去開放，團隊需要討論權限的釋放程度。</li>
</ul>
<p>最後快速整理出一些講者提到的內容：</p>
<ul>
<li>去縮小 Images size，使用 scratch 建立以及 Container tools - <a href="https://github.com/GoogleContainerTools/distroless">distroless</a>來避免一些安全疑慮</li>
</ul>
<p><img src="https://i.imgur.com/Zy4TBFm.png"></p>
<ul>
<li>使用 TUF、Notary 去對 Image 去做簽證，讓 Image 上 kubernetes 之後是有認證的，將為簽證的都剔除。</li>
<li>公司需要制定個 image security policies，當呼叫 API 之後若權限不同則直接 reject。</li>
<li>用 TLS 去處理一些事情可以增加 cod&amp;code 之間的安全性</li>
<li>有些 port 不開開都要注意，一些 metrics port 都要注意。</li>
<li>3rd Party Dependency 安全性須要注意，使用前注意一下更新時間以及頻率，若覺得不行用就需要找替代方案。</li>
<li>透過一些自動工具去靜態檢查程式碼 - <a href="https://nijialin.com/2020/06/22/why-i-need-lint/">Lint</a> 可以參考我之前的文章</li>
<li>要記得用一些工具去檢測 OWASP 相關問題 CSRF、XSS、SQL Injection。</li>
</ul>
<h1 id="Public-Cloud-Networking-Rick-Chen"><a href="#Public-Cloud-Networking-Rick-Chen" class="headerlink" title="Public Cloud Networking - Rick Chen"></a>Public Cloud Networking - Rick Chen</h1><p>首先先帶入講者收集的 public cloud 關心程度問卷，大家現在最重視的是<code>資訊安全</code>，想想以前學校的程式我們根本沒在管資安 😆<br><img src="https://i.imgur.com/HiSp9pF.png"></p>
<p>AWS 沒意外的也是大家最常用，Azure 與 GCP 則緊跟在後。</p>
<p>接著提到一般服務基本上都會擁有兩個平台以上(像是 17)，畢竟當一家雲平台因為有問題時總不能讓自家服務中斷，會有另一家來預備也是滿正常的。<br>而講者這次分享的這個產品就是在解決跨雲的問題，因為要一般的店家、工程師要精通兩個雲以上是很困難的事情，那也就造就這個產品的誕生。</p>
<p>演講中有提到是使用一個 EC2 去管理 GCP、Azure、AWS 的權限，接著在透過 gateway 來做 data plane，其他則會有 Controller 來邏輯。</p>
<blockquote>
<p>這邊沒聽得很清楚，但概念上應該可以參考<a href="https://www.ithome.com.tw/node/77353">這篇文章</a></p>
</blockquote>
<p>這邊講者也希望做出一個透過邏輯去管理不同 Cloud 的 network platform，而在中間就個麻煩部分就是要處理各家的 VPC 問題，在一些情況下這些 VPC 是需要 isolation， 而 Public Cloud 又要同時兼顧 high-performance。</p>
<p>最後看到其他人問了一個問題：「VPC IP 重疊怎麼辦」</p>
<p>回答：首先要收不同用戶到 AWS 上，此時無法控制對方的 IP，因此需要做雙向 NAT，先給一個 virtual range 將實體 IP 透過第一層 NAT 轉掉後往下，而另一邊也透過一層的 NAT 將 IP forward，接著中間會有一層 gateway 來處理這兩邊，如此一來兩邊都不會知道對方的 IP 並且不會有 IP 相撞的問題。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>許久沒碰 Cloud Native 相關的東西對於內容實在是有種是既熟悉又陌生的感覺，許多代名詞已經許久未更新，藉由這一次參加小聚讓我的資料庫終於開始更新了 🎉，感謝小聚提供這麼棒的空間讓大家可以來學習，也希望我能趕快更新資訊跟上大家的腳步。</p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>Cloud</tag>
        <tag>SDN</tag>
        <tag>Container</tag>
        <tag>Kubernetes</tag>
        <tag>meetup</tag>
      </tags>
  </entry>
  <entry>
    <title>Day1 - serverless 介紹</title>
    <url>/2019/09/16/Day1-serverless-%E4%BB%8B%E7%B4%B9/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/abW5lFB.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>那因為現任公司的服務都是基於 AWS，如此這般我就接觸到 Serverless(以下簡稱 sls) 這個框架啦 (想更深入了解 FaaS 架構可以參考 AWS)</p>
<hr>
<h1 id="為什麼要-Serverless"><a href="#為什麼要-Serverless" class="headerlink" title="為什麼要 Serverless"></a>為什麼要 Serverless</h1><p>Serverless 架構是一個基於 FaaS(Function as a Service) 實作的一個服務，讓開發者可以更專注在開發功能，將 yml 檔設定好其餘維運的問題都交給 AWS、Google、Azure 這些服務商去處理，只要把信用卡準備好就好(?)，讓開發者在寫完程式之後不用煩惱部署得問題，減少的不少的麻煩事。</p>
<p>以用一個 Ruby on Rails 寫的機器人為例，在寫完個 webhook function 後，設定路由然後部署，一般主機或是虛擬機就很麻煩，要安裝佈署環境以及一安裝堆相關套件，完了之後設定 Domain 什麼的有夠花時間。但若是使用 heroku 部署就很方便，Login-Create-Deploy 馬上就結束，機器人馬上就上線了，實在是俗又大碗呀～</p>
<p>但我覺得像是 LINE Message 這種 stateless 的服務，且只要一個 function + route 就能實作的程式最適合 Serverless 了，讓專案可以簡潔有力，只要寫一個 function+yml 設定並打個指令就部署了，而且 domain 還附贈 SSL，將服務交給 AWS 也不需要擔心，整個就是超級方便啊！</p>
<p>serverless.yaml 是該專案的設定檔，可以把它想像成是 CloudFormation 的 wrapper，事實上也的確是這樣，serverless 背後會把他轉成 CloudFormation 的 template 去發佈。這個設定檔是 serverless 的精髓所在，一切有關 API Gateway 和 Lambda 的設定都在這邊，而底層所需要的資源，他都幫你配置好了，不需要操心。 <a href="https://medium.com/kkstream/%E7%95%B6-aws-api-gateway-lambda-golang-%E9%81%87%E4%B8%8A-ci-cd-1a3b3334ebc">ref</a></p>
<hr>
<h1 id="Cold-start-問題"><a href="#Cold-start-問題" class="headerlink" title="Cold start 問題"></a>Cold start 問題</h1><p>依照我目前使用的結果下來，在 heroku 以及 AWS Lambda 同時睡著的情況下，AWS 起床的回應速度大概 1 秒左右，而 heroku 則大概落在 10~15 秒(參考)。</p>
<p>如下圖所示的免費方案，基本上開發階段應該是不至於到 100 萬&#x2F;月 個請求吧 ?，所以這部分就別擔新大力地給他用下去!</p>
<p><img src="https://i.imgur.com/hC1Dgz4.png"></p>
<h1 id="AWS-Lambda-限制"><a href="#AWS-Lambda-限制" class="headerlink" title="AWS Lambda 限制"></a>AWS Lambda 限制</h1><p><img src="https://i.imgur.com/mC7Y9XY.png"></p>
<h1 id="安裝與使用"><a href="#安裝與使用" class="headerlink" title="安裝與使用"></a>安裝與使用</h1><p><a href="https://serverless.com/framework/docs/providers/aws/guide/serverless.yml/">serverless.yaml 的設定參考</a><br><a href="https://serverless.com/framework/docs/providers/aws/guide/variables/">serverless.yaml 的變數傳遞</a></p>
<hr>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>接下來會是使用 Serverless 這個<strong>框架</strong>去實作的，使用的語言為 Python，至於為什麼會選它呢，最主要原因還是在官網上有很多 <a href="https://serverless.com/plugins/">plugin</a> 可以用 ( NodeJS &amp; Python )，開發時資源相對多，接著是 AWS Lambda 的 Code-start 最快的就屬於 NodeJS &amp; Python 了，而我原本就是寫 Ruby 來的，自然就選一個寫法相近的語言啦(好像有點牽強)，如果說你想了解 runtimes 相關的問題的話可以參考<a href="https://medium.com/the-theam-journey/benchmarking-aws-lambda-runtimes-in-2019-part-i-b1ee459a293d">這篇</a>。</p>
<h1 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h1><ul>
<li>MacOS 10.14.6</li>
<li><a href="https://nodejs.org/zh-tw/download/">npm</a> 6.9.0</li>
<li><a href="https://www.python.org/downloads/">python</a> 3.7.3</li>
<li><a href="https://github.com/serverless/serverless">Serverless 套件(框架)</a> 1.45.1</li>
</ul>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://zh.wikipedia.org/wiki/%E7%84%A1%E4%BC%BA%E6%9C%8D%E5%99%A8%E8%A8%88%E7%AE%97">Serverless wiki</a></li>
<li><a href="https://denny.qollie.com/2016/05/22/serverless-simple-crud/">Serverless 優缺點</a></li>
<li><a href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/limits.html">AWS Lambda 限制</a></li>
</ul>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>Serverless</tag>
        <tag>Lambda</tag>
      </tags>
  </entry>
  <entry>
    <title>Chatbot meetup #12 心得分享 - 2019/09/17</title>
    <url>/2019/09/12/Chatbot-meetup-12/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本次小聚是 COSCUP 之後的第一場，趁著熱血玩兩個大型研討會的空檔舉辦了這次的小聚，先感謝各位的參與，別忘了定期關注社群，我們會在上面放出第一手 chatbot 小聚消息。<br><a href="https://www.facebook.com/groups/chatbot.tw/?ref=bookmarks">Chatbot Developers Taiwan</a></p>
<h1 id="小聚開始"><a href="#小聚開始" class="headerlink" title="小聚開始"></a>小聚開始</h1><p>開場由 Evan Lin 為大家帶來 LINE 的第一手消息，首先是 LINE 不在信義區啦(抓錯重點)，是 Flex message 更新啦 ，如下圖所示，他可以做出更多種不同的應用了，也有些實例可以供大家參考 🎉</p>
<p><img src="https://i.imgur.com/sxEd0Fd.png"></p>
<p><a href="https://developers.line.biz/en/docs/messaging-api/using-flex-messages/?source=post_page-----65999085f029----------------------">Flex Messages</a><br>另外出了一個模擬器，如果再使用 Flex message 不是太熟悉整個主體的話可以參考 ⬇️，目前還在 beta 階段，若有問題直接寫信去 “問候“ 一下 🤣<br><a href="https://developers.line.biz/console/fx/">Flex Message Simulator</a></p>
<blockquote>
<p>中文版的文件也上線了，可以到官網去搜尋哦！</p>
</blockquote>
<h1 id="議程"><a href="#議程" class="headerlink" title="議程"></a>議程</h1><blockquote>
<p><a href="https://docs.google.com/presentation/d/1QS1Esc-kvPK2x-Ys1oS4ucWVQOOggcEUxbnj3V1vi_I/edit#slide=id.p">簡報連結</a></p>
</blockquote>
<p>第一位由 LAE — 郭冠宏 (ggm)為我們介紹 Confacts 訊息查證系統，在裡頭把使用者分為兩類</p>
<ul>
<li>收消息的人 🙋‍♂️</li>
<li>編輯訊息的人 👨‍💻</li>
</ul>
<p>在上面看得到的資料都是透過 「工人智慧」誕生的，所以看到每一個真假消息都要歸功於這些編輯們 🎉<br>而 Confacts 也秉持的 g0v 開放原始碼的精神把東西都 open，供大家去使用，像是 美玉姨 以及 趨勢科技防詐達人 都是使用他們的資料庫建立出來的，如果有需要請去找 GGM 大大～<br>上次參加 g0v 小聚有稍微了解 Confacts 是做什麼的，聽到這次的講題就讓我更深入了解整個運作流程了，光想到要控制狀態就覺得苦惱，也因 Confacts 讓我瞭解到更多詳細流程～以下是他們的網站，討厭看到人家亂轉發消息嗎？直接加入消息並一起打造工人智慧的平台～<br>了解更多: <a href="https://cofacts.g0v.tw/">https://cofacts.g0v.tw</a></p>
<hr>
<p>接著由 酮好的創辦人 撒景賢 為我們帶來 聊天機器人與社群經營，主要是透過機器人來幫忙定時推播訊息給讓使用者下單後會收到提醒訊息而不會跑單，也建議大家把機器人就定義他為機器人，別讓使用者誤會他是一個活生生的人，要定義好自己的機器人取向，最後提到了一個問題就是他認為工程師的毛病就是想要產品做完才去找市場，可能的意思是且戰且走(?)，或許直接吸收市場的經驗也是個不錯的方法(筆記)。</p>
<hr>
<p>再來就是台北商業大學的 溫明輝 教授為我們帶來 商用聊天機器人 UX 的十三種設計原則</p>
<blockquote>
<p><a href="https://medium.com/uxerlab/13-heuristics-for-commercial-chatbot-ux-design-58c1aa191c77">商用聊天機器人 UX 的 13 個設計原則 (heuristics)</a></p>
</blockquote>
<p>首先介紹了微股力與記帳雞上面應用中的實例以及一些與使用者互動的案例分享，兩隻機器人都被 LINE 收為官方帳號囉！有興趣的朋友可以去搜尋一下～ 🔍</p>
<ol>
<li>確認目標族群的關鍵需求：要找到用戶滾動增長的點</li>
<li>APP 的成功是無法直接複製的：找到 app 上的缺點去卡市場定位點。</li>
<li>人們可能並不想「聊天」：這邊分享的案例是讓 記帳雞 出來湊人鬧目的是讓使用者記得他並去引導記帳 。</li>
<li>擬人化 vs 機器主張定位：若在一開始實作時是以特定主題去做開發的話就該讓他是對應功能機器人，別想著機器人可以做原本的事又要去回應使用者的任何話。</li>
<li>對話是互動並不限於對話(dialog)：有時候適時地在圖片上加入一些訊息也能讓使用者去自然觸擊。</li>
<li>讓使用者隨時握有主導權：因為人們可以隨時關掉它，就也意味著使用者的抗拒心不會那麼大，主要還是別讓使用者封鎖他～</li>
<li>不一眛追求介面的簡潔性：根本的需求滿足之後使用者還是會去用，把互動愉悅感弄出來，這邊例子是放在群組使用久了，有些使用者會自然地去記憶這他的指令。</li>
<li>考量對話訊息的時間堆疊：使用者因為訊息過多而演變成去點訊息已成敷衍的行為了。</li>
<li>避免一視同仁的廣播訊息：這邊分享的做法是透過工具去紀錄使用者的互動軌跡，且每個每個感應區塊都會有相對應的 tag，當後台在準備做推薦時可以針對分眾去做對應內容的推播。</li>
<li>用數據驅動的同理心：將機器人加入群組並紀錄使用者打過的指令，當今天已經封鎖的使用者在特定情況下看到群組裡面有其他使用者在打相關指令時或許會勾引出以前的興趣藉此解除封鎖並回歸。</li>
<li>用 UI 來補償 AI 的能力極限：藉由專家寫的文章以及當使用者點選到特定的內容時會直接把文章透過 LINE 嵌在訊息下方，讓使用者透過 UI 去看到相關內容，讓他看起來有點類似 AI。</li>
<li>個人化是 chatbot UX 極致：或許是因為客製化的關係所以當然個人化是最好的 🤣</li>
<li>chatbot 是無所不在的意識：隨著運算越來越快，人可以隨心所欲去取用環境資訊，需要有個個人化服務，就能透過 chatbot 來搜集並歸納出對應的訊息內容。</li>
</ol>
<h1 id="閃電秀"><a href="#閃電秀" class="headerlink" title="閃電秀"></a>閃電秀</h1><p>最期待的其中一個部分就是閃電秀啦，因為每次閃電秀不僅可以展謝自己的練習成果，也可以發現到其他使用者對於同樣開發內容所想出不一樣的應用！<br>第一個由 斑斑 為大家帶來市容幫手，主要是因為現在各種公家機關幾乎都用 LINE 在做聯繫，但一個里長擁有上百個群組會造成很多收集訊息上的困擾，那這邊講者就希望透過提案的方式來尋求參與者一起參與這個提案，有興趣的可以參考一下他的簡報哦！</p>
<p>接著就是由小弟我帶來的閃電秀，這次主題是使用 kamigo 打造的一個紀錄健身記錄的機器人，透過 Restful 格式的內容以及對應網址的樣式做出一個類似網頁版的機器人來記錄成績，以下是我的簡報以及 Github，有興趣可以參考一下 😃</p>
<iframe src="//www.slideshare.net/slideshow/embed_code/key/jmxmRbp1QcYgHB" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/JiaYuLin6/muscle-man-light-talk-20190917-in-chatbottw" title="Muscle man light talk 20190917 in chatbotTW" target="_blank">Muscle man light talk 20190917 in chatbotTW</a> </strong> from <strong><a href="https://www.slideshare.net/JiaYuLin6" target="_blank">Jia Yu Lin</a></strong> </div>
> [louis70109/muscle_man](https://github.com/louis70109/muscle_man)

<p>這是一個基於 kamigo 實作 LINE bot 來紀錄重訓數據的 肌肉仔 聊天機器人 在健身的過程中飲食固然重要，但往往訓練的人都是透過通靈的方法來選取適合自己的訓練重量，而透過數據的記載則是突破不可或缺的因素，因此產生了這個…</p>
<p>再來由 Fly Chang 帶來的在宅醫療服務，主要是幫助各地需要居家醫療的人讓他們有資源可以透過地圖的方式去找到，並想整合機器人提供在宅醫療診所情報、長期照護、藥物使用、衛教資訊…等等的資訊，有興趣的朋友可以點選以下網址去觀看哦！<br>台灣在宅支援診所聯盟<br><a href="https://i.hsca.me/?source=post_page-----65999085f029----------------------">HSCA 在宅支援診所聯盟</a>是秉持開放、共享、共學精神的網路平台社群。 資源地圖邀請在宅醫療團隊提供服務資訊，讓診所服務可以變得更透明、更公開，產生正面的循環。</p>
<p>最後由 kevin 介紹一下有關於 dialogflow 串接 LINE bot 的簡單介紹，並順便推廣了 voice hackthon，有興趣的朋友可以參考一下哦</p>
<p>若是 dialogflow+LINE bot 可以參考我之前寫的文章<br><a href="https://medium.com/@nijia.lin/chatbot-taichung-2-%E5%B7%A5%E4%BD%9C%E5%9D%8A%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB-bc964fdc07c3">Chatbot Taichung #2 工作坊心得分享</a></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>雖然每次下班都從台中直接殺上台北辦小聚很累，但往往在小聚結束時總是收穫滿滿，因為大家的熱情交流讓我學到了不少東西，謝謝各位的支持與參與，小弟拜託大家有報名要來啊～看在火山孝子的份上(咦？)就來參加吧 🙏<br>Chatbot TW 很樂意接收到不同的意見，若有好的建立不好意思公開可以私訊我哦！很樂意為大家解答 😁</p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>Day11 - LINE 的服務都玩了，怎麼能忘了 Message api (Bot) 呢？ (2) - 申請一步步</title>
    <url>/2019/09/25/Day11-LINE-%E7%9A%84%E6%9C%8D%E5%8B%99%E9%83%BD%E7%8E%A9%E4%BA%86%EF%BC%8C%E6%80%8E%E9%BA%BC%E8%83%BD%E5%BF%98%E4%BA%86-Message-api-Bot-%E5%91%A2%EF%BC%9F-2-%E7%94%B3%E8%AB%8B%E4%B8%80%E6%AD%A5%E6%AD%A5/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天會帶大家如何一步一步的建立 Message api 以及需要注意設定的地方。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><ol>
<li>首先先到 <a href="https://developers.line.biz/zh-hant/">https://developers.line.biz/zh-hant/</a> ，點選右上角的大頭貼並選擇 <code>Add new provider</code><br><img src="https://i.imgur.com/ZDumwCq.jpg"></li>
<li>接著在 Provider name 填上自己的想要的名稱<br><img src="https://i.imgur.com/JrSgcQO.png"></li>
<li>再次確認<br><img src="https://i.imgur.com/D86u1mQ.png"></li>
<li>選擇想要使用那種服務，這邊我們就選擇<code>Message API</code>並按下<code>Create Channel</code><br><img src="https://i.imgur.com/8WA1uER.png"></li>
<li>接著就開始填寫自己的機器人(channel)所需要的資訊嚕！<br><img src="https://i.imgur.com/VQWPJtn.png"></li>
<li>這邊我們需要填寫的內容為<br>6.1. 大頭貼(option)<br>6.2. 名稱 App name (required)<br>6.3. 描述 app description (required)<br>6.4. 類別與子類別 Catagory (required)<br>6.5. 信箱 Email address (required)<br>6.6. 政策網址 Policy URL (option)<br>6.7. 服務條款網址 Term of use URL (option)</li>
</ol>
<p><img src="https://i.imgur.com/0Wj570j.png"><br><img src="https://i.imgur.com/7TW5dzU.png"></p>
<hr>
<ol start="7">
<li>當填寫完之後的寫一步最後會需要勾兩個服務說明確認的選項並按下 Create<br><img src="https://i.imgur.com/VsLYgJK.png"></li>
<li>如此一來就看到自己百般折騰建立出來的 Message api 啦<br><img src="https://i.imgur.com/6tBdbEa.png"></li>
<li>滑到最下面，首先掃描 QR code 加入自己機器人的好友讓接下來好測試，接著按下圖篇右手邊的 Set message 進入調整頁面<br><img src="https://i.imgur.com/wTxU7FM.png"></li>
<li>進入之後到下面，將<strong>歡迎訊息</strong> &amp; <strong>自動回應</strong> <code>停用</code>，並將 <strong>Webhook</strong> 打開，讓之後的串接可以透過 Webhook 打到 Serverless 上，若是前兩個回應的選項沒有關的話即使 Webhook 有啟動也會因為優先權問題被擋下來哦！<br><img src="https://i.imgur.com/gS2k9ZP.png"></li>
</ol>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>chatbot</tag>
        <tag>Message api</tag>
      </tags>
  </entry>
  <entry>
    <title>Day10 - LINE 的服務都玩了，怎麼能忘了 Message api (Bot) 呢？ (1) - 介紹</title>
    <url>/2019/09/24/Day10-LINE-%E7%9A%84%E6%9C%8D%E5%8B%99%E9%83%BD%E7%8E%A9%E4%BA%86%EF%BC%8C%E6%80%8E%E9%BA%BC%E8%83%BD%E5%BF%98%E4%BA%86-Message-api-Bot-%E5%91%A2%EF%BC%9F-1-%E4%BB%8B%E7%B4%B9/</url>
    <content><![CDATA[<h2 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h2><p>LINE 在 2016 年 9 月底發表了 Messaging API 功能，用戶可以透過 Messaging API 將自家的服務內容串聯到 LINE@ 上。</p>
<p>接著在 2019&#x2F;04&#x2F;18 之後 LINE@ 2.0 正式上線，在 5&#x2F;22 後有升級的選項並會陸續更新，升級完的官方帳號也可以申請專屬 ID、進行帳號認證。</p>
<p>我認為比前一版本的最大的好處是在<strong>好友無上限</strong>的這部分，以前只能有 50 位好友，若一般開發者的機器人好不容易上線了並開放測試時被限制住，除了再開一隻機器人或是其他方法就超麻煩，現在好友無上限了，就不會有上述的問題了。</p>
<blockquote>
<p>若您以前有開發過的機器人到現在還沒升級的話，可以參考 -&gt; <a href="http://at-blog.line.me/tw/archives/lineat_manual_upgrade_02.html">URL</a></p>
</blockquote>
<p>這邊需要注意 1 on 1 聊天與 Messaging API 是無法同時使用的，但可以在後台切換看要使用哪種模式與顧客互動。對話記錄也會保存在各自的模式下，若要查看完整的對話記錄的話會建議以固定模式與顧客進行互動哦！</p>
<h3 id="主要的功能環繞在以下兩點"><a href="#主要的功能環繞在以下兩點" class="headerlink" title="主要的功能環繞在以下兩點"></a>主要的功能環繞在以下兩點</h3><p><img src="https://i.imgur.com/kqf5mo5.png"></p>
<ol>
<li><strong>Push mode:</strong> 主動推播訊息給用戶，2.0 每個機器人都有 500 則免費推播則數，超過則數的話可以參考以下的價目表：</li>
</ol>
<p><img src="https://i.imgur.com/7HJySLK.png"></p>
<ol start="2">
<li><strong>Reply mode:</strong> 這個模式是接受使用者的訊息並透過 webhook 打到伺服器上讓伺服器去做對應訊息的處理，重點是它是是免費、免費、免費的！所以若能引導使用者去輸入訊息的話用這個模式是不用錢的哦 🎉</li>
</ol>
<p>Message API 支援以下格式</p>
<ul>
<li>Text message</li>
<li>Sticker message</li>
<li>Image message</li>
<li>Video message</li>
<li>Audio message</li>
<li>Location message</li>
<li>Imagemap message</li>
<li>Template message</li>
<li>Flex message</li>
</ul>
<blockquote>
<p>詳細內容可以參考 <a href="https://developers.line.biz/en/docs/messaging-api/message-types/">LINE doc</a></p>
</blockquote>
<p><img src="https://i.imgur.com/PLWylFy.png" alt="line sample 1"><br><img src="https://i.imgur.com/lInGVV0.png" alt="line sample 2"></p>
<h2 id="回傳格式"><a href="#回傳格式" class="headerlink" title="回傳格式"></a>回傳格式</h2><p>Message API 回傳格式都是一個陣列的格式，一開始在接的時候都沒注意到一直瘋狂出錯，事實上這樣陣列對 Server 有個好處就是當一次需要送較多訊息時格式會比較統一，只是對於有潔癖的開發者來說每次都要多打<code>[0]</code>會覺得有點髒 🤣</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &#x27;events&#x27;: [&#123;</span><br><span class="line">    &#x27;replyToken&#x27;: &#x27;<span class="number">00000000000000</span><span class="number">00000000000000</span><span class="number">0000</span>&#x27;,</span><br><span class="line">    &#x27;type&#x27;: &#x27;message&#x27;,</span><br><span class="line">    &#x27;timestamp&#x27;: <span class="number">1568983962754</span>,</span><br><span class="line">    &#x27;source&#x27;: &#123;</span><br><span class="line">      &#x27;type&#x27;: &#x27;user&#x27;,</span><br><span class="line">      &#x27;userId&#x27;: &#x27;Udeadbeefdaaaaefdeadbeefdeadbeef&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x27;message&#x27;: &#123;</span><br><span class="line">      &#x27;id&#x27;: &#x27;<span class="number">100001</span>&#x27;,</span><br><span class="line">      &#x27;type&#x27;: &#x27;text&#x27;,</span><br><span class="line">      &#x27;text&#x27;: &#x27;Hello, world&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &#x27;replyToken&#x27;: &#x27;ffffffffffffffffffffffffffffffff&#x27;,</span><br><span class="line">    &#x27;type&#x27;: &#x27;message&#x27;,</span><br><span class="line">    &#x27;timestamp&#x27;: <span class="number">1568983962754</span>,</span><br><span class="line">    &#x27;source&#x27;: &#123;</span><br><span class="line">      &#x27;type&#x27;: &#x27;user&#x27;,</span><br><span class="line">      &#x27;userId&#x27;: &#x27;Udeadbeeaaaaefdeadbeefdeadbeef&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x27;message&#x27;: &#123;</span><br><span class="line">      &#x27;id&#x27;: &#x27;<span class="number">100002</span>&#x27;,</span><br><span class="line">      &#x27;type&#x27;: &#x27;sticker&#x27;,</span><br><span class="line">      &#x27;packageId&#x27;: &#x27;1&#x27;,</span><br><span class="line">      &#x27;stickerId&#x27;: &#x27;1&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>以前剛開始接 LINE Message API 的時候都覺得他的文件不太人性，更新到現在文件內容也越來完整，讓開發者在開發的過程中不用再為了找不到文件而放棄了(我以前就是 🤣)，下一篇將會帶來如何申請一隻機器人到如何建立一個 webhook API 到 AWS 上</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="http://at-blog.line.me/tw/messaging_api_intro">功能介紹】Messaging API</a><br><a href="https://developers.line.biz/en/docs/messaging-api/message-types/">LINE message template</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>chatbot</tag>
        <tag>Message API</tag>
      </tags>
  </entry>
  <entry>
    <title>Day12 - LINE 的服務都玩了，怎麼能忘了 Message api (Bot) 呢？ (3) - 應聲蟲實作</title>
    <url>/2019/09/26/Day12-LINE-%E7%9A%84%E6%9C%8D%E5%8B%99%E9%83%BD%E7%8E%A9%E4%BA%86%EF%BC%8C%E6%80%8E%E9%BA%BC%E8%83%BD%E5%BF%98%E4%BA%86-Message-api-Bot-%E5%91%A2%EF%BC%9F-3-%E6%87%89%E8%81%B2%E8%9F%B2%E5%AF%A6%E4%BD%9C/</url>
    <content><![CDATA[<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>新增兩個 LINE Channel key 至 <code>.env</code></p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">LINE_CHANNEL_TOKEN=</span><br><span class="line">LINE_CHANNEL_SECRET_KEY=</span><br></pre></td></tr></table></figure>

<p>接著加入 LINE 的 python SDK 至 requirements.txt</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">line</span>-bot-sdk==<span class="number">1</span>.<span class="number">12</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>透過 pip 安裝一下</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -r requirements.txt <span class="comment">--user</span></span><br></pre></td></tr></table></figure>

<p>在 controller&#x2F; 底下新增一個 message_api_controller.py 並輸入以下程式</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, abort</span><br><span class="line"><span class="keyword">from</span> flask_restful <span class="keyword">import</span> Resource</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> linebot <span class="keyword">import</span> (</span><br><span class="line">    LineBotApi, WebhookHandler</span><br><span class="line">)</span><br><span class="line"><span class="keyword">from</span> linebot.exceptions <span class="keyword">import</span> (</span><br><span class="line">    InvalidSignatureError</span><br><span class="line">)</span><br><span class="line"><span class="keyword">from</span> linebot.models <span class="keyword">import</span> (</span><br><span class="line">    MessageEvent, TextMessage, TextSendMessage,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LineMessageApiWebhookController</span>(<span class="params">Resource</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">        line_bot_api = LineBotApi(os.getenv(<span class="string">&#x27;LINE_CHANNEL_TOKEN&#x27;</span>))</span><br><span class="line">        handler = WebhookHandler(os.getenv(<span class="string">&#x27;LINE_CHANNEL_SECRET_KEY&#x27;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># get X-Line-Signature header value</span></span><br><span class="line">        signature = request.headers[<span class="string">&#x27;X-Line-Signature&#x27;</span>]</span><br><span class="line"></span><br><span class="line">        body = request.get_data(as_text=<span class="literal">True</span>)</span><br><span class="line">        event = json.loads(body)</span><br><span class="line">        print(event)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            handler.handle(body, signature)</span><br><span class="line">        <span class="keyword">except</span> InvalidSignatureError:</span><br><span class="line">            print(</span><br><span class="line">                <span class="string">&quot;Invalid signature. Please check your channel access token/channel secret.&quot;</span>)</span><br><span class="line">            abort(<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">        token = event[<span class="string">&#x27;events&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;replyToken&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> token == <span class="string">&quot;00000000000000000000000000000000&quot;</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            line_bot_api.reply_message(token, TextSendMessage(</span><br><span class="line">                text=event[<span class="string">&#x27;events&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;message&#x27;</span>][<span class="string">&#x27;text&#x27;</span>]))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;OK&#x27;</span></span><br></pre></td></tr></table></figure>

<p>用任何語言都會看到回傳會有 200, ‘OK’…回傳的成功訊息，在內部系統的部分在處理時要考慮到回傳時間的問題，一般來說如果回傳的時間大於 1 秒的話就有可能失效，或許有些朋友有測試過大於 1 秒也可以，但最好還是於時間內回覆哦！</p>
<blockquote>
<p>以下圖片來自 <a href="https://engineering.linecorp.com/zh-hant/blog/line-device-10/">https://engineering.linecorp.com/zh-hant/blog/line-device-10/</a></p>
</blockquote>
<p><img src="https://i.imgur.com/nrJl2XM.png" alt="https://engineering.linecorp.com/zh-hant/blog/line-device-10/"></p>
<p>接著在 api.py 加入下面兩段 code，新增一個<code>webhook</code>的路由</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> controller.message_api_controller <span class="keyword">import</span> LineMessageApiWebhookController</span><br><span class="line">api.add_resource(LineMessageApiWebhookController, <span class="string">&#x27;/webhook&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>這邊可以使用<code>sls wsgi serve</code> + <code>ngrok</code>去搭配做測試</p>
<p>接著就部署啦</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sls deploy</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>現在在接這種第三方的 API 時最好都使用 <code>https</code>，而使用 Serverless 的好處就是 AWS 在部署完之後會送你一個含有 SSL 的網址～</p>
</blockquote>
<p>把網址貼到 <code>webhook URL</code> 上並在尾端加上 <code>/webhook</code><br><img src="https://i.imgur.com/uoiU96f.png"></p>
<p>測試結果如下<br><img src="https://i.imgur.com/9wPNuma.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>這次整合了以前寫的 <a href="https://github.com/louis70109/aws-line-wsgi-python">Repo</a>，加入了<code>.env</code>讓我在抓下來使用時也更方便，也整合成 Restful 格式讓之後有需要的人在看 code 時可以更容易理解了～</p>
<p>專案也會持續更新，更多詳情可以 follow 我的專案 <a href="https://github.com/louis70109/aws-python-line-api">aws-python-line-api</a>。</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>chatbot</tag>
        <tag>Message api</tag>
      </tags>
  </entry>
  <entry>
    <title>Day14 - LINE Richmenu 介紹</title>
    <url>/2019/09/28/Day14-LINE-Richmenu-%E4%BB%8B%E7%B4%B9/</url>
    <content><![CDATA[<p>Rich menu 是一個 LINE 提供給 chatbot 的圖文選單，可以再上面設定很多各式各樣的功能，下圖為一個範例<br><img src="https://i.imgur.com/AkZnaWs.png"></p>
<h2 id="優點"><a href="#優點" class="headerlink" title="優點"></a>優點</h2><ul>
<li>擁有長板 &amp; 短板的圖片支援，讓一張圖片不再是一張圖片，機器人看起來可以更有品牌風格，根據 User 喜好、訂閱功能或是下一頁 Menu(即時切換)等等不同創意巧思，且可以客製化圖片讓機器人看起來有更不一樣的特色，也讓對話是互動並不限於對話，而圖片來讓使用者可以更直觀地去使用機器人。</li>
<li>一個 Chatbot 可以設定 1000 組的功能選單</li>
<li>針對不同 user ID 顯示不同功能選單<br>Rich menu 可以自己設計圖片並上傳，再透過 JSON 的樣式去設定圖片區間要進行各種用途，這邊使用 Youbike 小幫手為範例，設定很多相關的設計，並設計上下頁的選單提供像是 APP 的操作。<br><img src="https://i.imgur.com/kp3aYTWl.jpg"></li>
</ul>
<h2 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h2><ul>
<li>圖片格式: JPEG、PNG</li>
<li>圖片尺寸: 2500x1686, 2500x843, 1200x810, 1200x405, 800x540, 800x270</li>
<li>圖片大小: 1 MB</li>
</ul>
<h2 id="步驟"><a href="#步驟" class="headerlink" title="步驟"></a>步驟</h2><ol>
<li>先準備一個圖片</li>
<li>對這個 API 下圖片每個位置要做什麼事 <a href="https://api.line.me/v2/bot/richmenu">https://api.line.me/v2/bot/richmenu</a></li>
<li>接著上傳圖片給 LINE <a href="https://api.line.me/v2/bot/richmenu/richmenu-%7Bid%7D/content">https://api.line.me/v2/bot/richmenu/richmenu-{id}/content</a></li>
<li>設定預設 <a href="https://api.line.me/v2/bot/user/all/richmenu/richmenu-%7Bid%7D">https://api.line.me/v2/bot/user/all/richmenu/richmenu-{id}</a></li>
</ol>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>有很多的文章都有介紹過類似的功能，這邊簡介一下限制以及下篇要做的步驟～</p>
<ul>
<li><a href="https://medium.com/%E6%89%BE%E5%88%B0%E4%BC%AF%E7%89%B9-find-your-bot/line-bot%E7%B3%BB%E5%88%97-%E8%A8%AD%E8%A8%88%E4%B8%80%E5%80%8B%E5%8A%9F%E8%83%BD%E9%81%B8%E5%96%AE-ea5f1d7cde94">設計一個功能選單</a></li>
<li><a href="https://developers.line.biz/en/docs/messaging-api/using-rich-menus/">LINE 官方文件</a></li>
</ul>
<hr>
<p><img src="https://i.imgur.com/JlsLphHl.jpg"></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>chatbot</tag>
        <tag>Richmenu</tag>
      </tags>
  </entry>
  <entry>
    <title>Day13 - 試玩 python SDK</title>
    <url>/2019/09/27/Day13-%E8%A9%A6%E7%8E%A9-python-SDK/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>以前從花落落的文件中找到一個方法，像是使用 push message<br><img src="https://i.imgur.com/ZZVg7mI.png"><br>我都會笨笨的 call API 的方法去執行功能，殊不知 SDK 早就包好了，然後邊做邊罵自己為什麼要解這些 JSON (拍桌)<br>到了現在比較會看文件，才知道原來以前是自己雷自己 (捶心肝)…接下來就試玩幾個我覺得常會用到的 method 好了不廢話了，來簡單介紹一下一些常用的方法 😎</p>
<h2 id="get-profile"><a href="#get-profile" class="headerlink" title="get_profile"></a>get_profile</h2><p>回傳使用者的個人狀態，可以透過每次的 reply 去拿到使用者的資訊，一般使用的話都話把它存下來，等之後有介接其他服務時方便使用 userId 去判斷使用者。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">profile = line_bot_api.get_profile(event[<span class="string">&#x27;events&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;source&#x27;</span>][<span class="string">&#x27;userId&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> Database() <span class="keyword">as</span> db, db.connect() <span class="keyword">as</span> conn, conn.cursor(cursor_factory=psycopg2.extras.RealDictCursor) <span class="keyword">as</span> cur:</span><br><span class="line">        cur.execute(</span><br><span class="line">            <span class="string">f&quot;INSERT INTO users(id, name, picture) VALUES (&#x27;<span class="subst">&#123;<span class="built_in">id</span>&#125;</span>&#x27;, &#x27;<span class="subst">&#123;name&#125;</span>&#x27;, &#x27;<span class="subst">&#123;picture&#125;</span>&#x27;)&quot;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">pass</span> <span class="comment"># 這邊簡單處理相同 id 的問題(id我有設 Private key 哦！)</span></span><br><span class="line">state = <span class="string">f&quot;Hello 👉 `<span class="subst">&#123;profile.display_name&#125;</span>` 👈&quot;</span></span><br><span class="line">line_bot_api.reply_message(token, [</span><br><span class="line">  TextSendMessage(text=state),</span><br><span class="line">  ImageSendMessage(original_content_url=profile.picture_url, preview_image_url=profile.picture_url)</span><br><span class="line">  ])</span><br></pre></td></tr></table></figure>

<p>這邊搭配 <code>ImageSendMessage</code> 來幫忙發送圖片，他主要是透過 original_content_url 以及 preview_image_url 這兩個參數來幫忙轉成圖片</p>
<ul>
<li>original 就是讓使用者看到的圖片</li>
<li>preview 在還沒載入時的樣子</li>
</ul>
<h2 id="push-message"><a href="#push-message" class="headerlink" title="push_message"></a>push_message</h2><p>既然都取到使用者的 id 了，下一步就是推訊息給使用者啦!</p>
<p>建立一個 GET 的路由在 &#x2F;webhook 上，收到 query string 的 msg 的值並找到所有使用者的 id 並逐一推送訊息。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">line_bot_api = LineBotApi(os.getenv(<span class="string">&#x27;LINE_CHANNEL_TOKEN&#x27;</span>))</span><br><span class="line">handler = WebhookHandler(os.getenv(<span class="string">&#x27;LINE_CHANNEL_SECRET_KEY&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">    msg = request.args.get(<span class="string">&#x27;msg&#x27;</span>)</span><br><span class="line">    <span class="keyword">with</span> Database() <span class="keyword">as</span> db, db.connect() <span class="keyword">as</span> conn, conn.cursor(cursor_factory=psycopg2.extras.RealDictCursor) <span class="keyword">as</span> cur:</span><br><span class="line">        cur.execute(<span class="string">&quot;SELECT * FROM users&quot;</span>)</span><br><span class="line">        fetch = cur.fetchall()</span><br><span class="line">    <span class="keyword">for</span> user <span class="keyword">in</span> fetch:</span><br><span class="line">        self.line_bot_api.push_message(</span><br><span class="line">            user[<span class="string">&#x27;id&#x27;</span>], TextSendMessage(text=msg))</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;message&#x27;</span>: msg&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/MHfYmlZ.png"></p>
<hr>
<p><img src="https://i.imgur.com/x7fgvhY.png"></p>
<h2 id="Reply-Mode"><a href="#Reply-Mode" class="headerlink" title="Reply Mode"></a>Reply Mode</h2><h3 id="LocationSendMessage"><a href="#LocationSendMessage" class="headerlink" title="LocationSendMessage"></a>LocationSendMessage</h3><p>這邊直接拿 SDK 的範例來用，若是有在做商家功能的機器人可以使用這個方式讓使用者接收到商家訊息～</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">self.line_bot_api.reply_message(token, LocationSendMessage(</span><br><span class="line">    title=<span class="string">&#x27;my location&#x27;</span>,</span><br><span class="line">    address=<span class="string">&#x27;Tokyo&#x27;</span>,</span><br><span class="line">    latitude=<span class="number">35.65910807942215</span>,</span><br><span class="line">    longitude=<span class="number">139.70372892916203</span></span><br><span class="line">))</span><br></pre></td></tr></table></figure>

<h3 id="StickerSendMessage"><a href="#StickerSendMessage" class="headerlink" title="StickerSendMessage"></a>StickerSendMessage</h3><p>這個方法可以搭配使用，讓整個回應看起來跟真實吧！</p>
<blockquote>
<p>不知道清單能用什麼可以<a href="https://developers.line.biz/media/messaging-api/sticker_list.pdf">參考</a>，</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">self.line_bot_api.reply_message(token, StickerSendMessage(package_id=<span class="string">&#x27;1&#x27;</span>,sticker_id=<span class="string">&#x27;1&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="Button-Template"><a href="#Button-Template" class="headerlink" title="Button Template"></a>Button Template</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">buttons_template_message = TemplateSendMessage(</span><br><span class="line">    alt_text=<span class="string">&#x27;Buttons template&#x27;</span>,</span><br><span class="line">    template=ButtonsTemplate(</span><br><span class="line">        thumbnail_image_url=<span class="string">f&#x27;<span class="subst">&#123;picture&#125;</span>.jpg&#x27;</span>,</span><br><span class="line">        title=<span class="string">&#x27;Menu&#x27;</span>,</span><br><span class="line">        text=<span class="string">&#x27;Please select&#x27;</span>,</span><br><span class="line">        actions=[</span><br><span class="line">            PostbackAction(</span><br><span class="line">                label=<span class="string">&#x27;postback&#x27;</span>,</span><br><span class="line">                display_text=<span class="string">&#x27;postback text&#x27;</span>,</span><br><span class="line">                data=<span class="string">&#x27;action=buy&amp;itemid=1&#x27;</span></span><br><span class="line">            ),</span><br><span class="line">            MessageAction(</span><br><span class="line">                label=<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                text=<span class="string">&#x27;message text&#x27;</span></span><br><span class="line">            ),</span><br><span class="line">            URIAction(</span><br><span class="line">                label=<span class="string">&#x27;uri&#x27;</span>,</span><br><span class="line">                uri=<span class="string">&#x27;http://example.com/&#x27;</span></span><br><span class="line">            )</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">self.line_bot_api.reply_message(token, buttons_template_message)</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/T30NNHt.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>簡單玩了幾個 API，大概就這幾個比較常搭配著使用，用過之後才知道其實有好多 API 我都還不是很清楚用法 🤣<br>而 LINE 最近更新了他們文件的功能，多了一個<code>Try</code>的按鈕提供使用者可以線上直接測 API，只是像是 push messages 這個就剛好沒有 😓，但至少有很多 API 不用通靈去測試，直接拿著 Token 在網頁上測試嚕！<br><a href="https://developers.line.biz/en/reference/messaging-api/?fbclid=IwAR3gExZwTJjXUudorqkIo-cHVk9yoONen7hnDlh4okntWyveLBYHXzZWJ00#get-number-of-push-messages">Doc Sample</a><br><img src="https://i.imgur.com/xfk13a3.png"></p>
<p>Code is <a href="https://github.com/louis70109/aws-python-line-api/blob/master/controller/message_api_controller.py">here</a></p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://developers.line.biz/en/reference/messaging-api/?fbclid=IwAR3gExZwTJjXUudorqkIo-cHVk9yoONen7hnDlh4okntWyveLBYHXzZWJ00#get-number-of-push-messages">LINE develop page</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE SDK</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Day16 - 實作一個上下頁的 richmenu</title>
    <url>/2019/09/30/Day16-%E5%AF%A6%E4%BD%9C%E4%B8%80%E5%80%8B%E4%B8%8A%E4%B8%8B%E9%A0%81%E7%9A%84-richmenu/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>看著很多人的機器人都有上下頁的功能就心癢癢，一直沒有實際去操作，雖然看起來好像不難，但身為一個肥宅就是只有懶，到了現在才把他實作出來(羞)，以下就帶大家來做嚕！</p>
<h2 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h2><p>首先我做了兩個超級陽春的圖片，來展示一下上下一頁的樣子(超弱)<br>(1)<br><img src="https://i.imgur.com/Rs5jnJ8.png"></p>
<hr>
<p>(2)<br><img src="https://i.imgur.com/97XG3mv.png"></p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>我把上一篇的 richmenu_api_controller.py 的 create 部分改編了一下，<br>增加了讀 <code>state</code> Query string 的一個參數，用<code>up</code>&amp;<code>down</code>來簡單判斷上傳的內容要傳什麼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> usage == <span class="string">&#x27;create&#x27;</span>:</span><br><span class="line">            rich_menu_to_create = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">if</span> request.args.get(<span class="string">&#x27;state&#x27;</span>) == <span class="string">&#x27;up&#x27;</span>:</span><br><span class="line">                rich_menu_to_create = RichMenu(</span><br><span class="line">                    size=RichMenuSize(width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">                    selected=<span class="literal">False</span>,</span><br><span class="line">                    name=<span class="string">&quot;Nice richmenu&quot;</span>,  <span class="comment"># display name</span></span><br><span class="line">                    chat_bar_text=<span class="string">&quot;我是第一頁&quot;</span>,</span><br><span class="line">                    areas=[RichMenuArea(  <span class="comment"># 這邊是陣列的格式，可以動態設定自己要的區域想要有什麼功能</span></span><br><span class="line">                        bounds=RichMenuBounds(</span><br><span class="line">                            x=<span class="number">0</span>, y=<span class="number">0</span>, width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">                        action=MessageAction(</span><br><span class="line">                            label=<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                            text=<span class="string">&#x27;下一頁&#x27;</span></span><br><span class="line">                        ))]</span><br><span class="line">                )</span><br><span class="line">            <span class="keyword">elif</span> request.args.get(<span class="string">&#x27;state&#x27;</span>) == <span class="string">&#x27;down&#x27;</span>:</span><br><span class="line">                rich_menu_to_create = RichMenu(</span><br><span class="line">                    size=RichMenuSize(width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">                    selected=<span class="literal">False</span>,</span><br><span class="line">                    name=<span class="string">&quot;Nice richmenu&quot;</span>,  <span class="comment"># display name</span></span><br><span class="line">                    chat_bar_text=<span class="string">&quot;我是第二頁&quot;</span>,</span><br><span class="line">                    areas=[RichMenuArea(</span><br><span class="line">                        bounds=RichMenuBounds(</span><br><span class="line">                            x=<span class="number">0</span>, y=<span class="number">0</span>, width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">                        action=MessageAction(</span><br><span class="line">                            label=<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                            text=<span class="string">&#x27;上一頁&#x27;</span></span><br><span class="line">                        ))]</span><br><span class="line">                )</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                rich_menu_to_create = RichMenu(</span><br><span class="line">                    size=RichMenuSize(width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">                    selected=<span class="literal">False</span>,</span><br><span class="line">                    name=<span class="string">&quot;Nice richmenu&quot;</span>,  <span class="comment"># display name</span></span><br><span class="line">                    chat_bar_text=<span class="string">&quot;我是測試使用&quot;</span>,</span><br><span class="line">                    areas=[RichMenuArea(  <span class="comment"># 這邊是陣列的格式，可以動態設定自己要的區域想要有什麼功能</span></span><br><span class="line">                        bounds=RichMenuBounds(</span><br><span class="line">                            x=<span class="number">0</span>, y=<span class="number">0</span>, width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">                        action=URIAction(label=<span class="string">&#x27;Go to line.me&#x27;</span>, uri=<span class="string">&#x27;https://line.me&#x27;</span>))]</span><br><span class="line">                )</span><br><span class="line">            rich_menu_id = self.line_bot_api.create_rich_menu(</span><br><span class="line">                rich_menu=rich_menu_to_create)</span><br><span class="line">            print(rich_menu_id)</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="string">&#x27;id&#x27;</span>: rich_menu_id&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>接著回到 <code>message_api_controller.py</code> 把前幾篇的 reply SDK code 先註解掉，並加入以下的 code</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = event[<span class="string">&#x27;events&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;message&#x27;</span>][<span class="string">&#x27;text&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> message == <span class="string">&quot;上一頁&quot;</span> <span class="keyword">or</span> message == <span class="string">&quot;下一頁&quot;</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        rich_menu_id = self.line_bot_api.get_rich_menu_id_of_user(<span class="built_in">id</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="comment"># link default rich menu</span></span><br><span class="line">        self.line_bot_api.link_rich_menu_to_user(<span class="built_in">id</span>, <span class="string">&quot;richmenu-269cc28b8e8497d76c2df062b274a2ce&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> rich_menu_id == <span class="string">&quot;richmenu-269cc28b8e8497d76c2df062b274a2ce&quot;</span>:</span><br><span class="line">        self.line_bot_api.link_rich_menu_to_user(<span class="built_in">id</span>, <span class="string">&quot;richmenu-e31be74ad7e577b4752ab70c9c2a3fba&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        self.line_bot_api.link_rich_menu_to_user(<span class="built_in">id</span>, <span class="string">&quot;richmenu-269cc28b8e8497d76c2df062b274a2ce&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    self.line_bot_api.reply_message(token, TextSendMessage(text=message))</span><br></pre></td></tr></table></figure>

<p>這邊簡單判斷讀取使用者回應來進入控制的程式碼，透過<code>get_rich_menu_id_of_user</code>來抓取當前使用者的 rich menu，但因為他是會返回 Error response，所以這邊就使用<code>try</code> <code>except</code>來包<br>except 部分就是透過<code>link_rich_menu_to_user</code>來設定當前使用者為第一張圖片的 <code>richmenu id</code>，下面的判斷式就是讓他互換成對應的 rich menu id 來換頁。</p>
<blockquote>
<p>Richmenu 那邊事實上是要用 <code>postback</code>，因為要 demo 的關係我就弄成一般的文字格式，因為這個上下頁字串的理論上是不該讓使用者看到的，只要用圖片來引導使用者就好。</p>
</blockquote>
<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p><img src="https://i.imgur.com/QL3m90U.png"><br><img src="https://i.imgur.com/DhBRsyT.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>透過這次練習大概把 LINE SDK 玩得差不多了(<code>message api</code> &amp; <code>richmenu api</code>)，寫到了今天真的是苦讀 LINE 的文件啊，都要以防萬一我這狗眼沒有看錯而寫出錯誤的程式碼 XD，到這打完收工，繼續期待下一篇～</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>chatbot</tag>
        <tag>Richmenu</tag>
      </tags>
  </entry>
  <entry>
    <title>Day15 - 串接 LINE Richmenu API</title>
    <url>/2019/09/29/Day15-%E4%B8%B2%E6%8E%A5-LINE-Richmenu-API/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前我在使用時都是直接在 Postman 上直接打 API，本來是打算自己刻 接 Richmenu API 的，但剛剛看到<a href="https://github.com/line/line-bot-sdk-python">Python SDK</a> 很佛心的也提供 Richmenu 相關的 SDK，如此一來就不用自己包一包了。</p>
<blockquote>
<p>注意 Richmenu 圖片的方向是 由上到下、由左到右 哦！算位置記得別算錯ＸＤ</p>
</blockquote>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><h3 id="設定座標"><a href="#設定座標" class="headerlink" title="設定座標"></a>設定座標</h3><p>首先先使用 <code>create_rich_menu(self, rich_menu, timeout=None)</code>告訴 LINE 說你的 Richmenu 的基本設定是什麼，格式區域什麼個別要做什麼對應的事情，</p>
<p>Creates a rich menu. You must upload a rich menu image and link the rich menu to a user for the rich menu to be displayed. You can create up to 10 rich menus for one bot.</p>
<p><a href="https://developers.line.biz/en/reference/messaging-api/#create-rich-menu">https://developers.line.biz/en/reference/messaging-api/#create-rich-menu</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> usage == <span class="string">&#x27;create&#x27;</span>:</span><br><span class="line">    rich_menu_to_create = RichMenu(</span><br><span class="line">        size=RichMenuSize(width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">        selected=<span class="literal">False</span>,</span><br><span class="line">        name=<span class="string">&quot;Nice richmenu&quot;</span>,  <span class="comment"># display name</span></span><br><span class="line">        chat_bar_text=<span class="string">&quot;我是測試使用&quot;</span>,</span><br><span class="line">        areas=[RichMenuArea(  <span class="comment"># 這邊是陣列的格式，可以動態設定自己要的區域想要有什麼功能</span></span><br><span class="line">            bounds=RichMenuBounds(x=<span class="number">0</span>, y=<span class="number">0</span>, width=<span class="number">2500</span>, height=<span class="number">843</span>),</span><br><span class="line">            action=URIAction(label=<span class="string">&#x27;Go to line.me&#x27;</span>, uri=<span class="string">&#x27;https://line.me&#x27;</span>))]</span><br><span class="line">    )</span><br><span class="line">    rich_menu_id = self.line_bot_api.create_rich_menu(</span><br><span class="line">        rich_menu=rich_menu_to_create)</span><br><span class="line">    print(rich_menu_id)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;id&#x27;</span>: rich_menu_id&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<h2 id="set-rich-menu-image-self-rich-menu-id-content-type-content-timeout-x3D-None"><a href="#set-rich-menu-image-self-rich-menu-id-content-type-content-timeout-x3D-None" class="headerlink" title="set_rich_menu_image(self, rich_menu_id, content_type, content, timeout&#x3D;None)"></a>set_rich_menu_image(self, rich_menu_id, content_type, content, timeout&#x3D;None)</h2><p>上面設定完圖片裡每個座標區間要幹嘛了，接著就可以自己弄圖片或是下載官網提供的<a href="https://developers.line.biz/media/messaging-api/rich-menu/controller-rich-menu-image-e1734c7d.jpg">圖片</a></p>
<h3 id="MAC-用戶的小技巧"><a href="#MAC-用戶的小技巧" class="headerlink" title="MAC 用戶的小技巧"></a>MAC 用戶的小技巧</h3><p>這邊教大家一個小技巧，可以點選想使用的照片，在預覽程式裡的選擇工具-&gt;調整大小<br><img src="https://i.imgur.com/OqsDU20.jpg"><br>接著看到這畫面，把依比例縮放的勾勾取消，然後把長寬調到對應的大小後就完成圖片大小的設定嚕！<br><img src="https://i.imgur.com/OH1tYUl.png"></p>
<p><a href="https://developers.line.biz/en/reference/messaging-api/#upload-rich-menu-image">https://developers.line.biz/en/reference/messaging-api/#upload-rich-menu-image</a></p>
<p><img src="https://i.imgur.com/iA2xMJd.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">elif</span> usage == <span class="string">&#x27;upload&#x27;</span>:</span><br><span class="line">    file = request.files[<span class="string">&#x27;the_file&#x27;</span>].read()</span><br><span class="line">    rich_menu_id = request.form[<span class="string">&#x27;richmenu_id&#x27;</span>]</span><br><span class="line">    content_type = <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        self.line_bot_api.set_rich_menu_image(</span><br><span class="line">            rich_menu_id, content_type, file)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">&quot;===Upload Exception===&quot;</span>)</span><br><span class="line">        <span class="keyword">raise</span> BadRequest(e)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: <span class="string">&#x27;upload ok&#x27;</span>&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<h2 id="set-default-rich-menu-self-rich-menu-id-timeout-x3D-None"><a href="#set-default-rich-menu-self-rich-menu-id-timeout-x3D-None" class="headerlink" title="set_default_rich_menu(self, rich_menu_id, timeout&#x3D;None)"></a>set_default_rich_menu(self, rich_menu_id, timeout&#x3D;None)</h2><p>設定完了之後要幹嘛？就是要把他設定<code>default</code>啦！<br>不囉唆， show you the code.</p>
<blockquote>
<p>Sets the default rich menu.<br><a href="https://developers.line.biz/en/reference/messaging-api/#set-default-rich-menu">https://developers.line.biz/en/reference/messaging-api/#set-default-rich-menu</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">elif</span> usage == <span class="string">&#x27;set&#x27;</span>:</span><br><span class="line">    rich_menu_id = request.form[<span class="string">&#x27;richmenu_id&#x27;</span>]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        self.line_bot_api.set_default_rich_menu(rich_menu_id)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">raise</span> BadRequest(<span class="string">&quot;Maybe your richmenu id error.&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: <span class="string">&#x27;set default ok!&#x27;</span>&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<h2 id="get-default-rich-menu-self-timeout-x3D-None"><a href="#get-default-rich-menu-self-timeout-x3D-None" class="headerlink" title="get_default_rich_menu(self, timeout&#x3D;None)"></a>get_default_rich_menu(self, timeout&#x3D;None)</h2><p>糟糕，我好像瘋狂建立卻不知道有幾組？用這個就對了！</p>
<blockquote>
<p>Gets the ID of the default rich menu set with the Messaging API.<br><a href="https://developers.line.biz/en/reference/messaging-api/#get-default-rich-menu-id">https://developers.line.biz/en/reference/messaging-api/#get-default-rich-menu-id</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">elif</span> usage == <span class="string">&#x27;get&#x27;</span>:</span><br><span class="line">    rich_menu_list = self.line_bot_api.get_rich_menu_list()</span><br><span class="line">    total = []</span><br><span class="line">    <span class="keyword">for</span> rich_menu <span class="keyword">in</span> rich_menu_list:</span><br><span class="line">        total.append(rich_menu.rich_menu_id)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: total&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<h2 id="delete-rich-menu-rich-menu-id"><a href="#delete-rich-menu-rich-menu-id" class="headerlink" title="delete_rich_menu(rich_menu_id)"></a>delete_rich_menu(rich_menu_id)</h2><p>不行，我弄的座標什麼全錯怎麼辦？有時候上傳的圖片可能不是自己想的那樣？，透過這個方法來刪掉它</p>
<blockquote>
<p>Deletes a rich menu.<br><a href="https://developers.line.biz/en/reference/messaging-api/#delete-rich-menu">https://developers.line.biz/en/reference/messaging-api/#delete-rich-menu</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">elif</span> usage == <span class="string">&#x27;delete&#x27;</span>:</span><br><span class="line">    rich_menu_id = request.form[<span class="string">&#x27;richmenu_id&#x27;</span>]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        self.line_bot_api.delete_rich_menu(rich_menu_id)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">raise</span> BadRequest(<span class="string">&quot;Maybe your richmenu id error.&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: <span class="string">f&#x27;<span class="subst">&#123;rich_menu_id&#125;</span> is delete!&#x27;</span>&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>我都把 <code>raise</code> 打成 <code>rails</code> (大誤)，LINE 幫忙做的 SDK 真的是好用，透過這次練習我也多學了好多不一樣的用法，順便把自己的腦袋也整理一下 😃，程式碼同步在這邊哦 <a href="https://github.com/louis70109/aws-python-line-api/blob/master/controller/richmenu_api_controller.py">URL</a>。</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE SDK</tag>
        <tag>LINE</tag>
        <tag>Richmenu</tag>
      </tags>
  </entry>
  <entry>
    <title>Day17 - 看一下自己寫的東西都去哪了</title>
    <url>/2019/10/01/Day17-%E7%9C%8B%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E5%AF%AB%E7%9A%84%E6%9D%B1%E8%A5%BF%E9%83%BD%E5%8E%BB%E5%93%AA%E4%BA%86/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>用 Serverless 用得這麼爽，也是時候來看一下他的資源在哪，距離我上次自己手動上傳 python 檔已經是 N 個月之前的事了(遠望)，當時也沒用過什麼<code>Api Gateway</code>相關的服務，以下就帶大家來介紹一下嚕！</p>
<h2 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h2><h3 id="CloudFormation"><a href="#CloudFormation" class="headerlink" title="CloudFormation"></a>CloudFormation</h3><p>CloudFormation 是一個 AWS 所提供的 JSON-base 服務，主要是用來讓使用者能夠快速建立 AWS 的服務。</p>
<blockquote>
<p>這邊也不用擔心設定的問題，Serverless 再 deploy 的過程中會幫忙 CloudFormation 的 json 檔</p>
</blockquote>
<p><img src="https://i.imgur.com/mK9lYCD.png"><br>透過 CloudFormation 建立 JSON-based 的 template 你可以快速建立所需要的資源堆疊（stack）。</p>
<p><img src="https://i.imgur.com/GzHh65j.jpg"><br>按下<code>Template</code>後如下圖所示，他會顯示你已經有建立的服務 Map，整個線牽起來看起來就很爽 XD<br><img src="https://i.imgur.com/bcg1f0a.png"></p>
<h3 id="Api-Gateway"><a href="#Api-Gateway" class="headerlink" title="Api Gateway"></a>Api Gateway</h3><p>Serverless 建立過程中也會透過 CloudFormation 幫忙建立 Api Gateway，因為我們是用 <code>WSGI</code>，所以只會看到兩個<code>ANY</code>的路由。<br>點進去後就可以看到 Client 是怎麼進出的，最右邊是打到 AWS Lambda 上，可以點選上面的字進入 Lambda 所在地。<br><img src="https://i.imgur.com/GPVXsc9.jpg"></p>
<h3 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h3><p>點選進來之後可以看到 Lambda 接了什麼服務，以我到目前的程式就會有<code>API Gateway</code>、<code>SQS</code>以及預設的<code>CloudWatch</code>(都是透過這個來看 log)<br><img src="https://i.imgur.com/0MYquqC.png"><br>接著往下會看到之前設定的<code>環境變數</code>以及<code>STAGE</code>，這些都是托<code>Serverless</code>的福免去這些麻煩的設定<br><img src="https://i.imgur.com/nwKK3xb.png"></p>
<h3 id="S3"><a href="#S3" class="headerlink" title="S3"></a>S3</h3><p>Serverless 在過程中會在 S3 幫忙建立一個 Bucket，並在後面加個 hash key 以免 bucket 重複。<br><img src="https://i.imgur.com/flZtoFn.png"></p>
<h3 id="Cloud-Watch-Log"><a href="#Cloud-Watch-Log" class="headerlink" title="Cloud Watch Log"></a>Cloud Watch Log</h3><p>在開始測試後 AWS 會幫忙在這個地方輸出 Log，<br><img src="https://i.imgur.com/t3Ki0gi.png"></p>
<h3 id="Serverless-deploy-紀錄"><a href="#Serverless-deploy-紀錄" class="headerlink" title="Serverless deploy 紀錄"></a>Serverless deploy 紀錄</h3><h4 id="這邊使用-Serverless-deploy-verbose-就可以看到所有部署中的基本資訊了"><a href="#這邊使用-Serverless-deploy-verbose-就可以看到所有部署中的基本資訊了" class="headerlink" title="這邊使用 Serverless deploy --verbose 就可以看到所有部署中的基本資訊了"></a>這邊使用 <code>Serverless deploy --verbose</code> 就可以看到所有部署中的基本資訊了</h4><p>首先因為我們有使用<code>.env</code>，所以在一開始時會先設定環境變數，接著就是把相依套件的東西都放進去，再去啟動 CloudFormation<br><img src="https://i.imgur.com/yMKZfAQ.png"></p>
<hr>
<p>接著會建立一個 S3 的 Bucket，將程式透過 CloudFormation 處理成 <code>zip</code>的檔案格式並上傳到 S3 上面<br><img src="https://i.imgur.com/NDh2rU8.png"></p>
<hr>
<p>接著就會部署到 <code>Lambda</code> 以及 <code>Api Gateway</code> 上，並做對應 CloudFormation JSON 檔的設定<br><img src="https://i.imgur.com/7D4v9qS.png"></p>
<hr>
<p>在最後部署完之後就可以看到所有的基本資訊，物件名稱、部署階段、區域、網域以及 Function 們(因為 Lambda 是 Function-base 的服務)等等的基本資訊都會在此<br><img src="https://i.imgur.com/wCBixvO.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>以目前的架構基本上到這麼基本資訊都顯示出來了，若是有使用像是<code>Route 53</code>、<code>CloudFront</code>等等的服務它就會顯示在這邊了。雖然說 CloudFormation 在設定上已經很方便了，但不得不說 Serverless 真的幫忙做了很多事，讓開發者又更能專注在打 Code 上了～</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://medium.com/@chihsuan/cloudformation-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-aws-%E8%B3%87%E6%BA%90-d3378b096249">使用 CloudFormation 快速部署 AWS 資源</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>Lambda</tag>
        <tag>CloudFormation</tag>
        <tag>S3</tag>
        <tag>API gateway</tag>
      </tags>
  </entry>
  <entry>
    <title>Day18 - 在 Serverless 上設定個排程來發送空氣污染檢測吧</title>
    <url>/2019/10/02/Day18-%E5%9C%A8-Serverless-%E4%B8%8A%E8%A8%AD%E5%AE%9A%E5%80%8B%E6%8E%92%E7%A8%8B%E4%BE%86%E7%99%BC%E9%80%81%E7%A9%BA%E6%B0%A3%E6%B1%A1%E6%9F%93%E6%AA%A2%E6%B8%AC%E5%90%A7/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>過往寫了這麼多的 api，總是會有特定的功能會需要輪詢資料庫或是監聽某些事件，以前還要到弄個虛擬機寫腳本用 crontab，這時候 Lambda 的用處就來啦！不只可以處理 api 的事情，還可以設定排程做事，太舒服啦，以下就來介紹一下～</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>首先在 <code>consumer</code> 資料夾下<code>line_bot_alert.py</code>，再寫一段需要定時跑的程式，這邊我去抓中央氣象局的資料，大概簡單判斷一下區域以及算出他的範圍：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">alert_handler</span>(<span class="params">event, context</span>):</span></span><br><span class="line">    air = requests.get(</span><br><span class="line">        <span class="string">&#x27;http://opendata.epa.gov.tw/webapi/Data/REWIQA/?$orderby=SiteName&amp;$skip=0&amp;$top=1000&amp;format=json&#x27;</span>)</span><br><span class="line">    air_body = json.loads(air.text)</span><br><span class="line">    air_status = [<span class="string">&quot;良好&quot;</span>,	<span class="string">&quot;普通&quot;</span>,	<span class="string">&quot;對敏感族群不健康&quot;</span>,	<span class="string">&quot;對所有族群不健康&quot;</span>,	<span class="string">&quot;非常不健康&quot;</span>,	<span class="string">&quot;危害&quot;</span>, <span class="string">&quot;資料有誤&quot;</span>]</span><br><span class="line">    total, count = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> fetch <span class="keyword">in</span> air_body:</span><br><span class="line">        <span class="keyword">if</span> (fetch[<span class="string">&#x27;County&#x27;</span>] == <span class="string">&quot;臺中市&quot;</span> <span class="keyword">and</span> (fetch[<span class="string">&#x27;SiteName&#x27;</span>] == <span class="string">&quot;西屯&quot;</span> <span class="keyword">or</span> fetch[<span class="string">&#x27;SiteName&#x27;</span>] == <span class="string">&quot;沙鹿&quot;</span>)):</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> fetch[<span class="string">&#x27;AQI&#x27;</span>] != <span class="number">0</span>:</span><br><span class="line">                total = total + <span class="built_in">int</span>(fetch[<span class="string">&#x27;AQI&#x27;</span>])</span><br><span class="line">    switch = <span class="number">0</span></span><br><span class="line">    pm = <span class="built_in">int</span>(total / count)</span><br><span class="line">    print(pm)</span><br><span class="line">    <span class="keyword">if</span> pm <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">50</span>):</span><br><span class="line">        switch = <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> pm <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">51</span>, <span class="number">100</span>):</span><br><span class="line">        switch = <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> pm <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">101</span>, <span class="number">150</span>):</span><br><span class="line">        switch = <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> pm <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">151</span>, <span class="number">200</span>):</span><br><span class="line">        switch = <span class="number">3</span></span><br><span class="line">    <span class="keyword">elif</span> pm <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">201</span>, <span class="number">250</span>):</span><br><span class="line">        switch = <span class="number">4</span></span><br><span class="line">    <span class="keyword">elif</span> pm <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">251</span>, <span class="number">300</span>):</span><br><span class="line">        switch = <span class="number">5</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        switch = <span class="number">6</span></span><br><span class="line">    payload = <span class="string">f&quot;\n空氣品質: <span class="subst">&#123;air_status[switch]&#125;</span>&quot;</span></span><br><span class="line">    r = requests.post(<span class="string">&#x27;https://1uv2o723o4.execute-api.us-east-1.amazonaws.com/dev/notify/sqs&#x27;</span>,</span><br><span class="line">                      data=&#123;<span class="string">&#x27;message&#x27;</span>: payload&#125;)</span><br><span class="line">    print(r)</span><br></pre></td></tr></table></figure>

<p>在<code>serverless.yml</code>的 function 下面加入 Lambda，handler 就是 <code>資料夾/檔案.類別</code>，設定事件(event)排程一分鐘一次</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">function:</span></span><br><span class="line">  <span class="attr">line_bot_alert:</span></span><br><span class="line">    <span class="attr">handler:</span> <span class="string">consumer/line_bot_alert_handler.alert_handler</span></span><br><span class="line">    <span class="attr">events:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">schedule:</span> <span class="string">rate(1</span> <span class="string">minute)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>AWS Lambda 有兩種設定排程的方法，<code>rate</code>以及<code>cron</code>，若是比較固定時建議用<code>rate</code>，比較複雜的排程就可以讓<code>cron</code>來，下面兩張圖分別是來自 <a href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/tutorial-scheduled-events-schedule-expressions.html">AWS</a> &gt; <img src="https://i.imgur.com/r9ZaBhO.png"></p>
</blockquote>
<hr>
<p><img src="https://i.imgur.com/BLrbUPP.png"></p>
<p>下<code>sls deploy</code>部署之後就會看到剛剛做<code>line_bot_alert</code>的<code>function</code>，他每分鐘都在跑，若玩完之後不想用了可以下<code>sls remove</code>把上面有的東西刪掉嚕！<br><img src="https://i.imgur.com/0tpDSdf.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>其實還有很多應用可以實作排程，像是有朋友就用 GCP 的來定時發文 🤣，而且可以把腳本寫得像是 api 一樣，讓整個靈活性都增加了不少，下一篇就帶大家來做 LINE Login 嚕！</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/tutorial-scheduled-events-schedule-expressions.html">AWS document</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Serverless</tag>
        <tag>Lambda</tag>
        <tag>Schedule</tag>
      </tags>
  </entry>
  <entry>
    <title>Day19 - LINE LOGIN 介紹</title>
    <url>/2019/10/03/Day19-LINE-LOGIN-%E4%BB%8B%E7%B4%B9/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>LINE 中文版也上線啦 <a href="https://developers.line.biz/zh-hant/docs/line-login/overview/?fbclid=IwAR2I2VWF8Z1xS5wdSKlkWQiMFJphdjH3Qi_RnoJaCynQUG2GBM-PDiWJEjE">URL</a><br>去某些網站登入你可能會有像下面這樣<br><img src="https://i.imgur.com/GNSYfYX.png"><br>或者是你有玩過 LINE Rangers (怎麼感覺我好老)，就會看到他們登入畫面有個登入鈕，按下去按確認後就登入，使用者不用輸入帳號密碼。<br><img src="https://i.imgur.com/tbOfUET.jpg"><br>這個機制被稱為 SSO (single sign-on)，它是透過 OAuth2 的機制來做認證，因為不儲存密碼除了可以降低儲存第三方網站的風險，以及使用者不需要記憶各種不同的密碼所帶來困擾，像是 Facebook、Google、LINE…都有相關的機制可以串連 SSO 的服務。</p>
<p>以下會介紹 LINE Login 的流程。</p>
<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p>這裡我使用 LINE Login<br><img src="https://i.imgur.com/jouHzB0.png"></p>
<ol>
<li>服務要引導使用者到 LINE 認證頁面並帶著必填的欄位。</li>
<li>LINE 會在瀏覽器上打開認證頁面，使用者必須按下同意才會進行認證。</li>
<li>LINE 會透過設定過的 <code>redirect_uri</code> 還給你一個 <code>authorization code</code> 以及 <code>state</code> 在 Query string 上。</li>
<li>你的服務需要將 <code>authorization code</code> 打到<code>https://api.line.me/oauth2/v2.1/token</code></li>
<li>LINE 確認完之後就會送你一個 <code>access token</code> 嚕！<blockquote>
<p>可以拿透過 <a href="https://developers.line.biz/en/reference/social-api/">social API</a> 去拿到相關資訊</p>
</blockquote>
</li>
</ol>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>下一篇再帶著大家申請一個 LINE Login 的服務並建立一個簡單的註冊頁面～</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%94%BE%E6%8E%88%E6%9D%83">OAuth wiki</a><br><a href="https://developers.line.biz/en/docs/line-login/web/integrate-line-login/">LINE overview</a><br><a href="https://developers.line.biz/zh-hant/docs/line-login/overview/?fbclid=IwAR2I2VWF8Z1xS5wdSKlkWQiMFJphdjH3Qi_RnoJaCynQUG2GBM-PDiWJEjE">LINE 中文文件</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LINE Login</tag>
      </tags>
  </entry>
  <entry>
    <title>Day2 - 安裝並使用 wsgi &amp; flask 建立第一個 Serverless 的專案</title>
    <url>/2019/09/17/Day2-%E5%AE%89%E8%A3%9D%E4%B8%A6%E4%BD%BF%E7%94%A8%20wsgi%20&amp;%20flask%20%E5%BB%BA%E7%AB%8B%E7%AC%AC%E4%B8%80%E5%80%8B%20Serverless%20%E7%9A%84%E5%B0%88%E6%A1%88/</url>
    <content><![CDATA[<p>透過 npm 全域安裝 serverless 指令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install serverless -g</span><br></pre></td></tr></table></figure>

<blockquote>
<p>因為我是用 python3 在 AWS 上實作</p>
</blockquote>
<ul>
<li><code>--template</code>可以選擇你想要的模板 (<a href="https://serverless.com/framework/docs/providers/aws/cli-reference/create/">參考</a>)</li>
<li><code>name</code> service 的名稱</li>
<li><code>--path</code> 專案路徑，若找不到資料夾時會自動新增</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">serverless create --template aws-python3 --name aws-wsgi-flask --path aws-wsgi-flask</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/6GZVQNo.png"></p>
<h1 id="加入套件"><a href="#加入套件" class="headerlink" title="加入套件"></a>加入套件</h1><p>接著後面會需要使用套件，而 python 這邊會認得 requirements.txt 這個檔案，因此我們需要用 serverless 的 plugin 幫我們處理，讓專案在 deploy 上去之後會透過 requirements.txt 去安裝套件。</p>
<p>而接下來我們會需要一個介面幫我們處理一些麻煩事，這邊就選用 wsgi 來處理。<a href="https://codertw.com/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/362704/">詳細參考</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sls plugin install -n serverless-python-requirements</span><br><span class="line">sls plugin install -n serverless-wsgi</span><br></pre></td></tr></table></figure>

<p>接著去看 serverless.yml 檔案最後出現下面這樣就成功安裝了。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-python-requirements</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-wsgi</span></span><br></pre></td></tr></table></figure>

<p>然後新增一個 setup.cfg 並加入以下內容：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[install]</span><br><span class="line">prefix=</span><br></pre></td></tr></table></figure>

<blockquote>
<p>由於 AWS Lambda 上都會將套件安裝在本地端(Lambda 上)，因此在執行 <code>pip install -t . -r requirements.txt</code> 時會需要 setup.cfg。</p>
</blockquote>
<p>接著選用 Flask 框架作我們開發的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Flask==1.0.2&quot;</span> &gt; requirements.txt</span><br><span class="line">pip install -r requirements.txt -—user</span><br></pre></td></tr></table></figure>

<blockquote>
<p>serverless-python-requirements 同樣也支持 pipenv 哦，如果想完全擋掉的話可以<a href="https://www.npmjs.com/package/serverless-python-requirements#pipenv-support-sparklescakesparkles">參考</a></p>
</blockquote>
<h1 id="更改設定檔"><a href="#更改設定檔" class="headerlink" title="更改設定檔"></a>更改設定檔</h1><p>置換以下內容至 serverless.yml，讓 WSGI 去處理路由。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">service:</span> <span class="string">aws-wsgi-flask</span></span><br><span class="line"><span class="attr">provider:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">aws</span></span><br><span class="line">  <span class="attr">runtime:</span> <span class="string">python3.7</span></span><br><span class="line"><span class="attr">functions:</span></span><br><span class="line">  <span class="attr">api:</span></span><br><span class="line">    <span class="attr">handler:</span> <span class="string">wsgi_handler.handler</span></span><br><span class="line">    <span class="attr">events:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span> <span class="string">ANY</span> <span class="string">/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span> <span class="string">ANY</span> &#123;<span class="string">proxy+</span>&#125;</span><br><span class="line"><span class="attr">custom:</span></span><br><span class="line">  <span class="attr">wsgi:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">api.app</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-python-requirements</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-wsgi</span></span><br></pre></td></tr></table></figure>

<h1 id="測試-wsgi"><a href="#測試-wsgi" class="headerlink" title="測試 wsgi"></a>測試 wsgi</h1><p>因為我們不是單純只用 python 架設，所以要將 handler.py 替換成 api.py，並加入以下內容</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handler</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>到這邊基礎設施都弄好了，但總不能部署才測試吧，所以這時候我們就出動</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">serverless wsgi serve</span><br></pre></td></tr></table></figure>

<p>透過 wsgi 去幫忙起一個 local server 供使用者可以測試，而且每次儲存都重新整理一次哦！詳細用法請<a href="https://github.com/logandk/serverless-wsgi">參考</a><br><img src="https://i.imgur.com/S4CQJxI.png"></p>
<p>接著用 postman 來測試一下<br><img src="https://i.imgur.com/ci26g4O.png"></p>
<p>燈燈，hello world 出來了～</p>
<p>最後也是最重要的一個步驟『部署』<br>只是說部署前需要有 AWS 的 secret key &amp; token</p>
<h1 id="建立-AWS-存取金鑰"><a href="#建立-AWS-存取金鑰" class="headerlink" title="建立 AWS 存取金鑰"></a>建立 AWS 存取金鑰</h1><p>首先要先有個 AWS 帳號(廢話) ，如果沒有綁定信用卡記得去綁定才能繼續，接下來就可以去就可以去建立鑰匙囉！<br><img src="https://i.imgur.com/JOgIjXQ.png"><br>如上圖，按下紅色框框的部分，接著按箭頭指的按鈕，就會建立一個我們要的金鑰囉！<br><img src="https://i.imgur.com/A34OlY5.png"><br>如上圖所示，可以下載 key，AWS 不會幫忙保存 Secret key，若這視窗關掉的話 key 就不見了，所以使用者可以自行下載檔案保存，以免哪天要部署的時候找不到 key。<br>接著就將這兩個參數加入環境變數中：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> AWS_ACCESS_KEY_ID=&lt;your-key-here&gt;</span><br><span class="line"><span class="built_in">export</span> AWS_SECRET_ACCESS_KEY=&lt;your-secret-key-here&gt;</span><br></pre></td></tr></table></figure>

<p>或是藉由 serverless 指令來幫忙加入參數：</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">serverless <span class="built_in">config</span> credentials <span class="comment">--provider aws --key &lt;your-key-here&gt; --secret &lt;your-secret-key-here&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>這步驟很重要哦，不然 AWS 不認識你就不給你上傳了 ?</p>
</blockquote>
<p>最後就是下 <code>serverlesss deploy</code>進行部署<br><img src="https://i.imgur.com/MK8Yks7.png"></p>
<p>這邊 AWS 幫忙建立一個含有 SSL 的 domain，可以直接對這個網址下</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">endpoints:</span> <span class="string">ANY</span> <span class="bullet">-</span> <span class="string">https://4omvn4z7re.execute-api.us-east-1.amazonaws.com/dev</span></span><br><span class="line">  <span class="string">ANY</span> <span class="bullet">-</span> <span class="string">https://4omvn4z7re.execute-api.us-east-1.amazonaws.com/dev/&#123;proxy+&#125;</span></span><br></pre></td></tr></table></figure>

<p>接著把網址丟到瀏覽器上來試試看<br><img src="https://i.imgur.com/tptNSd4.png"><br>出現 <code>hello world</code>就成功囉！</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://medium.com/@nijia.lin/%E4%BD%BF%E7%94%A8-serverless-line-message-api-%E5%9C%A8-aws-%E4%B8%8A%E6%89%93%E9%80%A0%E4%B8%80%E5%80%8B-echo-bot-1e3e785a2a01">使用 Serverless &amp; LINE Message API 在 AWS 上打造一個 Echo bot</a></li>
<li><a href="https://serverless.com/framework/docs/providers/aws/cli-reference/">sls cli 相關參數</a></li>
<li><a href="https://serverless.com/">Serverless</a></li>
<li><a href="https://github.com/serverless/serverless">Serverless Github</a></li>
<li><a href="https://serverless.com/framework/docs/providers/aws/guide/quick-start/">serverless install</a></li>
<li><a href="https://serverless.com/plugins/serverless-wsgi/">serverless wsgi</a></li>
<li><a href="https://serverless.com/plugins/serverless-python-requirements/">requirements.txt</a></li>
</ul>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Day21 - LINE Login 實作</title>
    <url>/2019/10/05/Day21-LINE-Login-%E5%AF%A6%E4%BD%9C/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>現在有規模的平台提供商基本上都會提供 Single Sign On (SSO)的登入機制，藉由他們的平台讓一般小網站可以讓使用者免密碼登入，雖然有很多種 Oauth2 的套件，不過我還是喜歡自己打 🤣，下面就開始嚕！</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>在<code>views/</code>建立一個<code>line_login_auth.html</code>，填入以下內容，主要是實作一個按鈕並透過 javascript 來互叫 api 並導向到 LINE 頁面</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>LINE Login<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;auth&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;auth()&quot;</span>&gt;</span>LINE LOGIN<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">auth</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">        url: <span class="string">&#x27;https://YOUR_SERVERLESS_DOMAIN.amazonaws.com/dev/line/auth&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        method: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">window</span>.location.replace(data.result);</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>接著我們在<code>.env</code>加入 LINE Login 的環境變數並輸入對應的參數</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">LINE_LOGIN_CLIENT_ID=</span></span><br><span class="line"><span class="string">LINE_LOGIN_SECRET=</span></span><br><span class="line"><span class="string">LINE_LOGIN_URI=https://YOUR_SERVERLESS_DOMAIN.amazonaws.com/dev/line/auth</span></span><br></pre></td></tr></table></figure>

<p>最後就是我們最重要的部分了，實作 GET a&amp; POST 的 api，這邊我先從 POST 講起，這邊主要是把環境變數組在網址中回傳給前端，這邊需要注意的是<code>state</code>他是在回傳回來的 JWT 需要解碼時所使用的，這邊我簡單打個字串，然而實際上會隨機產個變數，確保解碼的安全。</p>
<p>GET 則是負責處理從 LINE 回來的參數們，這邊我只用回傳回來的<code>state</code>把<code>id_token</code>解開，拿到裡面的使用者的參數，後續可以參照應用把資訊存下來，放入 session 並告知前端已登入。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask_restful <span class="keyword">import</span> Resource</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> jwt</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LineLoginController</span>(<span class="params">Resource</span>):</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">		r = requests.post(</span><br><span class="line">			<span class="string">&quot;https://api.line.me/oauth2/v2.1/token&quot;</span>,</span><br><span class="line">			data=&#123;</span><br><span class="line">				<span class="string">&quot;grant_type&quot;</span>: <span class="string">&quot;authorization_code&quot;</span>,</span><br><span class="line">				<span class="string">&quot;code&quot;</span>: request.args.get(<span class="string">&#x27;CODE&#x27;</span>),</span><br><span class="line">				<span class="string">&quot;redirect_uri&quot;</span>: os.environ.get(<span class="string">&#x27;LINE_LOGIN_URI&#x27;</span>),</span><br><span class="line">				<span class="string">&quot;client_id&quot;</span>: os.environ.get(<span class="string">&#x27;LINE_LOGIN_CLIENT_ID&#x27;</span>),</span><br><span class="line">				<span class="string">&quot;client_secret&quot;</span>: os.environ.get(<span class="string">&#x27;LINE_LOGIN_SECRET&#x27;</span>),</span><br><span class="line">			&#125;, headers=&#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>&#125;)</span><br><span class="line">		payload = json.loads(r.text)</span><br><span class="line">		print(payload)</span><br><span class="line">		token = payload.get(<span class="string">&quot;id_token&quot;</span>)</span><br><span class="line">		<span class="keyword">if</span> token <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">			<span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: payload[<span class="string">&#x27;error_description&#x27;</span>]&#125;, <span class="number">400</span></span><br><span class="line"></span><br><span class="line">		state = request.args.get(<span class="string">&#x27;state&#x27;</span>)</span><br><span class="line">		token = token.encode()</span><br><span class="line">		dt = jwt.decode(token, state, <span class="literal">None</span>, algorithms=[<span class="string">&#x27;HS256&#x27;</span>])</span><br><span class="line">		<span class="keyword">if</span> dt:</span><br><span class="line">			<span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: dt&#125;, <span class="number">200</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">		r_uri = os.environ.get(<span class="string">&quot;LINE_LOGIN_URI&quot;</span>)</span><br><span class="line">		client = os.environ.get(<span class="string">&quot;LINE_LOGIN_CLIENT_ID&quot;</span>)</span><br><span class="line">		state = <span class="string">&quot;nostate&quot;</span> <span class="comment"># it will be random value</span></span><br><span class="line">		uri = <span class="string">f&quot;https://access.line.me/oauth2/v2.1/authorize?response_type=code&amp;client_id=<span class="subst">&#123;client&#125;</span>&amp;redirect_uri=<span class="subst">&#123;r_uri&#125;</span>&amp;scope=profile%20openid%20email&amp;state=<span class="subst">&#123;state&#125;</span>&quot;</span></span><br><span class="line">		<span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: uri&#125;</span><br></pre></td></tr></table></figure>

<p>JWT 解開的參數如下，<code>sub</code>就是 LINE 的唯一值 ID，一般拿到這個就可以知道是來自 LINE 的使用者了。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;result&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;iss&quot;</span>: <span class="string">&quot;https://access.line.me&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sub&quot;</span>: <span class="string">&quot;Ud6ab866a67xxxxxxxxb12b0baffb8ac&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;aud&quot;</span>: <span class="string">&quot;1622939248&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;exp&quot;</span>: <span class="number">1569925548</span>,</span><br><span class="line">    <span class="attr">&quot;iat&quot;</span>: <span class="number">1569921948</span>,</span><br><span class="line">    <span class="attr">&quot;amr&quot;</span>: [<span class="string">&quot;linesso&quot;</span>],</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;NiJia Lin&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;picture&quot;</span>: <span class="string">&quot;https://profile.line-scdn.net/0hKvTocMuLFFlpFj9HpKdrDlVTGjxxxxxxxxx1YHACMOPRtEHmkWJVIKUyUJNkQWGT0X&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;email&quot;</span>: <span class="string">&quot;loxxxxx09@gmail.com&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最後別忘了要在<code>api.py</code>加入路由才會被導出去ㄛ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> controller.line_login_controller <span class="keyword">import</span> LineLoginController</span><br><span class="line">api.add_resource(LineLoginController, <span class="string">&#x27;/line/auth&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>在實作的時候不知道為什麼一直不能讓 python 去幫我把用戶導去 LINE 認證的頁面，我記得之前寫 Ruby 可以啊(?)，最後只好讓前端去幫我把使用者導出去，這邊就帶大家做到這嚕！</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>S3</tag>
        <tag>LINE Login</tag>
      </tags>
  </entry>
  <entry>
    <title>Day20 - LINE Login 申請與基本頁面</title>
    <url>/2019/10/04/Day20-LINE-Login-%E7%94%B3%E8%AB%8B%E8%88%87%E5%9F%BA%E6%9C%AC%E9%A0%81%E9%9D%A2/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上篇介紹了好多了，這邊就不廢話了，直接就帶大家申請一個 LINE Login 的服務。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>首先到自己的開發者頁面按<code>+</code>，並選擇最左邊的選項<br><img src="https://i.imgur.com/c9JI0vX.jpg"><br>接著輸入<code>App name</code>(服務名稱)、<code>App description</code>(服務簡介)，因為我們是實作 API ，所以選擇<code>Use WEB</code>的選項，接著再輸入<code>email</code><br><img src="https://i.imgur.com/AA8NiF8.png"><br>把該填的填完之後按下送出就會看到有一個新的服務嚕！<br><img src="https://i.imgur.com/RBM1HdJ.jpg"><br>點進去後往下滑，可以看到有個 <code>link to this channel</code> 的選項，這邊選擇一開始建立的那隻機器人，綁定之後就變它的形狀啦(?)<br><img src="https://i.imgur.com/ES4wcHn.png"><br>接著再往下會看到 Email 的狀態是 Unapplied，然後按下右邊的<code>Submit</code><br><img src="https://i.imgur.com/SHgQYsU.png"><br>會看到這樣子的一個框框，把兩個框框打勾並選擇一張圖片上傳，這部分就算是申請帳號下面的同意服務條款一樣，圖片就上傳自己希望當使用者到你頁面的時候想看到的圖片 🤣，送出之後就會看到狀態改成 <code>Applied</code> 了<br><img src="https://i.imgur.com/da7zYPg.jpg"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>很多時候實作對我們來說已經不是什麼問題了，重點是在找不到服務要怎麼去申請 😓，這篇也算是記錄一下申請的步驟細節，接下來會實作個簡單的認證頁面以及 API，打完收工嚕！</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LINE Login</tag>
      </tags>
  </entry>
  <entry>
    <title>Day22 - 最常用的搭配 - 使用 Login + Message API 讓使用者在掃描加入好友時就綁定帳號</title>
    <url>/2019/10/06/Day22-%E6%9C%80%E5%B8%B8%E7%94%A8%E7%9A%84%E6%90%AD%E9%85%8D-%E4%BD%BF%E7%94%A8-Login-Message-API-%E8%AE%93%E4%BD%BF%E7%94%A8%E8%80%85%E5%9C%A8%E6%8E%83%E6%8F%8F%E5%8A%A0%E5%85%A5%E5%A5%BD%E5%8F%8B%E6%99%82%E5%B0%B1%E7%B6%81%E5%AE%9A%E5%B8%B3%E8%99%9F/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在第 Day 13 Python SDK 試玩的時候使用過 get_profile，當時使用時就是在每次訊息來的時候才去 SQL 儲存使用者資訊，若只是單純想要使用者資訊的話這樣用好像有點多餘 😓，以下就帶各位簡單的實作。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>我們要將上篇的前端頁面(line_login_auth.html)改造一下</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>LINE Login<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">      url: <span class="string">&quot;https://YOUR_SLS_DOMAIN.us-east-1.amazonaws.com/dev/line/auth&quot;</span>,</span></span><br><span class="line"><span class="javascript">      method: <span class="string">&quot;POST&quot;</span>,</span></span><br><span class="line"><span class="javascript">      success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.location.replace(data.result);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>這邊我將 button 的 onclick 事件以及 button 本身移除掉，目的是要讓使用者一到這個頁面之後就直接透過 AJAX call api</p>
<p>到了這裡應該有感應到什麼了吧！接著就是把這個 html 檔的 S3 路徑網址使用 QR code 包起來，讓他看起來像是 LINE bot 的 QR code</p>
<p>到了這邊基本上已經快完成了，參考 LINE 的<a href="https://developers.line.biz/en/docs/messaging-api/using-line-url-scheme/?fbclid=IwAR25G73QmKIGm1l7kPNFzDIpMwBKQRQVxPP8ZpPzp3p-FSES2fnWcVCue_c">好友說明</a>或下圖<br><img src="https://i.imgur.com/fEEzOsy.png"></p>
<p>接著到機器人的開發者頁面，並且往下滑會看到自己機器人的 QR code 以及 Bot 的 ID，把他複製下來並製作機器人的加好友網址<br><img src="https://i.imgur.com/Mn3RG26.png"></p>
<p>像是這樣子</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">https:<span class="regexp">//</span>line.me<span class="regexp">/R/</span>@<span class="number">1234</span></span><br></pre></td></tr></table></figure>

<p>接著到 <code>controller/line_login_controller.py</code>的<code>def get(self)</code>最後一行，原本我們這邊做的是回傳 JSON</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> dt:</span><br><span class="line">			<span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: dt&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>改用</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">if</span> dt:</span><br><span class="line"> 		<span class="keyword">return</span> redirect(<span class="string">&quot;https://line.me/R/ti/p//@127ojvgz&quot;</span>, code=<span class="number">302</span>)</span><br></pre></td></tr></table></figure>

<p>如此一來在登入驗證完之後就會把使用者導向到加好友的頁面，在手機上若已經加過好友則會直接導到機器人對話窗上，如此一來就可以讓使用者在加入好友的同時也綁定完帳號，在未來使用的時候 api 這邊也比較好控管使用者的權限問題。</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>像是我自己做的健身記錄機器人，就是以這個方法下去實作，有聽過一些朋友跟我反應這樣的方法多此一舉，但我認為若是有網頁的話也是套用 LINE SSO 來實作，就可以讓兩個入口去統一，在狀態流上就能比較好控制了。<br><img src="https://i.imgur.com/8fKlsAt.jpg"></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>chatbot</tag>
        <tag>Message api</tag>
        <tag>LINE Login</tag>
      </tags>
  </entry>
  <entry>
    <title>Day24 - 簡單使用 LINE LIFF API</title>
    <url>/2019/10/08/Day24-%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8-LINE-LIFF-API/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>以下就為大家帶來簡單的實作以及如何去使用它。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>在<code>views/</code>下新增一個<code>liff_test.html</code>並加入以下內容</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    &lt;meta</span><br><span class="line">      name=&quot;viewport&quot;</span><br><span class="line">      content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://d.line-scdn.net/liff/1.0/sdk.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">initializeApp</span>(<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#userid&quot;</span>).val(data.context.userId);</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        liff.init(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span></span><br><span class="line">          initializeApp(data);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#ButtonGetProfile&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          liff.getProfile().then(<span class="function"><span class="params">profile</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#UserInfo&quot;</span>).val(profile.displayName);</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;done&quot;</span>);</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#ButtonSendMsg&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">          liff</span><br><span class="line">            .sendMessages([</span><br><span class="line">              &#123;</span><br><span class="line"><span class="javascript">                type: <span class="string">&quot;text&quot;</span>,</span></span><br><span class="line"><span class="javascript">                text: $(<span class="string">&quot;#msg&quot;</span>).val()</span></span><br><span class="line">              &#125;</span><br><span class="line">            ])</span><br><span class="line"><span class="javascript">            .then(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">              alert(<span class="string">&quot;done&quot;</span>);</span></span><br><span class="line"><span class="javascript">              liff.closeWindow(); <span class="comment">// 關掉頁面</span></span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;liff_btn&quot;</span>&gt;</span>Get user profile<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>user id:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userid&quot;</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ButtonGetProfile&quot;</span>&gt;</span>Get Profile<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;UserInfo&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>要傳送的訊息:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">value</span>=<span class="string">&quot;測試&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ButtonSendMsg&quot;</span>&gt;</span>要傳送的訊息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>以上參考來自<a href="http://studyhost.blogspot.com/2018/06/linebot23-line-liff-app.html">董老師的部落格</a></p>
</blockquote>
<blockquote>
<p>詳細的 LIFF API 文件可以<a href="https://developers.line.biz/en/reference/liff/">參考</a></p>
</blockquote>
<p>接下來按著之前做過的一樣把這個檔案送到<code>S3</code>裡，接著它的網址複製起來<br><img src="https://i.imgur.com/wgVJ9js.png"></p>
<p>接著來去之前建立機器人的開發者頁面裡按下最右邊的<code>LIFF</code><br><img src="https://i.imgur.com/B593Hdt.png"><br>按下去之後呢，再來按下<code>add</code><br><img src="https://i.imgur.com/5dNr9G7.png"><br>跑出這個頁面後，<code>Name</code>好辨認為主、<code>Size</code>選擇滿版(Full)、<code>Endpoint URL</code>就把剛剛複製起來的 S3 網址放進去後按<code>Confirm</code><br><img src="https://i.imgur.com/NQD9Mwv.png"><br>大概內容會長得像這樣<br><img src="https://i.imgur.com/WoTYxpv.png"><br>建立成功後往下滑會看到 LINE 給你一個屬於他們的網址，接著可以把它貼到你的機器人上(或者任何聊天室)<br><img src="https://i.imgur.com/wN69WDJ.png"><br>點下去之後就會看到來自 LIFF 的 Webview 囉！<br><img src="https://i.imgur.com/aYztzUi.jpg"><br>接下來就可以開始玩裡面的功能了 🤣</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>LIFF 整合的功能讓開發者在 Bot 裡不好實現的功能透過 Webview 的方式讓使用者可以到頁面上做邏輯處理，透過兩種的結合讓整體的應用就有更多的變化，這邊若要給使用者個話就把 <code>line://xxxoxx</code> 製作成 flex message 或者乾脆傳給使用者，引導他點選，如此就能讓使用者到自己設計的頁面上了。</p>
<p>這邊額外補充一點，有看到程式碼裡面可以拉到<code>Query string</code>嗎？事實上可以透過<code>Query string</code>讓使用者帶些參數來做更多的判斷，像是卡米哥做的<a href="https://github.com/etrex/kamiliff">Kamiliff</a>就是讓使用者在點選後判斷這個 LIFF 的 Size，在導去對應的路由去做處理，這樣子使用者在建立 LIFF 的時候就不用一個頁面弄一個，否則這樣在 dev 轉 prod 的時候應該會弄到很生氣 🤣。</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
        <tag>webview</tag>
      </tags>
  </entry>
  <entry>
    <title>Day25 - Lambda 好像有時候一開始回應很久？用 warm-up 來熱機吧</title>
    <url>/2019/10/09/Day25-Lambda-%E5%A5%BD%E5%83%8F%E6%9C%89%E6%99%82%E5%80%99%E4%B8%80%E9%96%8B%E5%A7%8B%E5%9B%9E%E6%87%89%E5%BE%88%E4%B9%85%EF%BC%9F%E7%94%A8-warm-up-%E4%BE%86%E7%86%B1%E6%A9%9F%E5%90%A7/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本篇會介紹 npm 套件庫裡的 <a href="https://www.npmjs.com/package/serverless-plugin-warmup">Serverless-plugin-warmup</a>，裡面介紹了很多參數可以使用，以下會簡介如何引入它。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>透過<code>npm</code>來安裝套件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save-dev serverless-plugin-warmup</span><br></pre></td></tr></table></figure>

<p>在<code>serverless.yml</code>的<code>plugin</code>加入套件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-plugin-warmup</span></span><br></pre></td></tr></table></figure>

<p>在<code>custom</code>加入<code>warm up</code>的設定參數</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom:</span></span><br><span class="line">  <span class="attr">warmup:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">cleanFolder:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">memorySize:</span> <span class="number">128</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;LINE-warmup-pop&quot;</span></span><br><span class="line">    <span class="attr">events:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">schedule:</span> <span class="string">&quot;cron(0/5 0-12 ? * MON-FRI *)&quot;</span></span><br><span class="line">    <span class="attr">timeout:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p><code>.gitignore</code>加入以下兩個<code>_warmup/</code>以及<code>.requirements.zip</code>，他在部署前建立一個<code>_warp</code>的資料夾並放一個 Lambda 來打已建立的 api 以及 Lambda 們，部署後會建立<code>.requirements.zip</code>，所以這邊就加入這兩行來防止被 git 推上去。</p>
<blockquote>
<p>或許會有疑問不是<code>cleanFolder</code>設定 true 就可以，這邊我自己實測時在部署會因為 Size 過大而無法上傳，把這參數設定掉他才會乖乖的上傳成功，但這部分有待驗證。</p>
</blockquote>
<h2 id="加入-decorator"><a href="#加入-decorator" class="headerlink" title="加入 decorator"></a>加入 decorator</h2><p>這邊我在<code>lib/</code>下新增一個<code>decorator.py</code>，加入以下的 code</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="keyword">from</span> logging <span class="keyword">import</span> Logger</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lambda_warm_up</span>(<span class="params">func</span>):</span></span><br><span class="line"><span class="meta">    @wraps(<span class="params">func</span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        source = args[<span class="number">0</span>].get(<span class="string">&#x27;source&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> (source == <span class="string">&#x27;serverless-plugin-warmup&#x27;</span>):</span><br><span class="line">            Logger.info(<span class="string">&#x27;WarmUp - Lambda is warm!&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">        <span class="keyword">return</span> func(*args, **kwargs)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>

<p>主要功能是透過 python decorator 的特性讓我們在 function 之前用個前綴符號就可以引用它，很像 po 文在 tag 別人一樣 🤣<br>warm-up 建立的 Lambda 會固定對其他的 Lambda 打<code>serverless-plugin-warmup</code>的字串，這邊就寫個判斷式判斷掉後直接 return</p>
<p>你以為這樣就結束了？還有 IAM role 的問題呢，詳細問題已不可考，想試看看的可以把 IAM 拔掉再部署一次，問題就會出現了，以下為設定檔：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">iamRoleStatements:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Effect:</span> <span class="string">&quot;Allow&quot;</span></span><br><span class="line">    <span class="attr">Action:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;lambda:InvokeFunction&quot;</span></span><br><span class="line">    <span class="attr">Resource:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">Fn::Join:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">&quot;:&quot;</span></span><br><span class="line">          <span class="bullet">-</span> <span class="bullet">-</span> <span class="string">arn:aws:lambda</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">Ref:</span> <span class="string">AWS::Region</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">Ref:</span> <span class="string">AWS::AccountId</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">function:*</span></span><br></pre></td></tr></table></figure>

<p>如果你的目錄結構跟我一樣，或是跟到今天的實作，加入以下的 code，這邊主要是告訴你的 Lambda 要在每次的 warm-up 字串來的時候呼叫這個 decorator 來幫忙處理一下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> lib.decorator <span class="keyword">import</span> lambda_warm_up</span><br><span class="line"></span><br><span class="line"><span class="meta">@lambda_warm_up</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xxx</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>我的 Lambda 都加了，那原本的 flask 建立的 api 我要加在哪？</p>
<p>看看這個<a href="https://github.com/logandk/serverless-wsgi/blob/3a2d1312370a4f4351be60f5fbe838124db1916a/serverless_wsgi.py#L87">網址</a>，serverless-wsgi 在實作的時候已經有考慮到這件事了，所以 api 這邊就不用管他，他自己會去把它處理掉！<br><img src="https://i.imgur.com/skMkdmg.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>Warm-up 的機制就是透過建立一個 Lambda 來打一個 flag 到其他 Lambda 來他們別進入睡眠模式，但總是會有人考慮費用的問題，可以參考下圖，若是你建立了一個簡單的服務然後上線了，AWS 給你了一百萬個請求的量，我覺得一個月的請求可以到 100 萬應該是服務有點規模的情況，一個月能到這個量相信你也有一定的能力養它 🤣，爾後每一百萬個請求才六塊台幣，可能比 GCP 還貴，但其實以我來說這樣已經很夠用，而且還扛得住<br><img src="https://i.imgur.com/LCJh98n.png"></p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://github.com/logandk/serverless-wsgi/blob/3a2d1312370a4f4351be60f5fbe838124db1916a/serverless_wsgi.py#L87">serverless-wsgi Warm-up code</a><br><a href="https://www.npmjs.com/package/serverless-plugin-warmup">Serverless-plugin-warmup</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>Lambda</tag>
        <tag>warm-up</tag>
      </tags>
  </entry>
  <entry>
    <title>Day26 - Use CDN (1) - 建立 Certificate 與 Domain</title>
    <url>/2019/10/10/Day26-Use-CDN-1-%E5%BB%BA%E7%AB%8B-Certificate-%E8%88%87-Domain/</url>
    <content><![CDATA[<h2 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h2><p>繼上一篇 warm-up 機制之後來了解一下如何使用 AWS 的 CDN 服務 - cloudfont，CDN 顧名思義就是要讓使用者可以到最接近的主機上去拉到對應的資料，透過撒點的方式讓主機去挑選離自己近的服務據點，藉此加速服務。</p>
<p>像我之前部署在 ohio，想想光網路的時間 + Cold start 的時間就已經去了一大半，即便我們有熱開機，服務沒有 Timeout 我該慶幸了，既然如此就不得不認識一下 CDN 服務，而 AWS 的 CDN 服務就是 cloudfont 啦！</p>
<p>只是說原本的 domain 已經有 SSL 了，但是代理沒有這個東西，所以我們要 ban 出一個 Certificate，那在在建立 cloudfont 以前需要先到 Certificate Manager，接著會用圖片帶大家一步一步做</p>
<p><img src="https://i.imgur.com/vLLfKyr.png"></p>
<h2 id="開始之前"><a href="#開始之前" class="headerlink" title="開始之前"></a>開始之前</h2><p>我已經有先在 Route53 註冊了一個 <code>nijialin.com</code> 的 domain，<code>.com</code>大概 10 美金左右，若是有在其他地方註冊域名的話要找一下相關文章把它導進 Route53 哦！</p>
<h2 id="註冊-Certificate"><a href="#註冊-Certificate" class="headerlink" title="註冊 Certificate"></a>註冊 Certificate</h2><ul>
<li>先來到 Certificate Manager 頁面，按下左下角的這個</li>
</ul>
<p><img src="https://i.imgur.com/WVk2YFJ.png"></p>
<ul>
<li>接著就直接按右下角啦，但是要確定是不是 public</li>
</ul>
<p><img src="https://i.imgur.com/sNxd3LG.png"></p>
<ul>
<li>這裡輸入你在 route53 註冊的 domain，這邊我是輸入 *.nijialin.com</li>
</ul>
<p><img src="https://i.imgur.com/FXnknbj.png"></p>
<ul>
<li>到第四部之後就會看到申請的 SSL Pending</li>
</ul>
<p><img src="https://i.imgur.com/WlY5PCf.png"></p>
<ul>
<li>最後回首頁之後就會看到 SSL 簽證正在送簽中<br><img src="https://i.imgur.com/kRRtvJ5.png"></li>
</ul>
<p>最後就等他完成嚕！將將<br><img src="https://i.imgur.com/495PjEw.png"><br>接著我們到 API Gateway 找到左邊的 <code>Custom Domain Name</code>，我們要來建立屬於這個 API 的 Domain 了<br><img src="https://i.imgur.com/BzkvgUR.png"><br>按下藍色的按鈕之後，輸入<code>Domain name</code>以及選擇剛剛註冊的 Certificate 後按下 <code>Save</code><br><img src="https://i.imgur.com/xwBEC5O.png"><br>他就會開始初始化剛剛的設定，這邊大概需要等 15 分鐘左右<br><img src="https://i.imgur.com/dLMaXrx.png"><br>在此同時我們就去新增專案裡的套件 <a href="https://www.npmjs.com/package/serverless-domain-manager">Domain-Manager</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install serverless-domain-manager --save-dev</span><br></pre></td></tr></table></figure>

<p>並且在<code>plugin</code>下加入套件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-domain-manager</span></span><br></pre></td></tr></table></figure>

<p>在<code>custom</code>底下加入</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom:</span></span><br><span class="line">  <span class="attr">domainName:</span></span><br><span class="line">    <span class="attr">default:</span></span><br><span class="line">      <span class="attr">domainName:</span> <span class="string">line.nijialin.com</span></span><br><span class="line">      <span class="attr">certificateName:</span> <span class="string">&quot;*.nijialin.com&quot;</span></span><br><span class="line">      <span class="attr">createRoute53Record:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">endpointType:</span> <span class="string">edge</span></span><br></pre></td></tr></table></figure>

<p>等待前面初始化成功之後部署這個專案<code>sls deploy</code>之後就會看到剛剛註冊的域名啟動囉！<br><img src="https://i.imgur.com/Pn2TyMD.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>在建立 Certificate 那邊倒沒什麼問題，畢竟需要一個 SSL，只是到了建立 domain 這邊遇到了很怪的問題，一般來說使用 serverless 框架來跑的話只要照的文件裡說的 <code>serverless create_domain</code>就會幫忙註冊，而且可以依照自己開發環境去自動設定，在公司的專案中這樣使用是沒問題的，在是在寫這篇文章時卻只能使用以上的方法來替代使用，雖然結果是一樣的，但是用起來實在是很不符合邏輯，google 也沒找到類似的問題，或許這個問題還要多實測幾次才夠…😭</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>CDN</tag>
        <tag>Route 53</tag>
        <tag>Certificate Manager</tag>
      </tags>
  </entry>
  <entry>
    <title>Day29 - LINE API 的使用心得</title>
    <url>/2019/10/13/Day29-LINE-API-%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/</url>
    <content><![CDATA[<ul>
<li><p>Imagemap</p>
<ul>
<li>這邊以微股力為範例，這隻機器人會再回應的時候輸出一張圖片讓使用者看到股票的曲線圖，然後圖片下方做三個類似按鈕的圖片在上面，再藉由設定觸發訊息在座標上，當使用者按到的時候就很像再按按鈕，更多使用方法或是 UX 上的問題可以參考 <a href="https://www.facebook.com/uxerlab/">UX 三刀流</a>。<br><img src="https://i.imgur.com/A0yDTJm.png"></li>
</ul>
</li>
<li><p>Richmenu</p>
<ul>
<li>Richmenu 等於把 imagemap 活生生的塞在下面，讓使用者再進聊天室時就能馬上看到圖片並按下對應的區塊而不用再輸入指令把 Imagemap 叫出來，如此就少了個步驟了，並讓開發者可以有更多的發揮空間呢！</li>
</ul>
</li>
<li><p>設計工具</p>
<ul>
<li><a href="https://developers.line.biz/en/services/bot-designer/">Bot designer</a><br>這個工具是桌面版，可以直接抓下來在本地端直接設計，<br><img src="https://i.imgur.com/dDMSCXu.png"><br><img src="https://i.imgur.com/c2pYpFx.png"></li>
<li><a href="https://developers.line.biz/console/fx-beta/">FLEX MESSAGE SIMULATOR [β]</a><br>它有提供<a href="https://developers.line.biz/console/fx-beta/">線上工具</a>讓大家可以在線上直接測試樣板或是直接刻自己想要的樣板。<ul>
<li>使用心得：因為寫 Rails 基本上就是在寫全端了，難免會碰到 CSS，身為一個後端工程師排版，一定要用 flex 這個超級毒品(\吸起來&#x2F;)，接著過了一段時間後接觸到 LINE bot，且 flex message 也是基於 <a href="https://www.w3.org/TR/css-flexbox-1/">Flexbox</a> 的規格去實作的，所以很多排版上觀念都很像，也就不太會有障礙了 😁。<br>且在排版上還有表格告知你什麼 component 要在什麼區塊內才能用，多佛心啊～<br><img src="https://i.imgur.com/Fowpoyb.png"><br><img src="https://i.imgur.com/zELPSA0.png"></li>
</ul>
</li>
</ul>
</li>
<li><p>API 文件</p>
<ul>
<li>在最近幾個月的時候 LINE 的文件有改版，讓某些 API 可以在線上就能測了，看起來是滿讚的，若在逛文件時碰巧想測試這些功能的話可以直接把相關參數放進去，在某些時候也是滿方便的。<br><img src="https://i.imgur.com/CuFdmcH.png"></li>
</ul>
</li>
<li><p>LIFF (LINE Front-end Framework)</p>
<ul>
<li>個人覺得他讓 Bot 的發揮功力又更上一層樓了，以前很多開發者都會覺得在與機器人對談中會有很多東西是不好做的，像是購物車的流程，若使用者在流程中按了上面的按鈕的話可能會發生無法預期的錯誤，且得用其他的服務去儲存操作狀態，在開發上就很麻煩，那 LIFF 就讓這個流程可以簡單許多，且能透過 SDK 在網頁上取得使用者的資訊，讓網站再被使用的同時還可以確認身份。</li>
</ul>
</li>
<li><p>推播 500 則</p>
<ul>
<li>在今年 OAuth 2.0 釋出當中推播則數也跟改動了，改成 500 則後其實看到不少的使用者在跳腳怎麼改成這樣，或是另類的變貴收費，只能說 LINE 也是要找方法收點費用呀，不然很多功能爽爽用他們也沒有地方去收費，這部分因為我也是少用，推播功能就都交給 <code>LINE Notify</code> 嚕！</li>
</ul>
</li>
<li><p>客服與機器人的切換</p>
<ul>
<li>參考 C.T Lin 大大的文章 <a href="https://ithelp.ithome.com.tw/articles/10220717">Day10</a>，簡單來說 Messager 可以在機器人處理不來的時候將訊息轉丟給設定的那位管理員，讓他來回覆訊息，但 LINE 在機器人上只能透過網頁去切換機器人狀態，抑或是自己設計流程讓機器人在無法處理才通知管理員，這樣的話管理員很容易錯過黃金的第一時間，可能也會因此造成使用者的不便。</li>
</ul>
</li>
<li><p>個人的 mur mur 🤣</p>
<ul>
<li>文件實在是太瀑布式了，雖然現在都懂的如何搜尋到相對應的功能，但若一般想開發的使用者在看到這個文件時瘋狂往下滑，結果發現還沒有滑到或是滑過頭，倒是找資料時氣得要死 😓，所以若是文件能夠分個頁籤什麼就更好了～</li>
</ul>
</li>
</ul>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>當然整體來說還是很喜歡使用 LINE 這個平台(絕對不是因為熊大 🐻)，東西也不會像一開始在開發時什麼都找不太到，並且功能一直 release，讓服務可以透過不同的整合方法去達成目標，接下來 LINE 應該還會再繼續釋出不同的東西，就請大家拭目以待，或者…來參加<a href="https://www.facebook.com/groups/chatbot.tw"> chatbot 小聚</a>直接問問 LINE 的傳教士如何呢 😁</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>chatbot</tag>
        <tag>richmenu</tag>
      </tags>
  </entry>
  <entry>
    <title>Day27 - Use CDN (2) - CloudFront</title>
    <url>/2019/10/11/Day27-Use-CDN-2-CloudFront/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>不管是建立虛擬機(EC2)，又或是像我們建立 Serverless 的服務(Lambda)，總會挑選離自己家近的節點(東京)，又或者可能因為價錢的關係選擇相對便宜的地點，但不管機器在哪，對於在台灣的我們來說都是一樣跨海啊！但好險台灣擁有 CloudFront 的節點，透過快取讓使用者可以更快的取得服務器上的資源，可能第一次都會比較慢，但只要讓 CloudFront 看過一次就會幫忙快取起來，下次使用者在用的時候就不會那麼慢囉！</p>
<h2 id="建立-CDN"><a href="#建立-CDN" class="headerlink" title="建立 CDN"></a>建立 CDN</h2><p>首先我們先進去 CloudFront 的頁面，按下左欄的<code>Distribution</code>後並 <code>Create</code>的藍色按鈕<br><img src="https://i.imgur.com/WQ5o8rl.png"><br>因為我們是做 Web API 相關的，這邊當然就是選 Web 囉！<br><img src="https://i.imgur.com/htzGaGA.png"><br>到了這邊，AWS 很有心的在這些輸入框大多都有下拉式選單，這邊就選建立完的那個專案名稱<br><img src="https://i.imgur.com/ntJu1Cm.jpg"><br>選完之後下面三個就照著這樣點選，Comment 會幫你自動填入<br><img src="https://i.imgur.com/XkbNkfz.png"><br>CNAMEs 的部分這邊我填入我在 <code>serverless.yml</code>裡 create_domain 所設定的 <code>line.nijia.lin</code> 字串，SSL 就選擇上一篇所建立的 Certificate<br><img src="https://i.imgur.com/SdnaZhe.png"><br>建立完成之後就會看到他 <code>In progress</code>，CloudFront 就開始撒點告訴其他節點有建立這個名為 <code>line.nijia.lin</code>，有看到他的時候記得幫他做個 Cache<br><img src="https://i.imgur.com/RibhSWw.png"><br>等個大概 15 分鐘後他就部署完成啦～<br><img src="https://i.imgur.com/kHYSETU.png"><br>點進來可以確認自己剛剛設定的資訊對不對，若有設定錯誤在按 Edit 來修正<br><img src="https://i.imgur.com/HdCn9ue.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>現在每個服務都很流行 CDN，若有在寫前端的朋友常常就會用到 jQuery、Bootstrap、Vue 等等可以再標頭檔就引入的 CDN 路徑，CDN 不僅加速我們平常在抓伺服器資料的速度，也便利了我們有時候需要寫一些簡單的靜態頁面時可以透過抓取 CDN 路徑來快速取得需要的資源，但是像是 AWS 他們都是收取流量費，用得很爽時別忘了看一下自己的帳單是不是在哀嚎 🤣</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>CDN</tag>
        <tag>CloudFront</tag>
      </tags>
  </entry>
  <entry>
    <title>Day3 - LINE Notify 介紹</title>
    <url>/2019/09/18/Day3-LINE-Notify-%E4%BB%8B%E7%B4%B9/</url>
    <content><![CDATA[<p>LINE Notify 顧名思義就是通知屬性的服務，這個服務不是 LINE 的 Message API，千外別把這兩個搞在一起哦！</p>
<p>在實作前要先認識一下在接的 api 服務原理<br>首先先參考<a href="https://notify-bot.line.me/doc/en/">LINE Notify 官網</a><br>開頭的介紹：</p>
<blockquote>
<p>Overview: Becomes a provider based on OAuth2 (<a href="https://tools.ietf.org/html/rfc6749">https://tools.ietf.org/html/rfc6749</a>). The authentication method is authorization_code. The access token acquired here can only be used for notification services</p>
</blockquote>
<p>不負責任翻譯: 這個服務是基於 OAuth2 實作的，授權模式(grant_type)是 authorization_code <a href="https://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html">參考</a><br>access_token 則是只能讓通知服務所使用的一個鑰匙</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">更詳細的流程可以參考 https:<span class="regexp">//</span>blog.yorkxin.org<span class="regexp">/2013/</span><span class="number">09</span><span class="regexp">/30/</span>oauth2-<span class="number">4</span>-<span class="number">1</span>-auth-code-grant-flow.html</span><br></pre></td></tr></table></figure>

<blockquote>
<p>The host name for authentication API endpoint is notify-bot.line.me.</p>
</blockquote>
<p>然後 API 的網址是 <code>notify-bot.line.me</code></p>
<p>接著我們來看看流程圖<br><img src="https://i.imgur.com/kmt0zrV.png" alt="https://notify-bot.line.me/doc/en/"></p>
<ul>
<li>當使用者拜訪你的網站時，會導向 LINE 請求認證</li>
<li>認證過了之後會回傳一個名為 code 的參數</li>
<li>接著網站需要持這個 code 在去找 LINE 討東西</li>
<li>討成功後就會拿到一個 access_token</li>
<li>網站就會知道這個 access_token &#x3D; 來註冊的使用者</li>
<li>然後就可以透過 access_token 發送通知給使用者了?</li>
</ul>
<h1 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h1><p>首先就是要先加入他好友，如果之前有不小心<strong>封鎖</strong>的話要記得解除封鎖哦，不然後續會收不到消息。<br><img src="https://ithelp.ithome.com.tw/upload/images/20190903/20111481Zno98NSHwL.png" alt="https://ithelp.ithome.com.tw/upload/images/20190903/20111481Zno98NSHwL.png"></p>
<p>下一篇會帶著時做出簡單的 index.html + 使用 Serverless 蓋我們第一個 API 來做認證。<br>會使用到 LINE Notify 的 API 為以下三個，不清楚裡面實際上功能的朋友可以嗑一下<a href="https://notify-bot.line.me/doc/en/">官網文件</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">GET https: <span class="comment">//notify-bot.line.me/oauth/authorize -&gt; 前往認證拿到 code 參數</span></span><br><span class="line">POST https:<span class="comment">//notify-bot.line.me/oauth/token -&gt; 拿 code 參數換 access_token</span></span><br><span class="line">POST https:<span class="comment">//notify-api.line.me/api/notify -&gt; 發送訊息</span></span><br></pre></td></tr></table></figure>

<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>今年中有帶著朝陽的學弟妹手把手實作 LINE Notify，如果只想自己用的話可以參考我之前<a href="https://www.slideshare.net/JiaYuLin6/step-by-step-to-use-line-notify-20190527">簡報</a></p>
<p><a href="https://notify-bot.line.me/zh_TW/">LINE Notify</a><br><a href="https://www.evanlin.com/go-line-notify/">如何快速建置一個 LINE Notify 的服務</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Notify</tag>
      </tags>
  </entry>
  <entry>
    <title>Day30 - 老是在吹 Serverless，他真的有那麼好？</title>
    <url>/2019/10/14/Day30-%E8%80%81%E6%98%AF%E5%9C%A8%E5%90%B9-Serverless%EF%BC%8C%E4%BB%96%E7%9C%9F%E7%9A%84%E6%9C%89%E9%82%A3%E9%BA%BC%E5%A5%BD%EF%BC%9F/</url>
    <content><![CDATA[<h2 id="Cold-start"><a href="#Cold-start" class="headerlink" title="Cold start"></a>Cold start</h2><p>其實個家園端平台多少都會有這問題，畢竟大家都是靠流量賺錢，自然會需要個方法限制使用者，不然免費爽爽用他們也不是做慈善的 🤣，像我最常用的 <code>Heroku</code>，只要 30 分鐘沒有使用他就會進入睡眠時間(<a href="https://devcenter.heroku.com/articles/free-dyno-hours">參考</a>)，叫醒的時間需要 10~15 秒，不過對於我這個免費宅來說測試夠用了 🤣</p>
<p><code>AWS</code>以我實際測試起來大概 2 秒左右，回應時間看起來不會太差，其實<a href="https://ithelp.ithome.com.tw/articles/10213431">第一天</a>就有提到這部分，需要的話可以參考。</p>
<p>若是需要它隨時都在都活著的話就要搭配 <a href="https://ithelp.ithome.com.tw/articles/10226742">warm-up</a>，抑或是搭配 crontab 去設定特定時間執行 warm-up。</p>
<h2 id="Function-as-a-Service"><a href="#Function-as-a-Service" class="headerlink" title="Function as a Service"></a>Function as a Service</h2><p>在快速成長的前、中期是很適合這個服務的， 畢竟開發者只要將 <code>serverless.yml</code> 基本設定完之後就可以先好好開發，等到中期之後把設定檔稍微整理一下又是一尾活龍了，且平台大多都擁有 <a href="https://aws.amazon.com/tw/autoscaling/">auto-scaling</a> 的功能，在服務快扛不住流量的時候只要錢拿出來平台就幫你解決。</p>
<p>只是說當流量越來越大之後相對錢也會越付越多，或許當流量 &gt; 10K 之後代表你的服務應該也有不少人使用了，自己架主機應該不會是什麼難事(?)</p>
<blockquote>
<p>幫忙推廣一下 Backend 大大的 <a href="https://github.com/TritonHo/slides/blob/master/Taipei%202019-10%20talk/concurrency.pdf?fbclid=IwAR3R67wIt5fXPjG3hZNHaVw3tuCVrpNJtIdecTTIiQz0dgT-bZwymIYLYiA">高流量心得雜談</a></p>
</blockquote>
<p>在 FaaS 架構下其實很適合 Chatbot 的服務，以概念來說實作時只需要一個路由**(Function)**即個完成，不需要額外太多的資源去處理 web server 的問題，像是這個系列的只要透過 <code>serverless</code> + <code>WSGI</code> 就可以馬上就可以進行本地測試，部署只要下 <code>sls deploy</code>，實在是超級快又輕鬆，不用像以前一樣還要去處理 Nginx 等等相關的問題 😁。</p>
<p>且 AWS、Google 在使用 python 跟 nodejs 上支援度很高，也不用怕找不到資源使用。</p>
<blockquote>
<p>使用 Node JS 的朋友可以參考 C.T Lin 大大的<a href="https://ithelp.ithome.com.tw/users/20103630/ironman/2798">文章</a>，他們家的 bottender 超猛的！</p>
</blockquote>
<h2 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h2><p>在 Log 這部分我覺得 AWS 有點不太好的地方就是他們的 Cloud Watch 應該是獨立服務，當我的 Lambda 輸出紀錄時大概要過 10 秒才會印出來，不像以前自己架主機時只要進 server 就可以馬上切到目錄看紀錄抓蟲，在使用這雲端服務可能在抓蟲有一半的時間都在等 log 出來，有時候急的時候還真的會被氣死 😭。</p>
<h2 id="SNS"><a href="#SNS" class="headerlink" title="SNS"></a>SNS</h2><p>像是我前一陣子發的<a href="https://medium.com/@nijia.lin/use-serverless-corn-to-execute-sns-getendpointattributes-returns-old-data-after-e7df7c09b45b">一篇文章</a>，SNS 被觸發事件之後回來的東西是舊的，那時候看到錯誤訊息真的是心很涼，就得用一個 Lambda 排程一直去抓 DB 的 updated_at 欄位有沒有變更時間而去更新狀態，這樣情況就會多浪費一個 Function 去處理這樣的事件，不得不說專門來支援 AWS 服務的 boto3 套件(python)在某些時候做的事不是那麼完善，得使用旁門做到的方法去完成這件事，讓整個開發體驗不是那麼好，若他們可以把一些 error handle 弄更好那就完美了。</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><blockquote>
<p><del>其實還有好多服務沒有玩到</del></p>
</blockquote>
<p>但其實使用 AWS 來實作 Serverless 的服務也是這一陣子加入新公司所學到的新技能，過程中總是會用舊的開發思維去想，但常常都因為這樣落坑 😓，但也因此讓我更了解像 AWS 這類的雲服務他們是如何開發每個服務並如何串接，同時也研究了 Serverless 相關的 plugins，看他們是如何支援雲平台讓開發者在開發時可以更像平常時在開發 web，也因為這樣我去貢獻了 example 到了 Serverless 的範例專案上面(<a href="https://github.com/serverless/examples/pulls?q=is:pr+author:louis70109+is:closed">參考</a>)，慶祝完成人生第一場鐵三十，跟自己的競賽也告一段落，發現趕著寫文章品質真的會差很多，看來是時候該整理一下，謝謝您的收看 &lt;(_ _)&gt;</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>AWS</tag>
      </tags>
  </entry>
  <entry>
    <title>Day4 - 認識與使用 S3 容器</title>
    <url>/2019/09/19/Day4-%E8%AA%8D%E8%AD%98%E8%88%87%E4%BD%BF%E7%94%A8-S3-%E5%AE%B9%E5%99%A8/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Amazon Simple Storage Service(簡稱 AWS S3)是 AWS 的一個線上儲存服務，用戶能夠輕易把檔案儲存到網路伺服器上，可能有些朋友會把它當成雲端硬碟看待，但其實還能像是傳靜態檔案上去，若有寫前端框架的朋友通常都會需要把程式碼打包成靜態檔案再部署，然而這邊把他打包送上去後，S3 會給一個名為 Object Url 的網址，可以透過這個網址去執行網頁裡面的內容(如 AJAX、Axios…)，並可以透過 cloudfont 去弄成 CDN(扯遠了)，簡單說他還有很多不一樣的功能應用等著大家去用～</p>
<p>因為 serverless 只能放關於 API 的程式碼，因此我們需要把 html 靜態檔案放在 S3 裡，</p>
<p>接下來就來建立一個公開的 S3 容器，這邊就不會提到權限如何控管哦！</p>
<h2 id="建立一個公開的-S3-容器"><a href="#建立一個公開的-S3-容器" class="headerlink" title="建立一個公開的 S3 容器"></a>建立一個公開的 S3 容器</h2><p>建立一個名為<code>2019-it-30-bucket</code>的容器，地區就選與 Lambda 同樣的地區，直接按下左下角的<code>create</code>來建立。<br><img src="https://i.imgur.com/lfRsTDn.png"></p>
<p>建立完會像這樣<br><img src="https://i.imgur.com/SgPTxsQ.png"><br>接著點進去後在點到第三個選項會看到 Block of public access 是啟動的狀態，因為我們接下來需要讓我們的頁面可以外部使用<br><img src="https://i.imgur.com/M065zbI.png"><br>就把 check box 的按掉，在按下 <code>Save</code><br><img src="https://i.imgur.com/SjT0qY7.png"><br>要輸入<code>confirm</code>就修改完成嚕<br><img src="https://i.imgur.com/qxquZI1.png"><br>接著一樣點到第三個個選項，選到<code>Access Control List</code>，看到<code>Access for bucket owner</code>這個選項的<code>Canonical ID</code>，選項都全部打勾之後再來調整，這樣之後的 HTML 檔案外面就看得到了。<br><img src="https://i.imgur.com/uZfyrAQ.png"></p>
<h2 id="測試"><a href="#測試" class="headerlink" title="測試"></a>測試</h2><p>接著上傳一個<code>index.html</code>的檔案來測試</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;html&gt;</span></span><br><span class="line"><span class="section">&lt;h1&gt;</span><span class="attribute">Hello</span> world&lt;/h<span class="number">1</span>&gt;</span><br><span class="line"><span class="section">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure>

<p>上傳後下拉式選單選擇<code>public read</code>的選項，因為一個檔案在 S3 就算是一個 Object，所以一定要讓它能對外，然後按下左下的 Upload<br><img src="https://i.imgur.com/iO2R9aW.png"></p>
<p>成功後點進這個檔案，並按下方的<code>Object URL</code>，看到 Hello World 的話就代表成功囉，這時可以開個無痕測一次，確認一下沒有錯誤 😃<br><img src="https://i.imgur.com/m1jC1E2.png"></p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><p><a href="https://zh.wikipedia.org/wiki/Amazon_S3">AWS S3 wiki</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>Serverless</tag>
        <tag>S3</tag>
      </tags>
  </entry>
  <entry>
    <title>Day5 - 做一個與 LINE Notify 連動的服務</title>
    <url>/2019/09/20/Day5-%E5%81%9A%E4%B8%80%E5%80%8B%E8%88%87-LINE-Notify-%E9%80%A3%E5%8B%95%E7%9A%84%E6%9C%8D%E5%8B%99/</url>
    <content><![CDATA[<h2 id="建立-LINE-Notify-服務"><a href="#建立-LINE-Notify-服務" class="headerlink" title="建立 LINE Notify 服務"></a>建立 LINE Notify 服務</h2><p>第一步先到 <a href="https://notify-bot.line.me/zh_TW/">LINE Notify</a> 管力登入服務去建立一個服務<br><img src="https://i.imgur.com/he0csJI.png"><br>接著按下<code>登入服務</code><br><img src="https://i.imgur.com/iZmktaA.png"><br>把該填的填一填，要注意的是 Callback Url 這邊先暫時先打 localhost:5500，等頁面上傳後再回來改 domain<br><img src="https://i.imgur.com/5zzxTcj.png"></p>
<hr>
<p><img src="https://i.imgur.com/VfaWKEs.png"></p>
<p>建立完成之後就到剛剛填的信箱去收信點下網址並啟動服務<br><img src="https://i.imgur.com/jmZSycQ.png"><br>這樣第一步就建立完成嚕！</p>
<h2 id="動工"><a href="#動工" class="headerlink" title="動工"></a>動工</h2><p>接著上次的透過上次的專案並使用 flask_restful 來改造成 Restful 格式的專案(後面開發會比較輕鬆)<br>因為我們會讓前端呼叫，CORS 設定成＊比較輕鬆，若是有要設定跨域問題的在這邊設定哦 👏<br>加入套件到 requirements.txt</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">flask</span>==<span class="number">1</span>.<span class="number">0</span>.<span class="number">2</span></span><br><span class="line"><span class="attribute">Flask</span>-RESTful==<span class="number">0</span>.<span class="number">3</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">Flask</span>-Cors==<span class="number">3</span>.<span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">requests</span>==<span class="number">2</span>.<span class="number">22</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>透過使用 flask_restful 幫忙轉發並管理路由<br>將 api.py 改為以下的 code</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask_restful <span class="keyword">import</span> Api</span><br><span class="line"><span class="keyword">from</span> flask_cors <span class="keyword">import</span> CORS</span><br><span class="line"><span class="keyword">from</span> controller.notify_controller <span class="keyword">import</span> NotifyController</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">CORS(app, resources=&#123;<span class="string">r&quot;*&quot;</span>: &#123;<span class="string">&quot;origins&quot;</span>: <span class="string">&quot;*&quot;</span>, <span class="string">&quot;supports_credentials&quot;</span>: <span class="literal">True</span>&#125;&#125;)</span><br><span class="line">api = Api(app)</span><br><span class="line"></span><br><span class="line">api.add_resource(NotifyController, <span class="string">&#x27;/notify&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>這邊我使用 Postgresql，並在專案底下建立一個 lib&#x2F; 的資料夾，裡頭放著名為 db.py (這裡還是要記得建立 <strong>init</strong>.py 哦！)<br>這邊只簡單建立<a href="https://blog.gtwang.org/programming/python-with-context-manager-tutorial/"> Context Manager </a>讓連線可以被我呼叫。<br>db.py:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> psycopg2</span><br><span class="line"><span class="keyword">import</span> psycopg2.extras</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Database</span>():</span></span><br><span class="line">    conns = []</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">connect</span>(<span class="params">self</span>):</span></span><br><span class="line">        conn = psycopg2.connect(</span><br><span class="line">            database=PG_DB,</span><br><span class="line">            user=PG_USER,</span><br><span class="line">            password=PG_PWD,</span><br><span class="line">            host=PG_HOST,</span><br><span class="line">            port=PG_PORT</span><br><span class="line">        )</span><br><span class="line">        self.conns.append(conn)</span><br><span class="line">        <span class="keyword">return</span> conn</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span>(<span class="params">self, <span class="built_in">type</span>, value, traceback</span>):</span></span><br><span class="line">        <span class="keyword">for</span> conn <span class="keyword">in</span> self.conns:</span><br><span class="line">            conn.close()</span><br><span class="line">        self.conns.clear()</span><br></pre></td></tr></table></figure>

<p>新增一下資料夾名為 controller，建立 <strong>init</strong>.py &amp; notify_controller.py，這邊搭配 with 做資源管理器，<br>DB 部分則見黎一個 notify 表，然後一個 token 的欄位。</p>
<blockquote>
<p>在這個 class 類別下方法只要輸入 <code>def get/post/put/patch/delete</code> 的函式就可以對應 CRUD 的功能了！</p>
</blockquote>
<p>notify_controller.py code is:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask_restful <span class="keyword">import</span> Resource, reqparse</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> lib.db <span class="keyword">import</span> Database</span><br><span class="line"><span class="keyword">import</span> psycopg2.extras</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NotifyController</span>(<span class="params">Resource</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">        parser = reqparse.RequestParser()</span><br><span class="line">        parser.add_argument(<span class="string">&#x27;code&#x27;</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;code can not be blank!&#x27;</span>)</span><br><span class="line">        args = parser.parse_args()</span><br><span class="line">        code = args[<span class="string">&#x27;code&#x27;</span>]</span><br><span class="line">        client = &#123;<span class="string">&#x27;grant_type&#x27;</span>: <span class="string">&#x27;authorization_code&#x27;</span>, <span class="string">&#x27;code&#x27;</span>: code, <span class="string">&#x27;redirect_uri&#x27;</span>: <span class="string">&#x27;YOUR_REDIRECT_URI&#x27;</span>,</span><br><span class="line">                  <span class="string">&#x27;client_id&#x27;</span>: <span class="string">&#x27;YOUR_CLIENT_ID&#x27;</span>, <span class="string">&#x27;client_secret&#x27;</span>: <span class="string">&#x27;YOUR_CLIENT_SECRET&#x27;</span>&#125;</span><br><span class="line">        r = requests.post(</span><br><span class="line">            <span class="string">&#x27;https://notify-bot.line.me/oauth/token&#x27;</span>, data=client)</span><br><span class="line">        req = json.loads(r.text)</span><br><span class="line">        <span class="keyword">if</span> req[<span class="string">&#x27;status&#x27;</span>] == <span class="number">200</span>:</span><br><span class="line">            token = req[<span class="string">&#x27;access_token&#x27;</span>]</span><br><span class="line">            <span class="comment"># Here is use PostgreSQL, you can change your love db</span></span><br><span class="line">            <span class="keyword">with</span> Database() <span class="keyword">as</span> db:</span><br><span class="line">                <span class="keyword">with</span> db.connect() <span class="keyword">as</span> conn:</span><br><span class="line">                    <span class="keyword">with</span> conn.cursor(cursor_factory=psycopg2.extras.RealDictCursor) <span class="keyword">as</span> cur:</span><br><span class="line">                        cur.execute(</span><br><span class="line">                            <span class="string">f&quot;INSERT INTO notify(token) VALUES (&#x27;<span class="subst">&#123;token&#125;</span>&#x27;)&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="string">&#x27;access_token&#x27;</span>: req[<span class="string">&#x27;access_token&#x27;</span>]&#125;, <span class="number">200</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="string">&#x27;message&#x27;</span>: r.text&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>以下這三個要設定成你的當時輸入的字串</p>
<ul>
<li>YOUR_REDIRECT_URI</li>
<li>YOUR_CLIENT_ID</li>
<li>YOUR_CLIENT_SECRET</li>
</ul>
<blockquote>
<p>若不清楚 Client_id &amp; Client_secret 的話就回到 Notify 頁面並點選剛剛建立的服務就能看到 token 了</p>
</blockquote>
<p><img src="https://i.imgur.com/T0nJaGE.png"></p>
<p>建立一個 views&#x2F; 的資料夾，並建立兩個檔案</p>
<ul>
<li>notify_index.html<blockquote>
<p>這邊需要修改 <code>client_id</code> 以及 <code>redirect_uri</code><br>這個檔案主要功能是讓使用者有個可以按按鈕觸發的地方，當然這只是個範例，實際上線可能就會直接 call API 導向 LINE Notify 頁面等等</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;Link Notify&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;button onclick&#x3D;&quot;Auth();&quot;&gt;點選這裡連結到LineNotify&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      function Auth() &#123;</span><br><span class="line">        var URL &#x3D; &quot;https:&#x2F;&#x2F;notify-bot.line.me&#x2F;oauth&#x2F;authorize?&quot;;</span><br><span class="line">        URL +&#x3D; &quot;response_type&#x3D;code&quot;;</span><br><span class="line">        URL +&#x3D; &quot;&amp;client_id&#x3D;YOUR_CLIENT_ID&quot;;</span><br><span class="line">        URL +&#x3D; &quot;&amp;redirect_uri&#x3D;YOUR_REDIRECT_URI&quot;;</span><br><span class="line">        URL +&#x3D; &quot;&amp;scope&#x3D;notify&quot;;</span><br><span class="line">        URL +&#x3D; &quot;&amp;state&#x3D;nostate&quot;;</span><br><span class="line">        window.location.href &#x3D; URL;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>notify_confirm.html<blockquote>
<p>修改 ajax 裡的 url，將網址換成之前部署的網址，若忘了可以在部署一次 <code>sls deploy</code><br>當導回來的時候透過 ajax 來呼叫 serverless api 讓後端發 requests 給<code>https://notify-bot.line.me/oauth/token</code>來獲取<code>access_token</code>。</p>
</blockquote>
</li>
</ul>
<p><em>因為這個路由有 CORS 的問題，若透過瀏覽器來的話會出錯，這邊則是讓後端去處理</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;message check&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    verify messate:</span><br><span class="line">    &lt;div class&#x3D;&quot;message&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">  &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;3.4.1&#x2F;jquery.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var urlParams &#x3D; new URLSearchParams(window.location.search);</span><br><span class="line">    var notify_code &#x3D; urlParams.get(&quot;code&quot;);</span><br><span class="line">    var state &#x3D; urlParams.get(&quot;state&quot;);</span><br><span class="line">    $(function() &#123;</span><br><span class="line">      $.ajax(&#123;</span><br><span class="line">        url: &quot;https:&#x2F;&#x2F;SLS_URI.execute-api.us-east-2.amazonaws.com&#x2F;dev&#x2F;notify&quot;,</span><br><span class="line">        type: &quot;POST&quot;,</span><br><span class="line">        dataType: &quot;json&quot;,</span><br><span class="line">        data: &#123; code: notify_code &#125;,</span><br><span class="line">        success: function(response) &#123;</span><br><span class="line">          console.log(response);</span><br><span class="line">          $(&quot;.message&quot;).text(response[&quot;access_token&quot;]);</span><br><span class="line">        &#125;,</span><br><span class="line">        error: function(xhr) &#123;</span><br><span class="line">          console.log(xhr);</span><br><span class="line">          alert(&quot;Ajax request 發生錯誤&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>接著就是測試程式碼是不是正常的，把這兩個檔案丟到 S3 上面<br><img src="https://i.imgur.com/SYRxzA1.png"></p>
<hr>
<p><img src="https://i.imgur.com/N3olwJd.png"></p>
<p>把 object url 複製到 LINE Notify 上的 callback url 欄位，這樣就可以實機測試了 🤣<br><img src="https://i.imgur.com/i6Y7dK2.png"></p>
<p>接著按下 index page 的按鈕應該就會看到連動成功(進資料庫應該也會被 insert 一筆)<br><img src="https://i.imgur.com/lEP0AmZ.png"></p>
<p>到了這邊如果沒問題真的是恭喜你，我踩了好多坑 Orz</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://blog.gtwang.org/programming/python-with-context-manager-tutorial/">資源管理器</a><br><a href="https://github.com/corydolphin/flask-cors">flask CORS</a><br><a href="https://serverless.com/framework/docs/providers/aws/events/apigateway/#enabling-cors">CORS</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LINE Notify</tag>
      </tags>
  </entry>
  <entry>
    <title>Day28 - 用 S3 幫忙轉址到原有的服務上</title>
    <url>/2019/10/12/Day28-%E7%94%A8-S3-%E5%B9%AB%E5%BF%99%E8%BD%89%E5%9D%80%E5%88%B0%E5%8E%9F%E6%9C%89%E7%9A%84%E6%9C%8D%E5%8B%99%E4%B8%8A/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在之前的文章都有將 <code>Notify</code>、<code>LINE Login</code>所需要的靜態頁面放在 S3 上面，讓其他使用者去點，雖然把前端放在程式裡面用 render template 比較好，可是在求快的情況下我把靜態頁面寫完就扔上去了(被拖走)，其實也可以透過這個方法去幫忙轉址，不過接下來我會用我的臉書做個範例提供參考～</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>照著之前的範例來建立一個名為 <code>facebook.nijialin.com</code> 來做 S3 轉址的範例<br><img src="https://i.imgur.com/BJyONqF.png"><br>建立完之後因為我們需要把網址公開給其他使用者點選，在第三個分頁中先把第一個選項的 <code>Block all public access</code> 更換成 off 狀態<br><img src="https://i.imgur.com/FAoiCbt.png"><br>到第二個按鈕選項選擇 <code>Public access</code>，暴力一點把所有選項都打開 🤣<br><img src="https://i.imgur.com/WhCoHl4.png"><br>前面都已經把權限開完，選擇<code>Static Website hosting</code>這個選項，這個是 S3 提供來讓他有另一種功能，不過我是覺得這功能在這邊有點奇怪 XD<br><img src="https://i.imgur.com/yPv6nET.png"></p>
<hr>
<p>接著就來到 <code>Route 53</code>，點選左欄的 <code>Hosted Zone</code><br><img src="https://i.imgur.com/k1T8wIT.png"><br>點選上面藍色的按鈕，右邊會出現輸入的地方讓你填<br><img src="https://i.imgur.com/szIVARy.png"><br>這邊我會輸入跟 S3 bucket 的名字一樣，然後 <code>Alias</code> 選擇 Yes，下面輸入框點下去會看到自己剛剛輸入的 S3 website endpoints<br><img src="https://i.imgur.com/PVlFHJZ.png"><br>建立完之後就可以在瀏覽器上輸入網址，他就會導去你預設的網站囉！向我這邊就是拿我的 facebook 來做示範。</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>我透過這個方法幫我把 medium 的部落格網址重新導向，因為我想之後若是有獨立建立部落格的話網址會是一樣的，當有點粉絲的話至少他們認得的網址會是一樣的 😁。</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://www.kilait.com/2015/09/08/route-53-%E9%9D%9C%E6%85%8B%E8%BD%89%E5%9D%80/">Route 53+靜態網址</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>S3</tag>
        <tag>Route53</tag>
      </tags>
  </entry>
  <entry>
    <title>Day7 - 在 serverless 裡使用環境變數讓這些 key 好管理</title>
    <url>/2019/09/21/Day7-%E5%9C%A8-serverless-%E8%A3%A1%E4%BD%BF%E7%94%A8%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%AE%93%E9%80%99%E4%BA%9B-key-%E5%A5%BD%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>看著前幾天的文章，像我們 notify 驗證的 API 有使用到 <code>REDIRECT_URI</code>、<code>CLIENT_ID</code> 以及 <code>CLIENT_SECRET</code>，或是像 PostgreSQL 的帳號密碼，<br>只是說若今天當程式碼變多的時候，抑或是這個參數有給其他 API 使用，那在尋找的時候不僅費工又浪費時間<br>那接下來就帶著大家在 serverless.yml 一步步加入變數值，並更改 code。</p>
<h2 id="動手吧！"><a href="#動手吧！" class="headerlink" title="動手吧！"></a>動手吧！</h2><p>用 npm 安裝 serverless 的 <code>dotenv</code> 套件</p>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i -D serverless-dotenv-plugin</span><br></pre></td></tr></table></figure>

<p>接著加入新的套件到<code>serverless.yml</code></p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">plugins:</span></span><br><span class="line">  - serverless-dotenv-plugin</span><br></pre></td></tr></table></figure>

<p>新增<code>dotenv</code>到 requirements.txt</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">python</span>-dotenv==<span class="number">0</span>.<span class="number">10</span>.<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>到 api.py 加入下面內容</p>
<figure class="highlight isbl"><table><tr><td class="code"><pre><span class="line"><span class="variable">from</span> <span class="variable">dotenv</span> <span class="variable">import</span> <span class="variable">load_dotenv</span></span><br><span class="line"><span class="variable">env_path</span> = <span class="function"><span class="title">Path</span>(<span class="string">&#x27;.&#x27;</span>) / <span class="string">&#x27;.env&#x27;</span></span></span><br><span class="line"><span class="function"><span class="title">load_dotenv</span>(<span class="variable">dotenv_path</span>=<span class="variable">env_path</span>)</span></span><br></pre></td></tr></table></figure>

<p>接著新增<code>.env</code>並輸入對應的內容</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">NOTIFY_REDIRECT_URI=</span><br><span class="line">NOTIFY_CLIENT_ID=</span><br><span class="line">NOTIFY_CLIENT_SECRET=</span><br><span class="line">REGION=us-east<span class="number">-2</span></span><br><span class="line">SQS_URL=</span><br><span class="line">SQS_ARN=</span><br><span class="line">PG_DB=</span><br><span class="line">PG_HOST=</span><br><span class="line">PG_NAME=</span><br><span class="line">PG_PWD=</span><br><span class="line">PG_PORT=</span><br></pre></td></tr></table></figure>

<p>接著修改有使用到他們的地方，範例如下</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="built_in">os</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">getenv</span>(<span class="string">&quot;SQS_ARN&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>既然有安裝 serverless 的套件了，那 yml 檔也可以使用哦！</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">provider:</span></span><br><span class="line"><span class="symbol">  name:</span> aws</span><br><span class="line"><span class="symbol">  runtime:</span> python3<span class="number">.7</span></span><br><span class="line"><span class="symbol">  region:</span> $&#123;env:REGION&#125;</span><br></pre></td></tr></table></figure>

<h2 id="後記"><a href="#後記" class="headerlink" title="後記"></a>後記</h2><p>有時候把專案抓下來的時候要找到這些輸入的地方很容易找不到(我有點癡呆)，一般 open source 也都會有一個<code>.env</code>的，用<code>serverless-dotenv-plugin</code>來幫忙弄就方便許多了，後續有需要再繼續往裡面新增就好了～</p>
<p>最後在搭配 python 的 <a href="https://serverless.com/plugins/serverless-dotenv-plugin/">dot env 套件</a>使用就讓整個好用多了 🤣，只是說 html 因為目前還不是透過 serverless 來幫忙部署，所以這邊的參數就沒辦法吃設定檔了 😓</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://stackoverflow.com/questions/4906977/how-to-access-environment-variable-values">os.environ</a><br><a href="https://serverless.com/framework/docs/providers/aws/guide/variables/">env setting</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>dotenv</tag>
      </tags>
  </entry>
  <entry>
    <title>Day6 - 建立一個使用 Query string 來幫忙發送的 LINE Notify</title>
    <url>/2019/09/21/Day6-%E5%BB%BA%E7%AB%8B%E4%B8%80%E5%80%8B%E4%BD%BF%E7%94%A8-Query-string-%E4%BE%86%E5%B9%AB%E5%BF%99%E7%99%BC%E9%80%81%E7%9A%84-LINE-Notify/</url>
    <content><![CDATA[<p>繼上一篇我們已經可以讓使用者註冊 Notify 並將 token 放入資料庫，接著就帶各位使用 query string 的方式讓你的 Notify 可以送訊息給所有註冊過的 Notify。</p>
<p>首先我們進入我們已經建立過的 controller&#x2F;notify_controller.py，會看到 class 下有我們之前建立的 post method，這時我們就在前面加入 get method，並加入以下的 code，讓這個 class 看起來比較有順序(<del>潔癖</del>)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NotifyController</span>(<span class="params">Resource</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">            msg = request.args.get(<span class="string">&#x27;msg&#x27;</span>)</span><br><span class="line">            <span class="keyword">with</span> Database() <span class="keyword">as</span> db, db.connect() <span class="keyword">as</span> conn:</span><br><span class="line">                <span class="keyword">with</span> conn.cursor(cursor_factory=psycopg2.extras.RealDictCursor) <span class="keyword">as</span> cur:</span><br><span class="line">                    cur.execute(</span><br><span class="line">                        <span class="string">f&quot;SELECT token FROM notify&quot;</span>)</span><br><span class="line">                    fetch = cur.fetchall()</span><br><span class="line">            <span class="keyword">for</span> f <span class="keyword">in</span> fetch:</span><br><span class="line">                headers = &#123;</span><br><span class="line">                    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">f&quot;Bearer <span class="subst">&#123;f[<span class="string">&#x27;token&#x27;</span>]&#125;</span>&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">                payload = &#123;<span class="string">&#x27;message&#x27;</span>: msg&#125;</span><br><span class="line"></span><br><span class="line">                r = requests.post(</span><br><span class="line">                    <span class="string">&#x27;https://notify-api.line.me/api/notify&#x27;</span>, data=payload, headers=headers)</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: <span class="string">&#x27;ok&#x27;</span>&#125;, <span class="number">200</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>

<p>這次使用的套件比上次多 import 一個 flask 底下的 request (注意沒有 s 哦)，這個主要是讓我們可以抓到網址問號後面接的參數，這邊我設定打 API 的人會打一個 msg 的參數。</p>
<p>接著就是使用進 DB 撈我們的 token 們，並用一個迴圈來跑</p>
<p>再來是設定 headers 以及 payload</p>
<p>headers 的部分參考 Notify 的文件，如下圖<br><img src="https://i.imgur.com/B4bjvja.png"><br>我們需要設定 Content-Type 以及 Authorization，需要注意的是 Authorization 是使用 Bearer 格式(<a href="https://blog.yorkxin.org/2013/09/30/oauth2-6-bearer-token.html">參考</a>)，他中間是有加<code>空白鍵</code>的，這邊很多朋友都會錯在這裡，千萬要記得檢查這邊！</p>
<p>接著是要送出去的東西是要用什麼送出，本篇只用 message 做範例，若需要使用到其他的功能，像是圖片、貼圖等等的可參考以下的圖片<br><img src="https://i.imgur.com/I6617R6.png"></p>
<p>接著我們就可以使用<code>sls deploy</code>來部署我們的程式啦</p>
<p>等等！<br>這邊有個需要注意的地方是，照著這次的範例使用的話會需要用 docker 來幫忙跑編譯，因為 psycopg2-binary 這個套件如果不是在 Linux 的環境下會需要透過 docker 幫忙編譯完再丟過去<br>這部分需要在<code>serverless.yml</code>下填入參數</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom:</span></span><br><span class="line">  <span class="attr">pythonRequirements:</span></span><br><span class="line">    <span class="attr">dockerizePip:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>如此一來當前環境若不是 Linux 的話他就會使用 docker 來幫忙，記得 docker 要開哦 🙏</p>
<blockquote>
<p>當然最簡單的方法就是把它直接抓下來放在專案中，只是這樣就會比較髒一點，可以從這邊抓 -&gt; <a href="https://github.com/jkehler/awslambda-psycopg2">參考</a></p>
</blockquote>
<blockquote>
<p>這邊可以先在環境變數上加上<code>SLS_DEBUG=*</code> 接著在加上 sls deploy 後面加上<code>--verbose</code>可以看到 serverless 到底都在背地裡做了什麼事情 🤣</p>
</blockquote>
<p>接著我們就使用 Postman 來幫我們送字串出去，參考下圖，當回傳 ok 就成功了 🎉<br><img src="https://i.imgur.com/oXlBNeC.png"><br>你的 Notify 應該要回你了～<br><img src="https://i.imgur.com/nihyJxX.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>這邊帶大家做一個簡單的應用，一般來說我覺得放在 query string 讓其他 API 來呼叫的時候帶參數來就可以直接用是很方便的，不用再特地自己寫方法去呼叫 LINE Notify 來幫我們送，反正 AWS Lambda 有一百萬次的請求不怕 🤣</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>python</tag>
        <tag>Notify</tag>
      </tags>
  </entry>
  <entry>
    <title>Day8 - SQS 簡單介紹 &amp; 建立</title>
    <url>/2019/09/22/Day8-SQS-%E7%B0%A1%E5%96%AE%E4%BB%8B%E7%B4%B9-%E5%BB%BA%E7%AB%8B/</url>
    <content><![CDATA[<p><a href="https://ithelp.ithome.com.tw/articles/10194654">詳細介紹</a></p>
<p>以前自己在架伺服器的時候，提到訊息佇列不外乎都是 RabbitMQ 或是 Kafka，只是現在 AWS、GCP 這類的雲端平台都越來越火紅了，手動按一下服務就建好了(信用卡也在哭泣)，省去很多建立服務的時間，只是說一般時候根本找不到項目練習 😓，剛好最近在複習 LINE Notfiy，就趁這個機會順便練習並記錄一下 ✌️</p>
<h2 id="你需要先了解…"><a href="#你需要先了解…" class="headerlink" title="你需要先了解…"></a>你需要先了解…</h2><blockquote>
<p>當 Http requests 非常大量到一定程度，database 已經跟不上處理的速度，尤其是 relational database，這時就需要 queue 來緩衝；所以社群網站像 Facebook or LinkedIn 都使用大量的 message queue and cache.<br>By -&gt; Leonard Lee</p>
</blockquote>
<blockquote>
<p>SQS 就是 managed queue service，主要就是 async, central messaging (對相對應的程式來說，通常處理 api 的會有多個 instances 同時存在，像是 auto-scaling)，像是 fb 通知、寄送 email 認證信這種不用即時處理的情況，只要給訊息給 queue 讓其他服務或程式去處理，可以把原本的邏輯簡化(以及責任區分)，甚至些事件是預期同時會有多個 listener 會需要處理的情況，在一個 api 裡面去處理這些會讓邏輯變很複雜&#x2F;不好維護。<br>By -&gt; Bill Chung</p>
</blockquote>
<blockquote>
<p>還有就是如果負責處理 request 的 host 有問題，message queue 可以用來短暫儲存還未被處理的 requests 使他們不至於丟失，直到 host 回復正常或是換了一個好的 host 後，message queue 裡面的的 requests 就可以繼續被處理<br>By -&gt; 盧元駿</p>
</blockquote>
<p>以上來自我之前寫過的文章 <a href="https://medium.com/@nijia.lin/%E4%BD%BF%E7%94%A8-serverless-%E8%AE%93-aws-sqs-%E5%B9%AB%E4%BD%A0%E7%99%BC%E9%80%81-line-notify-fc3b918473cc">使用 Serverless 讓 AWS SQS 幫你發送 LINE Notify</a></p>
<p>今天在需要發個請求去呼叫 LINE API(或是其他服務的 API)，都可能會碰到圖片，圖片不管他怎麼壓縮，終究還是比文字肥，在數量多的情況下可能就會發現 API 罷工(就會像被斷詠唱一樣)。雖然平常使用可能不會這麼平凡呼叫，但若在商業用途上使用者多的時候一次呼叫就會有一大筆，這時候用 Queue 讓他們排隊一個一個來就在適合不過了 🎉。</p>
<h2 id="為什麼選擇-AWS-SQS"><a href="#為什麼選擇-AWS-SQS" class="headerlink" title="為什麼選擇 AWS SQS"></a>為什麼選擇 AWS SQS</h2><p>Amazon Simple Queue Service (SQS) 是全受管訊息佇列服務，可讓您分離和擴展微型服務、分散式系統及無伺服器應用程式。SQS 可免除與管理和操作訊息導向中介軟體相關的複雜性及開銷，也可讓開發人員專注在與眾不同的工作上。您可以使用 SQS 在軟體元件之間傳送、存放和接收不限數量的訊息，不會遺失訊息或需要其他服務可用。使用 AWS 主控台、命令列界面或自選的 SDK 以及三個簡單的命令，即可在幾分鐘內開始使用 SQS。(參考 <a href="https://aws.amazon.com/tw/sqs/">AWS</a>)</p>
<p>SQS 有在免費方案裡面，只要一個月別高於 100 萬個請求就不會被收錢啦 💪<br><img src="https://i.imgur.com/az2V5a4.png"></p>
<blockquote>
<p>AWS 的免費方案可以參考 -&gt; <a href="https://aws.amazon.com/tw/free/?all-free-tier.sort-by=item.additionalFields.SortRank&all-free-tier.sort-order=asc&awsm.page-all-free-tier=5&source=post_page-----fc3b918473cc----------------------">LINK</a></p>
</blockquote>
<h2 id="建立-SQS"><a href="#建立-SQS" class="headerlink" title="建立 SQS"></a>建立 SQS</h2><p>接著就要開始引入 SQS 嚕，首先到 AWS 上的 SQS 頁面，如下</p>
<p><img src="https://i.imgur.com/HXXX2SI.png"></p>
<hr>
<p>接著選左邊的<code>Standard Queue</code>並填入 name 就好<br><img src="https://i.imgur.com/Q88vd9t.png"></p>
<hr>
<p>建立完之後就可以看到下面有建立完的資訊</p>
<blockquote>
<p>ARN 以及 URL 接下來都會用到哦</p>
</blockquote>
<p><img src="https://i.imgur.com/7pUSK9Q.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>接下來會帶各位使用 Notify 接在 SQS 上，這篇就先帶各位介紹並先手動建立一個 Queue，之後會在大家使用 python 的 boto3 的套件來搭配使用 AWS 服務使用 👏</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>SQS</tag>
      </tags>
  </entry>
  <entry>
    <title>[Docker] Mysql &amp; PHPMyadmin 映射 &amp; 連接方法</title>
    <url>/2019/10/16/Docker-Mysql-PHPMyadmin-%E6%98%A0%E5%B0%84-%E9%80%A3%E6%8E%A5%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>詳細文件<a href="https://hub.docker.com/_/mysql">參考</a></p>
<p>docker 抓 mysql 最新的版本</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker pull mysql:tag</span><br></pre></td></tr></table></figure>

<p>若只是要建立普通容器用以下指令:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker run -d -p 3306:3306 -e MYSQL_USER=<span class="string">&quot;myname&quot;</span> -e MYSQL_PASSWORD=<span class="string">&quot;mypasswd&quot;</span> -e MYSQL_ROOT_PASSWORD=<span class="string">&quot;root_pwd&quot;</span> --name mysqltest1 mysql:5.7 --character-set-server=utf8 --collation-server=utf8_general_ci</span><br></pre></td></tr></table></figure>

<p>由於會有備份的問題，所以要先建立資料夾們</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">mkdir ~/docker</span><br><span class="line">mkdir ~/docker/mysql</span><br><span class="line">mkdir ~/docker/mysql/conf</span><br><span class="line">mkdir ~/docker/mysql/data</span><br></pre></td></tr></table></figure>

<p>新增 my.cnf 配置文件</p>
<p>vim ~&#x2F;docker&#x2F;mysql&#x2F;conf&#x2F;my.cnf</p>
<p><code>my.cnf</code> 加入如下内容：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">  user=mysql</span><br><span class="line">  character-set-server=utf8</span><br><span class="line">  default_authentication_plugin=mysql_native_password</span><br><span class="line">[client]</span><br><span class="line">  default-character-set=utf8</span><br><span class="line">[mysql]</span><br><span class="line">  default-character-set=utf8</span><br></pre></td></tr></table></figure>

<p>將 &#x2F;docker 這個資料夾映射到容器內的 &#x2F;etcmysql&#x2F;my.cnf</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker run -d -p 3306:3306 --privileged=<span class="literal">true</span> -v ~/docker/mysql/conf/my.cnf:/etc/mysql/my.cnf -v ~/docker/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysqltest2 mysql:5.7</span><br></pre></td></tr></table></figure>

<ul>
<li>–privileged&#x3D;true：容器内的 root 永有真正 root 权限，否則容器内 root 只是外部普通用戶權限</li>
<li>-v ~&#x2F;docker&#x2F;mysql&#x2F;conf&#x2F;my.cnf:&#x2F;etc&#x2F;my.cnf：映射 config 資料夾</li>
<li>-v ~&#x2F;docker&#x2F;mysql&#x2F;data:&#x2F;var&#x2F;lib&#x2F;mysql：映射 data 資料夾 (table 都在這)</li>
</ul>
<p>如此一來就可以儲存 &#x2F;docker 這個資料夾達到備份的功能</p>
<h2 id="PHPMyadmin"><a href="#PHPMyadmin" class="headerlink" title="PHPMyadmin"></a>PHPMyadmin</h2><p>將 myadmin 連接 mysql 的容器指令:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker run --name myadmin -d --link mysql_db_server:db -p 9100:80 phpmyadmin/phpmyadmin</span><br></pre></td></tr></table></figure>

<p>mysql_db_server &#x3D; mysql container id</p>
<p>在瀏覽器上輸入 localhost:9100 就可以看到 phpmyadmin 囉！</p>
<h2 id="Docker-查詢容器-IP"><a href="#Docker-查詢容器-IP" class="headerlink" title="Docker 查詢容器 IP"></a>Docker 查詢容器 IP</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker inspect -f <span class="string">&#x27;&#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27;</span> container_name_or_id</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Mysql</tag>
        <tag>PHPMyadmin</tag>
      </tags>
  </entry>
  <entry>
    <title>Day9 - SQS 串接 Notify 實作！</title>
    <url>/2019/09/23/Day9-SQS-%E4%B8%B2%E6%8E%A5-Notify-%E5%AF%A6%E4%BD%9C%EF%BC%81/</url>
    <content><![CDATA[<p>首先先建立一個<code>consumer/</code>資料夾，新增<code>__init__.py</code>以及<code>notify_handler.py</code></p>
<p>在<code>notify_handler.py</code>輸入以下程式碼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">line_notify_handler</span>(<span class="params">event, context</span>):</span></span><br><span class="line">    print(event)</span><br><span class="line">    body = json.loads(event[<span class="string">&#x27;Records&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;body&#x27;</span>])</span><br><span class="line">    print(body)</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">f&quot;Bearer <span class="subst">&#123;body[<span class="string">&#x27;token&#x27;</span>]&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    r = requests.post(<span class="string">&#x27;https://notify-api.line.me/api/notify&#x27;</span>,</span><br><span class="line">                      headers=headers,</span><br><span class="line">                      data=&#123;<span class="string">&#x27;message&#x27;</span>: body[<span class="string">&#x27;message&#x27;</span>]&#125;)</span><br><span class="line">    print(r)</span><br><span class="line"></span><br><span class="line"><span class="comment"># AWS record sample</span></span><br><span class="line"><span class="comment"># &#123;&#x27;Records&#x27;: [&#123;&#x27;messageId&#x27;: &#x27;fddc42ba-a122-4581-965e-d0144ac8a5ad&#x27;, &#x27;receiptHandle&#x27;: &#x27;AQEBjO32gY5pXOfOrmDR0hD4k1av9KyjbHFpc+rIBPV2Brif7Lo+jqnGevSjfFwlICyGf+BhWwKaxFw8XdB3QTzRbw0vnLURjnQeDSBrJHa/S57SRs9TOLRBq38maycAVg69iZbetg9VhLMBCcLtOtPHTzKkmo+/Sosm51WA5CzXK7A0rteikx6nxS1CUIpq6MAujodupP0Hgr5RjK5nH/nmxA4Db0leWEmLokalZbtlx4W14tp7PZxPOrQOLDaGrH//p4h32tY8IN3MkCqi+gyNT7kCU4KwCGOIrybb07ZWyKBTKw+KOMNr/Ykj4z2N1qxIvTM55UY9d8V29YsH32OjrZTei5P7Nke/51E2tWkmkqoFAlqzxDjQPvpP+Pvvr8aazeeZ6opkr59UefAiiyM71Q==&#x27;, &#x27;body&#x27;: &#x27;hi&#x27;, &#x27;attributes&#x27;: &#123;&#x27;ApproximateReceiveCount&#x27;: &#x27;9&#x27;, &#x27;SentTimestamp&#x27;: &#x27;1566621263072&#x27;, &#x27;SenderId&#x27;: &#x27;901588721449&#x27;, &#x27;ApproximateFirstReceiveTimestamp&#x27;: &#x27;1566621263072&#x27;&#125;, &#x27;messageAttributes&#x27;: &#123;&#125;, &#x27;md5OfBody&#x27;: &#x27;49f68a5c8493ec2c0bf489821c21fc3b&#x27;, &#x27;eventSource&#x27;: &#x27;aws:sqs&#x27;, &#x27;eventSourceARN&#x27;: &#x27;arn:aws:sqs:us-east-1:901588721449:LINE_notify_consumer&#x27;, &#x27;awsRegion&#x27;: &#x27;us-east-1&#x27;&#125;]&#125;</span></span><br></pre></td></tr></table></figure>

<p>接著在<code>requirements.txt</code>加入<code>boto3</code>，他是一個使用 python 介接 AWS 的套件</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">boto3</span>==<span class="number">1</span>.<span class="number">9</span>.<span class="number">189</span></span><br></pre></td></tr></table></figure>

<p>加入<code>SQS_URL</code>以及<code>SQS_ARN</code>到<code>.env</code>裡面</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">SQS_URL</span>=sqs url</span><br><span class="line"><span class="attr">SQS_ARN</span>=your sqs arn</span><br></pre></td></tr></table></figure>

<p>add controller&#x2F;notify_sqs_controller.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask_restful <span class="keyword">import</span> Resource, reqparse</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> lib.db <span class="keyword">import</span> Database</span><br><span class="line"><span class="keyword">import</span> psycopg2.extras</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> boto3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_message</span>(<span class="params">url, attr, body, delay=<span class="number">0</span></span>):</span></span><br><span class="line">    cli.send_message(</span><br><span class="line">        QueueUrl=url,</span><br><span class="line">        DelaySeconds=<span class="number">0</span>,</span><br><span class="line">        MessageAttributes=attr,</span><br><span class="line">        MessageBody=body,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SendNotifyBySQSController</span>(<span class="params">Resource</span>):</span></span><br><span class="line">    cli = boto3.client(<span class="string">&quot;sqs&quot;</span>, region_name=os.environ(<span class="string">&quot;region&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">        parser = reqparse.RequestParser()</span><br><span class="line">        parser.add_argument(</span><br><span class="line">            <span class="string">&#x27;message&#x27;</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;message can not be blank!&#x27;</span>)</span><br><span class="line">        args = parser.parse_args()</span><br><span class="line">        msg = args[<span class="string">&#x27;message&#x27;</span>]</span><br><span class="line">        <span class="keyword">with</span> Database() <span class="keyword">as</span> db, db.connect() <span class="keyword">as</span> conn:</span><br><span class="line">            <span class="keyword">with</span> conn.cursor(cursor_factory=psycopg2.extras.RealDictCursor) <span class="keyword">as</span> cur:</span><br><span class="line">                cur.execute(</span><br><span class="line">                    <span class="string">f&quot;SELECT token FROM notify&quot;</span>)</span><br><span class="line">                fetch = cur.fetchall()</span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> fetch:</span><br><span class="line">            body = &#123;</span><br><span class="line">                <span class="string">&#x27;token&#x27;</span>: <span class="string">f&quot;Bearer <span class="subst">&#123;f[<span class="string">&#x27;token&#x27;</span>]&#125;</span>&quot;</span>,</span><br><span class="line">                <span class="string">&#x27;message&#x27;</span>: <span class="string">f&quot;Hello everyone, <span class="subst">&#123;msg&#125;</span>&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">            cli.send_message(</span><br><span class="line">                QueueUrl=os.environ(<span class="string">&quot;SQS_URL&quot;</span>),</span><br><span class="line">                DelaySeconds=<span class="number">0</span>,</span><br><span class="line">                MessageAttributes=&#123;&#125;,</span><br><span class="line">                MessageBody=json.dumps(body),</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&#x27;result&#x27;</span>: <span class="string">&#x27;ok&#x27;</span>&#125;, <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>程式寫完了就是要加一條路由<code>/notify/sqs</code></p>
<figure class="highlight clean"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> controller.notify_sqs_controller <span class="keyword">import</span> SendNotifyBySQSController</span><br><span class="line">api.add_resource(SendNotifyBySQSController, <span class="string">&#x27;/notify/sqs&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>接著透過<code>wsgi</code>在本地起一個 server</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sls wsgi serve</span></span><br></pre></td></tr></table></figure>

<p>再搭配 postman 來做測試，測試內容如下</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;test Content&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接著透過<code>sls deploy</code>部署上會遇到一個問題，會有 Access Denied，所以要在<code>serverless.yml</code>加入 IAM role 的設定</p>
<p>add iam in provider</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">iamRoleStatements:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Effect:</span> <span class="string">Allow</span></span><br><span class="line">    <span class="attr">Action:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sqs:SendMessage</span></span><br><span class="line">    <span class="attr">Resource:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">$&#123;env:SQS_ARN&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="測試"><a href="#測試" class="headerlink" title="測試"></a>測試</h2><p><img src="https://i.imgur.com/5FViVEk.png"><br><img src="https://i.imgur.com/Xg70nDp.png"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>使用 SQS 這類服務都會需要透過<code>boto3</code>來幫忙串接，最需要注意的就是 IAM role，因為在本地端的 key 通常權限都是最大的，但上到 AWS 上就會有權限的問題，所以要記得加入 IAM 哦！</p>
<p>Code is <a href="https://github.com/louis70109/aws-python-line-api/blob/master/controller/notify_sqs_controller.py">here</a></p>
<p>專案也會持續更新，更多詳情可以 follow 我的專案 <a href="https://github.com/louis70109/aws-python-line-api">aws-python-line-api</a>。</p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>LINE</tag>
        <tag>Notify</tag>
        <tag>SQS</tag>
        <tag>IAM</tag>
      </tags>
  </entry>
  <entry>
    <title>2019 LINE Dev Day - 議程心得(2) - How we continuously delivery LINE TODAY App with high agility and high quality</title>
    <url>/2019/11/21/How-we-continuously-delivery-LINE-TODAY-App-with-high-agility-and-high-quality/</url>
    <content><![CDATA[<h1 id="How-we-continuously-delivery-LINE-TODAY-App-with-high-agility-and-high-quality"><a href="#How-we-continuously-delivery-LINE-TODAY-App-with-high-agility-and-high-quality" class="headerlink" title="How we continuously delivery LINE TODAY App with high agility and high quality"></a>How we continuously delivery LINE TODAY App with high agility and high quality</h1><p><img src="https://i.imgur.com/ZGXdq4F.png"></p>
<p>簡報連結: <a href="https://speakerdeck.com/line_devday2019/how-we-continuously-delivery-line-today-app-with-high-agility-and-high-quality">URL</a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好我是 <a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot Developer Taiwan</a> - NiJia，很開心這次能夠以 LINE API Expert 的身份被邀請來參加 LINE Developer Day 2019。</p>
<p>這個議程是難得出現的台灣人，一開始只是想說聽看看 LINE TODAY 是如何透過維持高度敏捷以及保持高品質，其實也就是瞎子摸象，結果聽到自我介紹後發現是台灣人來講，感覺就是在異地聽到一個台灣味的口音覺得很親切🤣</p>
<p>接下來就看一下我聽完這場的心得吧!</p>
<h1 id="負責專案"><a href="#負責專案" class="headerlink" title="負責專案"></a>負責專案</h1><ul>
<li>LINE</li>
<li>LINE TODAY</li>
<li>LINE SDK</li>
<li>LINE MUSIC(Taiwan)<br><img src="https://i.imgur.com/nVgupO1m.jpg"><br>最近常常出現在左上角的那個 LINE MUSIC</li>
</ul>
<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p><img src="https://i.imgur.com/WTUuqWX.png"></p>
<p>從 Pull Request - Code review - Build pipeline - unit test - UI test - deploy</p>
<p>當中提到兩個主要部分：</p>
<ul>
<li>Unit test: 覆蓋率最好要多少？</li>
<li>UI test: 自動化測試的可信度？</li>
</ul>
<p><img src="https://i.imgur.com/kNu9cv9.jpg"><br>且在測試當中會有一種測試叫做 flaky test，有時候測試有過、有時候有沒過，完全讓人摸不著頭緒的測試，這會傷害到軟體品質以及覆蓋率，因此若這種狀況出現時趕快號招團隊的人來討論這個狀態是否處理。</p>
<blockquote>
<p><a href="http://blog.castman.net/%E7%A0%94%E7%A9%B6/2016/06/06/flaky-tests.html">flaky test</a></p>
</blockquote>
<h2 id="UI-自動化測試"><a href="#UI-自動化測試" class="headerlink" title="UI 自動化測試"></a>UI 自動化測試</h2><p>在這部分提到說 UI test code 好寫但是難去維護，主要在於 UI 的東西可能會因為裝置、作業系統…等等的問題去影響到，且會很容易出現 flaky test，這邊我詢問講者得到的答案是測試只要確認在當前 UI 上最重要的元件若有出來的話這部分的測試就給過，若太精細的測試時常會影響到整體的開發敏捷度與流暢度。</p>
<blockquote>
<p>想想也是有道理，平常聽到人家說測試測試的，只是當今天測試時的究竟是要到多詳細還是要取決於團隊的決定。</p>
</blockquote>
<p>這段講者有提到要注意 UI Automation test 是 <a href="https://en.wikipedia.org/wiki/Smoke_testing_(software)">Smoke test</a>，因此要注意<strong>維護成本</strong>以及<strong>flaky test</strong>的問題！</p>
<h2 id="驗收標準-Acceptance-Criteria"><a href="#驗收標準-Acceptance-Criteria" class="headerlink" title="驗收標準 - Acceptance Criteria"></a>驗收標準 - <a href="https://www.altexsoft.com/blog/business/acceptance-criteria-purposes-formats-and-best-practices/">Acceptance Criteria</a></h2><p><img src="https://i.imgur.com/N5ovDf7.jpg"></p>
<p>接著就提到團隊需要準備各種情境所需要的東西：</p>
<ul>
<li>不一樣的測試資料來讓產品有<strong>彈性</strong>且是<strong>可信賴</strong></li>
<li>若有針對類似 Database 這類的測試團隊則更需要去注意測試細節避免導致特異情況<br>總之就是 Product Owner(PO) 是需要訂定團隊規則並讓大家去遵守，確保品質！</li>
</ul>
<p><img src="https://i.imgur.com/Vq13ngl.png"><br>這裡有提到他們經由上述制定好的驗收標準之後，隨著 Release 版本之後的手動測試比率逐漸減少，到後來都是偏向自動化測試去處理，且是有團隊可信度。</p>
<h2 id="Code-Coverage"><a href="#Code-Coverage" class="headerlink" title="Code Coverage"></a>Code Coverage</h2><p>這邊以 iOS 開發為例，首先就是 MVC 框架上所遇到的問題，官網都是以 MVC 下去做範例，但實際上開發起來則是還得以 MVVM 的框架去執行在測試的部分才不會採太多不必要的坑。<br><img src="https://i.imgur.com/WOIgOQe.png"><br>接下來提到的部分我覺得是這個議程最重要的一部分，就是如何去取捨覆蓋範圍，像是上圖顯示，可能會有一些 Callback 或是其他的是不可預期的範圍，團隊需要將這些問題一一列出來討論，並且去制定一個最低標準以及 Must have 的標準，促使團隊可以更有規則的去進行開發，如下圖所示。<br><img src="https://i.imgur.com/jidpVl3.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>其實一家公司很願意花成本去讓開發者可以去寫各種測試確認服務品質，若是以普遍環境來說這真的是很難人可貴的地方，此外從中也了解到一個好的流程應該是如何，從談需求到開發中間所要經歷過多少事才能讓一個服務起來，測試這部分真的是很大的一門學問，千萬別寫一堆測試但這個測試只是自己測開心的，而是要讓測試的內容可以讓團隊很放心的將 code 交給測試去驗證，達到這樣子目的的程式我相信在市場上一定是很能接受考驗的！<br><img src="https://i.imgur.com/HnFB307.png"></p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Dev Day 2019</tag>
      </tags>
  </entry>
  <entry>
    <title>LIFF v2.3 更新內容 - Concatenate &amp; Replace 模式</title>
    <url>/2020/07/21/LIFF-concat-replace-mode-scenario/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist – NiJia Lin。</p>
<p>在尚未更新前時常會遇到問題就是網址後面會接上 <code>liff.state=</code> 抑或是會在原始 target url 上加上 斜線(<code>/</code>) 這類相關的問題，開發者(包括我)都需要使用相關的 workaround 去解套，這邊提供之前我寫的 <a href="https://github.com/louis70109/Twitch-Bot/blob/master/src/controller/notifiesController.ts#L6">Twitch-Bot</a> 的 Javascript workaround 來處理 <code>liff.state</code> 的問題：</p>
<figure class="highlight pf"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> query = req.query[&#x27;liff.<span class="keyword">state</span>&#x27;].split(&#x27;?&#x27;)[<span class="number">1</span>].split(&#x27;&amp;&#x27;);</span><br><span class="line"><span class="keyword">const</span> notifyPayload = &#123; code: null, <span class="keyword">state</span>: null &#125;;</span><br><span class="line">query.<span class="keyword">for</span>Each(el =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> queryObj = el.split(&#x27;=&#x27;);</span><br><span class="line">  if (queryObj[<span class="number">0</span>] <span class="keyword">in</span> notifyPayload)</span><br><span class="line">    notifyPayload[queryObj[<span class="number">0</span>]] = queryObj[<span class="number">1</span>];</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> code = notifyPayload.code;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">user</span>Id = notifyPayload.<span class="keyword">state</span>;</span><br></pre></td></tr></table></figure>

<p>這樣的解法可以解決我的問題但會讓開發有點綁手綁腳的，但隨著 LIFF v2.3 改版上線後出現了兩個模式提供選擇，分別是 <code>Concatenate</code> 與 <code>Replace</code> 兩個選項，如下圖所示：</p>
<p><img src="https://i.imgur.com/SkUlT3P.png"></p>
<p>在 v2.3 的更新中將之前所會遇到問題以及已有對應 workaround 的版本變成 <code>Replace mode</code>，而新推出的 <code>Concatenate mode</code> 則已解決相關的議題。也許在使用上還是會有點困惑，以下就使用一些 Scenario 為各位介紹一下這兩個功能之間的差異以及解決了什麼問題 🙂。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>這是在 2.3 後出現的 mode，以下是一些範例供大家參考，主要以 slash(<code>/</code>)、Query String、LIFF 網址接<code>子路徑</code>(<code>sub path</code>) 三個測向讓大家快速了解兩個 mode 的差異。</p>
<h2 id="Concatenate-mode"><a href="#Concatenate-mode" class="headerlink" title="Concatenate mode"></a>Concatenate mode</h2><p>在這個模式中處理掉先前 LIFF 版本有的一些問題，下面列幾點簡單敘述一下：</p>
<ul>
<li>斜線（<code>/</code>): 之前出現個問題是當開發者將 LIFF url 加上一個 斜線(<code>/</code>) 時會造成<code>原始 Domain+斜線</code> 的問題(<a href="https://your_domain/)%EF%BC%8C%E5%9C%A8%E6%9F%90%E4%BA%9B%E7%A8%8B%E5%BC%8F%E4%B8%AD%E6%9C%83%E5%B0%87%E9%80%99%E5%85%A9%E5%80%8B%E7%B5%90%E6%9E%9C%E5%88%86%E9%96%8B(%E6%9C%89%E7%84%A1%E6%96%9C%E7%B7%9A%E7%9A%84%E7%B6%B2%E5%9D%80)%EF%BC%8C%E8%80%8C%E5%9C%A8">https://YOUR_DOMAIN/)，在某些程式中會將這兩個結果分開(有無斜線的網址)，而在</a> <code>case 1</code> 中目前皆會指向至最初設定的 Target Domain，避免相同問題重複產生。</li>
<li><code>liff.state=</code>: Replace 的 <code>case 3</code> 的案例中中回傳的網址中會出現 <code>liff.state=</code>，而在 Concatenate 中已經將這部分排除。</li>
<li>子路徑(sub path)消失問題: 過往 <code>case 6</code> 中當使用者進入網址後，應當結果是 <code>/friend/brown</code>，但 <code>/friend</code> 這個路徑被忽略的問題。在 <code>v2.3</code> 的版本中已經修正了之前會忽略原始 <code>/friend</code> 這個 sub path 的問題。</li>
</ul>
<p>大家可以參考以下的 scenario 去測試一下實際情況：</p>
<table>
<thead>
<tr>
<th>編號</th>
<th>原始網址</th>
<th>使用者進入網址</th>
<th>結果顯示網址</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><a href="https://your_domain/">https://YOUR_DOMAIN</a></td>
<td><a href="https://liff.line.me/LIFF_ID/">https://liff.line.me/LIFF_ID/</a></td>
<td><a href="https://your_domain/">https://YOUR_DOMAIN</a></td>
</tr>
<tr>
<td>2</td>
<td><a href="https://your_domain/">https://YOUR_DOMAIN</a></td>
<td><a href="https://liff.line.me/LIFF_ID/brown/?q=2#hash">https://liff.line.me/LIFF_ID/brown/?q=2#hash</a></td>
<td><a href="https://your_domain/brown/?q=2#hash">https://YOUR_DOMAIN/brown/?q=2#hash</a></td>
</tr>
<tr>
<td>3</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID">https://liff.line.me/LIFF_ID</a></td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
</tr>
<tr>
<td>4</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID/">https://liff.line.me/LIFF_ID/</a></td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
</tr>
<tr>
<td>5</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID/brown">https://liff.line.me/LIFF_ID/brown</a></td>
<td><a href="https://your_domain/friend/brown">https://YOUR_DOMAIN/friend/brown</a></td>
</tr>
<tr>
<td>6</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID/brown/?q=2#hash">https://liff.line.me/LIFF_ID/brown/?q=2#hash</a></td>
<td><a href="https://your_domain/friend/brown/?q=2#hash">https://YOUR_DOMAIN/friend/brown/?q=2#hash</a></td>
</tr>
</tbody></table>
<h2 id="Replace-mode"><a href="#Replace-mode" class="headerlink" title="Replace mode"></a>Replace mode</h2><p>若是在改版之前已存在的 LIFF pages 並且有相對應 workaround 的朋友但目前 LIFF migrate 優先權相對低的話可以繼續沿用這個模式，讓原本的存在的程式可以繼續處理對應邏輯，不過建議各位開發者朋友儘早將轉移至 <code>Concatenate</code> 已避免日後其他問題產生。而以下則是原本 Replace mode 相關的一些參數測試：</p>
<table>
<thead>
<tr>
<th>編號</th>
<th>原始網址</th>
<th>使用者進入網址</th>
<th>結果顯示網址</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><a href="https://your_domain/">https://YOUR_DOMAIN</a></td>
<td><a href="https://liff.line.me/LIFF_ID/">https://liff.line.me/LIFF_ID/</a></td>
<td><a href="https://your_domain/">https://YOUR_DOMAIN/</a></td>
</tr>
<tr>
<td>2</td>
<td><a href="https://your_domain/">https://YOUR_DOMAIN</a></td>
<td><a href="https://liff.line.me/LIFF_ID/brown/?q=2#hash">https://liff.line.me/LIFF_ID/brown/?q=2#hash</a></td>
<td><a href="https://your_domain/brown/?q=2">https://YOUR_DOMAIN/brown/?q=2</a></td>
</tr>
<tr>
<td>3</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID">https://liff.line.me/LIFF_ID</a></td>
<td><a href="https://your_domain/friend?liff.state=">https://YOUR_DOMAIN/friend?liff.state=</a></td>
</tr>
<tr>
<td>4</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID/">https://liff.line.me/LIFF_ID/</a></td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
</tr>
<tr>
<td>5</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID/brown">https://liff.line.me/LIFF_ID/brown</a></td>
<td><a href="https://your_domain/brown">https://YOUR_DOMAIN/brown</a></td>
</tr>
<tr>
<td>6</td>
<td><a href="https://your_domain/friend">https://YOUR_DOMAIN/friend</a></td>
<td><a href="https://liff.line.me/LIFF_ID/brown/?q=2#hash">https://liff.line.me/LIFF_ID/brown/?q=2#hash</a></td>
<td><a href="https://your_domain/brown/?q=2">https://YOUR_DOMAIN/brown/?q=2</a></td>
</tr>
</tbody></table>
<p>在這個模式中會遇到幾個問題：</p>
<ul>
<li>Hash tag 的值消失</li>
<li>出現 liff.state&#x3D;</li>
<li>斜線判斷問題</li>
</ul>
<p>所以還是建議大家若有新開 LIFF page 請選擇 Concatenate 模式，再往後的支援度上比較不會遇到此類的問題且不需要 migrate 兩個模式的 workaround。</p>
<h1 id="註記"><a href="#註記" class="headerlink" title="註記"></a>註記</h1><p>當時寫 workaround 環境約落於：</p>
<ul>
<li>LINE ➡️ v10.11</li>
</ul>
<p>在上述的表格中皆用測試結果:</p>
<ul>
<li>LIFF JS SDK ➡️ 2.3.1</li>
<li>LINE APP ➡️ v10.12</li>
<li>iOS ➡️ 13.3.1</li>
</ul>
<blockquote>
<p>提醒：在 v2.3 之前建立的 LIFF 模式皆為 <code>Replace</code>，v2.3 後新增的 LIFF page 模式皆<strong>預設</strong>為 <code>Concatenate</code>，要麻煩各位多注意一下模式上的選擇。</p>
</blockquote>
<p>習慣使用套件可朋友可以參考我們官方出的套件 - <a href="https://www.npmjs.com/package/@line/liff">@line&#x2F;liff</a>。</p>
<h2 id="CDN-路徑注意"><a href="#CDN-路徑注意" class="headerlink" title="CDN 路徑注意"></a>CDN 路徑注意</h2><p>測試時若未使用 npm package 時需要注意 CDN 版本，一般來說使用 <a href="https://static.line-scdn.net/liff/edge/2/sdk.js">https://static.line-scdn.net/liff/edge/2/sdk.js</a> 它會抓最新版本，<br>但若是<strong>指定版本</strong>的話  則需像範例網址 ➡️ <a href="https://static.line-scdn.net/liff/edge/">https://static.line-scdn.net/liff/edge/</a> <strong>versions&#x2F;2.1.13</strong> &#x2F;sdk.js 去指定。</p>
<p>兩個路徑<strong>最大差異</strong>就在於網址中會多一個 <code>versions</code> 的 path，使用上需多注意！</p>
<blockquote>
<p>欲了解更多相關內容請參考 <a href="https://developers.line.biz/en/docs/liff/developing-liff-apps/#specify-cdn-path">LINE document</a></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>之前在 Replace mode 中會因為不同的作業系統(<code>iOS/Android</code>)導致輸出結果不同，在引入 Concatenate mode 之後排除了這個問題，讓兩個系統的使用者在點選 LIFF page 後會引導至對應的頁面。</p>
<p>這次透過上述範例快速帶大家了解這次 v2.3 更新的 <code>Replace</code> &amp; <code>Concatenate</code> 以外，我之前寫的 <code>liff.state=</code> 的 workaround 也可以刪除了 🎉。</p>
<p>此外使用相關功能時必須依循著下面兩點：</p>
<ul>
<li>LINE APP 版本必須在 v10.12 (含)以上才能測試此功能喔！若低於 v10.12 以下可能造成不同輸出結果。</li>
<li>JS SDK 請使用 v2.3.1。</li>
</ul>
<p>而目前開發團隊正逐步的修正每個議題，接下來隨著 LIFF 的新功能上線時我們會將第一手將資訊釋出讓大家知道 🙂。</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li>JS SDK release: <a href="https://developers.line.biz/en/news/2020/07/16/release-liff-2.3.1/">LIFF v2.3.1 released</a></li>
<li><a href="https://developers.line.biz/en/news/2020/06/29/release-liff-2.3/">LIFF v2.3.0 released</a></li>
</ul>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
      </tags>
  </entry>
  <entry>
    <title>從 Http 請求到認識 OAuth 以及 OpenID</title>
    <url>/2020/05/31/Http-request-OAuth-OpenID/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/03/10/18/46/taiwan-667565_960_720.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近因為在找新工作，同時也需要把一些知識打穩，既然常在寫 side project，那麼一定要對於 http 請求後發生什麼事、SSL、OAuth、OpenID 都需要理解清楚，否則串了這麼多服務也寫了應用，但在關鍵時沒講出來的話作品就發揮不出它的功用了 😞，那麼以下就會用我的觀點以及紀錄方法來敘述這些功能。</p>
<blockquote>
<p>註：若有發現有什麼問題或內容有誤的話麻煩再留言讓我知道，或是<code>寄信</code>給我也是可以喔！</p>
</blockquote>
<h1 id="從輸入https-www-google-com之後發生了什麼事"><a href="#從輸入https-www-google-com之後發生了什麼事" class="headerlink" title="從輸入https://www.google.com之後發生了什麼事?"></a>從輸入<code>https://www.google.com</code>之後發生了什麼事?</h1><p>首先須了解<code>https://www.google.com</code>這樣的網址是如何組成:</p>
<span id="more"></span>

<ol>
<li>https: 通訊協定，其他常見如: tcp、udp、websocket、mqtt…</li>
<li>www: 常聽到的 sub domain 就指這個部分，也會聽到 host 的名稱，意指在一個 Domain 下若有多個主機時則用這個部分來指定名稱為特定主機，一般預設進入點為 <code>www</code>。</li>
<li>.google: 這部分學名為 <code>Second Level Domain</code>(SLD)，在 Top level domain 搜尋完後接著搜尋的層級，通常為個人品牌、公司行號為名稱。</li>
<li>.com: 這層名為 <code>Top Level Domain</code>(TLD)，常見為 com、org、gov、edu、io，較好理解的方式我認為就是把當前進入點判斷為何種<code>組織</code>，再以此分類下去找 SLD，有點二元搜尋的概念 😁。</li>
<li>root: 一開始我看到這部分也覺得霧煞煞，簡單來說每個域名(Domain)的結尾都會有 <code>.</code> 這個小數點，它是指域名(Domain)的進入點，所有上的 Domain 都會從這個地方開始判斷。</li>
</ol>
<blockquote>
<p>上述是照著網址由左而右寫，實際上則是從右往左判斷</p>
</blockquote>
<p>上面步驟已經說明清楚每個部分了，接下來就說明從瀏覽器輸入網址後的步驟吧！</p>
<h2 id="向-DNS-要-IP"><a href="#向-DNS-要-IP" class="headerlink" title="向 DNS 要 IP"></a>向 DNS 要 IP</h2><img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzOTBweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjcxNnB4O2hlaWdodDozOTBweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA3MTYgMzkwIiB3aWR0aD0iNzE2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tZW50aXR5IFVzZXItLT48ZyBpZD0iZWxlbV9Vc2VyIj48ZWxsaXBzZSBjeD0iMjEuNSIgY3k9IjE0IiBmaWxsPSIjRjFGMUYxIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yMS41LDIyIEwyMS41LDQ5IE04LjUsMzAgTDM0LjUsMzAgTTIxLjUsNDkgTDguNSw2NCBNMjEuNSw0OSBMMzQuNSw2NCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSI2IiB5PSI3OC40OTUxIj5Vc2VyPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9Ccm93c2VyIj48ZWxsaXBzZSBjeD0iMzAxLjM0NzIiIGN5PSI0My43MjE1IiBmaWxsPSIjRjFGMUYxIiByeD0iNTMuMzQ3MiIgcnk9IjE0LjcyMTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU4IiB4PSIyNjkuMzQ3MiIgeT0iNDcuNDY5Ij5Ccm93c2VyPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9ETlMiPjxlbGxpcHNlIGN4PSIyNzIuNjk4NSIgY3k9IjIwNC41MjM2IiBmaWxsPSIjRjFGMUYxIiByeD0iMzIuNjk4NSIgcnk9IjE0LjUyMzYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwIiB4PSIyNTcuNjcwOSIgeT0iMjA3LjM4MSI+RE5TPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9OYW1lIFNlcnZlciI+PGVsbGlwc2UgY3g9IjI3Mi42OTUyIiBjeT0iMzQwLjMzOSIgZmlsbD0iI0YxRjFGMSIgcng9IjY5LjY5NTIiIHJ5PSIxNi4zMzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkyIiB4PSIyMjMuNjk1MiIgeT0iMzQ0LjA4NjYiPk5hbWUgU2VydmVyPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV8xMjMuMjIzLjQ1LjYiPjxlbGxpcHNlIGN4PSI1ODMuNjk1MiIgY3k9IjQzLjMzOSIgZmlsbD0iI0YxRjFGMSIgcng9IjY5LjY5NTIiIHJ5PSIxNi4zMzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkyIiB4PSI1MzQuNjk1MiIgeT0iNDcuMDg2NiI+MTIzLjIyMy40NS42PC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9XZWIgU2VydmVyIj48ZWxsaXBzZSBjeD0iNjExLjMxNDIiIGN5PSIyMDQuMjYyOCIgZmlsbD0iI0YxRjFGMSIgcng9IjY2LjgxNDIiIHJ5PSIxNS43NjI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iNTY2LjMxNDIiIHk9IjIwOC4wMTA0Ij5XZWIgU2VydmVyPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9HTU4xNyI+PHBhdGggZD0iTTYzLjUsMjk3LjUgTDYzLjUsMzgzLjE2NDEgQTAsMCAwIDAgMCA2My41LDM4My4xNjQxIEwxNjcuNSwzODMuMTY0MSBBMCwwIDAgMCAwIDE2Ny41LDM4My4xNjQxIEwxNjcuNSwzNDQuNSBMMjAyLjg1OSwzNDAuNSBMMTY3LjUsMzM2LjUgTDE2Ny41LDMwNy41IEwxNTcuNSwyOTcuNSBMNjMuNSwyOTcuNSBBMCwwIDAgMCAwIDYzLjUsMjk3LjUgIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTU3LjUsMjk3LjUgTDE1Ny41LDMwNy41IEwxNjcuNSwzMDcuNSBMMTU3LjUsMjk3LjUgIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MyIgeD0iNjkuNSIgeT0iMzE0LjU2NjkiPiYjMzQzODk7JiMyOTcwMjsmIzIyMjM1OyYjMjA0OTE7JiMzNzA5NjsmIzIwOTk4Ozo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjY5LjUiIHk9IjMyOS42OTk3Ij5yb290PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyIiB4PSI2OS41IiB5PSIzNDQuODMyNSI+LmNvbTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMyIgeD0iNjkuNSIgeT0iMzU5Ljk2NTMiPnd3dzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iNjkuNSIgeT0iMzc1LjA5ODEiPi5nb29nbGU8L3RleHQ+PC9nPjwhLS1saW5rIFVzZXIgdG8gQnJvd3Nlci0tPjxnIGlkPSJsaW5rX1VzZXJfQnJvd3NlciI+PHBhdGggZD0iTTM3LjM1NjMsNDMuNSBDNzYuMTk4OCw0My41IDE3Ny42ODgsNDMuNSAyNDIuOTU3LDQzLjUgIiBmaWxsPSJub25lIiBpZD0iVXNlci10by1Ccm93c2VyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0Ny45ODMsNDMuNSwyMzguOTgzLDM5LjUsMjQyLjk4Myw0My41LDIzOC45ODMsNDcuNSwyNDcuOTgzLDQzLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3NCIgeD0iNTUuNSIgeT0iMzYuNTY2OSI+MS4gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbTwvdGV4dD48L2c+PCEtLWxpbmsgQnJvd3NlciB0byBVc2VyLS0+PGcgaWQ9ImxpbmtfQnJvd3Nlcl9Vc2VyIj48cGF0aCBkPSJNMjYwLjU5NSw1Mi44NzkgQzIyMS4zMTMsNjAuNjY1IDE2MC4zMTIsNjkuNTYgMTA3LjUsNjMuNSBDODQuODY1OCw2MC45MDMgNTkuNTI2LDU0LjU4IDQyLjI1MTIsNDkuNzMzICIgZmlsbD0ibm9uZSIgaWQ9IkJyb3dzZXItdG8tVXNlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNy4xNjA4LDQ4LjI4Miw0NC43MTkzLDU0LjU5NjIsNDEuOTY5Miw0OS42NTI4LDQ2LjkxMjYsNDYuOTAyNywzNy4xNjA4LDQ4LjI4MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjgiIHg9IjEwOC41IiB5PSI1OS41NjY5Ij45LiAmIzI4MjEwOyYjMjY1Nzk7JiMzMDA1OTsmIzM4NzU0OzwvdGV4dD48L2c+PCEtLWxpbmsgQnJvd3NlciB0byBETlMtLT48ZyBpZD0ibGlua19Ccm93c2VyX0ROUyI+PHBhdGggZD0iTTI3NS4zMDksNTYuMTc0IEMyNTQuMzAyLDY3LjEyNSAyMjYuMjg4LDg1LjY5MiAyMTMuNSwxMTEuNSBDMjA0LjIyNiwxMzAuMjE3IDIwNC4yMzQsMTM5Ljc3OSAyMTMuNSwxNTguNSBDMjIwLjQyMiwxNzIuNDg1IDIzNC4wMDIsMTgzLjMxIDI0Ni4zOSwxOTAuODM0ICIgZmlsbD0ibm9uZSIgaWQ9IkJyb3dzZXItdG8tRE5TIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1MC44ODUsMTkzLjQ1NywyNDUuMTI3NiwxODUuNDY2MiwyNDYuNTY2NSwxOTAuOTM3LDI0MS4wOTU3LDE5Mi4zNzU5LDI1MC44ODUsMTkzLjQ1NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAiIHg9IjIxNC41IiB5PSIxMzkuNTY2OSI+Mi4gJiMzNTUzMTsmIzMyMTAyOyYjMjUxMDU7IElQPC90ZXh0PjwvZz48IS0tbGluayBETlMgdG8gQnJvd3Nlci0tPjxnIGlkPSJsaW5rX0ROU19Ccm93c2VyIj48cGF0aCBkPSJNMjc4LjY0MiwxOTAgQzI4Mi4zNzksMTgxLjIwNyAyODYuOTE2LDE2OS4zODggMjg5LjUsMTU4LjUgQzI5Ny4zMjksMTI1LjUxNiAzMDAuMDUyLDg1Ljk1MiAzMDAuOTk4LDYzLjE3ICIgZmlsbD0ibm9uZSIgaWQ9IkROUy10by1Ccm93c2VyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwMS4xOTMsNTguMDI2LDI5Ni44NTY0LDY2Ljg2ODcsMzAxLjAwNDQsNjMuMDIyNCwzMDQuODUwNyw2Ny4xNzA1LDMwMS4xOTMsNTguMDI2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzIiIHg9IjI5OC41IiB5PSIxMzkuNTY2OSI+NC4gSVAgJiMyODg1ODsgMTIzLjIyMy40NS42PC90ZXh0PjwvZz48IS0tbGluayBETlMgdG8gTmFtZSBTZXJ2ZXItLT48ZyBpZD0ibGlua19ETlNfTmFtZSBTZXJ2ZXIiPjxwYXRoIGQ9Ik0yNzIuNSwyMjQuMzYzIEMyNzIuNSwyNDkuMjMzIDI3Mi41LDI5Mi44NDgxIDI3Mi41LDMxOC42NjUxICIgZmlsbD0ibm9uZSIgaWQ9IkROUy1OYW1lIFNlcnZlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNzIuNSwyMTkuMzM2LDI2OC41LDIyOC4zMzYsMjcyLjUsMjI0LjMzNiwyNzYuNSwyMjguMzM2LDI3Mi41LDIxOS4zMzYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjcyLjUsMzIzLjg5MDksMjc2LjUsMzE0Ljg5MDksMjcyLjUsMzE4Ljg5MDksMjY4LjUsMzE0Ljg5MDksMjcyLjUsMzIzLjg5MDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyOCIgeD0iMjczLjUiIHk9IjI2My41NjY5Ij4zLiAmIzIzNTU5OyBEb21haW4gJiMzNjY4MTsmIzI1MTA0OyBJUDwvdGV4dD48L2c+PCEtLWxpbmsgQnJvd3NlciB0byAxMjMuMjIzLjQ1LjYtLT48ZyBpZD0ibGlua19Ccm93c2VyXzEyMy4yMjMuNDUuNiI+PHBhdGggZD0iTTM1NS4yMDYsNDMuNSBDMzk4LjY4Niw0My41IDQ2MC40MjYsNDMuNSA1MDguNzM4LDQzLjUgIiBmaWxsPSJub25lIiBpZD0iQnJvd3Nlci10by0xMjMuMjIzLjQ1LjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTEzLjk2NSw0My41LDUwNC45NjUsMzkuNSw1MDguOTY1LDQzLjUsNTA0Ljk2NSw0Ny41LDUxMy45NjUsNDMuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIyIiB4PSIzNzMuNSIgeT0iMjEuNTY2OSI+NS4mIzIxNDYyOyYjMjQ0NzE7IElQICYjMjQ0NjA7JiMzNTM3MDsmIzIxODM5OyYjMjAwMjc7JiMyNzIzMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUiIHg9IjQwMiIgeT0iMzYuNjk5NyI+JiMyMDAwNjsmIzE5OTc5OyYjMzY2MTc7JiMzNjAzOTsmIzI4MzA0OzwvdGV4dD48L2c+PCEtLWxpbmsgMTIzLjIyMy40NS42IHRvIEJyb3dzZXItLT48ZyBpZD0ibGlua18xMjMuMjIzLjQ1LjZfQnJvd3NlciI+PHBhdGggZD0iTTUzNC40NzEsNTUuMjA5IEM1MTguMDUxLDU4LjU5NCA0OTkuNTc4LDYxLjgyNSA0ODIuNSw2My41IEM0NDAuMDM3LDY3LjY2NCA0MjguODgyLDY4LjQxOSAzODYuNSw2My41IEMzNzIuMjg0LDYxLjg1IDM1Ni45OTMsNTguNjk3IDM0My4zNTQsNTUuMzc0ICIgZmlsbD0ibm9uZSIgaWQ9IjEyMy4yMjMuNDUuNi10by1Ccm93c2VyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMzOC40MDgsNTQuMTQ1LDM0Ni4xNzU5LDYwLjE5OTgsMzQzLjI2MDEsNTUuMzUyMywzNDguMTA3NSw1Mi40MzY1LDMzOC40MDgsNTQuMTQ1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NCIgeD0iMzg3LjUiIHk9IjU5LjU2NjkiPjguICYjMjIyMzg7JiMyMDY1OTsmIzM4NzQ4OyYjMjQ5MDc7JiMzNjAzOTsmIzI2MDA5OzwvdGV4dD48L2c+PCEtLWxpbmsgMTIzLjIyMy40NS42IHRvIFdlYiBTZXJ2ZXItLT48ZyBpZD0ibGlua18xMjMuMjIzLjQ1LjZfV2ViIFNlcnZlciI+PHBhdGggZD0iTTU3MS44MjUsNTkuOTE5IEM1NTYuMjgzLDgyLjQ3NSA1MzIuNjE1LDEyNS4zOCA1NDkuNSwxNTguNSBDNTU1LjYzMywxNzAuNTMgNTY2LjY1MywxODAuMDk1IDU3Ny43MTgsMTg3LjI1OSAiIGZpbGw9Im5vbmUiIGlkPSIxMjMuMjIzLjQ1LjYtdG8tV2ViIFNlcnZlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1ODIuMTE2LDE4OS45ODUsNTc2LjU3MzYsMTgxLjg0MzYsNTc3Ljg2NjIsMTg3LjM1MDgsNTcyLjM1OSwxODguNjQzMyw1ODIuMTE2LDE4OS45ODUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY4IiB4PSI1NTAuNSIgeT0iMTM5LjU2NjkiPjYuICYjMzIwMzQ7JiMyMTQ2MjsmIzM2MDM5OyYjMjgzMDQ7PC90ZXh0PjwvZz48IS0tbGluayBXZWIgU2VydmVyIHRvIDEyMy4yMjMuNDUuNi0tPjxnIGlkPSJsaW5rX1dlYiBTZXJ2ZXJfMTIzLjIyMy40NS42Ij48cGF0aCBkPSJNNjE4LjM3NywxODguMjY4IEM2MjUuNzQ5LDE2OS44MTEgNjM1LjM5NSwxMzcuOTA1IDYyNy41LDExMS41IEM2MjIuMTk5LDkzLjc3MiA2MTAuNTM0LDc2LjM4NCA2MDAuNTQ3LDYzLjc2NiAiIGZpbGw9Im5vbmUiIGlkPSJXZWIgU2VydmVyLXRvLTEyMy4yMjMuNDUuNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1OTcuMjM1LDU5LjY3Niw1OTkuNzkxMSw2OS4xODc0LDYwMC4zODE5LDYzLjU2MTUsNjA2LjAwNzksNjQuMTUyMyw1OTcuMjM1LDU5LjY3NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIiIHg9IjY0OC41IiB5PSIxMjQuNTY2OSI+Ny4gJiMyMjIzODsmIzIwNjU5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iNjQzLjUiIHk9IjEzOS42OTk3Ij4mIzM4NzQ4OyYjMjQ5MDc7JiMyNzI4NDsmIzI2Njk2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iNjMwLjUiIHk9IjE1NC44MzI1Ij5KU09OICYjMjUxMTA7IFhNTDwvdGV4dD48L2c+PCEtLVNSQz1bVFA5REltOTE2Q1ZsLW9jVU9ucnNuRFRnWUd4WGZJV0JIRWhXbk45ejBUczlUTWNsT1FHaDZzWUtYZlg5N2lKcTRiY21NRmJmZERkck1wSWhjMnhMT1BZUFB2eFZWX3hGRjFGOVlKQm1NeDJvQk1FTGhMUzVTMkQ4QVNmUEpkMnZMNUw1SU9vSjZINlR1WXB0YW1IeTdBa0laR0wzT09QdTQ1WHp0TnBsS0VxNlRXd3ZRSFdzVUppWjVDa0E0MVJieXdjdTVtNXZBSzhHUHNEZjJRb2w0aktnMnU5dEVsNFhUV0hjVldYa1puVHZzRjN2S00zUFhmbkVmWEdSTWF2V2YxLUhTZXNDeGNzVVpBd2pSZXpLb3NGWldwd3RlakJPdzhtRHRWZWlNT0NZN0xPdTlwbXBTSUlVQjRtNzQ5WGxSUU91MXZQRV9fVW1uYWZqRjlCeTgyZkRjV19xSWdVekVfZ2FIUU5UeTQ0OGc1UTN1X3N6TnZTeDdjMXpCWjRKaUEtbHJWLWdGeUFzMGNtV2VDT2hSVHNRclZ3YXNVT2FoOFlHNEhDQXU4SXA0SG8wTFEtUWJHOWZEQ1k1RmhkaTRncVdpQVlDaVNBY1FSaTFNRl9qcFVtQlNBOEsxcmxvNm0wMF0tLT48L2c+PC9zdmc+'>

<p>DNS 全名為 Domain Name Server，主要職責是幫忙把 網域名稱(Domain Name) 轉成 IP，因為網域名稱是人才看得懂而機器只認得 IP，因此需要 DNS 來幫忙轉譯。</p>
<h3 id="Name-Server"><a href="#Name-Server" class="headerlink" title="Name Server"></a>Name Server</h3><p>藉由上圖最終 DNS 會收到每個單獨的 Name Server 回傳後的值並組成 IP 回傳給瀏覽器。</p>
<h2 id="跟-IP-請求資源"><a href="#跟-IP-請求資源" class="headerlink" title="跟 IP 請求資源"></a>跟 IP 請求資源</h2><p>待瀏覽器收到 IP 後去請求資源，而 IP (資源方)那一般來說都會有個 Web Server 擋在前面(Nginx、Apache)，若是有前端頁面則是讓瀏覽器下載靜態檔案(static)，而若只是單純導向至 API 的話就直接回傳定義的資料格式(JSON、XML…)。</p>
<h2 id="快取"><a href="#快取" class="headerlink" title="快取"></a>快取</h2><p>此時瀏覽器下載完後則會存到快取(Cache)裡，加速下次載入。</p>
<h2 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h2><p><img src="https://i.imgur.com/ddrEQxs.png" alt="https://i.imgur.com/ddrEQxs.png"></p>
<blockquote>
<p>參考<a href="https://w3c.hexschool.com/blog/8d691e4f">六角學院</a></p>
</blockquote>
<p>這邊就簡單敘述一下前端渲染發生的經過，HTML 會產生出一個 <code>DOM Tree</code>，CSS 會有一個 <code>CSSOM Tree</code>，在各別產生完後會合併成一個 <code>render Tree</code>，最後經由 <code>layout</code> 的步驟讓瀏覽器將 Tree 渲染至畫面上，完成畫面顯示的步驟。</p>
<ul>
<li>上述的 DOM 就是寫 jQuery 時呼叫的那個 DOM 元素</li>
</ul>
<p>以上就是當你輸入一個網址後會遇到的事情經過～</p>
<h1 id="輸入網址後，你怎能不知道怎麼連線呢？"><a href="#輸入網址後，你怎能不知道怎麼連線呢？" class="headerlink" title="輸入網址後，你怎能不知道怎麼連線呢？"></a>輸入網址後，你怎能不知道怎麼連線呢？</h1><h2 id="準備連線-三方交握-Three-Way-Handshake"><a href="#準備連線-三方交握-Three-Way-Handshake" class="headerlink" title="準備連線 - 三方交握 (Three-Way Handshake)"></a>準備連線 - 三方交握 (Three-Way Handshake)</h2><img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyMjNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjMwNHB4O2hlaWdodDoyMjNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMDQgMjIzIiB3aWR0aD0iMzA0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMzMiIHgyPSIzMyIgeTE9IjM2LjI5NjkiIHkyPSIxODcuOTYwOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIyNjciIHgyPSIyNjciIHkxPSIzNi4yOTY5IiB5Mj0iMTg3Ljk2MDkiLz48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjU3IiB4PSI1IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDMiIHg9IjEyIiB5PSIyNC45OTUxIj5DbGllbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1NyIgeD0iNSIgeT0iMTg2Ljk2MDkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MyIgeD0iMTIiIHk9IjIwNi45NTYxIj5DbGllbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2MSIgeD0iMjM3IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDciIHg9IjI0NCIgeT0iMjQuOTk1MSI+U2VydmVyPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjEiIHg9IjIzNyIgeT0iMTg2Ljk2MDkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iMjQ0IiB5PSIyMDYuOTU2MSI+U2VydmVyPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjU1LjUsNjMuNDI5NywyNjUuNSw2Ny40Mjk3LDI1NS41LDcxLjQyOTcsMjU5LjUsNjcuNDI5NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzMuNSIgeDI9IjI2MS41IiB5MT0iNjcuNDI5NyIgeTI9IjY3LjQyOTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzkiIHg9IjQwLjUiIHk9IjYyLjM2MzgiPiYjMjUxMDU7JiMzODY1NjsmIzM1MjAxOyYjMzY4OTk7JiMzMjIxODsoU1lOKSYjNjUyOTI7JiMyMjIzODsmIzMxNTcyOyYjMzU1MzE7JiMyOTk5MjsgTTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ0LjUsMTA3LjY5NTMsMzQuNSwxMTEuNjk1Myw0NC41LDExNS42OTUzLDQwLjUsMTExLjY5NTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjM4LjUiIHgyPSIyNjYuNSIgeTE9IjExMS42OTUzIiB5Mj0iMTExLjY5NTMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjMiIHg9IjUwLjUiIHk9IjkxLjQ5NjYiPiYjMjU5MTA7JiMyMTA0MDsmIzIwMTAyOyYjNjUyOTI7JiMyNjE1OTsgTSsxICYjMjE5NjY7KEFDSykmIzY1MzExOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQiIHg9IjU0LjUiIHk9IjEwNi42Mjk0Ij4mIzIyMjM4OyYjMzE1NzI7JiMzNTUzMTsmIzI5OTkyOyBOIChTWU4pPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjU1LjUsMTM2LjgyODEsMjY1LjUsMTQwLjgyODEsMjU1LjUsMTQ0LjgyODEsMjU5LjUsMTQwLjgyODEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMzLjUiIHgyPSIyNjEuNSIgeTE9IjE0MC44MjgxIiB5Mj0iMTQwLjgyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTAiIHg9IjQwLjUiIHk9IjEzNS43NjIyIj4mIzI1OTEwOyYjMjEwNDA7JiMyMDEwMjsmIzY1MjkyO04rMSAmIzI2MTU5OyYjMjUxMDU7JiMyNTkxMDsmIzIxMDQwOyYjMzAzNDA7JiMzNTMzODsmIzM0Mzk5OyhBQ0spPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDQuNSwxNjUuOTYwOSwzNC41LDE2OS45NjA5LDQ0LjUsMTczLjk2MDksNDAuNSwxNjkuOTYwOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNTUuNSwxNjUuOTYwOSwyNjUuNSwxNjkuOTYwOSwyNTUuNSwxNzMuOTYwOSwyNTkuNSwxNjkuOTYwOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIgeDE9IjM4LjUiIHgyPSIyNjEuNSIgeTE9IjE2OS45NjA5IiB5Mj0iMTY5Ljk2MDkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTAiIHg9IjUwLjUiIHk9IjE2NC44OTUiPlNlcnZlciAmIzMwOTA2OyYjMzU0Njk7JiMyMzQzNjsmIzI0NDYwOyYjMzgyODM7JiMyMjk4NzsmIzM2ODk5OyYjMzIyMTg7PC90ZXh0PjwhLS1TUkM9W1N5eDlKQ3FoS1QyckttWEVCSWZCQlI5SVVET255VU1TWFhWQjZieXNCN3ctVlBQNlNBSVZ2bGl6Rkt6ZHB0ay1UaWdCclR0RmZ3bkd5RU0yZzBSZlNtUVIwREd0UFRsSlpXckZUaEsxNUotUmlMeDFMempHdVVkcUZXcjdQcy1XX2xhblVHZWVIbFdmVzR0Y1NpUHEwOTkxVmExM1c4TzF0R0dIVkp3aHZTTUFoWFNwdnVFRFhNY3NxS05JM2ROUHlxTXhOZ3BnVlJna3YtYy1kZlZKa2Z5a3h1UnUxbTAwXS0tPjwvZz48L3N2Zz4='>

<p>這邊我用最簡單的表示，<code>SYN</code>在三方交握會是一個帶有序列號(n)的請求，而<code>ACK</code>則是代表回應對方我們這邊收到的訊號，會帶有 n+1 的數字回傳。</p>
<p>在三方交握中，會先由 Client 告訴 Server 現在它要連線並給一個數字，回傳時會送 n+1 的原因是避免在請求的過程中因各種因素導致回來的值錯誤時的一個防範機制，用 <code>+1</code> 這個做法來確保對方給的回傳值是我剛剛送出去的值 +1，避免連線過程中混亂。</p>
<p>簡單的記法就是從 Client 先送一個數字 N 給 Server，而回傳時一定是給 N+1 並且帶著一個 M，Client 收到後確認完則在回傳 M+1 讓 Server 也確定 CLient 收到了，完成三次連線。</p>
<h3 id="Bonus-為什麼不兩次或四次交握呢？"><a href="#Bonus-為什麼不兩次或四次交握呢？" class="headerlink" title="Bonus - 為什麼不兩次或四次交握呢？"></a>Bonus - 為什麼不兩次或四次交握呢？</h3><p>經過上述的流程，一定是一個發(SYN)，一個收完後告訴對方它收到(ACK)，那如果是只有<code>兩次</code>， Client 會不知道 Server 收到沒，導致這次連線失敗。</p>
<p>然後四次、五次、六次其實都是可以做到的，但只是工程師在實作東西時都會盡可能的精簡它，所以為了不浪費系統資源，因此最低次數就是<code>三次</code>！🎉</p>
<h2 id="斷開連線-四次揮手-Four-Way-Wavehand"><a href="#斷開連線-四次揮手-Four-Way-Wavehand" class="headerlink" title="斷開連線 - 四次揮手(Four-Way Wavehand)"></a>斷開連線 - 四次揮手(Four-Way Wavehand)</h2><blockquote>
<p>四次揮手是用 FIN 以及 ACK 當作 請求 以及 回應</p>
</blockquote>
<p><img src="https://i.imgur.com/wZk7hoS.png" alt="https://i.imgur.com/wZk7hoS.png"></p>
<blockquote>
<p>圖片<a href="(https://kknews.cc/code/yr9ng6j.html)">參考</a></p>
</blockquote>
<blockquote>
<p>Client &#x3D; 1, Server &#x3D; 2 的話，順序就是 1 - 2 - 2 - 1</p>
</blockquote>
<p>我了解這部分的方法是</p>
<h4 id="每個關閉連線時都需要等待"><a href="#每個關閉連線時都需要等待" class="headerlink" title="每個關閉連線時都需要等待"></a>每個關閉連線時都需要等待</h4><p>所以向 Client 送請求(<code>FIN</code>)到 Server 會先告訴 Client 已經收到(<code>ACK</code>)，處理完後再送一個請求給 Client，Client 最後就在回應 Server 告訴他能關閉來斷開連線。</p>
<p>因為是在第三步驟最後回應時需要等待 Server 的主動發送，因此交握的最低數量就變成<code>4</code>了。</p>
<p>基本上跟三方交握流程是一樣的，差別在於到 Server 時不會馬上告訴 Client 等等要回應的值(N)是多少，而是等 ACK 完後過一陣子才回傳 publish FIN flag。</p>
<p>詳細可以參考<a href="https://kknews.cc/code/yr9ng6j.html">這篇</a></p>
<h1 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h1><p>經過了上面無情摧殘後，接下來就是要認識 SSL 這個安全機制了。</p>
<p><img src="https://i.imgur.com/5tk4osI.png"></p>
<p>除非你的網站內容是全靜態輸出，完全沒串任何 API，否則沒有 SSL 安全性實在是嚴重不足啊！因為沒有 SSL 的網站會享有<a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB">中間人攻擊</a>的優惠，那既然那麼重要接著就來介紹吧！</p>
<blockquote>
<p>這裡會簡單敘述一下流程以及功能，但詳細的還是要參考其他部落格詳細的文章喔！</p>
</blockquote>
<h2 id="SSL-有的裝備"><a href="#SSL-有的裝備" class="headerlink" title="SSL 有的裝備"></a>SSL 有的裝備</h2><p>SSL 申請時一般都會給三種東西，公鑰(Public key)、私鑰(Private key)、CA(Certificate authority)</p>
<ol>
<li>公鑰是 Server 發給信任裝置使用的鑰匙</li>
<li>私鑰則是解開來自信任裝置加密封包的鑰匙</li>
<li>CA 是 Server 的證書，用來確認 Server 的合法性，若只拿私鑰來解也會含有中間人攻擊的問題</li>
</ol>
<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p><img src="https://i.imgur.com/oeLkNoP.png" alt="https://i.imgur.com/oeLkNoP.png"></p>
<blockquote>
<p>圖片參考<a href="http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html">阮一峰的部落格</a></p>
</blockquote>
<p>Visitor 就等於前面文章提到的 Client，而 CloudFlare 則等於 Server 端。</p>
<ol>
<li>Client 把一個<code>隨機數</code>並發送給 Server</li>
<li>Server 在產生一組<code>隨機數+公鑰</code>給 Client</li>
<li>Client 利用收到的<code>隨機數+公鑰</code>加密資料回傳給 Server</li>
<li>Server 用<code>私鑰</code>來解開資料</li>
<li>拿著上圖灰色虛線的東西來產生 Session Key 確認對方</li>
</ol>
<blockquote>
<p>隨機數用意為讓密鑰每次產生都不一樣</p>
</blockquote>
<h2 id="SSL-小結"><a href="#SSL-小結" class="headerlink" title="SSL 小結"></a>SSL 小結</h2><p>這邊沒有提太多實作跟詳細內容，但看著上述的流程來說有沒有覺得其實跟<code>三方交握</code>很像，差別在於 Server 端回傳時有多給 Client 一個公鑰(Public Key)，所以再記這部分時，利用三方交握來理解這件事情，基本上就如魚得水了！😊</p>
<h1 id="OAuth"><a href="#OAuth" class="headerlink" title="OAuth"></a>OAuth</h1><p>接著就一起陪我釐清 OAuth 吧！</p>
<h2 id="說明"><a href="#說明" class="headerlink" title="說明"></a>說明</h2><p>讓客戶端能以 OAuth 開放標準在第三方應用程式上透過授權(Authorization)的方式取得在服務提供商(LINE、Facebook、Google…)的資料(檔案、照片、影片…)。</p>
<h2 id="擁有四種角色"><a href="#擁有四種角色" class="headerlink" title="擁有四種角色"></a>擁有四種角色</h2><ul>
<li>Resource Owner(簡稱 RO)：可以授權於<code>終端用戶</code>存取受保護之資料。</li>
<li>Resource Server(簡稱 RS)：存取受保護資料的地方，根據 Access Token 之權限處理請求。</li>
<li>Client：代表使用者去存取受保護資料的應用程式。Client 指任何在 Server 端、桌面或設備上執行的應用程式。</li>
<li>Authorization Server(簡稱 AS)：職責為認證過使用者的身份，且經由使用者許可後，就會簽發 Access Token 的地方。</li>
</ul>
<h2 id="流程-1"><a href="#流程-1" class="headerlink" title="流程"></a>流程</h2><p>以下為一個 OAuth 的流程:</p>
<figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">+--------+                               +---------------+</span><br><span class="line">|<span class="string">        </span>|<span class="string">--(1)- Authorization Request -&gt;</span>|<span class="string">   Resource    </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">                               </span>|<span class="string">     Owner     </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">&lt;-(2)-- Authorization Grant ---</span>|<span class="string">               </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">                               +---------------+</span></span><br><span class="line">|<span class="string">        </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">                               +---------------+</span></span><br><span class="line">|<span class="string">        </span>|<span class="string">--(3)-- Authorization Grant --&gt;</span>|<span class="string"> Authorization </span>|</span><br><span class="line">|<span class="string"> Client </span>|<span class="string">                               </span>|<span class="string">     Server    </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">&lt;-(4)----- Access Token -------</span>|<span class="string">               </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">                               +---------------+</span></span><br><span class="line">|<span class="string">        </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">                               +---------------+</span></span><br><span class="line">|<span class="string">        </span>|<span class="string">--(5)----- Access Token ------&gt;</span>|<span class="string">    Resource   </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">                               </span>|<span class="string">     Server    </span>|</span><br><span class="line">|<span class="string">        </span>|<span class="string">&lt;-(6)--- Protected Resource ---</span>|<span class="string">               </span>|</span><br><span class="line">+--------+                               +---------------+</span><br></pre></td></tr></table></figure>

<h2 id="小故事"><a href="#小故事" class="headerlink" title="小故事"></a>小故事</h2><p>以下會分別用四個角色代替他們：<br>Client &#x3D; A 員工、RO &#x3D; 大樓警衛、AS &#x3D; 公司櫃檯、RS &#x3D; 倉庫</p>
<p>並用小故事說明，情境是員工假日需返回公司倉庫拿取零件，但是卻沒帶公司的證件，而公司是在商業辦公室中，大樓警衛認不得這麼多間公司的人，因此需要按照基本流程才能進公司拿取資料，A 員工抵達商辦大樓後：</p>
<ol>
<li>A 員工拿證件出來並填寫基本資料的單子給警衛 (發送請求)</li>
<li>警衛確認完後拿了一個暫時性的鑰匙(<code>code</code>)給 A 員工</li>
<li>A 員工拿著暫時性鑰匙(<code>code</code>)跟公司櫃檯</li>
<li>櫃檯將臨時鑰匙(<code>code</code>)換成公司的門禁卡(Access Token)</li>
<li>A 員工去倉庫使用門禁卡(Access Token)開倉庫門</li>
<li>倉庫門打開後 A 員工從裡面拿取自己需要的零件(Protected Resource)</li>
</ol>
<blockquote>
<p>透過這樣的解釋應該比較好懂吧 ❓</p>
</blockquote>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>看著流程圖，有沒有覺得它還是很像三方交握嗎？只是 Server 端功能切開變成微服務的樣子，並透過三個步驟來獲取 Server 的資源，如此一來會不會覺得這樣親切點呢？</p>
<p>希望能藉由文章的敘述讓你能更快速點了解這些玩意兒。</p>
<h1 id="OpenID-Connect"><a href="#OpenID-Connect" class="headerlink" title="OpenID Connect"></a>OpenID Connect</h1><p>大家寫了這麼多 side project，對 OAuth 的見聞與使用一定不在其數，但實際上在做像是 LINE Login、Facebook、Google 這類型的 Single Sign On(SSO) 的服務時很常誤以為 <code>SSO == OAuth</code>，答案是錯的，SSO 這件事情本身是由 OpenID 來實現，對於實際的原由呢，這邊有<a href="https://medium.com/@petertc/openid-connect-a27e0a3cc2ae">很詳細的介紹</a>，這邊就不贅述。</p>
<p>主要的核心我覺得要記得這件事：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">OpenID</span> Connect 是認證（Authentication），OAuth <span class="number">2</span>.<span class="number">0</span> 則是授權（Authorization）</span><br></pre></td></tr></table></figure>

<p>一般來說只要搞懂這兩個字的意思，並透過實作經驗加上記得文件內容，就會對於 OpenID 以及 OAuth 個別的職責是什麼很清楚。</p>
<p><img src="https://i.imgur.com/WghYZJM.png"></p>
<blockquote>
<p>這邊一樣參考 petertc 的<a href="https://medium.com/@petertc/openid-connect-a27e0a3cc2ae">文章</a></p>
</blockquote>
<p>上圖流程可能太複雜，這裡簡單敘述一下，就是他流程基本上與 OAuth 差不多，因為 OpenID 就是在 OAuth 上加一層<code>使用者認證層(User Identify Layer)</code>，若記得上述 OAuth 的話，OpenID 會在取得 Access Token 的同時取得一個 ID Token，以下說明一下 ID Token：</p>
<p>ID Token 一般比較常見是 Json Web Token(JWT) 的格式，使用者的資訊一般都會放在這邊，只要拿到了這個就可以跟資料庫去 mapping 就能做使用者管理囉 ❗️</p>
<h2 id="小結-1"><a href="#小結-1" class="headerlink" title="小結"></a>小結</h2><p>OpenID 其中一部分解決了 OAuth scope 這參數定義的問題，在 OpenID 還沒出來之前這個時基本上是服務提供商說的算，眾說紛紜的話那就損失了公信力，因此 OpenID 的 scope 除了要必須輸入 <code>openid</code> 以外呢，他還有規定可以輸入<code>email</code>、<code>phone</code>、<code>profile</code>，因此在有規範後在串接第三方服務後就不會各說各的啦！</p>
<p>此外這邊需要再重複一次，OpenID 是<code>驗證</code>與各戶端的交握過程後並給初使用者資料，而 OAuth 則是<code>授權</code>於應用程式可以取用服務中的某個資料(從倉庫拿貨)，如此一來就能較有效的記得 OpenID 與 OAuth 的差異囉！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在這些熱門面試題中往往是準備不完的 😅，但如何有效的記得這些東西的步驟卻是很重要，畢竟不可能只把 HTTP、SSL、OpenID、OAuth 讀完面試就過了吧？還有演算法、資料庫 這些哩哩摳摳的需要釐清，當然這邊是整理出我自己的紀錄方法，希望能透過我的方法讓你能夠更快速的釐清這些功能，但看完了各個文章後還是記得要看官方文件，把真正的東西學進去才是對自己有益的喔！</p>
<p>那本篇就先記錄到這，希望大家能有收穫 😁</p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Http</tag>
        <tag>SSL</tag>
        <tag>OAuth</tag>
        <tag>OpenID</tag>
      </tags>
  </entry>
  <entry>
    <title>【LINE API 的小眉角】feat. Flex message, LIFF, Richmenu, Provider</title>
    <url>/2020/04/11/LINE-Flex-message-LIFF-Richmenu-Provider/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/HHj7c5Kl.jpg" alt="birds"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因為遇到了很多不算坑的坑(<del>說啥呢？</del>)，有些是文件沒有寫而有些可能是我沒有注意到的，但既然都知道了就乾脆記下來吧！</p>
<h1 id="LIFF-reply-到底算不算收費？"><a href="#LIFF-reply-到底算不算收費？" class="headerlink" title="LIFF reply 到底算不算收費？"></a>LIFF reply 到底算不算收費？</h1><blockquote>
<p><a href="https://developers.line.biz/en/docs/liff/developing-liff-apps/#developing-a-liff-app">LIFF SendMessage api</a></p>
</blockquote>
<p>字面上看起來很像 <code>Push Message</code> 的事件，但實際上是走 Flex Message，使用 Message api 的 Reply 功能來幫忙使用者發送條件引發 Bot 行為，並非是透過 Push api 發送讓 Bot 反應，這邊需要多注意喔！</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">liff.sendMessages([</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">    text: <span class="string">&quot;You&#x27;ve successfully sent a message! Hooray!&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]);</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<blockquote>
<p>但是現在 LIFF 還沒有 <code>postback</code> 的功能喔！😭</p>
</blockquote>
<h1 id="Flex-button-文字-text-欄位空值問題"><a href="#Flex-button-文字-text-欄位空值問題" class="headerlink" title="Flex button 文字(text)欄位空值問題"></a>Flex button 文字(text)欄位空值問題</h1><p>flex 的 button text 的文字不能用 0 長度的字串，但可以用 <code>&#39; &#39;</code> 中間為空白鍵的字串去解決長度 0 的問題，否則會出現以上的錯誤:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Response Data -</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;message&quot;</span>: <span class="string">&quot;A message (messages[0]) in the request body is invalid&quot;</span>,</span><br><span class="line">    <span class="string">&quot;details&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;message&quot;</span>: <span class="string">&quot;must be non-empty text&quot;</span>,</span><br><span class="line">        <span class="string">&quot;property&quot;</span>: <span class="string">&quot;/contents/0/footer/contents/1/action/text&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      ...</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="User-id-的問題-Provider"><a href="#User-id-的問題-Provider" class="headerlink" title="User id 的問題 - Provider"></a>User id 的問題 - Provider</h1><p>如下圖所示，左邊為我擁有的 provider，而右邊框框則為兩個不同 provider 下屬於我的 user id，只要在同一個 provider 下 user id 都會是固定的，無論用 Login 或 Message API。<br><img src="https://i.imgur.com/gqRltSU.png"></p>
<hr>
<p><img src="https://i.imgur.com/8rXmRy7.png"></p>
<h1 id="Richmenu"><a href="#Richmenu" class="headerlink" title="Richmenu"></a>Richmenu</h1><h2 id="座標計算"><a href="#座標計算" class="headerlink" title="座標計算"></a>座標計算</h2><p>richmenu 的 x,y 是從左上(0, 0)算到右下(n, n)<br>限制:</p>
<ul>
<li>Image format: JPEG or PNG</li>
<li>Image size (pixels): 2500x1686, 2500x843, 1200x810, 1200x405, 800x540, 800x270</li>
<li>Max file size: 1 MB</li>
</ul>
<blockquote>
<p><a href="https://developers.line.biz/en/docs/messaging-api/using-rich-menus/#creating-a-rich-menu-using-the-messaging-api">參考</a></p>
</blockquote>
<h2 id="使用-link-的方式指定給特定使用者"><a href="#使用-link-的方式指定給特定使用者" class="headerlink" title="使用 link 的方式指定給特定使用者"></a>使用 link 的方式指定給特定使用者</h2><p>➡️ python API - <a href="https://github.com/line/line-bot-sdk-python/blob/master/linebot/api.py#L640">連結特定使用者</a></p>
<p>若只需要連結特定使用者的話使用這個 api，我目前使用情境有兩個</p>
<ul>
<li>Bot 裡有多重身份需要依照角色不同而給不同的 richmenu</li>
<li>實作上下頁的功能，透過讓使用者按下特定位置時觸發更新成另一張圖片</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">link_rich_menu_to_user</span>(<span class="params">self, user_id, rich_menu_id, timeout=<span class="literal">None</span></span>):</span></span><br></pre></td></tr></table></figure>

<p>➡️ python API - <a href="https://github.com/line/line-bot-sdk-python/blob/master/linebot/api.py#L661">一次連結多個使用者</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">link_rich_menu_to_users</span>(<span class="params">self, user_ids, rich_menu_id, timeout=<span class="literal">None</span></span>):</span></span><br></pre></td></tr></table></figure>

<h3 id="範例影片"><a href="#範例影片" class="headerlink" title="範例影片"></a>範例影片</h3><p><img src="https://i.imgur.com/nFA7A7p.gif"></p>
<h2 id="設定-richmenu-為預設"><a href="#設定-richmenu-為預設" class="headerlink" title="設定 richmenu 為預設"></a>設定 richmenu 為預設</h2><p>若是使用 setDefault 的話需要上一頁再回來才會更動，因為 setDefault 的行為則是對當前 Bot 的所有使用者設定，如果想要馬上變化的話則是使用上述 link 的方式哦！</p>
<h1 id="模擬-postback-在-LIFF-傳送隱藏資料給機器人"><a href="#模擬-postback-在-LIFF-傳送隱藏資料給機器人" class="headerlink" title="模擬 postback 在 LIFF 傳送隱藏資料給機器人"></a><a href="https://taichunmin.idv.tw/blog/2020-04-07-line-liff-send-hidden-data.html">模擬 postback 在 LIFF 傳送隱藏資料給機器人</a></h1><blockquote>
<p>感謝<code>均民</code>提供與授權給我記錄在我部落格上 😀</p>
</blockquote>
<p>為什麼要模擬呢？因為如同我一開始 <code>LIFF reply 到底算不算收費？</code>，LIFF 現在還沒有 <code>postback</code> 的 reply 功能，但有些事件我們不希望幫使用者打字去觸發 reply，但現在根本沒這功能那到底要怎辦呢？</p>
<p>這篇作者想到了一個<code>奇技淫巧</code>的方法，就是使用最小 size 的透明圖片(<code>png</code>)並藉由 liff.sendMessage 來發送圖片事件達到模擬 postback 狀態。</p>
<ul>
<li><a href="https://i.imgur.com/WN88L3I.png">透明圖片</a></li>
</ul>
<blockquote>
<p>詳細內容參閱 <a href="https://taichunmin.idv.tw/blog/2020-04-07-line-liff-send-hidden-data.html#yun-zuo-yuan-li">部落格</a></p>
</blockquote>
<h1 id="輔助開發-LINE-Flex-訊息的工具"><a href="#輔助開發-LINE-Flex-訊息的工具" class="headerlink" title="輔助開發 LINE Flex 訊息的工具"></a><a href="https://taichunmin.idv.tw/blog/2020-04-06-line-devbot.html">輔助開發 LINE Flex 訊息的工具</a></h1><blockquote>
<p>這部分一樣感謝<code>均民</code>提供</p>
</blockquote>
<p>通常我們在開發 LINE bot 時如果需要一些比較華麗的顯示方式時，所用的設計工具不外乎是官方出的 <a href="https://developers.line.biz/flex-simulator/"> Flex Message Simulator</a> 以及 <a href="https://developers.line.biz/en/services/bot-designer/">LINE Bot Designer</a>，前者是在網頁上直接編輯使用，後者則是可以安裝桌面版編輯測試，相較於網頁版本後者使用上比較完整，而通常設計完之後就直接塞進去 code 來做測試。</p>
<p>但總要在測試時才知道 iOS 跟 Android 的樣子有差，這篇作者幫忙做了一隻機器人可以幫忙處理這件事，當開發完一部份之後，在電腦版的 LINE 貼上 json 後，才看兩種手機所呈現的樣子是什麼，而不用做完一個功能而各別打字或是按 richmenu，但這樣實在太不符合開發流程啦，當然是在電腦版貼上去直接看手機最快啦！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>開發那麼多的 LINE API 難免會遇到 spec 沒寫或是沒注意到的地方，趁最近有空把它記錄下來分享給大家知道，或許我現在遇到的問題也會是各位遇到的問題 😆</p>
<p>如果有任何遇到的一些小眉角也歡迎到<a href="https://www.facebook.com/nijiatw">我的粉絲團</a>分享給我知道喔！</p>
]]></content>
      <categories>
        <category>Chatbot</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
        <tag>Richmenu</tag>
        <tag>Flex message</tag>
        <tag>Provider</tag>
      </tags>
  </entry>
  <entry>
    <title>【LINE】新進員工的內部訓練花絮</title>
    <url>/2020/08/17/LINE-rookie-OJT/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/WQWbTmll.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>由於今年因為疫情影響了到日本總部的新人訓練的機會，也因此 LINE Developer Relations 為大家著想就在台灣本島直接辦一場內部員工訓練(On Job Training)啦！難得有機會看到 LINE 裡 Leader 們的分享精彩的內容當然一定不能錯過啊！這次就由身為新進員工其中一員的我帶大家用文章的方式一起參加我們的活動 😃。</p>
<p><img src="https://i.imgur.com/iKeSLmF.jpg"></p>
<blockquote>
<p>看著每個禮物都好吸引人，有獎徵答才拿得到的稀有品。</p>
</blockquote>
<span id="more"></span>

<h1 id="活動開始"><a href="#活動開始" class="headerlink" title="活動開始"></a>活動開始</h1><h2 id="上半場"><a href="#上半場" class="headerlink" title="上半場"></a>上半場</h2><p>首先由 Engineer 大家長 Marco 開場帶大家了解 LINE 的源由以及整個工程部門的組織架構，過程中詳細地解釋每個部門的職責定位讓新進同仁不僅了解自己的定位外也建立起對 LINE 的認同感。<br><img src="https://i.imgur.com/IYKPtUQ.jpg"></p>
<p>在 Marco 帶大家認識完 LINE 之後，緊接著 Evan 就讓大家自我介紹啦，在這次自我介紹外還需要講出同桌的同仁們部門、興趣、姓名，雖然看似容易，但還是會有同仁還因為緊張站起來時瞬間腦筋空白講不出來同桌同仁們的基本資訊 😆， 因此大家就趕快趁其他組介紹時趕快再互相熟悉避免出糗 🤣， 雖然要在這麼短時間內認識大家不太容易，但也透過這活動也讓整個氣氛更加愉悅。<br><img src="https://i.imgur.com/U0a5Fqo.jpg"></p>
<blockquote>
<p>想知道我是誰嗎？</p>
</blockquote>
<p>在休息時間時公司還很用心的為各位準備美味的下午茶讓我們在聽活動中可以補充能量並更專心聽接下來的 keynote😊。<br><img src="https://i.imgur.com/PvxGUzK.jpg"></p>
<h2 id="中場"><a href="#中場" class="headerlink" title="中場"></a>中場</h2><p>這部分由 Security Team - Vic 為我們帶來資安相關的介紹，由於我們 LINE 是超級重視資安的公司(真的 ❗️)，從大家平常傳的訊息、員工身上的識別證、Source Code…全部都有 Security Team 的監督(怕<br>)，透過一直宣導也是避免同仁們因為沒注意或是不當使用導致公司相關損失，且也透過實際的 Bug Bounty (資安獎勵金) 告訴大家會之前的同仁因為自己的失誤讓駭客有機會透過一些方法獲取資源來拿取獎勵金，因此大家在使用公司任何資源時都要再三注意自己的行為是否會影響到公司 👀。<br><img src="https://i.imgur.com/miibPaI.png"></p>
<p>除了本身每個月參加外部小聚聆聽外部講者的主題外，能在參與內部活動並且聽到在公司內已經上線的系統運作的細節實屬難得，過程中除了講者的用心分享 DevOps 相關技能樹外還能邊吃著下午茶邊聽，真的是一個很不一樣的體驗呢！<br><img src="https://i.imgur.com/KknPgT0.jpg"></p>
<p>在前面組織介紹中 Marco 提到 LINE 擁有超多的專案，而我們每項產品都是相當注重品質驗證的部分，因此在每個專案中都會擁有好幾位品質驗證夥伴參與其中，而這部分由 QA Lead - Marc 帶大家更詳細的一一介紹在品質驗證時所需要注意的事項與工具使用的部分。<br><img src="https://i.imgur.com/NOh7bqt.jpg"></p>
<hr>
<p><img src="https://i.imgur.com/hYEnx4R.jpg"></p>
<blockquote>
<p>認真聽台上 Leader 們演講的同仁們 😃</p>
</blockquote>
<h2 id="下半場"><a href="#下半場" class="headerlink" title="下半場"></a>下半場</h2><p>講到 LINE 不可能不知道 Chatbot 相關的技能，這部分就由 Kenny 簡短的帶大家快速了解 Messaging、LIFF、Beacon 相關的資訊，而這部分除了在社群中學到基本的 API 部分外，也了解到因為不同專案需求而開發的工具有這麼多不同的樣貌，完全打破我對於一般 Chatbot 的認知 👍，對這方面有興趣加入 LINE 就知道囉 😃。</p>
<p><img src="https://i.imgur.com/tbJSEsX.jpg"></p>
<p>最後就由 Data Team Lead - Shawn Tsai 帶大家了解一下公司內部 AI 相關的使用以及運作流程，從客服小幫手、訊息查證到每個服務之間的相關運用，過程中除了了解相關知識外還時不時的丟出個問題讓大家有獎徵答，讓大家為了獎品很專心的聽講 😆。</p>
<p><img src="https://i.imgur.com/ubKdXOw.jpg"></p>
<blockquote>
<p>只要手持禮物大家眼睛就為之一亮</p>
</blockquote>
<p>最後就以手足球的比賽讓大家互相廝殺，為了獎品想盡辦法合作取勝，可惜的是我在這次淘汰賽中的第二輪就被刷掉了，同事們的實力真的是深不可測，每一位都說沒玩過應該是騙人的吧 😂。<br><img src="https://i.imgur.com/wOw50HQ.jpg"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>藉由這充實的禮拜五 On Job Training 活動讓我能夠更了解每個部門所負責的部分，雖然因為產品專案太多沒辦法一一邀請來介紹(時間也不夠)，但往後還會有許多相關的活動有機會可以聆聽，且在 LINE 裡面擁有許多相關的課程資源等著大家去上，有機會的話也歡迎看文章的大家一起加入 LINE 的大家族 🤙！<br><img src="https://i.imgur.com/dZRj1SL.jpg"></p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>研討會</tag>
      </tags>
  </entry>
  <entry>
    <title>COSCUP 2020 年會 - LINER 工程團隊的議程分享</title>
    <url>/2020/08/06/LINE-at-COSCUP-2020/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/1hFoD0h.jpg"></p>
<h1 id="什麼是-COSCUP？"><a href="#什麼是-COSCUP？" class="headerlink" title="什麼是 COSCUP？"></a>什麼是 COSCUP？</h1><p>大家好，我是 LINE Taiwan Technology Evangelist – NiJia Lin。很高興這次能以 LINER 身份於 8&#x2F;1、8&#x2F;2 參加 COSCUP 2020，並體驗開源社群充滿熱忱與活力的氛圍！<a href="https://coscup.org/2019/">COSCUP</a>  是亞洲最大的開源會議之一，自 2006 年開始由開源社群舉行的年度會議，也是台灣自由開源軟體運動 (FOSSM) 的主要倡導者。COSCUP 包含演講、贊助商、社群攤位，以及 BoF 社群同樂會等，COSCUP 的宗旨在於提供一個聯結開放原始碼開發者、使用者與推廣者的平台。</p>
<blockquote>
<p>感謝台灣的防疫英雄們的努力讓大家有機會參加線下的研討會，也辛苦大會在行前的各種宣導與措施，讓這次 COSCUP 可以圓滿結束！</p>
</blockquote>
<ul>
<li>2019 COSCUP 文章參考：<a href="https://engineering.linecorp.com/zh-hant/blog/line-coscup-2019/">https://engineering.linecorp.com/zh-hant/blog/line-coscup-2019/</a></li>
</ul>
<p>以下為大家帶來這次 LINE 的三個講者分別為大家帶來的內容分享 😃</p>
<span id="more"></span>

<h1 id="How-We-Integrate-and-Develop-Private-Cloud-in-LINE-Gene-Kuo"><a href="#How-We-Integrate-and-Develop-Private-Cloud-in-LINE-Gene-Kuo" class="headerlink" title="How We Integrate and Develop Private Cloud in LINE - Gene Kuo"></a><a href="https://coscup.org/2020/zh-TW/agenda/PZPMCR">How We Integrate and Develop Private Cloud in LINE</a> - Gene Kuo</h1><p><img src="https://i.imgur.com/XpyZt4Z.jpg"></p>
<script async class="speakerdeck-embed" data-id="efd3904c14f7400cbbd4e62553e3976b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>由我們 Verda Platform Development Team 的 LINEr - Gene Kuo 在 Cloud Native Hub 分享一個遠端的議程。</p>
<p>首先提到了為什麼 LINE 需要選擇自己的 private cloud(LINE 裡稱為 Verda)，並且對比 public cloud 相對應的問題：</p>
<table>
<thead>
<tr>
<th>Question</th>
<th>Private</th>
<th>Public</th>
</tr>
</thead>
<tbody><tr>
<td>花費</td>
<td>可掌控</td>
<td>不易掌控</td>
</tr>
<tr>
<td>靈活度</td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td>開發</td>
<td>As a developer</td>
<td>As a proxy</td>
</tr>
<tr>
<td>需求處理</td>
<td>討論價值在哪</td>
<td>只能 Yes&#x2F;No</td>
</tr>
</tbody></table>
<h2 id="Verda-的-High-Level-Architecture"><a href="#Verda-的-High-Level-Architecture" class="headerlink" title="Verda 的 High Level Architecture:"></a>Verda 的 High Level Architecture:</h2><p>這部分講者快速講解了 IaaS、PaaS、FaaS 個別在層級上使用的用途。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="efd3904c14f7400cbbd4e62553e3976b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="LINE-擁有-2000-Hypervisor-50000-VMs-20000-實體主機"><a href="#LINE-擁有-2000-Hypervisor-50000-VMs-20000-實體主機" class="headerlink" title="LINE 擁有 2000+ Hypervisor, 50000+ VMs, 20000~ 實體主機"></a>LINE 擁有 2000+ Hypervisor, 50000+ VMs, 20000~ 實體主機</h2><p>早期的服務已經擁有許多的主機群，因此運用既有的資源建立 private cloud，搭配軟硬體可以取得更多的好處。</p>
<script async class="speakerdeck-embed" data-slide="12" data-id="efd3904c14f7400cbbd4e62553e3976b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="困難點"><a href="#困難點" class="headerlink" title="困難點"></a>困難點</h2><script async class="speakerdeck-embed" data-slide="14" data-id="efd3904c14f7400cbbd4e62553e3976b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接下來提到了整合 OpenStack 到 Verda 時帶來的挑戰與困難點，這裡提到的是與普羅大眾的 open source 一樣會遇到的問題，以下大概列出這次提到的困難點部分：</p>
<ul>
<li>Feature</li>
<li>政策問題</li>
<li>內部元件整合</li>
<li>版本升級</li>
<li>開發與除錯複雜度</li>
<li>在大架構下的效能問題</li>
</ul>
<p>在使用中上沒辦法 100% 相容，因此需要自己開發 patch 來支援，例如： Quota 控制(eg. GPU &#x2F; MEM &#x2F; CPU allocation)，但開發有一定數量的 patch 後很有可能會在下次改版是 conflict，所以因此要降低客製化的需求避免衝突問題，同時也需要管理 patches 並分類它們。</p>
<p>使用大量的 solution 讓大家知道解法帶來的效益：</p>
<script async class="speakerdeck-embed" data-slide="20" data-id="efd3904c14f7400cbbd4e62553e3976b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>最後帶大家了解團隊內開發 Openstack 時的 workflow：</p>
<script async class="speakerdeck-embed" data-slide="29" data-id="efd3904c14f7400cbbd4e62553e3976b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在這個議程中充分的說明 private &amp; public cloud 優劣，並用大量的範例來說明 Verda 在 private cloud 裡所會遇到的困難與挑戰，最後就快速 Demo 帶大家了解 custom-source 的存放以及 git review 上的功能展示。</p>
<p>若有興趣的朋友歡迎參閱我們的文章： <a href="https://engineering.linecorp.com/en/blog/verda-platform-team/">https://engineering.linecorp.com/en/blog/verda-platform-team/</a></p>
<h1 id="The-productivity-brought-by-Clojure-Laurence-Chen"><a href="#The-productivity-brought-by-Clojure-Laurence-Chen" class="headerlink" title="The productivity brought by Clojure - Laurence Chen"></a><a href="https://coscup.org/2020/zh-TW/agenda/CFSTWL">The productivity brought by Clojure</a> - Laurence Chen</h1><iframe src="//www.slideshare.net/slideshow/embed_code/key/hFD5ddH6NrHXUX" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/humorless/the-productivity-brought-by-clojure-149170292" title="The productivity brought by Clojure" target="_blank">The productivity brought by Clojure</a> </strong> from <strong><a href="https://www.slideshare.net/humorless" target="_blank">Laurence Chen</a></strong> </div>

<p>Clojure 有以下特性：</p>
<ol>
<li>REPL-driven development</li>
<li>Immutable data structure</li>
<li>Composable functions</li>
<li>Immutable database</li>
</ol>
<h2 id="語言比較"><a href="#語言比較" class="headerlink" title="語言比較"></a>語言比較</h2><p>講者接著以 JS 為例說明在大部分 <a href="https://en.wikipedia.org/wiki/M-expression">M-expression</a> 語言特性中與 <a href="https://en.wikipedia.org/wiki/S-expression">S-expression</a> 的差異，並用 tree 的方式為大家快速介紹。</p>
<ul>
<li>由於 Clojure 是 immutable data structure，因此大部分狀況下都是 copy on write。</li>
</ul>
<p><img src="https://i.imgur.com/5nevVHF.png"></p>
<ul>
<li>若有更動到 tree 上的 node，則改動的部分會生成新的 node，其他沒有更動到的則直接 reference。</li>
<li>相對減省許多 memory。</li>
</ul>
<p>接著講解了其他語言有不一致的相關 function name 會讓開發者在記憶時比較痛苦，再使用 Clojure 的範例帶大家了解這部分是如何處理這部分。</p>
<p><img src="https://i.imgur.com/iLIIEEF.png"></p>
<h2 id="Record-function-time"><a href="#Record-function-time" class="headerlink" title="Record function time"></a>Record function time</h2><p>以往為了量測 function 執行時間時則需放入兩個 Timer 才可以計算出執行時間，而 Clojure 只需要在 vim 上輸入 <code>(time doSomething)</code> 即可馬上算出 function 執行時間(真的很方便)。</p>
<p><img src="https://i.imgur.com/MZZGvxl.jpg"></p>
<blockquote>
<p>開發上若是括號上的問題並是使用 vim 開發的話可以<a href="http://irongateinfo.blogspot.com/2017/02/clojure-vim-rainbow-parentheses-cljfmt.html">參考這篇</a></p>
</blockquote>
<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p>使用範例帶大家快速的認識 Clojure 的好處：<br><img src="https://i.imgur.com/MoXAea0.jpg"></p>
<p><img src="https://i.imgur.com/UDACfbi.jpg"></p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>藉由講者深入淺出的敘述讓我在議程中能夠快速的了解 Clojure，並且從分享中可以感覺到若已經習慣兩種生態的開發者其實若使用 Clojure 開發產品的話產出說不定真的比其他語言的開發速度快上許多，增加 30% productivity 一定是不為過的，且在這場演講中講者用很實際的例子帶大家了解兩邊的差異，之後有機會不妨到 <a href="https://clojure.tw/">Clojure.tw</a> 找講者討論吧！</p>
<h1 id="Lotify-a-python-SDK-for-LINE-Notify-NiJia-Lin-就是我"><a href="#Lotify-a-python-SDK-for-LINE-Notify-NiJia-Lin-就是我" class="headerlink" title="Lotify: a python SDK for LINE Notify - NiJia Lin (就是我)"></a><a href="https://coscup.org/2020/zh-TW/agenda/KNJDWQ">Lotify: a python SDK for LINE Notify</a> - NiJia Lin (就是我)</h1><p><img src="https://i.imgur.com/tuGOdi1.jpg"></p>
<script async class="speakerdeck-embed" data-id="733b207481c441adab9cac7d241efc29" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h2><p>既然這次演講是實作 LINE Notify SDK，那一定得先了解一下 LINE Notify 究竟含有什麼功能。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="733b207481c441adab9cac7d241efc29" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>並且搭配著一些在開源環境下適合使用場景的範例：</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="733b207481c441adab9cac7d241efc29" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE Notify 可以送以下四種類型的訊息：</p>
<ul>
<li>Text</li>
<li>Sticker</li>
<li>Image url</li>
<li>Image file</li>
</ul>
<p>接著比較 Lotify 與其他 Pypi 上的 LINE Notify packages 差異，許多套件只實作出發送功能卻沒做模組化發送訊息、認證流程、單元測試，因此我在 SDK 上將這些功能加入進去，並且借鏡 <a href="https://github.com/line/line-bot-sdk-python">line-bot-sdk-python</a> 的測試手法來確保 SDK 品質。</p>
<script async class="speakerdeck-embed" data-slide="21" data-id="733b207481c441adab9cac7d241efc29" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="做一個-open-source-需要注意的細節"><a href="#做一個-open-source-需要注意的細節" class="headerlink" title="做一個 open source 需要注意的細節"></a>做一個 open source 需要注意的細節</h2><ul>
<li>版本控制：讓關注專案的人可以清楚知道在每次 release 中修改了什麼內容，讓專案的管理有可控性。</li>
<li>上傳至 Pypi 的設定檔：在這次的開發中於此部分卡了許久，分享步驟讓大家少走點冤望路。</li>
</ul>
<script async class="speakerdeck-embed" data-slide="43" data-id="733b207481c441adab9cac7d241efc29" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><p>切割 requirements.txt 環境帶來的好處：若專案越來越大時切割環境是必要的，否則很容易污染貢獻者的環境導致開發不順。</p>
</li>
<li><p>整合 Tox 與 Travis 確保 SDK 品質：Lotify 中整合了 Travis 來跑每次 commit 時的單元測試，避免改壞程式影響到其他專案。</p>
</li>
<li><p>Badge 帶來的重要性 - 以 Travis 為例：透過 Badge 讓使用者可以再看 README 時就清楚知道訊息，支援版本、LICENSE、測試狀態…</p>
</li>
</ul>
<script async class="speakerdeck-embed" data-slide="51" data-id="733b207481c441adab9cac7d241efc29" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><p>LICENSE 的重要性：保護專案與增加可信度。</p>
</li>
<li><p>使用 Heroku 做一鍵式部署：讓有興趣的朋友可以快速上手你的 SDK，增加活躍度。</p>
</li>
</ul>
<script async class="speakerdeck-embed" data-slide="58" data-id="733b207481c441adab9cac7d241efc29" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="小結-1"><a href="#小結-1" class="headerlink" title="小結"></a>小結</h2><p>透過這次的議程希望可以讓聽眾從 <code>遇到問題</code>、<code>分析問題</code>、<code>解決問題</code>到<code>文件細節</code>的每個步驟的重要性，若你現在使用 python 並也在開發 LINE Notify，不妨試試看 <a href="https://github.com/louis70109/lotify">lotify</a> 並用星星支持它吧！</p>
<p><img src="https://i.imgur.com/zP6BRFT.png"></p>
<h1 id="活動總結"><a href="#活動總結" class="headerlink" title="活動總結"></a>活動總結</h1><p><img src="https://i.imgur.com/JAPBjX7.jpg"></p>
<p>因為擁有這些熱情的社群議程讓 COSCUP 更加精彩，若你手邊有作品的話考慮來社群與大家分享，除了交流技術外也可以認識許多新朋友喔！心動不如馬上行動 🏃‍♂️：</p>
<ul>
<li><a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot Developer Taiwan</a></li>
<li><a href="https://www.facebook.com/groups/cloudnative.tw/">Cloud Native Taiwan User Group</a></li>
<li><a href="https://clojure.tw/">Clojure.tw</a></li>
</ul>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://i.imgur.com/gxHgAzB.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Verda</tag>
        <tag>Lotify</tag>
        <tag>Clojure</tag>
      </tags>
  </entry>
  <entry>
    <title>2020 MOPCON 心得分享</title>
    <url>/2020/11/02/MOPCON-2020/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan Technology Evangelist - NiJia Lin，在大概三、四月那投稿了 MOPCON，經過漫長的等待在 10&#x2F;24 這天有機會被邀請至濁水溪以南最大的技術研討會，除了與大家分享實作 <a href="https://github.com/louis70109/lotify">Lotify</a> 以及 Swagger 的使用經驗，並帶大家多認識研討會所帶來的魅力！</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="Lotify"><a href="#Lotify" class="headerlink" title="Lotify"></a>Lotify</h2><script async class="speakerdeck-embed" data-slide="2" data-id="652942832db145c380f49b065b7f0918" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE 的衷旨以「CLOSING THE DISTANCE」建構了許多大家日常所會使用的服務來拉近人與人的距離，從 LINE TAXI、MUSIC、TODAY…等等大家生活中常見的服務，但這些大服務都有個共通點，就是需要通知使用者得知最新的消息(新聞、歌曲、優惠卷)，只是平常若要做通知這件事，最直覺的想法可能是開發一個 APP，但是開發成本較高且還要使用者願意安裝 APP，因此大家可以使用 LINE Notify 來取代這件事，以下快速介紹他的優點。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="652942832db145c380f49b065b7f0918" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>由 LINE 提供</li>
<li>無需另外安裝 APP</li>
<li>單向通知(From LINE to user)</li>
<li>OAuth 2.0</li>
</ul>
<p>常見的用途如下：</p>
<ul>
<li>Production 環境監控</li>
<li>購物通知</li>
<li>Server 健康度通知</li>
<li>程式碼倉庫訊息通知(Github、Gitlab)</li>
<li>天氣</li>
</ul>
<blockquote>
<p>Lotify 詳細用途請參考<a href="https://github.com/louis70109/lotify/blob/master/README-zh_TW.md">中文文件</a>(感謝網友貢獻)</p>
</blockquote>
<blockquote>
<p>更詳細的介紹請參考：<a href="https://engineering.linecorp.com/zh-hant/blog/line-coscup-2020/">COSCUP 2020 年會 – LINE 工程團隊的議程分享</a></p>
</blockquote>
<h2 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h2><h3 id="好處"><a href="#好處" class="headerlink" title="好處"></a>好處</h3><ul>
<li>文件化 API，還可試用(團隊可以它為標準)</li>
<li>支援 YAML 以及 JSON</li>
<li>flask 推薦 flask-restful-swagger-2</li>
</ul>
<blockquote>
<p>可參考我的範例程式 - <a href="https://github.com/louis70109/lotify-swagger-example">lotify-swagger-example</a></p>
</blockquote>
<h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><p>寫完 Swagger 文件之後當然不是只有上述的好處，可以使用工具快速透過 Swagger 產生出其他語言的 SDK 提供不同團隊成員使用，這邊我使用 <a href="https://github.com/OpenAPITools/openapi-generator">openapi-generator</a> 來做範例使用，當你透過 <a href="https://github.com/louis70109/lotify-swagger-example">lotify-swagger-example</a> 將服務佈屬起來時，透過以下指令即可快速建立第一個範例：</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">openapi-generator <span class="keyword">generate</span> -i https:<span class="comment">//HEROKU_URL.herokuapp.com/api/swagger.json -g javascript -o lotifySampleApi</span></span><br></pre></td></tr></table></figure>

<p>接著就會看到 <code>lotifySampleApi</code> 這個資料夾，透過裡面的 README 的說明操作即可馬上使用產生出來的 SDK(依照不同語言有不同的使用方式)，若要馬上測試可以放上 GitHub(or Gitlab) 之類的地方安裝看看是否成功。</p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><script async class="speakerdeck-embed" data-slide="32" data-id="652942832db145c380f49b065b7f0918" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>若對於相關使用有興趣不妨使用這個專案來試試看吧！</p>
<h1 id="場外活動"><a href="#場外活動" class="headerlink" title="場外活動"></a>場外活動</h1><p>這次 Chatbot 攤位也有來 MOPCON 擺攤！且這次負責人 - KoKo 很用心的使用 LIFF 設計了刮刮卡體驗，吸引了許多會眾前往攤位體驗，完整展現了社群人的精神啊！</p>
<p><img src="https://nijialin.com/images/2020/mopcon/1.PNG"></p>
<p>被<del>刮刮卡</del>社群吸引的會眾們，聽每個熱情的社群分享他們的理念，彼此交流想法讓資訊圈可以更活絡！👏<br><img src="https://nijialin.com/images/2020/mopcon/2.PNG"></p>
<p>精彩的 Unconference，看到上面的題目就知道野生的強者就藏在這裡面！<br><img src="https://nijialin.com/images/2020/mopcon/3.PNG"></p>
<p>Unconference 的設計真的很讚，讓大家(講者、會眾)以一個較輕鬆的心情來分享與聆聽，互相交流變出更多不一樣的想法，讓作品可以注入更多的元素。<br><img src="https://nijialin.com/images/2020/mopcon/5.PNG"></p>
<p>每個聽的人數都超級多，不愧是南部最大的研討會 😲<br><img src="https://nijialin.com/images/2020/mopcon/9.PNG"></p>
<h2 id="小結-1"><a href="#小結-1" class="headerlink" title="小結"></a>小結</h2><p>研討會除了聽議程學習新技術外，場外活動也都是相當精彩的部分，透過與各個領域的朋友交流了解不同面向所帶來的影響(成效)，從解決技術問題～籌備社群，當中都有各種辛酸史，大家若對社群有想法，歡迎來社群月會交流或聯繫管理者們～</p>
<ul>
<li><a href="https://www.facebook.com/groups/chatbot.tw">Chatbot TW</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2020/mopcon/10.PNG"></p>
<p>因為其他活動的關係只能在 MOPCON 停留一天，從以前只能在台下聽大神們的精彩分享到自己也有機會上台分享，藉由這次的前往 MOPCON 的經驗中學習到如何調整內容讓大家可以較快理解，並與路上的各位社群朋友交流了解不同區域的社群型態，期許各個領域的資訊技術可以在每個地方都有討論區可以互相交流。😊</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>MOPCON</tag>
        <tag>DevRel</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>Python - operator</title>
    <url>/2020/01/07/Python-operator/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近在實作需要處理字串並且把它改成真實的<code>判斷式</code>，找 google 的過程中找到了<a href="https://stackoverflow.com/questions/1740726/turn-string-into-operator">一篇解答</a>，當中剛好看到 <a href="https://docs.python.org/3/library/operator.html">Operator</a> 這個套件，以下就用一些範例來示範～</p>
<h1 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h1><p>處理的範例: <code>1=1AND2&lt;5OR8&gt;9</code></p>
<p>可以使用<code>re</code>把字串處理成陣列</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">re.split(<span class="string">&quot;AND|OR&quot;</span>, payload)</span><br><span class="line"><span class="comment"># -&gt; [1=1, 2&lt;5, 8&gt;9]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>接著再使用<code>迴圈</code>+同樣的方法去處理掉<code>=</code>、<code>&gt;</code>、<code>&lt;</code></p>
</blockquote>
<p>在處理完之後就可以找到所有的 <code>key</code> 以及 <code>value</code> 的陣列</p>
<p>接著就是要把 <code>AND</code>、<code>OR</code> 找出來存下來，這邊我會會使用<code>split(&#39;AND&#39;, 1)</code>只切第一個找到的<code>AND</code>字串，因為像是 SQL Where 子句的功能要一個一個處理才行，否則最後判斷會出問題。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> re.search(<span class="string">&#x27;(AND)|(OR)&#x27;</span>, payload) <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">    result = payload.split(<span class="string">&#x27;AND&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> result[<span class="number">0</span>] <span class="keyword">and</span> ... <span class="comment"># 判斷 AND 字串</span></span><br><span class="line">    result = payload.split(<span class="string">&#x27;OR&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> result[<span class="number">0</span>] <span class="keyword">and</span> ... <span class="comment"># 判斷 OR 字串</span></span><br></pre></td></tr></table></figure>

<p>接著再切完之後會拿到<code>operator_list</code>知道裡面有哪些運算子的陣列，以原本的資料來說可以用迴圈去處理，這邊我就用簡單的範例來表示<code>operator</code>可以處理的東西。</p>
<p>像是<code>operator</code>除了可以判斷純數字以及純字串以外，也可判斷<code>英文</code>+<code>數字</code>的組合。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">operator_list = [<span class="string">&#x27;&gt;&#x27;</span>, <span class="string">&#x27;&lt;&#x27;</span>, <span class="string">&#x27;=&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> operator_list[<span class="number">0</span>] == <span class="string">&#x27;&gt;&#x27;</span>:</span><br><span class="line">    result = operator.gt(<span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> operator_list[<span class="number">1</span>] == <span class="string">&#x27;&lt;&#x27;</span>:</span><br><span class="line">    result = operator.lt(<span class="string">&#x27;z01&#x27;</span>, <span class="string">&#x27;z99&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> operator_list[<span class="number">2</span>] == <span class="string">&#x27;=&#x27;</span>:</span><br><span class="line">    result = operator.eq(<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;A&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>使用以上方法可以比對運算子，而使用以下方法則可以比對<code>AND</code>以及<code>OR</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ex = [<span class="string">&#x27;AND&#x27;</span>, <span class="string">&#x27;OR&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> ex[<span class="number">0</span>] == <span class="string">&#x27;AND&#x27;</span>:</span><br><span class="line">    result = operator.and_(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">if</span> ex[<span class="number">1</span>] == <span class="string">&#x27;OR&#x27;</span>:</span><br><span class="line">    result = operator.or_(<span class="number">1</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>透過 <code>operator</code> 這個函示庫讓我處理<code>運算子們</code>可以少很多事，藉此紀錄一下工作上使遇到的一些方法以及問題，最驚訝的就是可以比對<code>英文</code>+<code>中文</code>的判斷式，以一些韌體的本版資訊來說他們會擁有這樣的組合，在上傳之後要比對時用這樣的方法就很方便，若有什麼問題歡迎留言給我 😊</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://stackoverflow.com/questions/1740726/turn-string-into-operator">stackoverflow</a></li>
<li><a href="https://docs.python.org/3/library/operator.html">operator</a></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>operator</tag>
      </tags>
  </entry>
  <entry>
    <title>2019 LINE Dev Day - 議程心得(1) - Seamless device migration using LINE secure backup</title>
    <url>/2019/11/21/Seamless-device-migration-using-LINE-secure-backup/</url>
    <content><![CDATA[<h1 id="Seamless-device-migration-using-LINE-secure-backup"><a href="#Seamless-device-migration-using-LINE-secure-backup" class="headerlink" title="Seamless device migration using LINE secure backup"></a>Seamless device migration using LINE secure backup</h1><p><img src="https://i.imgur.com/IWGmnvQ.jpg"></p>
<p>簡報連結: <a href="https://speakerdeck.com/line_devday2019/seamless-device-migration-using-line-secure-backups">LINE Dev Day 2019</a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好我是 <a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot Developer Taiwan</a> - NiJia，這次被 LINE 邀請來參加 LINE Developer Day 2019。<br>經由 每位負責人的 Keynote 開場完後就是會眾們開始聽議程的時候了，我選擇跟資安相關的主題來開始我今日的第一場議程，想想在接觸資安時還是大學時期呢(遠望)。</p>
<h1 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h1><p>開場不免俗的一定是要自我介紹並說主要大綱，講者本身為一個駭客並是 <a href="https://github.com/SideChannelMarvels">Side-Channel Marvels</a> 成員之一，在 GitHub 上坐了一個逆向工程的工具 - <a href="https://github.com/QBDI/QBDI">QBDI</a>。而作為一個 Hacker 破壞當然對他們來說是相對簡單，但換個方向來看，就是透過滲透測試來建立更完整的服務內容，的確在真實世界上要摧毀一個服務是相對容易的！</p>
<p>但講者是在 LINE 這種規模較大的公司裡做滲透測試，在滲透後做完測試報告時需要顧慮到其他開發團隊的工作時程問題，也許這個漏洞在實際服務運轉上的容錯率是相對高的話，就可以讓開發團隊安排時程去修補漏洞而避免延遲產品上線時間。</p>
<p> <img src="https://i.imgur.com/r60FVBM.jpg"></p>
<p>這邊主要提到一些 <strong>加密協定原則</strong> 以及傳統訊息傳送都是怎麼做。<br><img src="https://i.imgur.com/wJHnXMz.jpg"><br>接著說到帳號轉移裝置時的問題，今天要從舊的裝置備份到新裝置時，若透過 Server 的話他只有加密過後的資料，如此一來根本無法備份過去，而 end-to-end 的備份的話會遇到以下問題：</p>
<ul>
<li>會受到各種通訊協定的問題(wifi, Bluetooth, NFC…)</li>
<li>ios - andriod 不同裝置相容性問題</li>
<li>需要重新建構訊息模型</li>
<li>要怎麼處理來自 parameter 的攻擊<ul>
<li>Hacker 透過中間人攻擊</li>
<li>會透過各種狀態來找尋漏洞 (BGP, DNS, Certificate PKI…)</li>
</ul>
</li>
</ul>
<h2 id="UX-x-Security"><a href="#UX-x-Security" class="headerlink" title="UX x Security"></a>UX x Security</h2><p>前面簡單介紹一些備份上的問題以裝置間的問題，接下來就進入如何在最好的使用者體驗上並擁有資訊安全：</p>
<h3 id="若要最好的使用者體驗-Best-UX"><a href="#若要最好的使用者體驗-Best-UX" class="headerlink" title="若要最好的使用者體驗 - Best UX"></a>若要最好的使用者體驗 - Best UX</h3><p><img src="https://i.imgur.com/E3N0d5l.jpg" alt="流程"></p>
<ul>
<li>✅不需要在意裝置間的問題</li>
<li>❌會被駭客透過中間人攻擊去塞有問題的資料</li>
<li>❌安全層級等於零</li>
</ul>
<blockquote>
<p>這樣公司就不用運作啦 (笑)</p>
</blockquote>
<h3 id="最安全的等級但最差的-UX"><a href="#最安全的等級但最差的-UX" class="headerlink" title="最安全的等級但最差的 UX"></a>最安全的等級但最差的 UX</h3><p><img src="https://i.imgur.com/RFkmVAE.jpg" alt="Best security"></p>
<ul>
<li>✅Private key 加密過並且擁有最難破解的密碼</li>
<li>❌使用者根本記不得這密碼</li>
<li>❌密碼過於複雜</li>
</ul>
<blockquote>
<p>這邊講者有補充若是只有六位數的密碼他大概有 <strong>一百萬</strong> 種可能性，可以透過暴力破解的方式就解決，且有大約 <strong>10%</strong> 的密碼是重覆性很高的，因此還是建議擁有大小寫以及特殊符號是相對好！</p>
</blockquote>
<p>每天都會有弱密碼出現於生活中</p>
<ul>
<li>combination padlock<ul>
<li>硬體設備都用很弱的加密協定</li>
</ul>
</li>
<li>Banking card PIN<ul>
<li>很容易出現像是 <strong>生日</strong> 這類的密碼</li>
</ul>
</li>
<li>smart phone lock screen<ul>
<li>使用者求快 </li>
<li>ARM trustZone &#x2F; apple secure</li>
</ul>
</li>
</ul>
<h2 id="Server-Side-相關相關加密元件"><a href="#Server-Side-相關相關加密元件" class="headerlink" title="Server Side 相關相關加密元件"></a>Server Side 相關相關加密元件</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Trusted_execution_environment">Trusted execution environment(TEE)</a>: 保護 process 相關</li>
<li><a href="https://en.wikipedia.org/wiki/Trusted_Platform_Module">Trusted Platform Module(TPM)</a>: 微控制器相關加密元件</li>
<li><a href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E4%BB%B6%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97">Hardware security module(HSM)</a>: 一種用於保障和管理強認證系統所使用的數字金鑰，並同時提供相關密碼學操作的電腦硬體裝置。</li>
</ul>
<h2 id="HSM-in-backups"><a href="#HSM-in-backups" class="headerlink" title="HSM in backups"></a>HSM in backups</h2><p>接著就介紹是如何透過 HSM 的硬體元件來處理備份資料資安的問題<br><img src="https://i.imgur.com/CSkYEHD.jpg"><br>透過硬體(HSM)來幫忙加密確保每一段上傳下載都是安全且可加解密，使用者在這過程中也不需要輸入一大串的密碼就只顧及資訊安全而放棄 UX，而在 HSM 當中會將私鑰安全的存下來，不用擔心會有被攔取之類的問題。</p>
<p>由於 HSM 經過雙重加密認證達到資訊安全且是安全的儲存下來，因此不會因為被抓到之後就馬上被解開，確保整個資料傳遞上的安全性。</p>
<p><img src="https://i.imgur.com/A6Mo2mw.jpg"><br>上圖則為 HSM 簽證公鑰的註冊流程，經由一連串的加密把它存成二進制 source code，且裝置還是能使用 public key 來解開這個二進制檔案，如此一來在備份到新裝置上就不用擔心整包資料的安全性了！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>我們在實作的網站在沒什麼流量時都不太需要注意資安相關，但當系統請求越來越大或是有金流時在每段的加解密終究都相對重要很多，且在建立 UX 以及 Security 之間要如何平衡也是個重要的議題，如同講者說的，在做這些技術的同時且站在巨人的肩膀上(LINE)對於白帽駭客的成就感是源源不絕的，能夠透過滲透來讓我們每天在用的東西更加完整也是很棒的一個作法😊。</p>
<p>而過往在聽駭客朋友們在聊都是在講 <a href="https://www.techbang.com/posts/1826-waf-web-host-bridge-is-falling-down">WAF</a> 較多是在講 Web application 相關的，這次聽到的 HSM 功能看起來雖然很相似，但看來是叫專注在資料的加解密當中，或許當中應該還有更深入的功能還未提到，透過這個議程認識到新的東西也是一大收穫😁。</p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Dev Day 2019</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Serverless/Flask/Swagger 在 AWS 上搭建打造 Open API</title>
    <url>/2020/05/05/Serverless-Flask-Swagger-AWS-Open-API/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/2UI8Ggs.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>約在一年前，當時公司的同事帶我玩過 Swagger，只是當時的我寫得不太習慣，直到寫這篇之前都還只是寫 markdown 來做 API 文件 😓，不過寫 API 到最後總是要開放給其他人需要測試以及用文件來描述功能，但只是寫 Readme.md 給其他人看感覺有點不負責任 (?)，所以這個時候 Swagger 就發揮它的作用啦～</p>
<p>但是看著下面這張圖…<br><img src="https://i.imgur.com/zg1jEuy.png"><br>左邊那是怎樣！怎麼設定了一大堆右邊才出現一點點東西，估且不論還要設定 Model、Payload 什麼的，我想光寫左邊這份文件加測試的時間我都可以寫一份 Markdown 給其他同仁用 Postman 測試了…🤣🤣🤣<br>這時候套件就出動啦，這次要介紹的是 flask-restful-swagger-2.0，他是延續原版套件並加以更新的，不得不說再搭更新完後整體寫起來人性多了，像是文先寫法用 decorator 的寫法在路由之前、宣告 Schema 時只要用類別包起來之類的，讓寫文件可以用 python 的寫法去寫，除了特殊的設定需要比對 Swagger 官方文件外，在建一個 Swagger 格式的文件這樣已經超快了 💪<br>既然如此那就介紹一下他的相關設定並把它記錄下來吧！</p>
<span id="more"></span>

<p>若對 Serverless + WSGI +flask 還不清楚的話可以參考我之前<a href="https://medium.com/@nijia.lin/%E7%BA%8C%E7%AF%87-serverless-wsgi-flask-chatbot-%E7%9A%84%E9%96%8B%E7%99%BC%E6%8C%87%E5%8D%97-f11de7dee7aa">寫的文章</a></p>
<!-- more -->

<blockquote>
<p>這次的範例已經放在 Github 上面，建議可以 Clone 下來邊看會比較清楚，若想要比較 flask-restful 套件生成的版本差異的朋友可以<a href="https://github.com/louis70109/aws-swagger-wsgi-flask">參考分支 — Original</a></p>
</blockquote>
<h1 id="api-py-設定"><a href="#api-py-設定" class="headerlink" title="api.py 設定"></a>api.py 設定</h1><p>一般來說，如果有用 flask_restful 套件的話會有以下兩行：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask_restful <span class="keyword">import</span> Api</span><br><span class="line">api = Api(app)</span><br></pre></td></tr></table></figure>

<p>這次因為需要引入 swagger，將程式替代成以下：</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask_restful_swagger_2 import Api</span><br><span class="line">api = Api(app,</span><br><span class="line">    <span class="attribute">host</span>=<span class="string">&quot;localhost:5000&quot;</span>,</span><br><span class="line">    schemes=[<span class="string">&#x27;http&#x27;</span>],</span><br><span class="line">   # schemes=[<span class="string">&#x27;https&#x27;</span>],</span><br><span class="line">   # <span class="attribute">base_path</span>=<span class="string">&#x27;/dev&#x27;</span>,</span><br><span class="line">    <span class="attribute">security_definitions</span>=security,</span><br><span class="line">    security=[&#123;<span class="string">&#x27;appKey&#x27;</span>: []&#125;],</span><br><span class="line">    <span class="attribute">api_version</span>=<span class="string">&#x27;0.01&#x27;</span>,</span><br><span class="line">    <span class="attribute">api_spec_url</span>=<span class="string">&#x27;/api/swagger&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>host: 在本地端起的預設 port 為 5000 (部署上 AWS 後需要替換掉)</li>
</ul>
<blockquote>
<p>host 在此處可以先註解，設定此項目是如果需要使用 swagger-codegen 來產生相對應的 library 時，所需對應的 host</p>
</blockquote>
<ul>
<li>schemes: host 的協定 (部署後需要改成 https)</li>
<li>base_path: 一般 API 都會有 &#x2F;v1、&#x2F;v2 的版本號可以用在此處，而 serverless 部署上後則會有 &#x2F;dev</li>
<li>security_definitions: 若在 call API 之前需要 OAuth 或是一般的 key 的話則在此地方設定</li>
<li>security: 設定完之後要在此告訴 swagger 要啟動這個 key</li>
<li>api_version: 使用者定義的版本號</li>
<li>api_sepc_url: swagger.json 輸出的路由</li>
</ul>
<blockquote>
<p>在 sls deploy 之後需要將 host、schemes 以及 bash_path 改成部署完的設定</p>
</blockquote>
<h1 id="設定-Swagger-Model"><a href="#設定-Swagger-Model" class="headerlink" title="設定 Swagger Model"></a>設定 Swagger Model</h1><p>接著看到 controller&#x2F;todos_controller.py，裡頭宣告了三個 Swagger model：</p>
<ul>
<li>BasicTodosModel</li>
<li>QueryTodos</li>
<li>CreateTodos</li>
</ul>
<p><img src="https://i.imgur.com/fg9Slabm.png"></p>
<hr>
<p><img src="https://i.imgur.com/njcsd9Im.png"></p>
<hr>
<p><img src="https://i.imgur.com/Dsw6Djmm.png"></p>
<ol>
<li>定義了 Todos 的基本格式，兩個欄位都為字串且是必填欄位；</li>
<li>取資料後回傳的 schema，由於回傳時我習慣加個 result 的 key，且因為是取所有的 Todo，所以需要定義為 array，並按照 swagger 格式若為 array 則需要加入 items 的 key，value 則是放入原本定義好的 model 即可；</li>
<li>在建立完後的 schema，但由於只需要回傳 dictionary，所以直接指定即可。</li>
</ol>
<p><img src="https://i.imgur.com/as5blSM.png"></p>
<h1 id="Swagger-文件本體"><a href="#Swagger-文件本體" class="headerlink" title="Swagger 文件本體"></a>Swagger 文件本體</h1><script src="https://gist.github.com/louis70109/2b6e2d571e1ff558196e23eb1f3c4fe5.js"></script>

<p>接著就來講解這次的主角身上的哪些特殊技能需要注意的，首先先看到第四行的部分，security 是來定義這個 method 需要用到哪個 authorize key，如果有用到兩種以上可以像是以下定義：</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><span class="line"><span class="symbol">&#x27;security</span><span class="symbol">&#x27;:</span> [&#123;<span class="string">&quot;appKey&quot;</span>: []&#125;, &#123;<span class="string">&quot;otherKey&quot;</span>: []&#125;]</span><br></pre></td></tr></table></figure>

<p>如此一來這個路由右邊又會有鎖頭 🔒 的選項，當 Authorize 過後才會鎖上。</p>
<p><img src="https://i.imgur.com/fLOprLT.png"></p>
<p>接著看到第 8 行，這是定義當回傳成功 (200) 之後所對應的 Model，在上述已經設定過 Class 了，這邊就引入並跟 example 對應是不是自己想要的輸出</p>
<p>以 Todos 的 Get 路由為例，我希望回傳值是由 result 包 Todo’s llist，點選 Model 就可以看到設定的 Model 的格式是不是有用陣列框起來。<br><img src="https://i.imgur.com/ehH5P7E.png"></p>
<p>此時可以輸入以下指令啟動：</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sls wsgi serve</span></span><br></pre></td></tr></table></figure>

<p>並在 <a href="https://petstore.swagger.io/">https://petstore.swagger.io/</a> 這個網址裡的輸入欄填上 <a href="http://localhost:5000/api/swagger.json">http://localhost:5000/api/swagger.json</a> 並按下 Explore 看一下自己的 API 有沒有問題。</p>
<h1 id="部署上-AWS"><a href="#部署上-AWS" class="headerlink" title="部署上 AWS"></a>部署上 AWS</h1><p>在本地端玩那麼久了，接下來就是要部署上去啦，需要注意的是因為部署上去會有 https 以及 base_path 的問題，在本地端測試時的設定：</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">api</span> = Api(app,</span><br><span class="line"> <span class="attr">schemes</span>=[‘http’],</span><br><span class="line"> <span class="attr">security_definitions</span>=security,</span><br><span class="line"> <span class="attr">security</span>=[&#123;‘appKey’: []&#125;],</span><br><span class="line"> <span class="attr">api_version</span>=’<span class="number">0.01</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string"> api_spec_url=’/api/swagger’)</span></span><br></pre></td></tr></table></figure>

<p>由於預設為 dev 模式，在部署上的時候需要置換成以下內容：</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">api</span> = Api(app,</span><br><span class="line"> <span class="attr">schemes</span>=[‘https’],</span><br><span class="line"> <span class="attr">base_path</span>=’/dev’,</span><br><span class="line"> <span class="attr">security_definitions</span>=security,</span><br><span class="line"> <span class="attr">security</span>=[&#123;‘appKey’: []&#125;],</span><br><span class="line"> <span class="attr">api_version</span>=’<span class="number">0.01</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string"> api_spec_url=’/api/swagger’)</span></span><br></pre></td></tr></table></figure>

<p>接著就部署上 AWS 嚕‼️</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sls deploy</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/B3rdIHi.png"></p>
<p>接著複製 endpoint 下來並在 dev 後面加上 &#x2F;api&#x2F;swagger.json，同時貼到 <a href="https://petstore.swagger.io/">https://petstore.swagger.io/</a> 最上方的輸入欄位上就可以看到部署在 AWS 上的 Open API 囉！</p>
<h1 id="建立函式庫"><a href="#建立函式庫" class="headerlink" title="建立函式庫"></a>建立函式庫</h1><p>若是 Mac 的電腦可以使用以下指令 (其他的可以參考 <a href="https://github.com/swagger-api/swagger-codegen">GitHub</a>)：</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span><span class="keyword">swagger-codegen</span></span><br></pre></td></tr></table></figure>

<p>接著再使用下列指令產生函式庫 (若不知道有支援什麼語言可以<a href="https://swagger.io/tools/swagger-codegen/">參考官方</a>)：</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">swagger-codegen <span class="keyword">generate</span> -i https:<span class="comment">//&#123;AWS_DOMAIN&#125;/dev/api/swagger.json -l &#123;language&#125;</span></span><br></pre></td></tr></table></figure>

<p>如此一來就可以把函式庫給對應的開發者使用，好處是大家的 code style 都是遵守 swagger 產生出來的格式，真的有問題就去解決當初產生這包 lib 的那位開發者 (咦？)。</p>
<h1 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h1><ol>
<li>security 必須是 List 的 dictionary (<a href="https://github.com/swagger-api/swagger-codegen/issues/7847#issuecomment-374512375">Issue</a>)</li>
<li>Schema 的 Model 在宣告巢狀時 type 為 array、需巢狀 Model 之前的 Key 為 items</li>
<li>schemes 佈署上之前需要改成 https</li>
<li>base_path 依照部署上的模式去設定，預設為 &#x2F;dev</li>
<li>首次佈署上時不知道 domain，部署完之後把 domain 複製到 host 上在佈署一次，如此一來使用 swagger-codegen 產生函式庫套件的 configuration 網址就沒問題了。</li>
</ol>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這次因為我的 API 需要給其他同事用而玩到 Swagger，剛好找到 <a href="https://github.com/soerface/flask-restful-swagger-2.0">flask-restful-swagger-2.0</a> 這個套件讓我可以快速上手，並用 Swagger-Codegen 產生相依的 Library + 文件 讓其他的同事可以快速上手我的 API，讓我可以把心思都放在開發 API 上。接下來就是把 repository 弄到 CI 上，同時 Trigger 另一個 repository 並將 Library 產生出最新版的，如此一來就玩成一條龍服務啦！🎉🎉🎉</p>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Serverless</tag>
        <tag>Swagger</tag>
        <tag>Flask</tag>
        <tag>Open Api</tag>
      </tags>
  </entry>
  <entry>
    <title>【第一次直播就上手 (1)】使用 Streamlabs 在 Youtube 上直播</title>
    <url>/2020/03/20/Streamlabs-Youtube-streaming/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近一次的 Chatbot 小聚因為在疫情期間可預期現場來的會眾一定不多，所以在這場小聚中也加上線上直播的部分，但因為我首次導入還不是很熟悉，在谷歌大神的幫忙下找到本篇介紹的軟體 - Streamlabs，使用 XR 錄影起來的品質覺得還不錯，且連講者 Demo 時的 LINE token 都看得一清二楚 🤣，接下來就來介紹一下我使用的過程。</p>
<blockquote>
<p>這邊我使用 iOS 做範例，小聚資訊可以參考 <a href="https://github.com/Chatbot-Taiwan/meetups/blob/master/taipei/2020.md#chatbot-meetup-17-at-dcard">Chatbot GitHub</a></p>
</blockquote>
<span id="more"></span>

<h1 id="步驟"><a href="#步驟" class="headerlink" title="步驟"></a>步驟</h1><ol>
<li>首先先到 APP store 下載 <code>Streamlabs</code>，找到這個綠綠的就按下去，其他看起來也是相關的軟體，有興趣的朋友可以試試看。</li>
</ol>
<p><img src="https://i.imgur.com/phRSYFwl.jpg"></p>
<hr>
<ol start="2">
<li>下載完後點入會看到這個畫面，可以比較熱門的三大金剛 <code>Twitch</code>、<code>Youtube</code>、<code>Facebook</code>以及其他的平台，這邊我選擇使用現在大家愛看的 <code>Youtube</code>。</li>
</ol>
<p><img src="https://i.imgur.com/mM2CgHh.png"></p>
<hr>
<ol start="3">
<li>接下來就是選擇你的 Google 帳號</li>
</ol>
<p><img src="https://i.imgur.com/ywGIpKD.png"></p>
<hr>
<ol start="4">
<li>按下中間<strong>紅色</strong>的大按鈕後，選擇最下面的 <code>Create Event</code> 來建立串流直播<br><img src="https://i.imgur.com/tydZrfH.jpg"></li>
</ol>
<hr>
<ol start="5">
<li>輸入這次直播的基本資訊(<code>標題</code>與<code>描述</code>)，有在看 Youtube 的朋友可能會想在描述多 ➕ 東西，這邊可以先預先做起來用複製貼上的方式放入，多一些表情符號也比較能吸引目光哦！</li>
</ol>
<p><img src="https://i.imgur.com/BDwThYD.jpg"></p>
<hr>
<ol start="6">
<li>若開成功後會看到左下角的<code>Chat Enabled</code>，代表直播已經準備上去了。</li>
</ol>
<blockquote>
<p>剛開時會需要給串流 APP 一些時間(大概 20~30 秒)，讓它把東西傳上去，千萬別太心急就把他關了喔！！！</p>
</blockquote>
<p><img src="https://i.imgur.com/7lRBEFN.jpg"></p>
<hr>
<ol start="7">
<li>串流直播開始不間斷上傳之後就會看到他已經連線至<code>聊天室</code>了，這時就可以開始表演了 🎉</li>
</ol>
<p><img src="https://i.imgur.com/xnynRjE.jpg"></p>
<hr>
<ol start="8">
<li>FPS、觀眾留言以及畫質等等資訊也可以在這邊看到<br><img src="https://i.imgur.com/l9YGIhR.jpg"></li>
</ol>
<hr>
<ol start="9">
<li>最後要關掉他會問你要繼續還是要完成結束～</li>
</ol>
<p><img src="https://i.imgur.com/Y2QxpCa.jpg"></p>
<h1 id="短評"><a href="#短評" class="headerlink" title="短評"></a>短評</h1><p>在於第一次用可能有很多部分沒有顧慮太多，對於現場直播我應該帶著多去問講者問題來帶動一些氣氛讓線上的朋友也能參與我們的討論縮進彼此的距離 🤝，在疫情比較緩和後再來實行這件事～ 🙂</p>
<p>下一篇我再帶各位使用我預計在下次線上小聚想用的直播方法給大家參考，會跟最近股價狂漲的 Zoom 有關喔！</p>
]]></content>
      <categories>
        <category>直播</category>
      </categories>
      <tags>
        <tag>Streamlabs</tag>
        <tag>Youtube</tag>
        <tag>Stream</tag>
        <tag>meetups</tag>
      </tags>
  </entry>
  <entry>
    <title>【LINE API】- 使用 Icon Switch 讓你的機器人同時有多個角色！ feat. Python</title>
    <url>/2020/03/28/LINE-new-API-Icon-Switch/</url>
    <content><![CDATA[<p>最近 LINE 釋出了一個我很喜歡的功能 - <a href="https://developers.line.biz/zh-hant/reference/messaging-api/#icon-nickname-switch">Icon Switch</a>🎚，從字面上的意思就是可以切換機器人的 Icon (名稱以及大頭貼)，過往開發者在使用時都只能較死板的使用同一個頭像或暱稱來回應使用者，而現在只要使用這個這個功能就可以很輕易地切換你想要的大頭貼以及暱稱了 😇</p>
<blockquote>
<p>據可靠消息指出這以前是需要收費的功能，而現在則是免費推出來給大家使用，讓大家可以有更多的彈性去開發新功能～</p>
</blockquote>
<p><img src="https://i.imgur.com/TbtdNFjl.png"></p>
<span id="more"></span>

<h1 id="差在哪邊"><a href="#差在哪邊" class="headerlink" title="差在哪邊"></a>差在哪邊</h1><p>⭐️ 用 python 做了一個簡單範例程式歡迎大家試玩: <a href="https://github.com/louis70109/line-icon-switch-python">https://github.com/louis70109/line-icon-switch-python</a></p>
<p>原本我們要讓機器人輸出文字時會送這樣的 json:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Hello, world&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而 Icon Switch 這個功能看起來似乎要設定很多東西，但他其實只要…</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Hello, I am Cony!!&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;sender&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Cony&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;iconUrl&quot;</span>: <span class="string">&quot;https://line.me/conyprof&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有發現哪邊不一樣嗎？就是指在這個 json 裡面加入 <code>sender.name</code> 以及 <code>sender.iconUrl</code> 就可以把 大頭貼以及名字換掉啦 🎉</p>
<p>官方文件也說明的很清楚，有興趣的朋友可以<a href="https://developers.line.biz/zh-hant/reference/messaging-api/#icon-nickname-switch">參考官方網站</a><br><img src="https://i.imgur.com/0o5tiWJ.png"></p>
<blockquote>
<p>名稱最多只能 20 個字<br>網址必須要是 Https</p>
</blockquote>
<h1 id="Python-如何實現？"><a href="#Python-如何實現？" class="headerlink" title="Python 如何實現？"></a>Python 如何實現？</h1><p>一般機器人的回應我們都會使用<code>TextSendMessage</code>來幫我們產生出對應的輸出內容(JSON)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> linebot.models <span class="keyword">import</span> TextSendMessage</span><br><span class="line"></span><br><span class="line">text = TextSendMessage(text=<span class="string">&quot;小編去哪兒了呢？&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>而照著先前的 JSON 範例我們就需要先 <code>import Sender</code>，並且在<code>TextSendMessage</code>第二個參數地方加上<code>sender</code>的參數，範例如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> linebot.models <span class="keyword">import</span> (TextSendMessage, Sender)</span><br><span class="line"></span><br><span class="line">text = TextSendMessage(</span><br><span class="line">  text=<span class="string">&quot;叫你老闆出來啦&quot;</span>,</span><br><span class="line">  sender=Sender(</span><br><span class="line">    name=<span class="string">&quot;Boss&quot;</span>,</span><br><span class="line">    icon_url=<span class="string">&quot;https://&#123;YOUR_BOSS_AVATAR&#125;.jpg&quot;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如此一來就可以達到切換的功能囉！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在 Icon Switch 這個新功能上很適合做一些對話流程上<code>分類</code>以及<code>角色切換</code>的用途，若是再進階一點甚至貼 Google analytics 標籤來做分析，了解在這個角色下使用者的回應狀態為何，同一時間在分眾的同時還能讓使用者覺得很特別，達到一個雙贏的 communication！😁，諸多應用就留給大家開發發想囉！</p>
]]></content>
      <categories>
        <category>Chatbot</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>AWS</tag>
        <tag>LINE</tag>
        <tag>Serverless</tag>
        <tag>Icon Switch</tag>
      </tags>
  </entry>
  <entry>
    <title>透過 IRC 與 Twitch 聊天室連結互動</title>
    <url>/2019/12/24/Twich-chatroom-IRC/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>為什麼會想玩這個呢，因為之前串了一隻介接 Twitch API 的聊天機器人，不過最近因為 API 似乎已經翻新了，所以那隻機器人暫時死亡了 😆，但是聊天機器人不限定只有在 facebook、LINE 通訊軟體上，因此就寫了這篇文章來紀錄一下使用過程。</p>
<h1 id="文件-amp-申請密鑰"><a href="#文件-amp-申請密鑰" class="headerlink" title="文件 &amp; 申請密鑰"></a>文件 &amp; 申請密鑰</h1><p>Twitch Chatbot IRC <a href="https://dev.twitch.tv/docs/irc/">官方文件</a></p>
<ul>
<li>GitHub<ul>
<li><a href="https://github.com/tmijs/tmi.js">連結</a></li>
<li><a href="https://github.com/tmijs/docs">文件</a></li>
</ul>
</li>
</ul>
<blockquote>
<p>要使用的朋友在 google 時可能會找到另一套，不過他也說請大家來用 <code>tmi.js</code> 了ＸＤ</p>
</blockquote>
<p>首先要先申請一個 <code>OAUTH</code> 的密鑰，網址<a href="https://twitchapps.com/tmi/">在這邊</a></p>
<h1 id="套件安裝"><a href="#套件安裝" class="headerlink" title="套件安裝"></a>套件安裝</h1><p>透過<code>npm</code>安裝<code>tmi.js</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i tmi.js</span><br></pre></td></tr></table></figure>

<h1 id="IRC-通訊"><a href="#IRC-通訊" class="headerlink" title="IRC 通訊"></a>IRC 通訊</h1><p>接著需要寫一個腳本透過<code>IRC</code>的方法來與 Twitch 的聊天室連結：</p>
<blockquote>
<p><a href="https://zh.wikipedia.org/wiki/IRC">IRC</a>（Internet Relay Chat）是一個位於應用層的協定。其主要用於群體聊天，但同樣也可以用於個人對個人的聊天。</p>
</blockquote>
<h2 id="新增-bot-js"><a href="#新增-bot-js" class="headerlink" title="新增 bot.js"></a>新增 <code>bot.js</code></h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tmi = <span class="built_in">require</span>(<span class="string">&#x27;tmi.js&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> client = <span class="keyword">new</span> tmi.Client(&#123;</span><br><span class="line">  options: &#123; <span class="attr">debug</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  connection: &#123;</span><br><span class="line">    reconnect: <span class="literal">true</span>,</span><br><span class="line">    secure: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  identity: &#123;</span><br><span class="line">    username: <span class="string">&#x27;YOUR_NAME&#x27;</span>,</span><br><span class="line">    password: <span class="string">&#x27;oauth:YOUR_KEY&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  channels: [<span class="string">&#x27;yuniko0720&#x27;</span>], <span class="comment">// 想加入的聊天室</span></span><br><span class="line">&#125;);</span><br><span class="line">client.connect();</span><br><span class="line">client.on(<span class="string">&#x27;message&#x27;</span>, <span class="function">(<span class="params">channel, tags, message, self</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (self) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span> (message.toLowerCase() === <span class="string">&#x27;87&#x27;</span>) &#123;</span><br><span class="line">    client.say(channel, <span class="string">`@<span class="subst">$&#123;tags.username&#125;</span>, 你是第 N 個說 87!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="設定檔"><a href="#設定檔" class="headerlink" title="設定檔"></a>設定檔</h2><ul>
<li><code>username</code>: 設定你的使用者名稱</li>
<li><code>password</code>: 申請的 oauth 放在這邊，格式皆是<code>oauth:XXXXX</code></li>
<li><code>channels</code>: 一般會進入自己的頻道，當然也可以去其他頻道</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">identity: &#123;</span><br><span class="line">    username: <span class="string">&#x27;YOUR_NAME&#x27;</span>,</span><br><span class="line">    password: <span class="string">&#x27;oauth:YOUR_KEY&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  channels: [<span class="string">&#x27;yuniko0720&#x27;</span>],</span><br></pre></td></tr></table></figure>

<h2 id="連結聊天室"><a href="#連結聊天室" class="headerlink" title="連結聊天室"></a>連結聊天室</h2><p>這部分則是開始監聽聊天室的內容，所有的範例連結<a href="https://github.com/tmijs/docs/tree/gh-pages/_posts/v1.4.2">皆在此</a>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">client.on(<span class="string">&#x27;message&#x27;</span>, <span class="function">(<span class="params">channel, tags, message, self</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (self) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span> (message.toLowerCase() === <span class="string">&#x27;87&#x27;</span>) &#123;</span><br><span class="line">    client.say(channel, <span class="string">`@<span class="subst">$&#123;tags.username&#125;</span>, 你是第 N 個說 87!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h1><p>執行<code>node bot.js</code>會看到以下的畫面</p>
<p><img src="https://i.imgur.com/01aiJVw.png"></p>
<p>其實這樣監聽看起來真的是讓我這個宅心噴發 🚀🚀，可以透過<code>IRC</code>收到聊天室訊息後看後續要怎麼處理，像有些實況主與觀眾的互動可能是輸入<code>+1</code>這樣的文字來獲得獎賞(抑或是互罵 🤣)，在很多情境下這樣用會讓觀眾除了跟實況主互動以外還有個對象能玩 👾。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>而在這樣監聽下若人數很高之後其實可以收集到更多的資訊去做利用，也許想是開啟<code>訂閱者模式</code>後讓訂閱者輸入特定文字後將資訊傳入<code>Google sheet</code>之類的資料表，在做抽獎等活動性質的內容，對整個遊戲實況內容行銷都會是滿好與觀眾互動的方式～</p>
<p>大概就玩到這邊了，下次想到什麼應用再來說 😆</p>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>chatbot</tag>
        <tag>Twitch</tag>
        <tag>irc</tag>
      </tags>
  </entry>
  <entry>
    <title>Typescript 不一樣的地方 - Interface, Class Type, 多型別</title>
    <url>/2020/03/21/Typescript-%E7%9A%84%E6%80%AA%E7%95%B0%E4%B9%8B%E8%99%95-%E6%96%87%E7%AB%A0%E7%B0%A1%E8%A9%95/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>有一次在網路上閒逛的時候看到了<a href="https://blog.asana.com/2020/01/typescript-quirks/">這篇部落格</a>，裡頭透過一些簡單的敘述來展示 Typescript 跟別人不太一樣的地方，也說到一些需要注意的眉角，這次文章則含有些許的文章翻譯以及個人評述在裡面，以下就開始吧！</p>
<h1 id="三個項目"><a href="#三個項目" class="headerlink" title="三個項目"></a>三個項目</h1><span id="more"></span>

<h2 id="1-解釋-Interface-在加入額外參數時所會遇到的問題"><a href="#1-解釋-Interface-在加入額外參數時所會遇到的問題" class="headerlink" title="1. 解釋 Interface 在加入額外參數時所會遇到的問題"></a>1. 解釋 Interface 在加入額外參數時所會遇到的問題</h2><p>interface 必須 assign 給一個參數，若直接傳入則會出錯，雖然 TypeScript 可以多傳其他不相關的 key，但它嚴格限制沒有 assign 的使用方式</p>
<blockquote>
<p>範例參考: <a href="https://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgCIHsDmyDeAoZQ5AIygggBMAuZAZTClEzwF888YBXEBMYdEMgAOjcBkwAKClhriAlLgJEEAgM7oANhAB0GrBIBE4mgeQBqZNMzbS5CnNbsVIVWGSYm0ZAF5FREmSUJgCCwGQUcFoGADRKhHCYEDQAzI4ioGDiEh4giVAOeOli+vj+tkHIBqHhkRAxccgJScipLHJAA">TypeScript playground</a></p>
</blockquote>
<p>以下兩個就是使用上的區別</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ginger = &#123;</span><br><span class="line">    breed: <span class="string">&quot;Airedale&quot;</span>,</span><br><span class="line">    age: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line">printDog(ginger)</span><br><span class="line"></span><br><span class="line">&gt; Dog:Airedale</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">printDog(&#123;</span><br><span class="line">    breed: <span class="string">&quot;Airedale&quot;</span>,</span><br><span class="line">    age: <span class="number">3</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">Argument <span class="keyword">of</span> type <span class="string">&#x27;&#123; breed: string; age: number; &#125;&#x27;</span> is not assignable to parameter <span class="keyword">of</span> type <span class="string">&#x27;Dog&#x27;</span>.</span><br><span class="line">  <span class="built_in">Object</span> literal may only specify known properties, and <span class="string">&#x27;age&#x27;</span> does not exist <span class="keyword">in</span> type <span class="string">&#x27;Dog&#x27;</span>.</span><br></pre></td></tr></table></figure>

<p>所以若會傳 Object 進去函式的話要注意一下 parameter 接收值的類型喔！</p>
<h2 id="2-Class-也可以當作型別"><a href="#2-Class-也可以當作型別" class="headerlink" title="2. Class 也可以當作型別"></a>2. Class 也可以當作型別</h2><p>一般來說使用 TypeScript 要做型別檢查時第一個想法一定是用 Interface 來處理，這點就跟 Golang 使用的方法相似，但除了用 Interface 來定義型別以為，也可以像 python 用 class 來定義，Python 3 之後可以定義型別(<del>雖然有跟沒有一樣</del>)，透過一些 <a href="https://marshmallow.readthedocs.io/en/stable/">marshmallow</a> 或是 <a href="https://pydantic-docs.helpmanual.io/">pydantic</a> 可以做到這件事，因此這個段落就在講這件事情。</p>
<blockquote>
<p>範例參考: <a href="https://www.typescriptlang.org/play/index.html#code/MYGwhgzhAEAiD2BzaBvAUNT0BGAnApvgCYBc0EALrgJYB2iGWw8tluArsBfLgBR6FS5KnUQBKVIyxYKAC2oQAdAOLQAvDgLEp0AL5p9aAGbtaXai2gAHGrQoJEvIkjIOJ6ac1bwQ+RSCReACIHMiDoAGpoZ0RlLSIxAzQ0UEgYAGEwCklpFSE2UR0vNk5uPjyyAvp3HWk5BTjBdU1BHX1DYuyIWUgKMGbafAB3aEyKYIBZMDp8UfgWIMSbOntA7t6wMSA">TypeScript playground</a></p>
</blockquote>
<p>使用範例:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    breed: string</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">breed: string</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.breed = breed</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>After defining that, TypeScript allows you to use the class name as a type so you could write a function like:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printDog</span>(<span class="params">dog: Dog</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Dog: &quot;</span> + dog.breed)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-多型別問題"><a href="#3-多型別問題" class="headerlink" title="3. 多型別問題"></a>3. 多型別問題</h2><p>TypeScript 中其中一個功能是可以定義一個變數擁有多型別，基本上在使用時都在最上層 object 的話沒問題，但若判斷第二層之後的 Object 並回傳第一層的 object 則會噴錯。</p>
<p>試玩一下可以更清楚這個行為發生的原因喔!</p>
<blockquote>
<p>範例參考: <a href="https://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgCIHsDmyDeAoZQ5MOAD3RHQFsBPALlwKOYGcAHCBYCFhgIgDCcEMBbJ4VYABtgcKKL5NCAXyXIARnIDWDFmHkhMeVXlCRYiFELCNmJcpVoN8zVhy49+AMQgyxCODAAVxZFZlVmKgh0AHddfVAjEzAaDmQAQREqOClkAF5ka2QAHzQsPDwYIJAEMGAKZGFgbKkAOXRRCAAKJpaGTOacgEp4g2wXImAYZB6snIA6ewpqGnn2Tm4xPILBJrEJaVl5UKHbV0IoCGCoEEa5qXnNKC01ZWRfFhQJ88vr296FlFYq9jEA">TypeScript</a></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>雖然現在 TypeScript 越來越多人用，如果想要很完善的型別定義以及一致性可能不適合，但若想要在 Javascript 基礎中使用或練習一些型別定義的話他就很適合了。</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ol>
<li><a href="https://blog.asana.com/2020/01/typescript-quirks">TypeScript’s quirks: How inconsistencies make the language more complex</a></li>
</ol>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title>忍者開源圖鑑 - 藉由開源充實職涯與驅動開發</title>
    <url>/2022/12/30/alphacamp-open-source-sharing-by-nijia/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>開源專案是個學問，如何善用軟體生態系中大家所貢獻的這些資源，幫助大家在軟體路上少走一些錯的路，那本篇或許也是大家海上的一盞小燈，希望可以幫助到看文章的各位！</p>
<span id="more"></span>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/open-source-drive-your-career-by-nijia">忍者開源圖鑑 - 藉由開源充實職涯與驅動開發</a></li>
</ul>
<h1 id="透過-Roadmap-找出路與學習關鍵字"><a href="#透過-Roadmap-找出路與學習關鍵字" class="headerlink" title="透過 Roadmap 找出路與學習關鍵字"></a>透過 <a href="https://roadmap.sh/">Roadmap</a> 找出路與學習關鍵字</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/95e302aa691f4150805d8bd57f5467ed?slide=6" title="忍者開源圖鑑 - 藉由開源充實職涯與驅動開發" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1020px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>學習關鍵字是工程師必學的技能之一，而在初期還沒定位自己未來的職涯時會不清楚相關領域的內容，因此可以透過 Roadmap 來了解不同領域的軟體工程師究竟要注意哪些，如果喜歡前端，看一下前端都在注意什麼，UX? Framework? Performance?；後端都注意什麼，kubernetes？clean architecture？</p>
<p>基於工程師好奇心，開始使用各大主流框架之後，也因為日常開發開始讀了些原始碼，會不會產生一個想法是：「感覺我也可以弄個簡單版本？」</p>
<blockquote>
<p>心裡OS: 但我瘋了嗎，那些都是破萬星星以及有追隨者，我何德何能做這些？</p>
</blockquote>
<h2 id="萬事從模仿開始-試著寫出一些小工具"><a href="#萬事從模仿開始-試著寫出一些小工具" class="headerlink" title="萬事從模仿開始 - 試著寫出一些小工具"></a>萬事從模仿開始 - 試著寫出一些小工具</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/95e302aa691f4150805d8bd57f5467ed?slide=11" title="忍者開源圖鑑 - 藉由開源充實職涯與驅動開發" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>過去我覺得能夠寫 SDK 給別人使用都覺得很帥，曾經我也覺得我會寫不出給大家使用的工具。</p>
<p>直到我剛好在社群中聽到 LINE Notify 現在還是只有 API 版本的文件，而沒有任何 SDK 幫忙包裝起來給人家使用，同時也剛好看了一些 Open Source 工具，因此動了歪腦筋，把 Open Source clone 下來，然後把內容中能改的名字都改掉，基本上封裝、文件、測試該有的都有…如此一來我的第一個 SDK 就誕生啦！雖然功能很陽春也只是幫忙打打API，但透過包裝起來讓用戶(我)可以用很直覺的 Python 語法來呼叫 API 就是爽感十足！因此這邊也很推薦大家找一下日常生活中有沒有哪些東西你每天在串接，寫起來有點礙事的地方，試著把它包裝起來吧！</p>
<blockquote>
<p>如果真的有幸看到這邊，請給我一顆星星支持一下：）  <a href="https://github.com/louis70109/lotify">louis70109&#x2F;lotify</a></p>
</blockquote>
<h2 id="大家都說改文件只是刷存在感？"><a href="#大家都說改文件只是刷存在感？" class="headerlink" title="大家都說改文件只是刷存在感？"></a>大家都說改文件只是刷存在感？</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/95e302aa691f4150805d8bd57f5467ed?slide=9" title="忍者開源圖鑑 - 藉由開源充實職涯與驅動開發" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1020px; height: 618px;" data-ratio="1.78343949044586"></iframe>


<p>從知名的 Linux 範例來說，當初有個七歲小女孩只是因為修個 README，從此以後她就留名於 Linux Kernel 中。</p>
<p>這故事告訴我們，即便再大的專案，都會有沒注意到的細節需要被調整。在開源的世界內，<strong>互相幫忙</strong>以及<strong>共識</strong>都是相當重要，不管是<strong>實質的贊助</strong>(<mark>出錢</mark>)，抑或是幫忙刁出<strong>文件</strong>、<strong>程式</strong>上的修正(<mark>出力</mark>)，都是對於整個軟體生態圈的貢獻，因為有了過去大家的貢獻才有今日我們的方便，現在我們貢獻一些，也是幫助未來這些軟體人才的邁進！</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/95e302aa691f4150805d8bd57f5467ed?slide=19" title="忍者開源圖鑑 - 藉由開源充實職涯與驅動開發" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1020px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>另一方面，這些專案的出現也是為了解決日常的某些技術&#x2F;商業問題，大家集合起來花自己業餘的做這個專案，甚至有機會讓他延伸到不同的開源支線也是相當棒的選擇。</p>
<p>因此我認為修整文件等等的一些小事若能幫上忙，也是對這專案的一個實質支持！讓作者們可以更有動力的繼續維持更新下去。</p>
<blockquote>
<p>試想：如果這專案是你的，是否也覺得有人幫忙真好呢？且適當刷存在感也是必要的，除了讓別人看見，也進而推動自己繼續了解更多資訊：）</p>
</blockquote>
<h1 id="現實會打你一巴掌，但你有想改變嗎？透過文章讓你變小帥"><a href="#現實會打你一巴掌，但你有想改變嗎？透過文章讓你變小帥" class="headerlink" title="現實會打你一巴掌，但你有想改變嗎？透過文章讓你變小帥"></a>現實會打你一巴掌，但你有想改變嗎？透過文章讓你變小帥</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/95e302aa691f4150805d8bd57f5467ed?slide=21" title="忍者開源圖鑑 - 藉由開源充實職涯與驅動開發" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1020px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>撰寫文章的初期，我也是覺得非常痛苦，經常都覺得：「東西能解決就好，寫這些很煩誒！」。</p>
<p>而在碩班時，但當時的指導教授跟我說了一句話：</p>
<blockquote>
<p>「當你把東西寫下來，不是為了幫誰，是幫助未來的你。」</p>
</blockquote>
<p>因此我一開始先很簡單的先把<strong>用過的指令</strong>、<strong>步驟</strong>、<strong>遇到的問題</strong>記下來，然後就送出去，也不管這到底會幫到誰，當然過了一陣子後我還是又用遇到一樣的問題，這時我看著我的文章介紹就知道老師的用心良苦，也就讓我萌芽了寫文章之路。</p>
<p>後來時間線來到了之前的工作，當時產品需要用到四面八方的功能，在短期工作內一定記得住，但老實說過了一陣子我根本記不得當初寫了什麼…因此透過一篇篇的文章，把當時雜亂的思緒整理下來，為了讓文章更有質量，也花了時間把周邊的資訊一起補足，因此會耕耘文章很浪費時間嗎？的確是，但收穫也不會少。</p>
<blockquote>
<p>來自前輩的提點：「先想像你最成功的樣子，然後往那邊衝刺。」</p>
</blockquote>
<h1 id="參加社群，接觸強者大大"><a href="#參加社群，接觸強者大大" class="headerlink" title="參加社群，接觸強者大大"></a>參加社群，接觸強者大大</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/95e302aa691f4150805d8bd57f5467ed?slide=27" title="忍者開源圖鑑 - 藉由開源充實職涯與驅動開發" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1020px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>我們學知識多看官方文件、論壇、追蹤各個領域的粉絲團，但還有個方法就是「參加技術社群」！相信許多人跟我以前一樣，聽到這個開頭就說：「阿我沒很強，講的東西沒什麼深度，舞台給大神就好..」，但在經歷過各種的社群之後，我覺得這是一個提供給開發者舞台的地方，讓大家有機會可以透過整理自己所學，對外分享給不同背景的觀眾，讓每次分享幫助大家快速思考這次分享中有少了哪些部分，給自己下次可以準備更完善的機會，有一天你也可以成為別人心目中的大大！</p>
<blockquote>
<p>你真的覺得大大們都準備的很完善才演講嗎？或許可以趁講者上台前詢問他們看看…XD</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>雖然本篇文章推薦大家寫文章、多逛逛 GitHub 寫 Side Project、參加社群…但我覺得凡事量力而為，可以先從一些小地方開始培養看看自己是否有這方面的興趣，進而讓這些東西可以幫助你的職涯往下一階層走，而別過度追求導致什麼都沒獲得，得不償失。如果你現在還在軟體世界中迷航，不妨停下腳步看看哪些才是你真正喜歡的東西吧！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
  </entry>
  <entry>
    <title>Twitch Bot 全面升級！ 增加 LINE Notify 綁定與推播實現 LINE 的三項之力！</title>
    <url>/2020/03/09/Twitch-Bot-%E5%85%A8%E9%9D%A2%E5%8D%87%E7%B4%9A%EF%BC%81/</url>
    <content><![CDATA[<img src="https://i.imgur.com/dOIsi7H.jpg" width="2000">

<blockquote>
<p>滿滿的三項之力 🏋️‍♂️</p>
</blockquote>
<blockquote>
<p>來幫我的 <a href="https://github.com/louis70109/Twitch-Bot">Twitch Bot</a> 按個星星 ⭐️⭐️</p>
</blockquote>
<h1 id="更新功能"><a href="#更新功能" class="headerlink" title="更新功能"></a>更新功能</h1><ul>
<li>使用 LIFF 來綁定 Notify<span id="more"></span></li>
<li>每個小時幫忙檢查訂閱的直播主開了沒<ul>
<li>一天只推播一次絕對不吵你</li>
<li>還有 deep link 喔！</li>
</ul>
</li>
</ul>
<h1 id="點子來源"><a href="#點子來源" class="headerlink" title="點子來源"></a>點子來源</h1><p>最近卡米哥寫了兩篇文章</p>
<ul>
<li>LINE Notify - <a href="https://medium.com/@EtrexKuo/%E7%A5%95%E6%8A%80-%E5%9C%A8-line-%E7%BE%A4%E7%B5%84%E7%99%BC%E9%80%81%E5%85%8D%E8%B2%BB%E6%8E%A8%E6%92%AD%E7%9A%84%E6%96%B9%E6%B3%95%E5%A4%A7%E5%85%AC%E9%96%8B-line%E5%AE%98%E6%96%B9%E5%B8%B3%E8%99%9F-2-0-%E9%9B%A3%E6%B0%91%E6%9C%89%E7%A6%8F%E4%BA%86-a4acd323769e">在 LINE 群組發送免費推播的方法大公開</a></li>
<li><a href="https://medium.com/@EtrexKuo/%E5%A6%82%E4%BD%95%E5%9C%A8-bottender-%E4%B8%AD%E4%BD%BF%E7%94%A8-liff-88634b187e72">如何在 Bottender 中使用 LIFF</a></li>
</ul>
<p>剛好我在同時期遇到了一個問題，就是我開始偷懶越來越少去按圖奇獸查直播了！！這樣感覺我做了這個 side project 就要石沈大海， 本篇就來介紹一下我增加了什麼功能～ 👀</p>
<h1 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h1><p>輸入<code>連結 LINE Notify</code> 或是點選 Richmenu 最右邊的 🔔 也會幫忙開網頁哦！<br>此時 Twitch Bot 會給你一串綁定網址，直接給他點下去。<br><img src="https://i.imgur.com/OyZy8Ac.jpg"></p>
<hr>
<p>接著到這個畫面之後選擇<code>透過1對1聊天</code>的選項，按下同意之後就完成連動囉！<br><img src="https://i.imgur.com/hHXtNv7l.png"></p>
<hr>
<p>接著要怎麼樣才能讓機器人知道你想被推播什麼？輸入<code>follow</code>之後會看到有兩個按鈕，按下面的<code>綁定通知</code>的按鈕後 Twitch Bot 會告訴你綁定成功沒，如果已經綁定的話按鈕則會變成灰色，在按下去的話則就是取消綁定囉!<br><img src="https://i.imgur.com/fdMIr42l.jpg"></p>
<hr>
<p>接著 Twitch Bot 每個小時會幫你去 Twitch API 找找是否有人開台了，只要已經上線的直播主就會被推播，而會分別給兩個連結(Deep link &amp; 一般網址)，但一天只會推播一次同一個直播主，避免每個小時重複通知影響使用者 🙂<br><img src="https://i.imgur.com/lHoJHT4l.jpg"></p>
<h1 id="巧妙結合-LINE-Notify-以及-LIFF"><a href="#巧妙結合-LINE-Notify-以及-LIFF" class="headerlink" title="巧妙結合 LINE Notify 以及 LIFF"></a>巧妙結合 LINE Notify 以及 LIFF</h1><p>有兩個使用方法可以讓 Bot 跟 Notify 結合:</p>
<ol>
<li>準備打至 Notify 時在 state 欄位上塞入使用者 LINE id，再透過 callback 時帶回來給 api 在藉此存下來，但如此一來比較<strong>方便</strong>但<strong>安全性較不足</strong>些。</li>
<li>在 callback 後在 LIFF 上透過 client api 去取得當前使用者基本資料，在 call 自己的 api 來讓 Bot 與 Notify 連動，安全性較足但步驟較多。</li>
</ol>
<h2 id="美中不足的結合問題-query-string"><a href="#美中不足的結合問題-query-string" class="headerlink" title="美中不足的結合問題 - query string"></a>美中不足的結合問題 - query string</h2><p>在 Twitch Bot 中，我使用 LIFF 來開啟 Notify 是為了要透過 LINE 取得使用者的 ID，使用者選擇綁定之後，LIFF 會預設幫使用者加個 <code>state</code> 的 query string 欄位，但同時 Notify 也會把它的 <code>code</code> 以及 <code>state</code> 也加在 query string 上，如此組合起來網址就會變成：</p>
<figure class="highlight pf"><table><tr><td class="code"><pre><span class="line">https://liff.line.me?<span class="keyword">state</span>=code=&#123;NOTIFY_CODE&#125;&amp;<span class="keyword">state</span>=&#123;NOTIFY_STATE&#125;</span><br></pre></td></tr></table></figure>

<p>這樣的網址 api 接到之後一定會出問題，所以我就使用以下的 code 來幫我把它處理成我們認識的 query string:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> query = req.query[<span class="string">&#x27;liff.state&#x27;</span>].split(<span class="string">&#x27;?&#x27;</span>)[<span class="number">1</span>].split(<span class="string">&#x27;&amp;&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> notifyPayload = &#123; <span class="attr">code</span>: <span class="literal">null</span>, <span class="attr">state</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">query.forEach(<span class="function">(<span class="params">el</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> queryObj = el.split(<span class="string">&#x27;=&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (queryObj[<span class="number">0</span>] <span class="keyword">in</span> notifyPayload) notifyPayload[queryObj[<span class="number">0</span>]] = queryObj[<span class="number">1</span>];</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>這樣 <code>notifyPayload</code> 就是我們平常 api 接到的 object 了。</p>
<h2 id="使用-ejs-處理前端"><a href="#使用-ejs-處理前端" class="headerlink" title="使用 ejs 處理前端"></a>使用 ejs 處理前端</h2><p>以前寫 Rails 很習慣後端直接很習慣後端直接傳值給前端渲染做些簡單的 UI 處理，會使用 ejs 是因為需要讓使用者點選之後透過 LIFF 導到 LINE Notify 去做綁定的動作，因為還是需要簡單的前端功能，就用 ejs 來幫我解決問題囉！</p>
<blockquote>
<p>以下我則是使用 express 搭配 ejs 做說明</p>
</blockquote>
<p>我設定使用者綁定的 api 入口與 LINE Notify 確認綁定完後(<code>callback</code>)的 api 入口為:</p>
<ol>
<li>&#x2F;notify<br>這個 api 做的事情比較簡單，只要負責將環境變數 <code>CLIENT_ID</code>、<code>REDIRECT_URI</code>、<code>LIFF_ID</code> 給前端把使用者導至 LINE Notify 綁定頁面。</li>
<li>&#x2F;notify&#x2F;confirm<br>LINE Notify callback 一定要先打到 <code>後端(backend)</code> 才行，否則會有 <code>跨域(CORS)</code> 的問題，處理的部分可以參考<a href="https://github.com/louis70109/Twitch-Bot/blob/master/src/controller/notifiesController.ts#L5">我的 Github</a>，處理完後一樣會導到前端畫面去做畫面渲染。</li>
</ol>
<h2 id="LIFF-網址設定"><a href="#LIFF-網址設定" class="headerlink" title="LIFF 網址設定"></a>LIFF 網址設定</h2><p>LIFF 的申請與操作方法我就先不贅述，可以參考卡米哥的 <a href="https://medium.com/@EtrexKuo/%E5%A6%82%E4%BD%95%E5%9C%A8-bottender-%E4%B8%AD%E4%BD%BF%E7%94%A8-liff-88634b187e72">Bottender 結合 LIFF 文章</a>，但申請的時候要記得是在 LINE Login 申請喔！否則可能會有日後 migration 的問題。<br><img src="https://i.imgur.com/AcXEDeI.png" alt="Login LIFF"></p>
<blockquote>
<p>Tips: 紅色框框名字的部分在轉貼給別人的時候會顯示在視窗上的縮圖喔</p>
</blockquote>
<p>在測試環境時 LINE Notify 設定這邊只要一次 LIFF 網址，往後只要在 LINE 後台去調整 webhook 的網址就好， Notify 這邊就不需要再掛心回來這裡設定，只要等到上線時申請再去弄一個即可。<br><img src="https://i.imgur.com/PNVmNmn.png" alt="LINE Notify callback"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>除了使用 LIFF 綁定 Notify 遇到 query string 部分的問題，其餘在串接上其實都沒障礙，而且也充分展現每個微服務的功能，雖然還是會希望可以讓 Twitch Bot 可以自己發推播，不過既然 LINE 有限制也有解決方案，那就找他們的方法去做吧！</p>
<p>等接下來有空在接上 LINE 最近新出的 ShareTargetPicker 時再來擴增一下圖奇獸～</p>
<blockquote>
<p>ShareTargetPicker 可以參考這個網址: <a href="https://engineering.linecorp.com/zh-hant/blog/share-target-picker-liff/">點我我我我</a></p>
</blockquote>
<p>三月 <a href="https://chatbots.kktix.cc/events/meetup-017">Chatbot Taiwan 小聚</a>歡迎大家來參加哦！</p>
<blockquote>
<p>防疫期間記得要 <code>多洗手</code>、<code>戴口罩</code>、<code>保持清潔</code>！ 防疫從你我做起 🙂</p>
</blockquote>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>LIFF</tag>
        <tag>LINE Notify</tag>
        <tag>Twitch</tag>
        <tag>LINE Bot</tag>
        <tag>Bottender</tag>
      </tags>
  </entry>
  <entry>
    <title>【AppWorks】企業參訪</title>
    <url>/2022/12/14/appworks-school-visit-2022/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/appworks.JPG"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我們是來自 LINE 台灣開發者關係與技術推廣部門 (Developer Relations)。 LINE Taiwan 開發工程團隊於 2022 年初的 「<a href="https://engineering.linecorp.com/zh-hant/blog/line-devrel-campus/">關於 LINE 台灣開發者關係與技術推廣部門的校園相關資源</a>」文章中，有敘述到關於 LINE Taiwan 所提供給理工相關科系學校同學的企業參訪機會，除了讓學校同學可以了解 LINE 的<a href="https://engineering.linecorp.com/zh-hant/culture">研發工程文化</a>之外，更可以了解相關的技術實習的機會。</p>
<span id="more"></span>

<h1 id="TECH-FRESH-Shandy-實習經驗分享"><a href="#TECH-FRESH-Shandy-實習經驗分享" class="headerlink" title="TECH FRESH - Shandy 實習經驗分享"></a>TECH FRESH - Shandy 實習經驗分享</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/a7d5651edc5744c8890f7f59d58e69d5?slide=3" title="Data dev team introduction @ AppWorks School 企業參訪 " allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>Shandy 一開始分享再加入 LINE TECH FRESH 計畫之前，是如何接觸到相關活動來了解公司文化與自身是否符合，當時先與同學一起參加 LINE Developer Meetups 14 的活動(<a href="https://engineering.linecorp.com/zh-hant/blog/line-developer-meetup-14">文章</a>)，當時接觸到資料工程團隊的成員，並抓緊時間在活動空檔來詢問講者問題，讓自己對於部門有更深一層的了解。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/a7d5651edc5744c8890f7f59d58e69d5?slide=4" title="Data dev team introduction @ AppWorks School 企業參訪 " allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>但身為一個學生，除了學校的專題跟課堂作業之外，Shandy 也很推薦大家可以踴躍參加各種競賽(<a href="https://engineering.linecorp.com/zh-hant/blog/meichu-hackathon-2022">【梅竹黑客松 2022】活動分享</a>)，跟不同背景的同學一起合作，發想對於比賽所需要的內容，都會是未來工作的養分之一！</p>
<p>另一部份當然也就推薦實習啦！在於任何職位的實習中，其實都是學習工作上會用到的各種技能，當然要進入一個實習的領域事前工作也不容易，但相信透過實習了解到不同產業所需備有的知識，一定可以讓這段旅程有更多的收穫！</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/a7d5651edc5744c8890f7f59d58e69d5?slide=6" title="Data dev team introduction @ AppWorks School 企業參訪 " allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>且過去在管理文件時，常常因為只有自己看，所以在分類上就會較隨意，但在進入實習之後，Shandy 分享她在當中學到的許多文件撰寫技巧，並且可以了解每個文件被整齊的擺放在對應的位置是多麽重要的事情，除了學到文件所帶來的工作效率增進之外，也學習到文件對於跨部門合作的重要性在哪！</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/a7d5651edc5744c8890f7f59d58e69d5?slide=10" title="Data dev team introduction @ AppWorks School 企業參訪 " allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>當然最後在學習技能這條路上，原本的專業能力勢必需要持續學習強化的，但在其他方面也是要多注意，如：溝通技巧、相關領域展開、跟不同部門合作的能力，因此在學習這條路上 Shandy 也推薦大家別把自己設限，勇敢跨出去做自己！</p>
<h3 id="Q-面試會注重哪些呢？"><a href="#Q-面試會注重哪些呢？" class="headerlink" title="Q: 面試會注重哪些呢？"></a>Q: 面試會注重哪些呢？</h3><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/fb87bbd6e0b54b89a95f7ff6ad4f45e0?slide=16" title="20221214 AppWorks 企業參訪" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>推薦大家從 Open Source 的專案開始研究，並且從中可以找到一些軟體技巧，也能從一些 README 中學會文件撰寫能力，培養自己對於用文件說話的能力，當然也可以從近期很火紅的各種服務、API 去試著了解串接，說不定在某個時刻你的 Side Project 就紅了呢！</p>
<h3 id="UI-x2F-UX-設計的團隊跟-front-end-的團隊有分離嗎？-好奇-front-end-團隊合作的流程"><a href="#UI-x2F-UX-設計的團隊跟-front-end-的團隊有分離嗎？-好奇-front-end-團隊合作的流程" class="headerlink" title="UI&#x2F;UX 設計的團隊跟 front-end 的團隊有分離嗎？ 好奇 front-end 團隊合作的流程"></a>UI&#x2F;UX 設計的團隊跟 front-end 的團隊有分離嗎？ 好奇 front-end 團隊合作的流程</h3><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/fb87bbd6e0b54b89a95f7ff6ad4f45e0?slide=21" title="20221214 AppWorks 企業參訪" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>專案在經過重重關卡的討論後，由 PM, Developer(前端, 後端), QA, UI&#x2F;UX 會共同協力合作去讓產品交付出去時除了完成了既有的功能外，也能讓產品更加適合市場上用戶的使用特性。</p>
<h3 id="要如何評斷功能是否值得開發"><a href="#要如何評斷功能是否值得開發" class="headerlink" title="要如何評斷功能是否值得開發?"></a>要如何評斷功能是否值得開發?</h3><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/fb87bbd6e0b54b89a95f7ff6ad4f45e0?slide=26" title="20221214 AppWorks 企業參訪" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>常見大家一定知到的市調、評估廣告成效、趨勢、各種誘因…除了這些基本透過不同領域的專業能力分析之外，另一個面向就是透過日常與同仁的合作中，找出每天被我們隱藏著的問題，並透過像是在 LINE 裡面的 Internal Hackathon (<a href="https://engineering.linecorp.com/zh-hant/blog/internal-hackathon-2022">文章</a>)來激發各團隊同仁的創意，提供舞台與獎金讓大家提供創意時能有個回饋，也如同前面 Shandy 提到的，推薦不管是學生、業界同行能夠多參加各式不同的比賽，或許原本以為沒什麼的點子，有機會讓大被外部看見！那會問說值得開發這個問題呢～除了經驗外，勇於嘗試也是一個不錯的想法喔！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>很高興這次有機會可以與 AppWorks School 的同學分享 LINE 台灣的工作環境與資料工程團隊 - Shandy 的相關分享，如果貴校、系、社團有想了解更多關於 LINE 台灣的相關內容，請先參考「<a href="https://engineering.linecorp.com/zh-hant/blog/line-devrel-campus/">關於 LINE 台灣開發者關係與技術推廣部門的校園相關資源</a>」當中的說明內容囉！那我們就下次見啦！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
  </entry>
  <entry>
    <title>Chatbot meetup #14 與 #15 小聚心得</title>
    <url>/2019/12/22/chatbot-meetup-2019Q4/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/9sLr17Z.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 NiJia</p>
<p>下半年度辛苦來參加小聚的各位了，最後一季場地一直變更，因為每次小聚都有熱情的夥伴提供場地給小聚，也一起尋找最適合各位的一個場地，若造成困擾小弟深感抱歉 &lt;(_ _)&gt;</p>
<p>2019 年度活動資訊請參考 ➡️<a href="https://github.com/Chatbot-Taiwan/meetups/blob/master/taipei/2019.md">Chatbot Taiwan GitHub</a></p>
<h1 id="小聚活動-amp-簡報連結"><a href="#小聚活動-amp-簡報連結" class="headerlink" title="小聚活動 &amp; 簡報連結"></a>小聚活動 &amp; 簡報連結</h1><h2 id="meetups-14"><a href="#meetups-14" class="headerlink" title="meetups 14"></a><a href="https://chatbots.kktix.cc/events/meetup-014">meetups 14</a></h2><ul>
<li><a href="https://hackmd.io/@chatbot-tw/meetups-014">參考共筆</a></li>
</ul>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Speaker</th>
<th>Link</th>
</tr>
</thead>
<tbody><tr>
<td>What’s new in LIFF v2 and TECHPULSE 2019 preview</td>
<td>Evan Lin</td>
<td><a href="https://speakerdeck.com/line_developers_tw/whats-new-in-liff-v2-and-techpulse-2019-preview?slide=2&fbclid=IwAR1pS22ELVfWptEmvIwn7G35uGeefPO1g6ncMfPsD0ssr7IBB6T7Q_Hbc4Q">link</a></td>
</tr>
<tr>
<td>Bottender 一路走來</td>
<td>林承澤(C.T Lin)</td>
<td><a href="https://drive.google.com/file/d/1yz38IWwolgv8AQPxIpuQBfNzSaKjGQVU/view?fbclid=IwAR2IHRd6ESvCnOCu-hleFvM-K1RTMT4l65ShoWB852XWhQ-wUj_ikegmnzw">link</a></td>
</tr>
<tr>
<td>如何使用 kamigo 快速開發 LINE bot</td>
<td>林家煜(NiJia Lin)</td>
<td><a href="https://www.slideshare.net/JiaYuLin6/kamigo-reviews-20191127-198374007?fbclid=IwAR1bkzmaOO5_tOBxNf9G5WVLboghJp6Mbl1G5wkOxPLk7RzOm707dNefd_M">link</a></td>
</tr>
</tbody></table>
<h2 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h2><p>當時 LIFF v1 只能透過 Deep link 的方式讓很多需要 Web view 的動線設計上增加了許多困擾，而在 v2 上線後改善了這方面的問題，且也對外公布支援 Query string 讓開發者可以帶參數進去(雖然之前就已經在偷用了 😆)，雖然很不幸的因為 iOS 的政策問題導致 Scan QR code 的功能在接下來的版本硬生生被拔除，但整體下來其實 LIFF v2 對於在 LINE 上開發功能的朋友可以更有彈性的去應用了。</p>
<blockquote>
<p><a href="https://developer.apple.com/app-store/review/guidelines/#third-party-software">iOS 政策問題參考</a></p>
</blockquote>
<p><img src="https://i.imgur.com/BtY1sLS.jpg"></p>
<p>Bottender 是在某次小聚聊到時才知道原來有這麼酷的開源專案，我覺得最特別的除了可以支援多平台之外，就是 <code>console</code> 模式了，像我最近做的 <a href="https://github.com/louis70109/Taiwan-ABL-games">ABL 台灣隊賽程機器人</a>就只使用到純文字的功能，在<code>console</code>模式下很快速的就把功能弄好，部署時只要把相關 <code>Key</code> 放進去功能就完成了，這部分是真的很驚艷 😆<br>上週去參加 GDG Hackthon 時介紹給其他寫前端的朋友使用，從來沒寫過後端的他們也覺得使用上真的很快就上手，所以有寫<code>Javascript</code>的朋友不妨參考試試囉！<br><img src="https://i.imgur.com/xMpRkLM.png"></p>
<p>當初因為訓練時沒有一個可以幫我儲存記錄的地方，因此想到想做 LINE bot 來解決我的問題，但同時我又不喜歡處理一大堆 JSON 的問題，因此選用 <a href="https://github.com/etrex/kamigo">Kamigo</a> 作為我開發 bot 的框架，除了框架幫忙轉打請求轉到對應的<code>controller</code>讓我不用寫一堆<code>if</code> <code>else</code>以外，最好用的功能就是 <code>Kamiflex</code> 了，當我們在 <a href="https://developers.line.biz/console/fx/">Flex Message Simulator</a> 弄了一堆 JSON 出來時，同時我們需要從資料庫拉資料出來組裝產生大量的 JSON，在組裝時程式碼會很髒亂，所以使用 Kamiflex 來幫忙轉譯讓我在寫 Flex message 時可以更像在寫 Ruby code，讓整個 JSON 可能幾千行瞬間被濃縮成 100 行時這段 Flex message 在維護時也能更好的維護。<br><img src="https://i.imgur.com/4boRPgr.png"></p>
<h3 id="Kamigo-流程"><a href="#Kamigo-流程" class="headerlink" title="Kamigo 流程"></a>Kamigo 流程</h3><div id="sequence-0"></div>

<ul>
<li><a href="https://chatbots.kktix.cc/events/meetup-015">meetups 15</a><ul>
<li><a href="https://hackmd.io/@chatbot-tw/meetups-015">參考共筆</a></li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Speaker</th>
<th>Link</th>
</tr>
</thead>
<tbody><tr>
<td>LINE Push &#x2F; Message 開發經驗談</td>
<td>Caesar Chi</td>
<td></td>
</tr>
<tr>
<td>邊緣人救星！用 Laravel 打造私人定製的聊天機器人</td>
<td>李小胖</td>
<td><a href="https://docs.google.com/presentation/d/1ImrH_2IziPceVnfHrTYTf8g3AivxQ3s4sNHkSQf6aBY/edit#slide=id.p">link</a></td>
</tr>
<tr>
<td>Chatbot builder</td>
<td>Penny Sun</td>
<td><a href="https://speakerdeck.com/line_developers_tw/automl-in-clova-chatbot-builder-framework?slide=56">link</a></td>
</tr>
</tbody></table>
<h2 id="心得-1"><a href="#心得-1" class="headerlink" title="心得"></a>心得</h2><p>我平時就有在看一些社群行銷朋友分享他們是如何對行為下標籤<code>tag</code>以及發放對應內容給使用者進而提升購買力，在 Caesar 大大的快速了解到這些商業行為背後的開發經驗為何，從設計到大量推送所需注意的問題以及服務器之間的溝通問題…在這次的議程中讓我學到很多付費內容才會聽到的題材，讓我對於 Push message 這件事情的做法與思路又重新被教育了一次 😆<br><img src="https://i.imgur.com/GqSiAmh.jpg"></p>
<p>這次要請到一個月有一半時間都在參加小聚的小聚王小胖來為各位分享如何用<code>Laravel</code>做一隻專為自己客製化的機器人，雖然 Live demo 過程中了魔咒，好險後來也解決的一些 live demo 才會遇到的問題 🤣，總之若有使用 php 的朋友歡迎參考簡報哦～<br><img src="https://i.imgur.com/z2WgJvD.jpg"></p>
<p>最後由 LINE 的資料工程師-Penny 為我們帶來在 LINE techpulse 上的議程，從介紹中 NLU 部分看起來功能會像是 <code>Dialogflow</code> 一樣，而在其他的部分則是提供一個介面讓使用者可以更快速的在網頁上設定自己想要的機器人樣式，只是目前功能只提供給合作的商家，期待未來 release 時的效益 🚀<br><img src="https://i.imgur.com/rdAzlEu.jpg"></p>
<blockquote>
<p>官方帳號已經有套用囉！想收到啲一手資訊或是想玩玩的朋友可以掃描加入 👾</p>
</blockquote>
<p><img src="https://qr-official.line.me/L/9AirZgJAgb.png"></p>
<blockquote>
<p>所有小聚資訊接收藏在 -&gt; <a href="https://github.com/Chatbot-Taiwan/meetups">Chatbot Taiwan GitHub</a> 上哦！</p>
</blockquote>
<h1 id="閃電秀"><a href="#閃電秀" class="headerlink" title="閃電秀"></a>閃電秀</h1><h2 id="14"><a href="#14" class="headerlink" title="14"></a>14</h2><table>
<thead>
<tr>
<th>Speaker</th>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody><tr>
<td>陳佳新</td>
<td>LINE Beacon，數位導覽的小幫手！</td>
<td></td>
</tr>
<tr>
<td>Eric</td>
<td>Flex box, 一起收集分享 Flex message</td>
<td><a href="https://github.com/eric0324/flex-box">link</a></td>
</tr>
<tr>
<td>徐郁涵</td>
<td>食農飽可夢</td>
<td></td>
</tr>
<tr>
<td>郭佳甯</td>
<td>午餐隊長</td>
<td><a href="https://github.com/Yoctol/leader-of-lunch">link</a></td>
</tr>
</tbody></table>
<h2 id="15"><a href="#15" class="headerlink" title="15"></a>15</h2><table>
<thead>
<tr>
<th>Speaker</th>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody><tr>
<td>Calvin</td>
<td>LINE Beacon，數位導覽的小幫手！</td>
<td><a href="https://docs.google.com/presentation/d/1a8Yaf_315mb4u8BcIvs6TqyNYkDiRR-T7mxNAnOuQCE/edit">link</a></td>
</tr>
<tr>
<td>JT</td>
<td>ChatOps &amp; Rasa</td>
<td><a href="https://slides.com/jimting/chatops_and_rasa#/">link</a></td>
</tr>
<tr>
<td>NiJia</td>
<td>ABL 台灣隊查詢機器人</td>
<td><a href="https://github.com/louis70109/Taiwan-ABL-games">link</a></td>
</tr>
<tr>
<td>郭佳甯</td>
<td>Bottender &amp; Kamigo 介紹</td>
<td><a href="https://github.com/Yoctol/bottender">link1</a>、<a href="https://github.com/etrex/kamigo">link2</a></td>
</tr>
</tbody></table>
<h2 id="短評"><a href="#短評" class="headerlink" title="短評"></a>短評</h2><p>除了內容豐富的主議程外，閃電秀就是在每個社群最特別的部分了，從每次的閃電秀中都讓我對於 side project 的想法又重新被定義了一番，常常會看到很多不同的應用情境以及特殊的用法，歡迎大家踴躍報名閃電秀來互相交流，多方交流或許有機會蹦出不一樣的想法並讓機器人的其他用途 😁</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在舉辦每次的小聚活動都希望可以給每個來的朋友最豐富的內容，以及提供 Lighting talk 的舞台讓有作品的朋友可以上來分享，而最近有與其他社群的朋友聊到，發現似乎把議程塞太緊，導致影響到會眾與講者交流以及回家休息的時間，所以之後的小聚改善這個狀況並調整時間，再麻煩大家多支持 <a href="https://www.facebook.com/groups/chatbot.tw">Chatbot Taiwan</a>🚀🚀🚀</p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script><textarea id="sequence-0-code" style="display: none">User->LINE: message
LINE->Route: webhook
Route->Kamigo: event notify
Kamigo->Controller: send params
Controller->View: send DB data
View->Kamigo: generator flex template
Kamigo->Route: send template
Route->LINE: response
LINE->User: reply</textarea><textarea id="sequence-0-options" style="display: none">{"theme":"simple"}</textarea><script>  var code = document.getElementById("sequence-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-0-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-0", options);</script>]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>chatbot</tag>
        <tag>meetup</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發者社群計畫: 中部人的 Chatbot Meetup #18 心得分享</title>
    <url>/2021/12/02/chatbot-central-meetup-18/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist - NiJia Lin。這次很開心受到 chatbot 社群的邀請，參加了 “<a href="https://hackmd.io/@chatbot-tw/chatbots-meetup-in-central-taiwan-018">中部人的 Chatbots Meetup 聊天機器人小小聚 #18 @ 臉書社團直播</a>“ 的聚會活動，並且分享 LINE API 更新與個人彈幕遊戲的開發心得。在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<ul>
<li>社群 Chatbots Meetup： <a href="https://chatbots.kktix.cc/">https://chatbots.kktix.cc/</a></li>
<li>本次活動網頁: <a href="https://chatbots.kktix.cc/events/chatbots-meetup-in-central-taiwan-018">活動網址</a></li>
<li>本次活動的共筆紀錄： <a href="https://hackmd.io/@chatbot-tw/chatbots-meetup-in-central-taiwan-018">https:&#x2F;&#x2F;hackmd.io&#x2F;@chatbot-tw&#x2F;chatbots-meetup-in-central-taiwan-018</a></li>
<li><a href="https://speakerdeck.com/line_developers_tw/line-platform-update-202111">簡報連結</a><span id="more"></span></li>
</ul>
<h1 id="整場影片分享"><a href="#整場影片分享" class="headerlink" title="整場影片分享"></a>整場影片分享</h1><iframe width="560" height="315" src="https://www.youtube.com/embed/xaOpNhB0vBs?start=373" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h1 id="彈幕遊戲開發分享"><a href="#彈幕遊戲開發分享" class="headerlink" title="彈幕遊戲開發分享"></a>彈幕遊戲開發分享</h1><ul>
<li><a href="https://github.com/louis70109/WordsGame">GitHub</a></li>
</ul>
<p>之前有寫過一個彈幕與 LINE Bot 結合的<a href="https://github.com/louis70109/Screen-LINE-Bullets">一個範例</a>，當時就在想除了在活動上與大家互動之外，還有什麼功能是可以結合的呢？伴隨著前一陣子我在背日文五十音，為了加強自己的印象因此開發與彈幕整合在一起，嘗試讓自己的印象可以更深刻，不過一直忘記眼前的單字是誰。</p>
<h2 id="遊戲本體"><a href="#遊戲本體" class="headerlink" title="遊戲本體"></a>遊戲本體</h2><script async class="speakerdeck-embed" data-slide="5" data-id="7491b80124ce4c0fa8e1c0a98172b6d2" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在前端頁面上已較簡易的方式呈現，僅需<strong>用戶登入</strong>、<strong>輸出日文</strong>、<strong>查看排名</strong>三個功能，而在用戶登入的功能上我選擇 LINE Login 做快速登入，實作用戶相關功能時我會考慮以下幾點：</p>
<ul>
<li>如何最簡化登入步驟</li>
<li>什麼帳號是大部分人都有</li>
<li>只需能快速確認真實用戶即可</li>
<li>開發文件需要持續有在更新</li>
<li>帳號安全性</li>
</ul>
<script async class="speakerdeck-embed" data-slide="7" data-id="7491b80124ce4c0fa8e1c0a98172b6d2" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>實作的部分過去有寫過相關的文章，大家在參考流程圖時不仿看看之前寫的文章，此次 LINE Login 整合參考如下：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-login-vue-fastapi/">透過 Vue + FastAPI 完成 LINE Login 一鍵式登入</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-bot-guideline-4/">LINE Bot 開發者指南詳解 – 4. LINE Login</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-bot-guideline-5/">LINE Bot 開發者指南詳解 – 5. LINE Login (補充)</a></li>
</ul>
<h2 id="後端-FastAPI-在-Docker-中開發-含資料庫"><a href="#後端-FastAPI-在-Docker-中開發-含資料庫" class="headerlink" title="後端 FastAPI 在 Docker 中開發(含資料庫)"></a>後端 FastAPI 在 Docker 中開發(含資料庫)</h2><p>過去我在開發的經驗如下：</p>
<ul>
<li>獨立開一台測試用的環境 + 資料庫<ul>
<li>所有測試資料都在這，新服務多了之後需反覆確認表格</li>
</ul>
</li>
<li>或在 Docker 中建立測試用的資料庫，只能共用一個<ul>
<li>Docker 多開資料庫也會增加電腦負擔</li>
<li>API 在本地端，資料庫在 Docker，開發久了會搞混</li>
</ul>
</li>
</ul>
<p>而在學會把環境藉由 VSCode 整合進 Docker 裡面開發之後，發現了一個非常酷的世界，畢竟在開發上我個人還是喜歡把東西放在一起開發，因此透過 VSCode 遠端的方式連到 Docker 裡面開發 FastAPI + 資料庫時就非常的棒，且有以下的優點：</p>
<ul>
<li>環境孤立化，在裡面就像在虛擬機裡開發一樣</li>
<li>用完就可以刪除，不會影響到本機的內容</li>
<li>都在 VSCode，開發前端也沒問題 (開發習慣統一)</li>
</ul>
<blockquote>
<p>若你對相關的設定方式也有興趣可以參考這篇文章 - <a href="https://nijialin.com/2021/05/29/fastapi-dev-in-container-vscode/">如何在 VSCode 中以 Container 方式開發 FastAPI + PostgreSQL</a></p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="8" data-id="7491b80124ce4c0fa8e1c0a98172b6d2" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="實裝-Test-Container-於-GitHub-Actions-中"><a href="#實裝-Test-Container-於-GitHub-Actions-中" class="headerlink" title="實裝 Test Container 於 GitHub Actions 中"></a>實裝 Test Container 於 GitHub Actions 中</h2><p>這一陣子許多同事除了在內部分享會中分享 Testcontainer 的技術，也有到 JCConf 2021 上分享 - <a href="https://jcconf.tw/2021/">Integration testing with Testcontainers</a>，在內容上都非常精彩，也讓我想試試看這部分</p>
<p>而過往我在寫單元測試 (Unit) 時，時常都把資料庫的函式都直接擋住 (Mock)，假裝他是成功的情況下往下走。但在一個 API 中資料庫往往是最容易在緊繃時掛掉，亦或是工程是手癢去改了某個欄位，讓整個服務瞬間炸掉，這些問題都是我們無法控制的部分… 因此實際讓資料庫跑在測試時可以有個真的環境可以使用是很重要的一環，雖然看專案規模，測試時間有多有少有長有短，但放著一個 Container&#x2F;VM 在那邊沒用就是很浪費啊，因此就有本次要介紹的 Test Container。</p>
<p>使用 Test Container 有以下的好處：</p>
<ul>
<li>使用時才建立容器</li>
<li>能夠真實訪問資料庫</li>
<li>讓 API 的測試可以完整走流程</li>
</ul>
<script async class="speakerdeck-embed" data-slide="11" data-id="7491b80124ce4c0fa8e1c0a98172b6d2" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而相對 LINE Bot 的部分測試上需要多注意點</p>
<ul>
<li>測試階段因 LINE Bot 需要介面操作才有辦法觸發<ul>
<li>這部分可以嘗試 Mock LINE Server，期望 Server 都正常回覆</li>
</ul>
</li>
<li>抑或是在環境變數中設定 LINE Bot 的真實金鑰讓初始化<ul>
<li>簽證過了就表示成功</li>
</ul>
</li>
<li>Webhook 裡面的用法針對函式去做測試即可</li>
</ul>
<h2 id="LINE-Bot-在本次的用途"><a href="#LINE-Bot-在本次的用途" class="headerlink" title="LINE Bot 在本次的用途"></a>LINE Bot 在本次的用途</h2><script async class="speakerdeck-embed" data-slide="12" data-id="7491b80124ce4c0fa8e1c0a98172b6d2" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過去我們都習慣在聊天機器人讓做各式應用，其實對話式應用都存在於各種輸入框中，而這次的分享我以日文單字的小遊戲來做一個對話應用，最後再讓管理者可以透過 LINE Bot 中去設定遊戲的難度，增加遊戲的樂趣。</p>
<p>而後續還可以再整合一些功能，讓這次的分享內容可以有更多的應用，像是整合 <strong>平假</strong>&#x2F;<strong>片假</strong>、抓字典、甚至到 STT 的整合也是可以(只是 latency 要測看看)，如果你也想試看看類似的作法，歡迎參考這次的<a href="https://github.com/louis70109/WordsGame">範例專案</a>，更多資訊也會在之後於 README 中補充!</p>
<h1 id="最後還是需要來個-API-Update"><a href="#最後還是需要來個-API-Update" class="headerlink" title="最後還是需要來個 API Update"></a>最後還是需要來個 API Update</h1><script async class="speakerdeck-embed" data-slide="19" data-id="7491b80124ce4c0fa8e1c0a98172b6d2" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>相信有在使用 LINE 的朋友一定對隨你填貼圖不陌生(甚至人手好幾組)，於今年初時貼圖的 Webhook 回傳更新上就能透過收到 keywords 來了解用戶發送貼圖的契機，而隨著更新至今，隨你填貼圖裡面的內容也可以在 Webhook 中被收到囉！也可以更進一步當使用者傳送這類型貼圖時，更能抓住使用者當前的狀態，進一步地提供更客製化的資訊給他們，讓應用場景更加活躍。</p>
<h2 id="LIFF-更新"><a href="#LIFF-更新" class="headerlink" title="LIFF 更新"></a>LIFF 更新</h2><script async class="speakerdeck-embed" data-slide="20" data-id="7491b80124ce4c0fa8e1c0a98172b6d2" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>往往加入一個領域開發時，都會希望有個能夠參考的範例，讓首次或是往後的開發可以依照一個樣板去開發。在 LIFF 中，你可以使用官方提供的 <a href="https://github.com/line/line-liff-v2-starter">line-liff-v2-starter</a> 開始，讓開發者們在加入 LIFF 開發時可以有個樣板參考。</p>
<p>另一方面，除了開發上，任何專案在開始前都需要確認接下來要引入的工具功能是否能正常使用，這方面 LIFF 提供了一個 <a href="https://liff-playground.netlify.app/">Playground</a> 讓各位正在考慮使用的人可以有的地方拿各種手機、桌電、筆電來確認 LIFF 的使用狀態，如果大家也在考慮開發 LIFF 的話歡迎參考以下連結：</p>
<blockquote>
<p><a href="https://liff-playground.netlify.app/">https://liff-playground.netlify.app/</a></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>雖然 demo 時還是老樣子 Server 不聽話，只能先架設在本地端讓大家試玩，希望能透過這次的分享讓大家有新的點子以及參考內容來打造更酷很有趣的應用，Chatbot 社群也都非常有活力，歡迎各路好手踴躍前往分享參加。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>社群分享永遠是讓創意激盪的最佳方式，而 Chatbots Meetup 是一個很熱情與充滿創造力的社群組織。也希望有更多有創意的開發者願意加入 LINE Chatbot 的開發行列，更希望能熱情的參與社群的活動與一起來分享。</p>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://lin.ee/s5RsZHo">@line_tw_dev</a></p>
<p><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: 2020 六月與七月 LINE 平台更新總整理</title>
    <url>/2020/07/22/chatbot-meetup-21-sharing/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist – NiJia Lin。這次很開心 DevRel 團隊受到 chatbot 社群的邀請，參加了 「Chatbot meetup 聊天機器人小聚 21 @ On-ramp Studio」 的聚會活動，並且分享 LINE API 更新的心得。在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<p>社群 Chatbots Meetup： <a href="https://chatbots.kktix.cc/">https://chatbots.kktix.cc/</a><br>本次活動網頁: <a href="https://chatbots.kktix.cc/events/meetup-021">https://chatbots.kktix.cc/events/meetup-021</a><br>本次活動的共筆紀錄： <a href="https://hackmd.io/@chatbot-tw/meetups-021">https://hackmd.io/@chatbot-tw/meetups-021</a></p>
<p>由於 Chatbots Meetup 本身屬於社群自主性的活動，裡面也有許多社群朋友所贊助的閃電秀。裡面的所有內容也是相當的難得與有趣。也希望能夠透過本篇文章讓大家稍微了解 Chatbots Meetup 社群閃電秀的魅力。</p>
<p>這次活動總算又回到 LINE 台灣的辦公室來舉辦，同時這也是疫情後 LINE 辦公室第一次舉辦線下的聚會。希望透過這次的聚會可以讓更多朋友了解到打造自己的聊天機器人是如此讓人開心的事情。</p>
<h3 id="整場分享的影片："><a href="#整場分享的影片：" class="headerlink" title="整場分享的影片："></a>整場分享的影片：</h3><iframe width="560" height="315" src="https://www.youtube.com/embed/8Lu4LHKSMlo?controls=0&amp;start=335" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<span id="more"></span>

<h2 id="LINE-Platform-平台-2020-六月-amp-七月更新"><a href="#LINE-Platform-平台-2020-六月-amp-七月更新" class="headerlink" title="LINE Platform 平台 2020 六月 &amp; 七月更新"></a>LINE Platform 平台 2020 六月 &amp; 七月更新</h2><p><img src="https://i.imgur.com/0KghM9l.jpg"></p>
<h4 id="投影片"><a href="#投影片" class="headerlink" title="投影片"></a><a href="https://speakerdeck.com/line_developers_tw/line-api-platform-update-202007">投影片</a></h4><script async class="speakerdeck-embed" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h3 id="6-x2F-22-API-Update"><a href="#6-x2F-22-API-Update" class="headerlink" title="6&#x2F;22 API Update"></a>6&#x2F;22 API Update</h3><p>在 6&#x2F;22 的更新當中我們 Issue access_token 的功能(<a href="https://developers.line.biz/en/reference/messaging-api/#issue-channel-access-token-v2-1">參閱</a>除了可以拿到 chatbot 中 JWT 樣式的 access_token，裡面還有一個 unique 的 key_id 欄位，並且可以使用這個新的 API - <a href="https://developers.line.biz/en/reference/messaging-api/#get-all-valid-channel-access-token-key-ids-v2-1">Get all valid channel access token key IDs v2.1</a> 去找到所有的 kid，除了來並交叉比對你手上所擁有的 access_token 中的 kid 是否有吻合其中一把鑰匙，也可以從中得知已經 issue 多少 access_token 出去囉！</p>
<p>以下是 Get all valid channel access token key IDs v2.1 的流程圖：<br><img src="https://i.imgur.com/LEAYqrL.png"></p>
<script async class="speakerdeck-embed" data-slide="3" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>需要注意的部分就是 Get all valid channel access tokens v2.1 的 API 會在 7&#x2F;22 後就會被棄用，因此若使用相關功能的朋友還是建議可以使用 <a href="https://developers.line.biz/en/reference/messaging-api/#get-all-valid-channel-access-token-key-ids-v2-1">Get all valid channel access token key IDs v2.1</a> 這隻 API 哦！</p>
<h3 id="06-x2F-29-LIFF-v2-3-0-released"><a href="#06-x2F-29-LIFF-v2-3-0-released" class="headerlink" title="06&#x2F;29 LIFF v2.3.0 released"></a><a href="https://developers.line.biz/en/news/2020/06/29/release-liff-2.3/">06&#x2F;29 LIFF v2.3.0 released</a></h3><h4 id="Concatenate-amp-Replace-模式"><a href="#Concatenate-amp-Replace-模式" class="headerlink" title="Concatenate &amp; Replace 模式"></a>Concatenate &amp; Replace 模式</h4><script async class="speakerdeck-embed" data-slide="5" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在前一個版本中會遇到 Query parameters 於雙系統(iOS&#x2F;Android)都有問題，甚至會將參數放在 <code>liff.state=</code> 上造成問題產生。</p>
<p>而這次的更新中可以在 LIFF 的網址中使用子路徑(<code>/path</code>)以及 Query parameters (<code>?key=value</code>)，並且解決掉將參數放進 <code>liff.state=</code> 的問題 ，解決掉以往較困擾的問題。</p>
<p>在 LINE Developers console 中增加了兩個模式 <code>Concatenate</code> 以及 <code>Replace</code>，更新之前就已經存在的 LIFF page 則被換到 <code>Replace</code> 上，而新建立的 LIFF page 往後預設為 <code>Concatenate</code>。</p>
<p>若你已有相關的 workaround implementation 並且暫時不想更新的話則就繼續使用 <code>Replace</code> 模式。</p>
<blockquote>
<p>請注意：iOS 版本必須在 10.11 之後 以及 LIFF SDK 需使用 v2.3.1。</p>
</blockquote>
<h4 id="liff-permanentLink-createUrl-的-exception-方法使用介紹"><a href="#liff-permanentLink-createUrl-的-exception-方法使用介紹" class="headerlink" title="liff.permanentLink.createUrl() 的 exception 方法使用介紹"></a>liff.permanentLink.createUrl() 的 exception 方法使用介紹</h4><p>若抓到當前網址與實際 Endpoint 不符的話，liff.permanentLink.createUrl() 會在 exception 中告知狀態。程式碼如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> myLink = liff.permanentLink.createUrl()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err.code + <span class="string">&#x27;:&#x27;</span> + err.message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>若不太清楚的話可以參考下圖範例試試看將 webhook 設定一個基本路由(<code>/bbb</code>)，若在原始路由後加個子路由(<code>/cc</code>)，則這樣是沒問題，但若將原始路由的路徑(<code>/bbb</code>)刪除改成<code>/ccc</code>的話就會跳到錯誤中了：<br><img src="https://i.imgur.com/Fb1pRy6.png"></p>
<h4 id="liff-shareTargetPicker-已經可以抓出錯誤囉！"><a href="#liff-shareTargetPicker-已經可以抓出錯誤囉！" class="headerlink" title="liff.shareTargetPicker 已經可以抓出錯誤囉！"></a>liff.shareTargetPicker 已經可以抓出錯誤囉！</h4><script async class="speakerdeck-embed" data-slide="8" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>shareTargetPicker 之前的版本無法知道是否已經送出，在這次的 2.3 release 中可以在程式碼內部得知 shareTargetPicker 的狀態並讓開發者去 handle message。</p>
<h4 id="liff-sendMessages-增加了-LiffError-的-spec-囉！"><a href="#liff-sendMessages-增加了-LiffError-的-spec-囉！" class="headerlink" title="liff.sendMessages() 增加了 LiffError 的 spec 囉！"></a>liff.sendMessages() 增加了 LiffError 的 spec 囉！</h4><script async class="speakerdeck-embed" data-slide="11" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這次的更新中在 sendMessage 的 catch Promise 中可以抓出 <code>error code</code> 是否屬於 “INVALID_ARGUMENT” 的 Liff Error 型別，透過這個參數開發者也能更好的去掌握錯誤的發生。</p>
<h3 id="6-x2F-30-Beacon-Leave-Event-將之後被棄用"><a href="#6-x2F-30-Beacon-Leave-Event-將之後被棄用" class="headerlink" title="6&#x2F;30 Beacon Leave Event 將之後被棄用"></a>6&#x2F;30 Beacon Leave Event 將之後被棄用</h3><p>因為訊號以及不精準的關係，Beacon Event 在 6&#x2F;30 之後會把 Leave Event sunset 掉，也讓大家可以有時間可以使用其他替代啷案解決此問題。</p>
<p>而 Stay Event 現在則是變成每十秒就會去檢查附近的 Beacon 是否已經被 ping 過了，進而做邏輯判斷。</p>
<h3 id="07-x2F-01-LIFF-SDK-npm-package"><a href="#07-x2F-01-LIFF-SDK-npm-package" class="headerlink" title="07&#x2F;01 LIFF SDK npm package"></a>07&#x2F;01 LIFF SDK npm package</h3><p>在 7&#x2F;1 前調查時大部分意見是希望有 LIFF 自己的 npm package，但也因為現在還 non-production，因此大家使用上需要留意，若有任何問題歡迎發 issue 給我們 🙂。</p>
<h3 id="07-x2F-15-LIFF-Header-新釋出！"><a href="#07-x2F-15-LIFF-Header-新釋出！" class="headerlink" title="07&#x2F;15 LIFF Header 新釋出！"></a>07&#x2F;15 LIFF Header 新釋出！</h3><script async class="speakerdeck-embed" data-slide="14" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這次的更新中因為許多開發者並未將 LIFF Icon 加上去，因此在種種考慮下我們選擇移除了這個 Icon，並且新增了一個分享(Share)的按鈕，當中可以將當前 LIFF page <code>分享</code>給其他好友，並且也擁有<code>重新整理</code>的按鈕，讓開發者可以不用一直關閉在開啟測試囉！</p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>LINE FRESH 2020 的校園競賽開始囉！若想要挑戰的朋友千萬別錯過，這次競賽中有<code>商業行銷</code>&amp;<code>黑客松</code>組，可依照挑戰選擇參加喔！</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE PROTOSTAR 與台北商業大學合作的對話機器人設計大賽也可以開始投稿囉，若你的創意覺得不錯的話趕快來參加競賽，說不定有機會拿到高額獎金喔！</p>
<script async class="speakerdeck-embed" data-slide="16" data-id="279ac2f6f39348c482533ff9f12568d0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="LINE-Bot-with-Rasa-Open-Source"><a href="#LINE-Bot-with-Rasa-Open-Source" class="headerlink" title="LINE Bot with Rasa Open Source"></a>LINE Bot with Rasa Open Source</h2><script async class="speakerdeck-embed" data-id="e7b8ca6a36b94af0b5977e34b0ec3a30" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>社群分享永遠是讓創意激盪的最佳方式，而 Chatbots Meetup 是一個很熱情與充滿創造力的社群組織。也希望有更多有創意的開發者願意加入 LINE Chatbot 的開發行列，更希望能熱情的參與社群的活動與一起來分享。</p>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://lin.ee/s5RsZHo">@line_tw_dev</a></p>
<p><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h2 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h2><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>DevRel</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: Chatbot Taiwan 第 22 場社群活動紀錄分享</title>
    <url>/2020/08/28/chatbot-meetup-22/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/chatbot.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 技術推廣工程師 - NiJia，本次於 <a href="https://chatbots.kktix.cc/events/meetup-022">Chatbot 第 22 場小聚</a>擔任講者分享與 LINE 相關的內容，感謝大家在外面下著大雨的平日晚上還是這麼熱情來參加，以下我就分享參加的活動紀錄。 😊</p>
<ul>
<li>Chatbot 社群：<a href="https://www.facebook.com/groups/chatbot.tw">https://www.facebook.com/groups/chatbot.tw</a></li>
<li>KKTIX 報名頁面：<a href="https://chatbots.kktix.cc/events/meetup-022">https://chatbots.kktix.cc/events/meetup-022</a><span id="more"></span></li>
</ul>
<h1 id="LINE-platform-API-update-August"><a href="#LINE-platform-API-update-August" class="headerlink" title="LINE platform API update August"></a>LINE platform API update August</h1><p><img src="https://nijialin.com/images/2020/chatbot-22/nijia-1.jpg" alt="chatbot nijia"></p>
<p>這個月的小聚由我來帶大家了解一下這個月 LINE API 更新了什麼內容 🎁</p>
<h2 id="Unsend-event"><a href="#Unsend-event" class="headerlink" title="Unsend event"></a><a href="https://developers.line.biz/en/news/2020/08/04/messaging-api-update-august-2020/">Unsend event</a></h2><script async class="speakerdeck-embed" data-slide="4" data-id="2ebf41de520842e8a557951cdd85583d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這功能是能在 webhook 收到當 Group(群組)&#x2F;Room(聊天室) 中的使用者若有<code>收回</code>訊息時，Bot 會收到一個來自 webhook 的 unsend event，實際回傳回來的 JSON 如上簡報中所示。</p>
<ul>
<li>目前 Unsend event 並沒有 reply token 的機制，若在觸發時需要回應則需使用 push message 去做後續對話處理。</li>
<li>目前 1:1 與 chatbot 對話也不能收回訊息喔！</li>
</ul>
<h2 id="Video-play-complete-Event"><a href="#Video-play-complete-Event" class="headerlink" title="Video play complete Event"></a><a href="https://developers.line.biz/en/reference/messaging-api/#video-viewing-complete">Video play complete Event</a></h2><script async class="speakerdeck-embed" data-slide="6" data-id="2ebf41de520842e8a557951cdd85583d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這個部分一樣會是來自於 webhook 的 Event，當 Bot 發送一個需含有 <code>Tracking id</code> 的影片給用戶(Reply&#x2F;Push)，當用戶看完這個影片時會收到一個<code>影片播完</code>的 Event，如簡報的右邊的 JSON 所示， Tracking Id 會對應 Bot 剛剛送出的 Id，若在 Bot 被觸發時沒有攜帶 Tracking id 時，則影片即便播完 webhook 不會收到 video complete event，因此在設計時這部分需要特別注意！✏️</p>
<blockquote>
<p>Video complete event 在群組(Group)&#x2F;聊天室(Room) 是無法使用，操作相關 API 需注意。</p>
</blockquote>
<p>大家可以試玩一下我寫的這個範例之機器人，對著它輸入「video」並且把影片看完，不能偷偷加速也不能用電腦看喔！<br><img src="https://nijialin.com/images/2020/chatbot-22/sample-qrcode.png"></p>
<script async class="speakerdeck-embed" data-slide="9" data-id="2ebf41de520842e8a557951cdd85583d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>先前 isIfaAudience 在文件中已註明預設為 <code>false</code>，因此這次的更新將此欄位修正為 <code>Option</code>。</li>
<li>由於原本文件為必填欄位但提供的範例並未放入 audiences 相關，因此在這次的更新中就將 <code>audiences</code> 為 <code>Option</code> 選項，讓使用者可以有更多的彈性空間可以使用。</li>
</ul>
<blockquote>
<p>透過這兩個改動也不會 AUDIENCE_GROUP_MISSING_AUDIENCES、AUDIENCE_GROUP_MISSING_IS_IFA_AUDIENCE</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="12" data-id="2ebf41de520842e8a557951cdd85583d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這個新聞中提到若有 LINE Bot 在印尼(Indonesia)服務並且需要使用到 demographic 相關的功能，目前已開放可以使用這隻 API - <a href="https://developers.line.biz/en/reference/messaging-api/#get-demographic">Get friend demographics</a>。</p>
<script async class="speakerdeck-embed" data-slide="14" data-id="2ebf41de520842e8a557951cdd85583d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過往在建立 Audience 群眾時只能上傳 IFAs 的清單檔案，而在這次的更新中以可以建立 Audience 群眾時放入 User Id 囉！</p>
<blockquote>
<p>User Id 如何取得可參考投影片左下角的部分。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="15" data-id="2ebf41de520842e8a557951cdd85583d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>若有在使用以下三個 API 的朋友需要注意：</p>
<ul>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#get-content">Get Content</a></li>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#upload-rich-menu-image">Upload rich menu image</a></li>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#download-rich-menu-image">Download rich menu image</a></li>
</ul>
<p>在這次的更新中 Domain 已經從 api.line.me 改成 api-<code>data</code>.line.me，若有在使用相關功能請儘速將網址置換成新的網址，避免產生相關使用上的問題。</p>
<h1 id="《LINE-API-與-UX-入門課程分享》Chatbot-User-Experience-Design"><a href="#《LINE-API-與-UX-入門課程分享》Chatbot-User-Experience-Design" class="headerlink" title="《LINE API 與 UX 入門課程分享》Chatbot User Experience Design"></a>《LINE API 與 UX 入門課程分享》Chatbot User Experience Design</h1><p>接著到另一位講者也是新上任的 LINE API Expert - 溫明輝 教授為大家帶來分享，這次的分享中主要圍繞以下三個項目：</p>
<ol>
<li>Chatbot 的基本認識</li>
<li>Chatbot 的設計流程</li>
<li>Chatbot 的經驗法則</li>
</ol>
<p>一開始先敘述一下我們日常所說的「聊天機器人」應該被更正為「對話機器人」，且它應該是個「對話式人機介面」<br>(Conversational User Interface)，因為一隻機器人要是被定會在聊天的話，那他應該會擁有大量的人工智慧功能在裡面，只是一般 Chatbot 開發者在實作時都是以一個對話的形式下去開發而非聊天，因此開頭也直接說明一下 Chatbot 的用詞遣字問題。</p>
<p><img src="https://nijialin.com/images/2020/chatbot-22/don-1.png" alt="don1"></p>
<p>接著從微股力的 LINE 官方平台的經營數據中談到對話式人機介面設計，用簡單的範例帶大家了解一下在設計介面時應該注意的哪些部分。</p>
<blockquote>
<p>平常在寫 chatbot 時需要多考量一下設計對話流程上的盲點，否則很容易使用傳統的設計思維來處理對話。</p>
</blockquote>
<p><img src="https://nijialin.com/images/2020/chatbot-22/don-2.png" alt="don2"></p>
<p>接著就帶了許多相關的 UI 介面元素讓大家知道一下要如何選取適合的元件放入對應的對話內容中。</p>
<p><img src="https://nijialin.com/images/2020/chatbot-22/don-3.png" alt="don3"><br><img src="https://nijialin.com/images/2020/chatbot-22/don-4.png" alt="don4"></p>
<p>接下來到了第二部分就說明在什麼情況下屬於金字塔的何種位置，主要是需要知道目前大家的剛需是什麼，即便當前的介面不是那麼美觀，但若能先解決掉目標族群需求的話這隻 chatbot 就是好的開始。</p>
<blockquote>
<p>這邊教授也建議大家有時別太急著投入在美感、情感、角色的設定，反而更應該花更多的時間思考 chatbot 到底為使用者解決了什麼問題。</p>
</blockquote>
<p><img src="https://nijialin.com/images/2020/chatbot-22/don-5.png" alt="don5"></p>
<p>了解需求 ➡️ 定位需求 ➡️ 設計需求 ➡️ 開發需求</p>
<p><img src="https://nijialin.com/images/2020/chatbot-22/don-6.png" alt="don6"></p>
<p>接著就從 OOTD 穿搭機器人告訴大家他們當初在設計專案時的整個脈絡思維，以及評估競爭對手、到功能資訊架構等等…帶大家了解要設計一隻機器人其實複雜度也是很高的，如何讓目標族群正確收到想要的內容也是需要經過很縝密的思考才能獲得到。<br><img src="https://nijialin.com/images/2020/chatbot-22/don-7.png" alt="don7"></p>
<p>最後第三部分的 13 種設計原則可以參考 <a href="https://nijialin.com/2019/09/12/Chatbot-meetup-12/">Chatbot meetup 12 的心得</a>，這部分很值得大家參考在設計 chatbot 時的一些核心原則。</p>
<h1 id="閃電秀"><a href="#閃電秀" class="headerlink" title="閃電秀"></a>閃電秀</h1><p><img src="https://nijialin.com/images/2020/chatbot-22/jarsing1.jpg" alt="chatbot jarsing"></p>
<iframe src="//www.slideshare.net/slideshow/embed_code/key/uAHL6LynBfL8Ce" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/jarsing/lightning-talk-linebizcard20200827" title="用liff.shareTargetPicker分享我的名片（電話及網址可點擊）" target="_blank">用liff.shareTargetPicker分享我的名片</a> </strong> from <strong><a href="https://www.slideshare.net/jarsing" target="_blank">佳新 陳</a></strong> </div>

<p>閃電秀就由一樣剛上任的佳新來展示一下他是如何使用 liff.shareTargetPicker 來發送自己的名片，透過簡單的步驟讓大家可以快速使用使用 LIFF 的新功能將名片分享給其他朋友。<br><img src="https://nijialin.com/images/2020/chatbot-22/jarsing2.png" alt="jarsing2"></p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p><img src="https://nijialin.com/images/2020/chatbot-22-total.jpg" alt="chatbot everyone"></p>
<p>在每個月的 Chatbot meetup 與大家交流也讓我從中學到不少知識，希望透過 LINE API update 讓大家更快速的了解我們增加與改變的內容，進而讓大家的 Developer Experience(DX) 可以獲得提升 😊</p>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#unsend-event">Unsend event</a></li>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#video-viewing-complete">Video viewing complete event</a></li>
<li><a href="https://developers.line.biz/en/news/2020/08/05/endpoint-to-get-statistics-is-now-available-in-Indonesia/">The endpoint to get statistics is now available in Indonesia (ID)</a></li>
<li><a href="https://developers.line.biz/en/news/2020/08/12/extention-of-domain-name-change-transition-period/">Reminder: Notice of domain name change for certain endpoints</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>DevRel</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: 2020 九月 LINE 平台更新整理與 LIFF ShareTargetPicker 案例分享</title>
    <url>/2020/09/17/chatbot-meetup-23/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/chatbot.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist - NiJia Lin。這次很開心受到 chatbot 社群的邀請，參加了【<a href="https://events.chatbot.tw/events/10">Chatbot meetup 聊天機器人小小聚 23 @Onramp Studio</a>】的聚會活動，前往且分享 LINE API 更新與個人 LINE Bot 開發心得，透過持續開發增加技術的敏銳度。在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<span id="more"></span>

<ul>
<li>本次活動網頁: <a href="https://events.chatbot.tw/events/10">活動網址</a></li>
<li>本次活動的共筆紀錄： <a href="https://hackmd.io/@chatbot-tw/meetups-023">https:&#x2F;&#x2F;hackmd.io&#x2F;@chatbot-tw&#x2F;meetups-023</a></li>
</ul>
<p>由於 Chatbots Meetup 本身屬於社群自主性的活動，裡面擁有許多社群朋友所贊助的閃電秀，所有內容也是相當的有趣。也希望能夠透過本篇文章讓大家稍微了解 Chatbots Meetup 社群閃電秀的魅力。</p>
<h1 id="LINE-Platform-平台-2020-九月更新"><a href="#LINE-Platform-平台-2020-九月更新" class="headerlink" title="LINE Platform 平台 2020 九月更新"></a>LINE Platform 平台 2020 九月更新</h1><p><img src="https://nijialin.com/images/2020/chatbot-23/nijia-1.JPG"></p>
<h3 id="投影片"><a href="#投影片" class="headerlink" title="投影片"></a><a href="https://speakerdeck.com/line_developers_tw/line-platform-update-202009">投影片</a></h3><script async class="speakerdeck-embed" data-id="9d808139a16c46ac970b59e34180f812" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="Certificate-authority-that-can-be-used-in-the-Webhook-URL-added"><a href="#Certificate-authority-that-can-be-used-in-the-Webhook-URL-added" class="headerlink" title="Certificate authority that can be used in the Webhook URL added"></a><a href="https://developers.line.biz/en/news/2020/08/26/ca-list-update/">Certificate authority that can be used in the Webhook URL added</a></h2><p>由於在使用 webhook 必須使用 https 的網址，而若主機是使用自己申請 SSL 憑證，需要注意一下使否有無符合規範喔！詳細請<a href="https://developers.line.biz/media/messaging-api/build-bot/ca_root_v2.txt">參考這邊</a>。</p>
<h2 id="LIFF-v2-4-0-released"><a href="#LIFF-v2-4-0-released" class="headerlink" title="LIFF v2.4.0 released"></a><a href="https://developers.line.biz/en/news/2020/08/31/release-liff-2-4-0/">LIFF v2.4.0 released</a></h2><ul>
<li>Part 1: liff.closeWindow()</li>
</ul>
<p>在尚未釋出之前必須在 Promise resolve 階段才能使用 <code>liff.closeWindow()</code>，在這次的釋出可以在 Promise 被 reject 後使用囉！</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">liff</span><br><span class="line">  .init(&#123;</span><br><span class="line">    liffId: <span class="string">&quot;123456-abcedfg&quot;</span>, <span class="comment">// Use own liffId</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Start to use liff&#x27;s api</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Error happens during initialization</span></span><br><span class="line">    <span class="built_in">console</span>.log(err.code, err.message);</span><br><span class="line">    liff.closeWindow();</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>Part 2: 可在 LIFF 切換 LIFF page 而不會關閉</li>
</ul>
<script async class="speakerdeck-embed" data-slide="7" data-id="9d808139a16c46ac970b59e34180f812" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過往在操作 LIFF page 從 A -&gt; B 時會先關閉前一個頁面再啟動，而在這次 v2.4 的釋出將可以在同一個 In APP Browser 操作不同的 LIFF page，並且可以上下一頁讓使用者在操作上更順手。</p>
<p>詳細操作請等接下來的 LINE app 更新吧！🎁</p>
<ul>
<li>Part 3: 修正 LIFF 網址路徑導向錯誤</li>
</ul>
<script async class="speakerdeck-embed" data-slide="9" data-id="9d808139a16c46ac970b59e34180f812" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如投影片範例所示，過往在二次導向時會遺失掉路徑中的「<code>/</code>」，經過修正後即可以導回到正確的網址路徑。</p>
<ul>
<li>Part 4: 修正 liff.permanentLink.createUrl()</li>
</ul>
<p>之前在使用此 API 時含有 Query parameter 或 Fragment 時會遺失掉，在此版本中已修正此問題。</p>
<blockquote>
<p>其他版本的修正請參考<a href="https://developers.line.biz/en/news/2020/09/14/release-liff-versions/">這篇新聞稿</a></p>
</blockquote>
<h2 id="Messaging-API-update-for-September-2020"><a href="#Messaging-API-update-for-September-2020" class="headerlink" title="Messaging API update for September 2020"></a><a href="https://developers.line.biz/en/news/2020/09/01/messaging-api-update-september-2020/">Messaging API update for September 2020</a></h2><script async class="speakerdeck-embed" data-slide="11" data-id="9d808139a16c46ac970b59e34180f812" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這次的更新中在 Narrowcast 加了一個很重要的參數，那就是 <code>upToRemainingQuota</code>，藉由此參數可以有效地將送出的訊息量有效地控制在 limit.max 的上限，過往在還沒此參數時若 push message 則數小於 limit.max 時將會跳出錯誤，而現今只要將<code>upToRemainingQuota</code>設定為 <code>true</code>時則 push message 則數小於 limit.max 的數量時將只會 push 至<code>剩餘則數</code>的數量，不會造成 Exception 的產生。</p>
<script async class="speakerdeck-embed" data-slide="13" data-id="9d808139a16c46ac970b59e34180f812" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>這邊提供一個表格讓大家可以對應上面的內容。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="14" data-id="9d808139a16c46ac970b59e34180f812" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這次的釋出中增加了 Bubble size，從 <code>10KB</code> ➡️ <code>30KB</code>，若有在寫 Chatbot 的朋友並有實作相當大的 Flex Messages 時可以嘗試將之前的 JSON 拿回來使用看看。</p>
<h2 id="Redelivery-object-has-been-added-to-the-criteria-for-narrowing-down-the-narrowcast-message-target"><a href="#Redelivery-object-has-been-added-to-the-criteria-for-narrowing-down-the-narrowcast-message-target" class="headerlink" title="Redelivery object has been added to the criteria for narrowing down the narrowcast message target"></a><a href="https://developers.line.biz/en/news/2020/09/15/messaging-api-narrowcast-requestId/">Redelivery object has been added to the criteria for narrowing down the narrowcast message target</a></h2><p>Narrowcast 的功能再度進化！這次 API 釋出了 Redelivery 的功能，讓已經發送過的訊息可以在加上條件並重新發送，針對鐵粉們做更精準的行銷。</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="9d808139a16c46ac970b59e34180f812" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>以下則是一般在操作 Narrowcast 的流程並加上 Redelivery Object 的流程圖。<br><img src="https://nijialin.com/images/2020/chatbot-23/narrowcast-flow.png"></p>
<blockquote>
<p>歡迎大家來一起貢獻 SDK - <a href="https://github.com/line">https://github.com/line</a></p>
</blockquote>
<h2 id="Side-project-Announcer"><a href="#Side-project-Announcer" class="headerlink" title="Side project - Announcer"></a>Side project - Announcer</h2><p>加入 Announcer 好友:<br><img src="https://nijialin.com/images/2020/chatbot-23/announcer-qr.png"></p>
<ul>
<li>Frontend: <a href="https://github.com/louis70109/announcer-vue">https://github.com/louis70109/announcer-vue</a></li>
<li>Backend: <a href="https://github.com/louis70109/Announcer">https://github.com/louis70109/Announcer</a></li>
</ul>
<blockquote>
<p>相關介紹文章 - <a href="https://engineering.linecorp.com/zh-hant/blog/how-to-use-liff-in-vue3/">在 Vue3 中引入 LIFF 的 ShareTargetPicker 分享 FlexMessage 訊息給 LINE 好友</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2020/chatbot-23/an-interface.png"></p>
<p>Announcer 是近期我為了在公司大群裡宣傳內部活動做的一個 Side project，Chatbot 當作管理介面讓管理者可以選擇自己想要發送訊息的樣板，點選之後會到前端頁面中，填寫對應欄位並使用 LIFF 的 <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker 的 API</a> 來將功能發送出去，如下圖所示：</p>
<p><img src="https://nijialin.com/images/2020/chatbot-23/an-sample.png"></p>
<p>由於 LIFF 本身屬於 LINE Login 的服務，因此在第一次登入時必須登入才能使用此相關功能<br><img src="https://nijialin.com/images/2020/vue-use-liff/login-page.png"></p>
<p>登入之後依照對應欄位輸入完資料送出之後，就會到以下的選擇畫面來挑選欲發送 Template 的對象<br><img src="https://nijialin.com/images/2020/vue-use-liff/liff-share-info.png"></p>
<p>如下圖範例所示，我就發送很特別 Flex Message 給公司內部的 Hackathon 決賽隊伍們～</p>
<p><img src="https://nijialin.com/images/2020/vue-use-liff/picker-result.png"></p>
<h1 id="閃電秀"><a href="#閃電秀" class="headerlink" title="閃電秀"></a>閃電秀</h1><h2 id="專案分享-：看財狗-鄭鈞瀚"><a href="#專案分享-：看財狗-鄭鈞瀚" class="headerlink" title="專案分享 ：看財狗 - 鄭鈞瀚"></a>專案分享 ：看財狗 - 鄭鈞瀚</h2><p><img src="https://nijialin.com/images/2020/chatbot-23/light-0.jpg"></p>
<p>第一個閃電秀分享了跟記帳相關的 Chatbot，過程中除了介紹講者的痛點外，也實際操作使用語音輸入讓 Chatbot 幫忙自動記帳的功能，這麼棒的應用講者說會在 <a href="https://linefresh.linecorp.com/">LINE FRESH 競賽</a>中展示，想到還不來參加一波？</p>
<blockquote>
<p><a href="https://www.icloud.com/keynote/032q5eeS8afkIYYldqFfnjhqw#%E7%B0%A1%E5%A0%B1">簡報連結</a></p>
</blockquote>
<h2 id="用-Liff-和-LINE-API-實作即時投票-x2F-彈幕系統-Yukai"><a href="#用-Liff-和-LINE-API-實作即時投票-x2F-彈幕系統-Yukai" class="headerlink" title="用 Liff 和 LINE API 實作即時投票 &#x2F; 彈幕系統 - Yukai"></a>用 Liff 和 LINE API 實作即時投票 &#x2F; 彈幕系統 - Yukai</h2><p><img src="https://nijialin.com/images/2020/chatbot-23/light-1.jpg"></p>
<p>這次由 HackMD 的 Yukai 來 Demo 一個彈幕系統以及即時投票，第一次看到時是在 COSCUP 的 Lighting talk 上，當時的 Demo 效果十足並且講者也提到他們有在一些活動上有使用這個系統的經驗，彈幕在任何活動上出現時都會讓活動更加的有趣 😊，期待講者之後有機會可以釋出相關作品～</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>社群分享永遠是讓創意激盪的最佳方式，而 Chatbots Meetup 是一個很熱情與充滿創造力的社群組織。藉由更多的開發者發揮創意以及開發經驗讓社群可以更活絡，也讓不同族群的朋友有個地方來詢問相關問題，也感謝主辦方花時間舉辦活動，也希望有更多有創意的開發者願意加入 LINE Chatbot 的開發行列，更希望能熱情的參與社群的活動與一起來分享，我們下次見！</p>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://lin.ee/s5RsZHo">@line_tw_dev</a></p>
<p><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>DevRel</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: 202010 Chatbot 社群心得分享</title>
    <url>/2020/10/29/chatbot-meetup-24/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/chatbot.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist - NiJia Lin。這次很開心受到 chatbot 社群的邀請，參加了 “<a href="https://chatbots.kktix.cc/events/meetup-024">Chatbot meetup 聊天機器人新手小聚 24 @ Gandi</a>“ 的聚會活動，並且分享 LINE API 更新與個人開發的心得。在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<ul>
<li>社群 Chatbots Meetup： <a href="https://chatbots.kktix.cc/">https://chatbots.kktix.cc/</a></li>
<li>本次活動網頁: <a href="https://chatbots.kktix.cc/events/meetup-024">活動網址</a></li>
<li>本次活動的共筆紀錄： <a href="https://hackmd.io/@chatbot-tw/meetups-024">https:&#x2F;&#x2F;hackmd.io&#x2F;@chatbot-tw&#x2F;meetups-024</a></li>
</ul>
<p>由於 Chatbots Meetup 本身屬於社群自主性的活動，所有內容也是相當的難得與有趣。也希望能夠透過本篇文章讓大家稍微了解 Chatbots Meetup 社群的魅力，讓更多朋友了解到打造自己的聊天機器人是如此讓人開心的事情。</p>
<span id="more"></span>

<h1 id="LINE-Platform-Update-2020-x2F-10"><a href="#LINE-Platform-Update-2020-x2F-10" class="headerlink" title="LINE Platform Update 2020&#x2F;10"></a>LINE Platform Update 2020&#x2F;10</h1><iframe width="560" height="315" src="https://www.youtube.com/embed/ZFPN5inMtM8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>在九月與十月這兩個月中釋出了許多資訊，以下就一一帶大家了解一下究竟釋出了什麼新的強大 API 吧！</p>
<h2 id="LIFF-釋出-v-2-4-1"><a href="#LIFF-釋出-v-2-4-1" class="headerlink" title="LIFF 釋出 v.2.4.1"></a>LIFF 釋出 v.2.4.1</h2><script async class="speakerdeck-embed" data-slide="4" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>由於在 2.4 版釋出時可以透過 LIFF 開啟另一個 LIFF，讓使用體驗不中斷(不會關閉在打開)，但有時可能因為另一個頁面不是 LIFF 而導致出錯，在這次的版本釋出這個新功能可以在打開前確認欲前往的網址是否是可使用的 LIFF 才導過去，</p>
<p>並且在此版本修復了當開發者呼叫兩次 <code>liff.init()</code> 時會出現的錯誤，若大家有遇到此問題若有寫相關的 workaround 的話可以在之後升版本將相關 workaround 移除試看看囉！</p>
<blockquote>
<p>但是以上功能必須要 LINE App <code>10.18.0</code> 版本以上才可以喔！大家需要多多注意！</p>
</blockquote>
<h2 id="管理-LINE-Bot-相關資訊"><a href="#管理-LINE-Bot-相關資訊" class="headerlink" title="管理 LINE Bot 相關資訊"></a>管理 LINE Bot 相關資訊</h2><p>開發者們在建立 LINE bot 時大多都是從 <a href="https://developers.line.biz/zh-hant/">LINE Developer Console</a> 裡去設定相關參數，使用情境大多像是開發者在開發 Chatbot 時都會使用 ngrok 之類的服務建立一個暫時性 Domain，抑或是版本升級需要改網域(址)名稱，不管是哪種用途，最終需要都確認的 Bot 資訊、更改 Webhook 網址、測試 Webhook 網址是否有效，這次的更新一次釋出許多相關資訊的 API，詳細請參考下方。</p>
<h3 id="Get-bot-info"><a href="#Get-bot-info" class="headerlink" title="Get bot info"></a>Get bot info</h3><script async class="speakerdeck-embed" data-slide="7" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>若開發者因為開發不同環境的 Chatbot 時需要管理前，一定需要取得相關資訊在 UI 上才有辦法管控，大家可使用<a href="https://developers.line.biz/en/reference/messaging-api/#get-bot-info">此 API</a> 取得相關資訊。</p>
<h3 id="Webhook-Settings"><a href="#Webhook-Settings" class="headerlink" title="Webhook Settings"></a>Webhook Settings</h3><p>這個 API 是許多開發者敲碗許久的功能，大家請參考以下說明：</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#get-webhook-endpoint-information">GET Webhook URL</a><ul>
<li>取得當前 Webhook 的網址，可得知當前 Chatbot 所設定之 URL。</li>
</ul>
</li>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#set-webhook-endpoint-url">Set Webhook URL</a><ul>
<li>透過此 API 可以使用 <code>PUT</code> 來更新 Chatbot 的 Webhook URL，可透過前一個 API 先取得網址確認後再使用此 API 來更新。</li>
</ul>
</li>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#test-webhook-endpoint">Verify(Test) URL</a><ul>
<li>不管 <code>GET</code> 或 <code>PUT</code>，都需要確認當前的 URL 是否真的可行，透過此 API 即可 Verify 你的 Webhook URL。</li>
</ul>
</li>
</ul>
<p>三個 API 皆是基於 <code>CHANNEL_ACCESS_TOKEN</code> 做相關使用，大家再使用時務必確認是否有使用到對應的 Token 喔！</p>
<h2 id="TLS-支援度"><a href="#TLS-支援度" class="headerlink" title="TLS 支援度"></a>TLS 支援度</h2><script async class="speakerdeck-embed" data-slide="18" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在接下來的日子裡，LINE 將會開始支援 <code>TLS1.3</code>，並且開始停止支援 <code>TLS1.1</code> 以及 <code>TLS1.0</code>。HTTP 版本的部分也會開始支援 <code>HTTP/2</code>，讓開發者們的服務可以建構在更快、更安全的協定上。</p>
<p>這邊就會有個問題產生，那我該如何測試才知道我的主機有沒有支援到呢？答案就是使用 Webhook 的 <a href="https://developers.line.biz/en/reference/messaging-api/#test-webhook-endpoint">Verify(Test) API</a> 即可得知當前服務是否支援協定，而只要收到 Http 狀態碼(status code) 是 <code>200</code> 即是成功，而 Body 內容則如下方投影片所示。</p>
<script async class="speakerdeck-embed" data-slide="20" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>轉換時間 2020&#x2F;10~2021&#x2F;01，有使用到 LINE 服務的大家要注意時間，記得 migration！</p>
</blockquote>
<h2 id="Flex-Message-Update-2"><a href="#Flex-Message-Update-2" class="headerlink" title="Flex Message Update 2"></a>Flex Message Update 2</h2><p>距離上次 <code>Update 1</code> 也經過一年了(參考<a href="https://engineering.linecorp.com/zh-hant/blog/flex-message-update1/">這篇文章</a>)，以下帶大家了解這次更新的部分！</p>
<h3 id="1-Carousel-的數量從-10-➡️-12"><a href="#1-Carousel-的數量從-10-➡️-12" class="headerlink" title="1. Carousel 的數量從 10 ➡️ 12"></a>1. Carousel 的數量從 <code>10</code> ➡️ <code>12</code></h3><h3 id="2-增加排版相關參數"><a href="#2-增加排版相關參數" class="headerlink" title="2. 增加排版相關參數"></a>2. 增加排版相關參數</h3><script async class="speakerdeck-embed" data-slide="24" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如同一年前的 <a href="https://engineering.linecorp.com/zh-hant/blog/flex-message-update1/">Update 1 文章</a>，Flex Message 是一種對話介面，可使用 <a href="https://www.w3.org/TR/css-flexbox-1/">CSS Flexible Box (CSS Flexbox)</a> 的基礎知識，自由客製化版面。既然使用 <code>flex</code> 這個名詞，勢必得加入更多支援讓 Flex Message 更像的 Flexbox，以下就增加了兩個參數讓排版的支援度更高：</p>
<ul>
<li><code>justifyContent</code></li>
<li><code>alignItems</code></li>
</ul>
<p>以及加了 <code>linearGradient</code>，此參數讓讓背景顏色可以使用<code>漸層</code>，讓 Designer 可以更好的使用之配色。</p>
<blockquote>
<p>詳細樣式請參考上方投影片。</p>
</blockquote>
<h3 id="3-開發者福音：Flex-Message-content-參數可為空值！"><a href="#3-開發者福音：Flex-Message-content-參數可為空值！" class="headerlink" title="3. 開發者福音：Flex Message content 參數可為空值！"></a>3. 開發者福音：Flex Message <code>content</code> 參數可為空值！</h3><script async class="speakerdeck-embed" data-slide="26" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在寫 Flex Message 時會因為一些情境的判斷式讓 <code>content</code> 的值為一個空陣列，過往在解析時遇到<code>空值</code>會無法顯示(出錯)，隨著這次更新中已經可以讓 <code>content</code> 參數為空值，若開發者們有因為這個參數多寫的許多判斷式，現今已可開始試著將程式相關判斷式看看，可以更減省你的 code 喔！</p>
<h3 id="4-新增-Image-Icon-Text-三種-size-的參數"><a href="#4-新增-Image-Icon-Text-三種-size-的參數" class="headerlink" title="4. 新增 Image, Icon, Text 三種 size 的參數"></a>4. 新增 Image, Icon, Text 三種 <code>size</code> 的參數</h3><script async class="speakerdeck-embed" data-slide="28" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這次更新中三個參數皆可使用 <code>px</code> 來設定大小，讓 Designer 們可以更有效地控制 Flex Message 的視覺，且 Image 還能以<code>百分比</code>(<code>percentages</code>) 表示，可以讓圖片更能適應各種手機尺寸。</p>
<h3 id="5-增加參數讓按鈕文字不會被吃字"><a href="#5-增加參數讓按鈕文字不會被吃字" class="headerlink" title="5. 增加參數讓按鈕文字不會被吃字"></a>5. 增加參數讓按鈕文字不會被吃字</h3><script async class="speakerdeck-embed" data-slide="29" data-id="deb0906716b845a3a132cbafbc1074e8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如同投影片敘述，在之前長度過長時 APP 會自動將文字變成 <code>...</code> 的形式，這次的更新中只要在 <code>adjustMode</code> 屬性裡加入 <code>shrink-to-fit</code> 參數，如同字面上的意思，讓<code>收縮</code>的樣子轉變成 <code>適應</code> Flex Message，讓你的 Button 的文字不會被 APP 轉換，詳細請<a href="https://developers.line.biz/en/docs/messaging-api/flex-message-layout/#adjusts-fontsize-to-fit">參考文件</a>。</p>
<blockquote>
<p>支援在 LINE 10.13.0 以上(含) for iOS and Android。</p>
</blockquote>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>若要使用 Flex Message 的開發者們記得使用 <a href="https://developers.line.biz/flex-simulator">Simulator</a>，以及在 LINE Bot 中若有管理版本，大家可以使用 Webhook API 去做相關建制以及使用，或許可以讓你省下取多工喔！</p>
<h1 id="從-0-17-萬使用者，我的第一支-LINE-Bot-side-project-地方爸爸"><a href="#從-0-17-萬使用者，我的第一支-LINE-Bot-side-project-地方爸爸" class="headerlink" title="從 0~17 萬使用者，我的第一支 LINE Bot side project - 地方爸爸"></a>從 0~17 萬使用者，我的第一支 LINE Bot side project - 地方爸爸</h1><iframe width="560" height="315" src="https://www.youtube.com/embed/4HvMQA4LuPk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>講者從爸爸的角度出發，如何使用 LINE Bot 解決小孩子課堂的需求，並提到如何使用擴散讓 Chatbot 可以持續地吸收粉絲，講解了許多種為了適應各個課程做出來的 Chatbot(國語、數學…)，當中也提到開發者別因為開發的功能與市面上產品衝突而停止開發，更應該是將它開發出來，再更進一步的優化，或許你擁有的功能比市面上更親近使用者，讓你的 Chatbot 可以有更多人使用！</p>
<h1 id="閃電秀"><a href="#閃電秀" class="headerlink" title="閃電秀"></a>閃電秀</h1><iframe width="560" height="315" src="https://www.youtube.com/embed/ovi8lkfGZ8I" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<ul>
<li>【用 .NET 打造 LINE 婚禮聊天機器人經驗分享】- Kyle Shen</li>
</ul>
<p>分享了許多使用 .NET 寫鐵人賽的相關經驗，並也為了婚禮打造客制的機器人，包括 LINE Messaging API、LIFF、Notify、Pay…，在這三十天中釐清了許多串接上的問題，以及搭配 Azure 許多功能做組合的三十天系列文章，最後講者提到了一段話很重要，「技術文章不難，難的是養成<mark>堅持</mark>的習慣」，將你學到的東西記錄下來，一個系列、一個文章、一個段落都行，記錄會讓你受用無窮的！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>希望透過詳細的介紹除了讓大家更了解最近 API 的大更新之外，也讓大家透過認識到不同講者所帶來精彩的分享，開發出更多更有創意的 Chatbot 服務，也歡迎大家持續來到社群分享，讓社群可以更活絡並能碰撞出新的想法與點子 😁。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
        <tag>Chatbot</tag>
        <tag>Flex Message</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: 202103 Chatbot 社群心得與彈幕分享</title>
    <url>/2021/01/21/chatbot-meetup-27/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/chatbot-27/0.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist - NiJia Lin。這次很開心受到 chatbot 社群的邀請，參加了 “<a href="https://events.chatbot.tw/events/26">Chatbot meetup 聊天機器人小小聚 27 @ Onramp Studio</a>“ 的聚會活動，並且分享 LINE API 更新與個人開發的心得。在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<ul>
<li>社群 Chatbots Meetup： <a href="https://www.facebook.com/groups/chatbot.tw">https://www.facebook.com/groups/chatbot.tw</a></li>
<li>本次活動網頁: <a href="https://events.chatbot.tw/events/26">活動網址</a></li>
<li>本次活動的共筆紀錄： <a href="https://hackmd.io/@chatbot-tw/meetups-027">https:&#x2F;&#x2F;hackmd.io&#x2F;@chatbot-tw&#x2F;meetups-027</a></li>
</ul>
<p>由於 Chatbots Meetup 本身屬於社群自主性的活動，裡面也有許多社群朋友所贊助的閃電秀。裡面的所有內容也是相當的難得與有趣。也希望能夠透過本篇文章讓大家稍微了解 Chatbots Meetup 社群閃電秀的魅力。</p>
<p>這次就由我用文章帶大家了解一下近期有什麼有趣的更新內容吧！</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><iframe width="560" height="315" src="https://www.youtube.com/embed/OaX09Qp95Yw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="Share-Target-Picker-UI"><a href="#Share-Target-Picker-UI" class="headerlink" title="Share Target Picker UI"></a><a href="(https://developers.line.biz/zh-hant/news/2020/12/01/share-target-picker-ui-improve/)">Share Target Picker UI</a></h2><script async class="speakerdeck-embed" data-slide="3" data-id="72900f18058940949e021bbc93066200" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過往將<strong>一對一好友</strong>的選項放在第一位，但在排版選擇上容易使用混淆，LIFF 開發團隊聽到各位開發者的心聲囉！調整了文案排版內容讓大家在使用中更 friendly。</p>
<h2 id="Sticker-關鍵字訊息"><a href="#Sticker-關鍵字訊息" class="headerlink" title="Sticker 關鍵字訊息"></a><a href="https://developers.line.biz/zh-hant/news/2020/12/02/messaging-api-update-december-2020/">Sticker 關鍵字訊息</a></h2><script async class="speakerdeck-embed" data-slide="4" data-id="72900f18058940949e021bbc93066200" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>貼圖是 LINE 其中一個很吸引人使用的功能，過去使用者在對談中使用貼圖時 Chatbot 無法辨別其用途，而在 2020&#x2F;12 月發佈的更新中能夠讓 Chatbot 在 Webhook event 中收到 Keywords 的欄位，透過這個欄位可以讓你的 Chatbot 服務知道當前貼圖的用意，甚至可以透過文字辨識相關的服務來做更多的使用者預測&#x2F;互動的功能喔！</p>
<blockquote>
<p>目前<a href="https://developers.line.biz/zh-hant/">官方網站</a>上的標題文字有修正囉！讓大家在查詢相關 API 時能更快找到相關地方。</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/chatbot-27/1.png"></p>
<h2 id="Beacon-請使用-Stay-Event-取代-Leave-Event"><a href="#Beacon-請使用-Stay-Event-取代-Leave-Event" class="headerlink" title="Beacon - 請使用 Stay Event 取代 Leave Event"></a><a href="https://developers.line.biz/zh-hant/news/2021/01/07/deprecate-leave-event-for-beacon/">Beacon - 請使用 Stay Event 取代 Leave Event</a></h2><script async class="speakerdeck-embed" data-slide="10" data-id="72900f18058940949e021bbc93066200" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>再次提醒各位有在使用開發 Beacon 的用戶要注意自己是否有使用到 Leave Event，此功能目前已經停止支援。</p>
<p><img src="https://nijialin.com/images/2021/chatbot-27/3.png"></p>
<p>建議能改成使用 Stay Event，但可能會有開發者問要使用 Stay 取代呢？</p>
<p>以台北捷運為例子，你會在等車時收到一個 LINE TODAY 的新聞，在<code>等車</code>(<code>Stay</code>)的用戶在此時一般情況都會使用手機，此時推播訊息給他有<strong>較高的機率</strong>點開；若同個情境下當用戶搭上捷運<code>離開</code>(<code>Leave</code>)時才推播訊息，可能在車上會遇到人潮無法打開手機等等的因素，那這個做法就會打不到預期的結果，因此還是推薦大家使用 <code>Stay Event</code> 取代會是比較好喔！</p>
<p><img src="https://nijialin.com/images/2021/chatbot-27/2.png"></p>
<h2 id="LIFF-相關資訊"><a href="#LIFF-相關資訊" class="headerlink" title="LIFF 相關資訊"></a>LIFF 相關資訊</h2><script async class="speakerdeck-embed" data-slide="12" data-id="72900f18058940949e021bbc93066200" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><a href="https://developers.line.biz/zh-hant/news/2021/01/14/release-liff-2-7-0/">2.7.0 release</a>:<ul>
<li>加入 <strong>RequireJS</strong>: 讓您的 LIFF 能夠確保載入後在執行，避免出現非預期錯誤</li>
<li>修正 <code>liff.getDecodedIDToken()</code>: 修正解開後名字亂碼的問題</li>
</ul>
</li>
<li><a href="https://developers.line.biz/zh-hant/news/2021/01/20/release-liff-2-7-1/">2.7.1 release</a> 修正了開啟外部瀏覽器會出錯的問題</li>
</ul>
<blockquote>
<p>若各位開發者有使用新版的需求請記得要升級至 <code>2.7.1</code> 喔！避免使用時遇到非預期錯誤。</p>
</blockquote>
<h3 id="更改您的-LIFF-至-Concatenate-模式"><a href="#更改您的-LIFF-至-Concatenate-模式" class="headerlink" title="更改您的 LIFF 至 Concatenate 模式"></a><a href="https://developers.line.biz/zh-hant/news/2021/01/18/remind-discontinue-replace-mode-announcement/">更改您的 LIFF 至 Concatenate 模式</a></h3><script async class="speakerdeck-embed" data-slide="6" data-id="72900f18058940949e021bbc93066200" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>筆者近期寫了<a href="https://engineering.linecorp.com/zh-hant/blog/liff-replace-to-concatenate/">一篇教學文章</a>教大家如何轉移至 <strong>Concatenate 模式</strong>，避免在 <strong>2021&#x2F;03&#x2F;01</strong> 移除 Replace 模式時影響到您的 LIFF 應用程式喔！</p>
<h2 id="一月平台更新資訊"><a href="#一月平台更新資訊" class="headerlink" title="一月平台更新資訊"></a><a href="https://developers.line.biz/zh-hant/news/2021/01/20/messaging-api-update-january-2021/">一月平台更新資訊</a></h2><h3 id="Narrowcast-訊息發送狀態參數"><a href="#Narrowcast-訊息發送狀態參數" class="headerlink" title="Narrowcast 訊息發送狀態參數"></a>Narrowcast 訊息發送狀態參數</h3><script async class="speakerdeck-embed" data-slide="7" data-id="72900f18058940949e021bbc93066200" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>此次加入了這兩個屬性 <code>acceptedTime</code> &amp; <code>completedTime</code>，讓使用 Narrowcast 的廠商可以透過這兩個屬性來得知服務<code>接收到的時間</code>與<code>訊息完成時間</code>(成功或失敗)，可以更加有效地從小地方得知狀態喔！</p>
<h3 id="用-Mention-API-得知群組-x2F-聊天室誰-tag-誰"><a href="#用-Mention-API-得知群組-x2F-聊天室誰-tag-誰" class="headerlink" title="用 Mention API 得知群組&#x2F;聊天室誰 tag 誰"></a>用 Mention API 得知群組&#x2F;聊天室誰 tag 誰</h3><script async class="speakerdeck-embed" data-slide="9" data-id="72900f18058940949e021bbc93066200" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這邊使用一個翻譯的 Chatbot 案例來呈現，過往 Chatbot 在收到句子時就會直接進行整串文字翻譯，但在不同語系對話中多少會有 Tag 對方的時候，過去名字會直接進入翻譯程序，會造成翻譯上的困擾。</p>
<p>現在透過這 API 不僅可以避免類似的問題，也能讓讀者們抓到相關的姓名位置做更多相關的應用，詳細使用方式可<a href="https://developers.line.biz/zh-hant/reference/messaging-api/#wh-text">參考文件</a>。</p>
<h2 id="彈幕範例"><a href="#彈幕範例" class="headerlink" title="彈幕範例"></a>彈幕範例</h2><p><img src="https://nijialin.com/images/2021/chatbot-27/demo.gif"></p>
<p>前一陣子我寫了一篇文章來介紹 - <a href="https://engineering.linecorp.com/zh-hant/blog/line-chatbot-screen-bullets/">開發結合 LINE Chatbot 的簡易彈幕系統</a>，細節就不加贅述，筆者就在這次的分享中直接讓大家試玩這個功能，了解一下 Chatbot 究竟還有什麼有趣的心應用！ ：）</p>
<p>參考專案連結：<a href="https://github.com/louis70109/Screen-LINE-Bullets">https://github.com/louis70109/Screen-LINE-Bullets</a></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>除了在社群上分享 LINE 平台的更新之外，當中也看到許多不同的應用(Bert、地方創生、旅遊 AA 小幫手、Swift SDK、LIFF 密室遊戲…)，在討論中也激發出許多不同應用的點子，若你也在做 Chatbot 相關的開發，不妨到 <a href="https://www.facebook.com/groups/chatbot.tw">Chatbot 的小聚</a>中與各位分享吧！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: 202103 LINE Platform API 更新與 Chatbot 社群心得分享</title>
    <url>/2021/03/19/chatbot-meetup-28/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/chatbot.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist - NiJia Lin。這次很開心受到 chatbot 社群的邀請，參加了 “<a href="https://events.chatbot.tw/events/27">Chatbot meetup 聊天機器人小小聚 28 @ Onramp Studio</a>“ 的聚會活動，過了一個農曆年，相信很多人也很期待三月 LINE Platform API 的新功能，藉由在社群上與大家分享 LINE API 更新與個人開發的心得，也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<ul>
<li>社群 Chatbots Meetup： <a href="https://www.facebook.com/groups/chatbot.tw">https://www.facebook.com/groups/chatbot.tw</a></li>
<li>本次活動網頁: <a href="https://events.chatbot.tw/events/27">活動網址</a></li>
</ul>
<p>由於 Chatbot Meetup 本身屬於社群自主性的活動，裡面也有許多社群朋友所贊助的閃電秀。裡面的所有內容也是相當的難得與有趣。也希望能夠透過本篇文章讓大家稍微了解 Chatbot Meetup 社群閃電秀的魅力。</p>
<p>這次就由我用文章帶大家了解一下近期有什麼有趣的更新內容吧！</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><img src="https://nijialin.com/images/2021/chatbot-28/2.JPG"></p>
<h2 id="Quick-Reply-URI-Action"><a href="#Quick-Reply-URI-Action" class="headerlink" title="Quick Reply URI Action"></a>Quick Reply URI Action</h2><p>過往在做 Chatbot 時我們時常會依賴於 Rich menu 來幫助用戶更快速的使用我們所建立服務。如下圖所示，Chatbot 會提供許多功能讓用戶透過快速點擊觸發我們希望用戶所達到的行為。</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="fc4da12ffb4c4f779be22900e3268f67" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>但以上功能是基於用戶與 Chatbot 是一對一互動狀態才能使用 Rich menu，如今天第二位講者聖佑所提到的讀書會小幫手，讀書會群組基本上都是以 <strong>一個群組(Group)</strong> 為單位，若在群組中 Chatbot 則無法使用 Rich menu，會讓一些原本優秀的功能瞬間失去，因此這時候使用 Image map 或者 Quick Reply 來幫忙處理群組相關訊息。以下有些案例提供讀者們參考：</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="fc4da12ffb4c4f779be22900e3268f67" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在應用許多 Chatbot 功能之後，相信開發者們都會漸漸的開始嘗試使用 <a href="https://developers.line.biz/en/docs/liff/overview/">LIFF</a> 去做更多變化的組合應用，但以往在群組中要開啟 Chatbot 的 LIFF 是需要讓 Chatbot 多回應一則訊息，在對話中就會多了一則訊息是為了讓用戶可以點選並觸發相關事件。</p>
<p>然後現在可以透過在群組中使用 Quick Reply 來減少多餘的訊息，讓 Chatbot 可以輸出相關選項讓使用者可以在下方選擇後開啟對應的 LIFF 功能，達到快速觸發的功能，以下是 URI Action 的 Demo：</p>
<p><img src="https://nijialin.com/images/2021/chatbot-28/1.gif"></p>
<blockquote>
<p>對於寫法有興趣的朋友可以<a href="https://github.com/louis70109/PLeagueBot/blob/master/controller/line_controller.py#L49">參考這邊</a></p>
</blockquote>
<p>這邊建議僅使用以下三種方式，<a href="https://developers.line.biz/en/docs/messaging-api/using-line-url-scheme/">文件參考</a>:</p>
<ul>
<li><a href="https://line.me/R/">https://line.me/R/</a></li>
<li><a href="https://liff.line.me/">https://liff.line.me/</a></li>
<li>tel:09001234567 (手機用戶可以支援打電話)</li>
</ul>
<h2 id="LIFF-to-LIFF"><a href="#LIFF-to-LIFF" class="headerlink" title="LIFF to LIFF"></a>LIFF to LIFF</h2><script async class="speakerdeck-embed" data-slide="12" data-id="fc4da12ffb4c4f779be22900e3268f67" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>既然提到 LIFF 了，當然要提一下在 LINE v11.3.0 之後更新的功能。當用戶在 LIFF 的 A 頁面要轉到 B 頁面時 LIFF 會在視窗中間出現一個以切換的提示，為了提升用戶的使用體驗，在 v11.3.0 之後將更改至最底端，讓用戶在使用上不僅可以收到換頁提醒，必且也不會影響使用，更多細節請<a href="https://developers.line.biz/en/news/2021/03/01/liff-on-line-11-3-0/#change-toast">參閱新聞</a>。</p>
<blockquote>
<p>LIFF to LIFF <a href="https://github.com/louis70109/LIFF-to-LIFF-Example">參考範例</a></p>
</blockquote>
<h2 id="LIFF-更新-for-iPadOS"><a href="#LIFF-更新-for-iPadOS" class="headerlink" title="LIFF 更新 for iPadOS"></a>LIFF 更新 for iPadOS</h2><script async class="speakerdeck-embed" data-slide="15" data-id="fc4da12ffb4c4f779be22900e3268f67" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>另一個改善開發者體驗的改動則是讓 LIFF 在 iPadOS 上的顯示方式更友善，讓前端的畫面排版上可以更擁有良好的排版而不會拉寬設計樣式，更多細節請<a href="https://developers.line.biz/en/news/#ipad-window-size">參閱新聞</a>。</p>
<script async class="speakerdeck-embed" data-slide="17" data-id="fc4da12ffb4c4f779be22900e3268f67" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在 3&#x2F;1 時正式移除掉 LIFF 的 Replace Mode，若您有在使用 LIFF 的話請參考 ➡️ <a href="https://engineering.linecorp.com/zh-hant/blog/liff-replace-to-concatenate/">轉移你的 LIFF: 從 Replace 到 Concatenate 模式</a></p>
<h2 id="TECH-FRESH-實習生計畫"><a href="#TECH-FRESH-實習生計畫" class="headerlink" title="TECH FRESH 實習生計畫"></a>TECH FRESH 實習生計畫</h2><p>目前 2021 年的 TECH FRESH 實習生計畫招募通道已經開啟了，我們正在尋找對技術有熱情、積極解決問題、勇於接受挑戰的優秀同學，馬上手刀申請送出履歷，下一位 TECH FRESH 就是你！<a href="https://careers.linecorp.com/jobs/83">招募連結</a></p>
<script async class="speakerdeck-embed" data-slide="20" data-id="fc4da12ffb4c4f779be22900e3268f67" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="其他議程分享"><a href="#其他議程分享" class="headerlink" title="其他議程分享"></a>其他議程分享</h2><ul>
<li>讀書會小幫手<ul>
<li>需求：<ul>
<li>每週報名通知</li>
<li>發會議室網址</li>
<li>發每週筆記</li>
</ul>
</li>
<li>使用 Chatbot 的考量點：<ul>
<li>Email Server 維護的成本</li>
<li>不夠即時</li>
<li>在群組中歡迎新加入的夥伴(增加成員連結度)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>現在也使用 <a href="https://kotlinlang.org/">Kotlin</a> 帶來 Live demo，詳細內容可以參考以下簡報：</p>
<iframe src="//www.slideshare.net/slideshow/embed_code/key/p3koZ9vmuFJz9" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/shengyou/building-chatbot-using-kotlin" title="用 Kotlin 打造讀書會小幫手" target="_blank">用 Kotlin 打造讀書會小幫手</a> </strong> from <strong><a href="https://www.slideshare.net/shengyou" target="_blank">Shengyou Fan</a></strong> </div>

<ul>
<li>LINE Bot + LINE Pay 實作自動購物流程<ul>
<li>分享一個可以在 Chatbot 的對話中讓使用者快速結帳的範例</li>
</ul>
</li>
<li>聊天機器人框架 Bottender 與 Kamigo 的設計<ul>
<li>將長議程的簡報濃縮在濃縮，用五分鐘快速介紹精華的部分讓大家了解框架的實作流程與說明</li>
<li><a href="https://docs.google.com/presentation/d/1BbfW8ZkDS1lt-uzFXop6k2PmXg30OcQI35NCeH-S9AY/edit#slide=id.ga39021286c_0_523">簡報</a></li>
<li>框架：<ul>
<li>Ruby: <a href="https://github.com/etrex/kamigo">Kamigo</a></li>
<li>NodeJS: <a href="https://github.com/Yoctol/bottender">Bottender</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>透過參加每一場社群小聚的分享並與參加者交流都可以讓我學到許多不同的新知，未來也會持續分享更多有關於 LINE Platform 相關的新知與應用，歡迎各位持續關注「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動與平台更新新知，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2020">LINE Taiwan Developer Relations 2020 回顧與 2020 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>Chatbot meetup 北部 #13 at 台北商業大學 &amp; 中部 #3 at 夢森林</title>
    <url>/2019/10/25/chatbot-13/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/P3F7Xjp.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 NiJia，很榮幸被邀…是本來就負責 Chatbot meetup 的 Co-organizer，連續兩天參加了 meetup 真的是揮灑自己熱情兩邊跑(好 High)，希望藉由社群的分享讓大家可以吸收到不同的新知！</p>
<ul>
<li>北部小聚 #13 連結: <a href="https://chatbots.kktix.cc/events/chatb13ts">https://chatbots.kktix.cc/events/chatb13ts</a></li>
<li>中部小聚 #3 連結: <a href="https://chatbots.kktix.cc/events/chatbots-taichung-003">https://chatbots.kktix.cc/events/chatbots-taichung-003</a></li>
<li>共筆: <a href="https://beta.hackfoldr.org/chatbot/">https://beta.hackfoldr.org/chatbot/</a></li>
</ul>
<p>這次活動場地感謝 溫明輝 教授幫 chatbot 借了台北商業大學的場地，而台北商業大學最近有跟 LINE PROTOSTAR 聯合舉辦了 ”LINE Chatbot 對話機器人設計大賽”，覺得自己的機器人不錯嘛？歡迎大家踴躍報名參賽哦！</p>
<h1 id="北部小聚-in-台北商業大學"><a href="#北部小聚-in-台北商業大學" class="headerlink" title="北部小聚 in 台北商業大學"></a>北部小聚 in 台北商業大學</h1><h2 id="LINE-Platform-Update-201910-Evan-Lin"><a href="#LINE-Platform-Update-201910-Evan-Lin" class="headerlink" title="LINE Platform Update 201910 - Evan Lin"></a>LINE Platform Update 201910 - Evan Lin</h2><script async class="speakerdeck-embed" data-slide="1" data-id="36b3e28d2a3f4e489250cbe7d84234a4" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>長期支持 Chatbot 社群的 <a href="https://www.evanlin.com/chatbot13/">Evan 大大</a>為大家帶來陣子 LINE 的更新內容，像我這種開發者最期待的就是 LIFF v2 終於上線了 🎉，當中增加了很多種應用讓嗷嗷待哺的工程師們終於可以生出更多種不一樣的應用啦，</p>
<ul>
<li>外部瀏覽器上使用 LIFF 🎉</li>
<li>兼容 Login v2.1，取得使用者基本資訊</li>
<li>可掃描 QR code</li>
<li>在 LIFF 的 webview 下可獲取使用者的 OS&#x2F;Language&#x2F;AccessToken 等等的內容</li>
</ul>
<p>詳細參考: <a href="https://engineering.linecorp.com/ja/blog/liff-v2/">https://engineering.linecorp.com/ja/blog/liff-v2/</a></p>
<p>試玩新功能：<br><img src="https://i.imgur.com/zHx9RcBm.png"></p>
<h2 id="LINE-Bot-上的表單驗證、搜尋以及分頁-郭佳甯"><a href="#LINE-Bot-上的表單驗證、搜尋以及分頁-郭佳甯" class="headerlink" title="LINE Bot 上的表單驗證、搜尋以及分頁 - 郭佳甯"></a>LINE Bot 上的表單驗證、搜尋以及分頁 - 郭佳甯</h2><h3 id="簡報連結"><a href="#簡報連結" class="headerlink" title="簡報連結"></a><a href="https://docs.google.com/presentation/d/1MNCbVIsMoLAWtPjg22e1-_3PLA2OpyHKSAIvw53Vdsk/edit#slide=id.g654c56bcd3_0_5">簡報連結</a></h3><p>身為卡米粉的我終於再度聽到卡米哥的議程啦，這次介紹的是從 COSCUP 之後一直更新的 <a href="https://github.com/etrex/kamigo">kamigo</a>，並完全使用這個套件做的寵物協尋機器人，此議程就已這隻機器人為主體介紹。</p>
<p>在實作網頁的過程中最長需要弄的東西不外乎就是表單驗證、搜尋以及分頁，因為 kamigo 是讓使用者經由 LIFF 幫忙將表單回傳成一份 JSON 至使用者的的對話欄上，<br>再轉介給 controller 去解析並儲存進資料庫，但若使用者在操作的過程中少輸入會不會一樣送出？<br>此時 kamigo 透過 rails 原生既有的 <code>validates</code> 來驗證表單欄位內容，並藉由 Turbolinks ajax + js.erb 讓表單在送出時先透過 ajax 打到後端驗證，若驗證失敗後則回傳告知 LIFF 哪個欄位有問題，這個方法也讓我使用到這個套件的<a href="https://github.com/louis70109/muscle_man">肌肉仔</a>可以透過 rails 的鬼神方法幫我驗證表單，如此一來在表單的確認上就沒問題啦！🎉</p>
<p>順手捐星星，救救卡米狗: <a href="https://github.com/etrex/kamigo">https://github.com/etrex/kamigo</a></p>
<h2 id="不懂開發也能建立屬於自己的-Chatbot-白凱仁"><a href="#不懂開發也能建立屬於自己的-Chatbot-白凱仁" class="headerlink" title="不懂開發也能建立屬於自己的 Chatbot - 白凱仁"></a>不懂開發也能建立屬於自己的 Chatbot - 白凱仁</h2><script async class="speakerdeck-embed" data-slide="1" data-id="4386dd5577e74e528b353d1f56c8a201" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著由 Cloud Native Taiwan User Group Co-organizer - Kyle Bai 為大家帶來講題，藉由故事的敘述讓大家知道他是為甚麼啟動這個 idea 出來，並靈活運用圖片演示對話流程(筆記)，並因為打遊戲的困擾決定做一個機器人來解決朋友問題，運用 container 的技術來封裝 chatbot App，再用 k8s 透過 N 台機器來管理 container 讓它獲得不死之握能力，確保服務的可用性與延展性。</p>
<p>最後再透過 live demo 的方式讓會眾們一飽眼福，若是對於 Cloud Native 相關技術有興趣的朋友別忘了<a href="https://www.facebook.com/groups/cloudnative.tw/">加入社群</a>，或是你已經有相關主題遲遲沒地方講？趕快搭上線讓你有舞台可以發揮 😎</p>
<h2 id="閃電秀"><a href="#閃電秀" class="headerlink" title="閃電秀"></a>閃電秀</h2><p>這部分就參考 Evan 大大的<a href="https://www.evanlin.com/chatbot13/#%E9%96%83%E9%9B%BB%E7%A7%80">文章</a></p>
<ul>
<li>Afore: 如何用 Chatbot 說 921 故事</li>
<li>謝化挺: 921 Chatbot 開發心得</li>
<li>C.T Lin: 介紹即將發佈的 Bottender v1</li>
<li>kevin: 宣傳 DevFest 活動</li>
<li>Demo: FunWater - It’s time to rethink about the “single-use plastic” product.</li>
</ul>
<h1 id="中部小聚-in-夢森林"><a href="#中部小聚-in-夢森林" class="headerlink" title="中部小聚 in 夢森林"></a>中部小聚 in 夢森林</h1><h2 id="LINE-Pay-串接全紀錄-KoKo"><a href="#LINE-Pay-串接全紀錄-KoKo" class="headerlink" title="LINE Pay 串接全紀錄 - KoKo"></a>LINE Pay 串接全紀錄 - KoKo</h2><p>身為通勤學的作者也是自由工作者的 KoKo 每次都熱情參加 Chatbot 的活動 👏，本次邀請來帶大家認識 LINE Pay，透過詳細的介紹 LINE Pay 帶著大家一步一步做並提醒大家當中需要注意的部分，有部分的會眾是金融相關背景也特地來了解 LINE Pay 的各種機制，透過 KoKo 解釋後讓會眾更清楚裡頭眉眉角角，此時真的是感受到滿滿的熱情，講者跟會眾踴躍的討論也讓整個活動更活絡，想了解更多議題的歡迎來許願或是來當講者體驗一下中部人真正的活力啊！</p>
<h2 id="serveo-讓你用-Docker-開發-chatbot-也能過的去-Jimmy"><a href="#serveo-讓你用-Docker-開發-chatbot-也能過的去-Jimmy" class="headerlink" title="serveo 讓你用 Docker 開發 chatbot 也能過的去 - Jimmy"></a>serveo 讓你用 Docker 開發 chatbot 也能過的去 - Jimmy</h2><p>COSCUP 就來擔任 Chatbot Taiwan 講者的 Jimmy，本次來分享他包起來的 servo 的容器服務，主要原因是因為在開發機器人時大家都習慣用 ngrok，只是每次都要重新執行重新貼到 LINE Bot 或 LIFF 上，如此繁雜的步驟現在只要透過 container 以及自定義的 DNS 每次只要 docker 啟動後 Domain 啟動後即可開始寫機器人，根本不需要再進後台重新填寫，只能說工程師沒有極限啊！</p>
<p>透過 Jimmy 將 serveo 打包的 container 就不會有連線不穩定的問題(我有經歷過 🤣)，這邊需要注意的問題 serveo 有 ssh 連線數的問題，但一般來說在開發人數不會太多，這樣理論上已經很夠用了～</p>
<p>若對這服務有興趣的話：<a href="https://github.com/taichunmin/docker-serveo">https://github.com/taichunmin/docker-serveo</a></p>
<h2 id="閃電秀-1"><a href="#閃電秀-1" class="headerlink" title="閃電秀"></a>閃電秀</h2><h3 id="感謝-Flex-Simulator-拯救了我-陳佳新"><a href="#感謝-Flex-Simulator-拯救了我-陳佳新" class="headerlink" title="感謝 Flex Simulator 拯救了我 - 陳佳新"></a>感謝 Flex Simulator 拯救了我 - 陳佳新</h3><p>身為中部負責人的佳新，介紹 LINE 的工具 - <a href="https://developers.line.biz/console/fx/">Flex Message Simulator</a>，因為應用大量的 flex message 在自家產品「彰化旅行+」上，透過 LINE 的工具讓我們使用 flex message 上能夠叫得心應手。</p>
<h3 id="ChatBot-製造-ChatBot-EJ-Lin"><a href="#ChatBot-製造-ChatBot-EJ-Lin" class="headerlink" title="ChatBot 製造 ChatBot - EJ Lin"></a>ChatBot 製造 ChatBot - EJ Lin</h3><p>近期加入 chatbot 志工的 EJ 製作了一個可以透過 chatbot 管理 chatbot 的服務，將使用者所註冊機器人的 secret 以及 token 放入後，就能訂閱 ptt 特定作者的文章，當作者只要發文就會透過 push message 通知訂閱的人，若這邊 500 則免費訊息用完的話就建議使用者在開新的 🤣</p>
<h3 id="肌肉仔更新啦-NiJia-Lin"><a href="#肌肉仔更新啦-NiJia-Lin" class="headerlink" title="肌肉仔更新啦 - NiJia Lin"></a>肌肉仔更新啦 - NiJia Lin</h3><p>最後則是我前一陣子分享過的健身記錄機器人-<a href="https://github.com/louis70109/muscle_man">肌肉仔</a>，引入了最新更新的 flex message 站牌樣板，讓健身者在訓練的每筆紀錄變得更漂亮，讓健身者可以像是公車一樣一步一步的往下一站走！</p>
<p>肌肉仔還是會持續更新，有興趣的朋友別忘了幫小弟按個星星 ⭐️ 鼓勵我繼續前進 😃</p>
<ul>
<li>連結：<a href="https://github.com/louis70109/muscle_man">https://github.com/louis70109/muscle_man</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>臺北臺中連著兩天舉辦真的是很累，但是看到大家踴躍的互動讓我覺得不虛此行，接下來還需要大家的熱情支持，讓我們繼續辦下去 🚀</p>
<hr>
<p>Chatbot Taiwan 在台北、台中皆有一個月一次的定期聚會，致力於提供並討論聊天機器人的相關應用，每回小聚將安排講者主題分享、新知討論，環繞 Chatbot 與 AI，及大家共同關心的話題。歡迎大家踴躍分享、自由與會眾交流，同時也期望大家可以在分享中得到收獲。</p>
<p>歡迎各位報名、推薦講者以及閃電秀，介紹自己開發的 chatbot 並分享 chatbot 相關的議題，若有相關需要合作歡迎與我聯繫 <a href="https://m.me/linnijia%E3%80%82">https://m.me/linnijia。</a></p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>chatbot</tag>
        <tag>meetup</tag>
      </tags>
  </entry>
  <entry>
    <title>Chatbot Developer Meetup - LINE API Platform Update Sharing</title>
    <url>/2021/04/29/chatbot-meetup-29/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>透過每個月持續的分享，將 LINE 平台上有更新的內容透過更生活化的方式整理給大家，希望透過此篇文章讓大家認識一樣 LINE API 的魅力！如果已經有正在開發的聊天機器人，抑或是有不同的搭配技巧，都歡迎至<a href="https://www.facebook.com/groups/linebot/">社群</a>或是各大討論區分享你的技術吧！</p>
<span id="more"></span>

<h1 id="貼圖清單-Sticker-更新"><a href="#貼圖清單-Sticker-更新" class="headerlink" title="貼圖清單(Sticker)更新"></a>貼圖清單(Sticker)更新</h1><p>在 LINE 平台上最有名的其中一個功能就是「<strong>貼圖</strong>」，時常在聊天室對話時都會使用有趣的貼圖回應對方，藉此讓對話變得生動有趣。而在近期的平台更新中將 LINE Chatbot 可使用的<a href="https://developers.line.biz/en/docs/messaging-api/sticker-list/#specify-sticker-in-message-object">貼圖清單</a>再度更新釋出</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>並且剛好搭上前一陣子的平台更新中 <a href="https://developers.line.biz/en/reference/messaging-api/#wh-sticker">Sticker Event</a> 加入的<strong>關鍵字</strong>(Keywords)的參數， 透過使用此參數可以讓服務猜出使用者想表達的含義，而在本次的分享中使用 Messaging API + LINE Notify 實作出搶答小遊戲</p>
<ul>
<li><a href="https://github.com/louis70109/line-sticker-lottery-example">範例專案</a>：<a href="https://github.com/louis70109/line-sticker-lottery-example">https://github.com/louis70109/line-sticker-lottery-example</a><ul>
<li>Messaging API: 負責接收與判斷來自用戶的貼圖是否為熊大或是愛德華(綠毛蟲)</li>
<li>LINE Notify: 猜對的用戶透過 Notify 通知 admin (講者)</li>
</ul>
</li>
</ul>
<p>以下則是除了搶答小遊戲以外的貼圖小應用，常見如 <a href="https://linetaxi.com.tw/">LINE Taxi</a> 在使用優惠卷時需要在聊天室內輸入相關資訊，讓伺服器可以判斷優惠卷是否存在，當用戶兌換完之後不論成功與否，都可以透過貼圖的方式並搭配一些生動的文字，也有助於增加使用者對於服務的依賴度。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="LINE-Login-PKCE"><a href="#LINE-Login-PKCE" class="headerlink" title="LINE Login PKCE"></a>LINE Login PKCE</h2><p>LINE Login 本身支援 Web 以及 APP 的操作，因此在 Developer Console 中設定 Endpoint URI 時會有類似以下兩種寫法：</p>
<ul>
<li><a href="https://example.com/">https://example.com</a> (Web 版)</li>
<li>myapp:&#x2F;&#x2F;example.com (APP 版)</li>
</ul>
<p>而在當 LINE Login 打回手機 APP 時，手機可以同時有 1~N 個 APP 同時監聽同一個 URI，這也導致可能有其他的 APP 在同時監聽時將使用者的 code (授權碼)拿去換取 access_token，透過其他手法獲取 Client id 與 Client Secret 後藉此操作使用者的資料以達到仿冒的步驟。</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而引入 PKCE 後，首先透過產生第一組亂數，並將亂數透過 SHA-256 的方式轉換成不可逆的私鑰，並將私鑰傳送給 LINE Server，接著再傳送剛剛產生的亂數給 LINE Server，讓 LINE Server 可以在內部比對這兩個值是否對等。在這個過程中順序非常的重要，若相反過來使用則會造成資訊外洩的問題。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>若對 LINE Login 裡使用 PKCE 的細節想更了解朋友請<a href="https://developers.line.biz/en/news/2021/04/09/line-login-pkce-support/">參考官方網站</a></p>
</blockquote>
<h2 id="LIFF-v1-deprecated"><a href="#LIFF-v1-deprecated" class="headerlink" title="LIFF v1 deprecated"></a><a href="https://developers.line.biz/en/news/2021/04/05/liff-v1-deprecated/">LIFF v1 deprecated</a></h2><p>隨著 LIFF v2 出了一段時間，在許多的社群分享已經文章中都建議大家從 v1 升級到 v2，除了使用既有的功能外也可以持續使用更多新的功能。而在近期的新聞當中，LIFF 團隊將不再繼續開發新功能於 v1 的版本上，但開發者們也無須擔心，目前僅進入<strong>維護模式</strong>，但在此還是建議大家安排時間將您的 v1 LIFF 版本改至 v2 吧！避免後續的問題產生～</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/liff-replace-to-concatenate/">轉移你的 LIFF: 從 Replace 到 Concatenate 模式</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="12" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="API-使用案例"><a href="#API-使用案例" class="headerlink" title="API 使用案例"></a><a href="https://lineapiusecase.com/en/top.html">API 使用案例</a></h2><p>許多開發者(包含我)在初期開始接觸 LINE API 時總會覺得功能這麼多，常常都會有疑問，到底市面上的產品都是如何運行？有沒有使用案例？</p>
<p>本月釋出了<a href="https://lineapiusecase.com/en/top.html">使用案例的網站</a>，讓各位開發者能夠在官方平台上看到許多的使用案例，讓大家可以透過 LINE 所提供的範例發想出更多更有趣的案例！屆時也歡迎大家來<a href="https://www.facebook.com/groups/linebot">社群分享</a>～(貼文、GitHub、部落格都歡迎)</p>
<script async class="speakerdeck-embed" data-slide="13" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="LINE-API-狀態查詢網站"><a href="#LINE-API-狀態查詢網站" class="headerlink" title="LINE API 狀態查詢網站"></a><a href="https://api.line-status.info/">LINE API 狀態查詢網站</a></h2><p>當服務可能因為各種因素導致問題產生時，需要排除是否為自身服務或是介接的服務是否有發生什麼問題藉此排除狀態。因此在這次釋出了 <a href="https://api.line-status.info/">LINE API 狀態查詢的網站</a> 供大家在不確定專案狀態時可以查詢做第一線的排除，大家可以使用 RSS 相關軟體訂閱它～</p>
<script async class="speakerdeck-embed" data-slide="14" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>更多資訊起參閱網站內說明</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><script async class="speakerdeck-embed" data-slide="17" data-id="b4de0b8800ae44b3bd652e3beadfb7c3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>看了上述的內容是否想更了解 LINE 的工作呢？除了可以直接至 <a href="(https://careers.linecorp.com/jobs?co=Taiwan)">LINE Career</a> 上投履歷之外，LINE 也即將在 <strong>5&#x2F;22</strong> 的<a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-taiwan-developers-recruitment-day/">招募日</a>與大家見面，現場會有許多工程團隊的同仁來為大家介紹，歡迎大家來<a href="https://linegroup.kktix.cc/events/20210522-devel">報名頁面報名</a>參加本次盛會！</p>
<h3 id="【學生票申請方法】"><a href="#【學生票申請方法】" class="headerlink" title="【學生票申請方法】"></a>【學生票申請方法】</h3><p>請先翻拍或掃描學生證<br>寄送至 <a href="mailto:&#x64;&#108;&#95;&#x64;&#101;&#x76;&#95;&#x6d;&#x65;&#101;&#x74;&#117;&#x70;&#64;&#108;&#x69;&#x6e;&#101;&#x63;&#x6f;&#114;&#112;&#46;&#99;&#111;&#x6d;">&#x64;&#108;&#95;&#x64;&#101;&#x76;&#95;&#x6d;&#x65;&#101;&#x74;&#117;&#x70;&#64;&#108;&#x69;&#x6e;&#101;&#x63;&#x6f;&#114;&#112;&#46;&#99;&#111;&#x6d;</a><br>資格符合後即可獲得邀請碼</p>
<h3 id="【轉職邀請票申請方法】"><a href="#【轉職邀請票申請方法】" class="headerlink" title="【轉職邀請票申請方法】"></a>【轉職邀請票申請方法】</h3><p>寄送履歷至 <a href="mailto:&#x64;&#x6c;&#95;&#100;&#101;&#118;&#x5f;&#x6d;&#x65;&#x65;&#116;&#x75;&#112;&#x40;&#x6c;&#105;&#110;&#x65;&#99;&#111;&#x72;&#x70;&#46;&#x63;&#x6f;&#109;">&#x64;&#x6c;&#95;&#100;&#101;&#118;&#x5f;&#x6d;&#x65;&#x65;&#116;&#x75;&#112;&#x40;&#x6c;&#105;&#110;&#x65;&#99;&#111;&#x72;&#x70;&#46;&#x63;&#x6f;&#109;</a><br>資格符合後即可獲得邀請碼</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>【Chatbot Taiwan 20】這次參加我又學到了什麼呢 @ LINE</title>
    <url>/2020/06/23/chatbot-meetups-20-sharing/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/eaU663s.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>疫情穩定並解封後終於迎來期待已久的第 20 場小聚，且這次更是來到我最喜歡的熊大寶殿 - LINE 裡頭辦活動，感謝場地方贊助熊大、美食、飲料讓大家吃飽喝足，並且我們邀請了許多大大來分享超超超精實的議程!!</p>
<p>社群：<a href="https://www.facebook.com/groups/chatbot.tw/">https://www.facebook.com/groups/chatbot.tw/</a><br>共筆：<a href="https://hackmd.io/@chatbot-tw/meetups-020">https://hackmd.io/@chatbot-tw/meetups-020</a><br>直播回顧：<a href="https://youtu.be/VxcpDFHWOb8?t=2146">https://youtu.be/VxcpDFHWOb8?t=2146</a></p>
<p>那接下來就分享本次我參加的心得囉！🙂</p>
<span id="more"></span>

<h1 id="Keynote-1-LINE-API-Update-Evan-Lin"><a href="#Keynote-1-LINE-API-Update-Evan-Lin" class="headerlink" title="Keynote 1 - LINE API Update - Evan Lin"></a>Keynote 1 - LINE API Update - Evan Lin</h1><blockquote>
<p>直播錄影網址：<a href="https://youtu.be/gtpm4zKlsXI">https://youtu.be/gtpm4zKlsXI</a></p>
</blockquote>
<p>首先 LINE Taiwan 資深技術推廣工程師 Evan 為我們帶來 LINE API 六月的更新介紹。</p>
<script async class="speakerdeck-embed" data-id="8517c0f0cbba4a18854c672827f71d86" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p><a href="https://speakerdeck.com/line_developers_tw/room-api-demo">簡報</a></p>
</blockquote>
<ul>
<li>06&#x2F;09 Flex Message Simulator 教學文件釋出囉</li>
<li>06&#x2F;10 LINE API Update<ul>
<li>Get group summary</li>
<li>Get members in group count</li>
<li>Get members in room count</li>
</ul>
</li>
<li>06&#x2F;15 LINE Login 可以透過連結(link)到 Official Account</li>
<li>06&#x2F;15 LIFF SDK error code</li>
</ul>
<h2 id="群組-Get-group-summary-amp-Get-members-in-group-count"><a href="#群組-Get-group-summary-amp-Get-members-in-group-count" class="headerlink" title="[群組] Get group summary &amp; Get members in group count"></a>[群組] Get group summary &amp; Get members in group count</h2><p>以往機器人只能取得個人資訊，而六月提供了這個 API 可以取得群組的資訊，跟使用者的資料格式差不多：<br><img src="https://i.imgur.com/3xEHM49.png"></p>
<p>多了這個功能後能讓機器人在面對各個群組時能更有效地在後端管控來源群組，並且透過 <code>Get members in group count</code> 這個 API 來取得當前人數，做出類似行銷後台那樣讓使用者可以看到更完整的資訊。</p>
<blockquote>
<p>Tip: 一個群組只能一隻機器人喔！</p>
</blockquote>
<h2 id="聊天室-Get-members-in-room-count"><a href="#聊天室-Get-members-in-room-count" class="headerlink" title="[聊天室] Get members in room count"></a>[聊天室] Get members in room count</h2><p>聊天室與群組的差異在於他不可以踢人，而功能上與群組差不多，一樣可以加機器人進來，可以透過這 API 知道當前群組有多少人，一樣可以管理除了群組以外的<code>聊天室們</code>。</p>
<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p>LINE bot group 範例(Golang): <a href="https://github.com/kkdai/linebot-group">https://github.com/kkdai/linebot-group</a></p>
<p>QR COde (部屬於 Heroku)：<br><img src="https://i.imgur.com/qbUsN2z.png"></p>
<h2 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h2><script async class="speakerdeck-embed" data-slide="10" data-id="8517c0f0cbba4a18854c672827f71d86" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h3 id="Join-type"><a href="#Join-type" class="headerlink" title="Join type"></a>Join type</h3><p>常常會機器人加入群組後會發出一個<code>歡迎訊息</code>，透過 API 的方式會看到 JSON 裡有個 <code>type</code> 的欄位，判斷它是否為 <code>join</code> 即可回傳歡迎訊息。</p>
<p>另外說明文件有提到，若是 room(聊天室) 需要在其他使用者發送文字(event) 觸發才能讓機器人第一次收到訊息後回傳歡迎訊息。</p>
<h3 id="如何確認-Group-amp-Room"><a href="#如何確認-Group-amp-Room" class="headerlink" title="如何確認 Group &amp; Room"></a>如何確認 Group &amp; Room</h3><script async class="speakerdeck-embed" data-slide="11" data-id="8517c0f0cbba4a18854c672827f71d86" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當機器人收到 event 時，在當中的 <code>source</code> 會有 type 來放入當前是何種性質的群組。</p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>透過每個月的講解讓大家都可以更清楚的了解到 LINE 的更新進度並獲得第一手消息，想知道更多訊息歡迎持續關注社團喔！</p>
<p>LINE 若有更新時都會同步到 <a href="https://github.com/line/line-bot-sdk-python/issues/271">GitHub issue</a> 上，所以不仿追隨一下有新的 issue 時就能第一手收到通知並送 PR 當貢獻者喔！</p>
<h1 id="Keynote-2-專為高中生設計的管家型聊天機器人-廖煥杰"><a href="#Keynote-2-專為高中生設計的管家型聊天機器人-廖煥杰" class="headerlink" title="Keynote 2 - 專為高中生設計的管家型聊天機器人 - 廖煥杰"></a>Keynote 2 - <a href="https://drive.google.com/file/d/10Qd-XvznwN_qVkZj2gXK3eLT3PPTqvc3/view?usp=sharing">專為高中生設計的管家型聊天機器人 - 廖煥杰</a></h1><blockquote>
<p>直播錄影網址：<a href="https://youtu.be/HTXvpKWyNHE">https://youtu.be/HTXvpKWyNHE</a></p>
</blockquote>
<p>這個議程由高二的煥杰來分享，首先為什麼會做這個機器人三個主要原因：</p>
<ul>
<li>同學常常忘了帶考師準備的書籍。</li>
<li>提醒學生未來幾天的考試行程，幫大家決定今天要帶的書回家。</li>
<li>讓大家有效學習。</li>
</ul>
<h2 id="設計理念"><a href="#設計理念" class="headerlink" title="設計理念"></a>設計理念</h2><ul>
<li>為了避免被亂搞需要權限控制</li>
<li>放學推播功能</li>
<li>學校、老師有權限可以看到所有人的體溫</li>
</ul>
<h2 id="遇到的問題"><a href="#遇到的問題" class="headerlink" title="遇到的問題"></a>遇到的問題</h2><p>當中講者也提到他們 SQL 的進化史，由於 google spreadsheet 每 100ms 只能有 100 請求導致服務出問題，因此就搬到 MySQL 上。</p>
<p>當中也因為遇到疫情的關係所以開發出<code>體溫回報系統</code>，也有因為自己需求的關係而開發<code>放學前會推播今天的作業</code>，讓大家可以帶相關參考書回家。</p>
<p>也需要依照不同季節提供不同的 Richmenu 選單。</p>
<h2 id="未來展望"><a href="#未來展望" class="headerlink" title="未來展望"></a>未來展望</h2><ul>
<li>人臉辨識結合體溫測量</li>
<li>重構程式碼，讓城市更漂亮</li>
<li>評估改用 No SQL 來降低成本與請求速度</li>
<li>網頁管理介面</li>
<li>推廣到全台灣高中</li>
</ul>
<blockquote>
<p><a href="https://github.com/cbfhss">Github</a></p>
</blockquote>
<h2 id="小結-1"><a href="#小結-1" class="headerlink" title="小結"></a>小結</h2><p>很有想法的高中生，從生活中解決需求一直都是一個好的方向去實踐專案，希望這隻機器人可以趕快完成未來展望的部分，期待繼續在社團露臉 😁。</p>
<h1 id="Keynote-3-LIFF-amp-Firebase-Richard-Lee"><a href="#Keynote-3-LIFF-amp-Firebase-Richard-Lee" class="headerlink" title="Keynote 3 - LIFF &amp; Firebase - Richard Lee"></a>Keynote 3 - <a href="https://docs.google.com/presentation/d/1ZJIDpw9Cmte_9w1NxKHxzXtoaFBXsKVH7tQd4zlvb8k/edit?usp=sharing">LIFF &amp; Firebase - Richard Lee</a></h1><p><img src="https://i.imgur.com/pApsiyi.png"></p>
<blockquote>
<p>直播錄影網址： <a href="https://youtu.be/U_nPlkTuk9s">https://youtu.be/U_nPlkTuk9s</a></p>
</blockquote>
<p>一開始提到 LINE 在剛開始推出 LIFF 時其實沒那麼好用，然而隨著時間的推移 LINE 有聽到大家的心聲持續更新到今日挺好用的地步，也開發出特別的功能 - share target picker 來分享訊息，也因為類似的功能讓 LIFF 介於聊天機器人與行動網頁之間，且隨之而來 LIFF v2 也開始支援 web 囉！</p>
<p>基本上 LIFF 的組成為 一個一般的 web app + LINE 的 “user credentials” 以及透過 SDK 去 get profile &#x2F; send message。</p>
<h2 id="Why-Firebase-hosting"><a href="#Why-Firebase-hosting" class="headerlink" title="Why Firebase hosting"></a>Why Firebase hosting</h2><p>他有以下幾個特性：</p>
<ul>
<li>可以放置 web page</li>
<li>幫助網頁開發的功能</li>
<li>分析工具(FCM）</li>
<li>Firebase is a collection of mobile-related products</li>
<li>一上去全球部署(CDN)，機房就在台灣&#x2F;香港</li>
<li>No cold start</li>
</ul>
<p>在一番的火力展示後讓我瞭解到 Firebase 的完整性，其功能不僅擁有像是 AWS S3 的功能，同時擁有像是 AWS Lambda 的功能，並能夠在前端頁面 real time 去更新資料庫裡的值，讓大家能在這裡見識到這部分真的是賺到了！</p>
<h2 id="Firebase-Auth-x2F-Security-rules"><a href="#Firebase-Auth-x2F-Security-rules" class="headerlink" title="Firebase Auth &#x2F; Security rules"></a>Firebase Auth &#x2F; Security rules</h2><p>設計再好的產品都會有沒注意到的地方，總不能讓我們放置的 LIFF 網頁被人家輕易的挖走東西，因此 Firebase 提供安全認證相關的機制，管理人員處理<code>新增</code>、<code>刪除</code>這類較危險的操作。</p>
<h2 id="小結-2"><a href="#小結-2" class="headerlink" title="小結"></a>小結</h2><p>能夠聽到含有 LAE &amp; GDE 認證的專家分享這麼精實的內容實在是很賺，從中完美整合了 LINE 以及 Google 的服務讓我歎為觀止，讓我新的目標可以學新東西了！</p>
<h1 id="Keynote-4-對話式表單架構設計-郭佳甯"><a href="#Keynote-4-對話式表單架構設計-郭佳甯" class="headerlink" title="Keynote 4 - 對話式表單架構設計 - 郭佳甯"></a>Keynote 4 - <a href="https://docs.google.com/presentation/d/1np4_d6grkw6kMD-jSnMFFj2yH8FwT2SaEdNKKfA0w7w/edit">對話式表單架構設計 - 郭佳甯</a></h1><blockquote>
<p>直播錄影網址：<a href="https://youtu.be/ScLQeFIJjLE">https://youtu.be/ScLQeFIJjLE</a></p>
</blockquote>
<p>本次再度邀請卡米哥前來分享主題，這次的主題很常會在討論區出現，在表單設計上一定是網頁(LIFF)來處理是較妥當的，但總不會每個需求都這麼完美，因此本次就分享在 Chatbot 上得多輪對話設計架構。</p>
<p><img src="https://i.imgur.com/OIb1vz9l.png"></p>
<p>對話式表單常會有以下需求：</p>
<ul>
<li>多欄位填寫</li>
<li>表單驗證</li>
<li>代換詞(縮寫)</li>
<li>對話跳脫</li>
</ul>
<p>利用了點飲料的需求清楚講解並帶大家認識整個對話的流程，接著就帶大家認識 DialogFlow，之前我有參加 chatbot taichung 工作坊，可以<a href="https://medium.com/@nijia.lin/chatbot-taichung-2-%E5%B7%A5%E4%BD%9C%E5%9D%8A%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB-bc964fdc07c3">參考文章</a>中的做法實作(細節可能有改要注意)。</p>
<p>它帶來的好處可以迅速建立多欄位表單，但經由實測後有時跳脫後對話會跳不回去導至錯亂，且講者認為 Context 用於對話是表單違反直覺。</p>
<h2 id="認識Bottender"><a href="#認識Bottender" class="headerlink" title="認識Bottender"></a>認識<a href="https://bottender.js.org/">Bottender</a></h2><p>最後提到了我也很常用的 Bottender，它的三個主要脈絡為 Action、Chain、Routing，細節可以<a href="https://bottender.js.org/docs/zh-TW/getting-started">參考文件</a></p>
<p>也因多輪對話需求越來越多，因此他們就有開出這樣的需求：<br><img src="https://i.imgur.com/la39kaZ.png"></p>
<h2 id="proposal"><a href="#proposal" class="headerlink" title="proposal:"></a>proposal:</h2><ul>
<li>registerAction: 註冊 Action</li>
<li>getAction: 取得 Action</li>
<li>prompt: 向用戶發問</li>
<li>setField: 設定表單欄位</li>
<li>deleteField: 刪除欄位</li>
</ul>
<p>透過像是以上的 APIs 上開發者可以迅速建立對話式表單，並且處理<code>珍奶例子</code>的問題，雖然有提到 <code>缺乏高階語法糖</code>，但工具向來都是先求有再求好，也許未來會有不同的解決方案來處理這部分～</p>
<h2 id="小結-3"><a href="#小結-3" class="headerlink" title="小結"></a>小結</h2><p>透過生活中常遇到的例子帶入應用情境上讓大家更能融入其中，接著敘述實作上的問題並且提出目前如何處理這部分來解決必須在 Chatbot 中做對話的這件事上， 而 Bottender 持續貢獻於 open source 中，如果支持並有想贊助的朋友歡迎聯絡他們 🙂。</p>
<h1 id="閃電秀"><a href="#閃電秀" class="headerlink" title="閃電秀"></a>閃電秀</h1><h2 id="1-奇步老爹（陳佳新）-LIFF-圖片測試工具，設計師和工程師從此溝通無礙"><a href="#1-奇步老爹（陳佳新）-LIFF-圖片測試工具，設計師和工程師從此溝通無礙" class="headerlink" title="1. 奇步老爹（陳佳新）- LIFF 圖片測試工具，設計師和工程師從此溝通無礙"></a>1. 奇步老爹（陳佳新）- <a href="https://www.slideshare.net/jarsing/20200623liffbgtester/jarsing/20200623liffbgtester">LIFF 圖片測試工具，設計師和工程師從此溝通無礙</a></h2><blockquote>
<p>直播錄影網址： <a href="https://youtu.be/q2E9W4RDGW0">https://youtu.be/q2E9W4RDGW0</a></p>
</blockquote>
<p>在沒有設計師的情況下需要刻 UI 就只能使用工具，而講者即提供了 Chatbot 供大家測試使用。<br><img src="https://i.imgur.com/LpSvuUAl.jpg"></p>
<p>操作流程：<br><img src="https://i.imgur.com/NnegZEB.jpg"></p>
<h2 id="2-黃鈞亭-結合-LINE-和-Google-Suite-來做定時回報系統"><a href="#2-黃鈞亭-結合-LINE-和-Google-Suite-來做定時回報系統" class="headerlink" title="2. 黃鈞亭 - 結合 LINE 和 Google Suite 來做定時回報系統"></a>2. 黃鈞亭 - <a href="https://docs.google.com/presentation/d/1Xb6NWCLEqW5q74KOSjm51TWwokM-VXlBcOkpJqA2iTE/edit?usp=sharing">結合 LINE 和 Google Suite 來做定時回報系統</a></h2><blockquote>
<p>直播錄影網址：<a href="https://youtu.be/v6BNMJv782c">https://youtu.be/v6BNMJv782c</a></p>
</blockquote>
<p>因為軍中使用 LINE 回報時的 race condition 問題而讓講者動身實作一隻機器人處理問題，透過填寫 google 表單的方式也不會出現像前面講者所遇到的多輪對話問題。</p>
<p>架構:<br><img src="https://i.imgur.com/KJdu5qd.png"></p>
<p>Github source: <a href="https://github.com/chungthuang/line-report-bot">https://github.com/chungthuang/line-report-bot</a></p>
<h2 id="臺北科技大學-即時通智慧攝影機-EdgeTPU-碰上-LINE-Bot"><a href="#臺北科技大學-即時通智慧攝影機-EdgeTPU-碰上-LINE-Bot" class="headerlink" title="臺北科技大學 - 即時通智慧攝影機(EdgeTPU 碰上 LINE Bot)"></a>臺北科技大學 - 即時通智慧攝影機(EdgeTPU 碰上 LINE Bot)</h2><blockquote>
<p>直播錄影網址：<a href="https://youtu.be/4QcxQLVgiso">https://youtu.be/4QcxQLVgiso</a></p>
</blockquote>
<p>主要解決讓不熟 APP 但熟悉即時通訊軟體的使用者來串接攝影機功能，結合 google 新出的開發版並讓使用者掃描裝置上的 QR Code 跟 LINE 做綁定，接著攝影機開始偵測後若發現有人經過時則會 push message 給用戶告知有問題。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>超精實的一天，難得疫情後的線下小聚還有 LINE 贊助場地與餐點，把握這次機會再次北上與大家一起舉辦社群活動，促進資訊交流並認識大家，接下來社群還是會持續舉辦月聚，請大家持續關注社群，會將第一手資訊發出來讓大家知道 🙂。</p>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: 中部人的聊天機器人小小聚第 16 場心得分享</title>
    <url>/2021/07/18/chatbot-mid-meetup-16/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/chatbot-mid-16/1.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan DevRel 團隊的 NiJia Lin，感覺已經許久沒有在社群上與大家分享相關的內容，本次受邀請參加「<a href="https://chatbots.kktix.cc/events/chatbots-meetup-in-central-taiwan-016">2021&#x2F;07&#x2F;14 中部人的聊天機器人小小聚 第 16 場</a>」，能夠透過線上的方式帶各位會眾分享從最基本的 LINE Bot 操作開始認識，到一些大家常常會需要的 API 範例，再接著 Platform API 的更新內容，對於當天內容想回味的讀者們，趕快往下繼續看吧！</p>
<ul>
<li>社團頁面：<a href="https://www.facebook.com/groups/chatbot.tw">https://www.facebook.com/groups/chatbot.tw</a></li>
<li>活動報名頁面：<a href="https://chatbots.kktix.cc/events/chatbots-meetup-in-central-taiwan-016">https://chatbots.kktix.cc/events/chatbots-meetup-in-central-taiwan-016</a></li>
<li>共同筆記：<a href="https://hackmd.io/@chatbot-tw/chatbots-meetup-in-central-taiwan-016">https://hackmd.io/@chatbot-tw/chatbots-meetup-in-central-taiwan-016</a></li>
<li>活動簡報：<a href="https://speakerdeck.com/line_developers_tw/line-bot-ru-men-jie-shao-yu-platorm-api-geng-xin-zi-xun-202107">https://speakerdeck.com/line_developers_tw/line-bot-ru-men-jie-shao-yu-platorm-api-geng-xin-zi-xun-202107</a></li>
<li>整場影片：<a href="https://www.youtube.com/watch?v=rZJ0yBSLaMc">https://www.youtube.com/watch?v=rZJ0yBSLaMc</a></li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rZJ0yBSLaMc?start=386" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<span id="more"></span>

<h1 id="LINE-Bot-入門介紹與-Platform-API-更新資訊"><a href="#LINE-Bot-入門介紹與-Platform-API-更新資訊" class="headerlink" title="LINE Bot 入門介紹與 Platform API 更新資訊"></a>LINE Bot 入門介紹與 Platform API 更新資訊</h1><p><img src="https://nijialin.com/images/2021/chatbot-mid-16/2.png"></p>
<hr>
<script async class="speakerdeck-embed" data-slide="6" data-id="d06175338bb24488b51bbd7bfcd0e32a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>我們的服務要怎麼收到來自用戶的訊息呢？用戶會在 LINE 通訊軟體中輸入訊息，會打到 LINE Platform 中，接著再透過 Webhook 的方式打到你的服務(Server)上，而當中各位的所建立的 Channel 則是在 Platform 與 Server 之間，更多內容可以參考近期釋出的三篇指南：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-bot-guideline-1/">LINE Bot 開發者指南詳解 1. 關於 LINE Bot</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-bot-guideline-2/">LINE Bot 開發者指南詳解 – 2. 使用 Webhook URL 接收請求時的注意事項</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-bot-guideline-3/">LINE Bot 開發者指南詳解 – 3 發送 API 請求時的注意事項</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="9" data-id="d06175338bb24488b51bbd7bfcd0e32a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>Provider 是各位需要注意的部分，它代表的是個人、公司或是一個組織，這部分大家在建立是要非常注意這個部分(<a href="https://line.me/en/terms/policy/">Policy 參考</a>)，各位所建立的 Channel(可能是一隻 Bot、LINE Login…)是不能切換 Provider，因為在建立 Channel 時是當中有說明 Channel 是與當前 Provider 綁定相關資訊保護大家當中 Channel 的資訊，因此大家要建立時要再三注意當前 Provider 是誰喔！</p>
<p>接著提到了初階的 LINE Bot 事件介紹，相關內容大家可以參考下方兩篇文章：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-device-10/">開發 LINE 聊天機器人不可不知的十件事</a></li>
<li>Flex Message 相關介紹 - <a href="https://engineering.linecorp.com/zh-hant/blog/how-to-send-flex-message-on-simulator/">藉由 Flex Message Simulator 實現並發送測試用 Flex Message</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="13" data-id="d06175338bb24488b51bbd7bfcd0e32a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這部分的內容介紹了引用內容 <a href="https://engineering.linecorp.com/zh-hant/blog/nycu-glocal-digital-innovation-competition-2021/#line-bot-apis-introduction-and-demonstration">NYCU Glocal Digital Service &amp; Innovation Competition 黑客松活動紀錄</a>中的部分：</p>
<ul>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#get-profile">取得使用者資訊</a></li>
<li><a href="https://github.com/louis70109/MIT_flask-line-bot-demo/blob/master/reply_message/sticker_keywords.py">取得貼圖關鍵字範例</a></li>
<li><a href="https://developers.line.biz/en/docs/messaging-api/icon-nickname-switch/#specifying-icon-and-display-name">更換 LINE Bot 頭像</a> 讓使用者快速辨認當前身份</li>
<li>讓使用者在手機介面上快速回答的功能 – <a href="https://github.com/louis70109/MIT_flask-line-bot-demo/blob/master/reply_message/quick_reply_echo_bot.py">Quick Reply</a></li>
<li>強大而樸實無華，讓你可以建立選單給使用者滿滿的視覺饗宴 – <a href="https://developers.line.biz/en/docs/messaging-api/using-rich-menus/">Rich Menu</a><ul>
<li><a href="https://github.com/louis70109/MIT_flask-line-bot-demo/tree/master/richmenu">建立步驟程式碼</a></li>
</ul>
</li>
</ul>
<script async class="speakerdeck-embed" data-slide="36" data-id="d06175338bb24488b51bbd7bfcd0e32a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>Rich Menu 作為 LINE Bot 中很重要的一個圖文選單，能夠讓使用者可以快速點選服務功能按鈕，而當一隻 LINE Bot 功能越來越多時， Rich Menu 就需要切換。但過去在切換時需要透過較長的步驟才有辦法切換，在 <a href="https://developers.line.biz/en/news/2021/06/21/switch-between-multiple-rich-menus/">2021&#x2F;06&#x2F;21</a> 的更新中透過 alias 的方式來加速切換 Rich Menu 的速度，詳細內容請大家泰國同事所分享的內容 - <a href="https://engineering.linecorp.com/zh-hant/blog/rich-menu-alias-switch-action/">透過 Rich Menu Switch Action 快速地切換 LINE 的個人化的 Rich Menu</a>，當中接一步一步帶大家實作喔！</p>
<p><img src="https://engineering.linecorp.com/wp-content/uploads/2021/07/7.gif"></p>
<script async class="speakerdeck-embed" data-slide="40" data-id="d06175338bb24488b51bbd7bfcd0e32a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LIFF 近期釋出了 v2.11 版本，在之前的版本中二次跳轉後(<code>liff.init()</code>後)也會帶著 access_token 以及相關參數在路徑上，而在這次新版本訊息中 <code>liff.init()</code> 執行之後會將相關參數放入 local storage，避免開發者在用第三方追蹤工具追蹤時代上許多不必要的參數且不會洩漏使用者的 access_token 之類的參數導致資安問題產生。</p>
<script async class="speakerdeck-embed" data-slide="41" data-id="d06175338bb24488b51bbd7bfcd0e32a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>另一則更新則是小修正，修正了路徑中 <code>/</code> 在跳轉後會被 url encode 的問題，大家若有遇到類似的問題就麻煩將版本更新上來囉！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>許久沒有透過社群與大家分享相關平台更新資訊及相關內容，帶了一些在 <a href="https://engineering.linecorp.com/zh-hant/blog/nycu-glocal-digital-innovation-competition-2021/#line-bot-apis-introduction-and-demonstration">NYCU Glocal Digital Service &amp; Innovation Competition 黑客松活動紀錄</a> 中分享的內容，讓剛開始接觸 LINE Bot 的開發者可以更快速加入開發行列中，並帶到近期的平台的相關更新內容，後半段則由 LINE API Expert 們的分享</p>
<ul>
<li>均民 - <a href="https://hackmd.io/@taichunmin/chatbot-tw-202107">Flex 開發人員工具與 richmenuswitch 新功能範例</a></li>
<li>佳新 - <a href="https://www.slideshare.net/jarsing/flex-message-with-red-words-20210714">Flex訊息真的很有彈性，文字也可以有紅字</a></li>
<li>David Tung - <a href="https://hackmd.io/@chatbot-tw/chatbots-meetup-in-central-taiwan-016#%E9%96%83%E9%9B%BB%E7%A7%801%EF%BC%9A%E4%BD%BF%E7%94%A8bashcmd%E7%99%BC%E9%80%81LINE%E8%A8%8A%E6%81%AF---David-Tung">使用bash&#x2F;cmd發送LINE訊息</a></li>
</ul>
<p>最後歡迎大家踴躍分享你所開發的 LINE API 範例至<a href="https://www.facebook.com/groups/linebot">社群上</a>吧！那我們就下次再見囉！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>【MAC】透過內建的預覽程式來去背吧！</title>
    <url>/2021/12/08/clear-image-background-mac/</url>
    <content><![CDATA[<h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><ul>
<li>在黑底簡報放上截圖</li>
<li>別把內容中白色的地方都去掉</li>
<li>只想要去內容之外的白色的區域</li>
</ul>
<span id="more"></span>

<h1 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h1><p>過去在做一些簡報時，習慣透過 PowerPoint 的方式來幫忙去背，使用的地方如下圖</p>
<p><img src="https://nijialin.com/images/2021/clear-bg/7.png"></p>
<p>但去背完後會發現連框框內的白色內容都一起消失了 💦，這樣貼上黑底的簡報就什麼都看不到了…</p>
<p><img src="https://nijialin.com/images/2021/clear-bg/8.png"></p>
<h1 id="使用-Mac-內建的「預覽程式」來協助去背"><a href="#使用-Mac-內建的「預覽程式」來協助去背" class="headerlink" title="使用 Mac 內建的「預覽程式」來協助去背"></a>使用 Mac 內建的「預覽程式」來協助去背</h1><p>以下這是張範例截圖(想試玩也可以下載)<br><img src="https://nijialin.com/images/2021/clear-bg/1.png"></p>
<p>抓下來後把他點看，先點選右上角的<mark>編輯</mark>後，接著點選左邊<strong>紅色箭頭</strong>的工具，點選想去背的地方並滑動來框區域<br><img src="https://nijialin.com/images/2021/clear-bg/2.png"></p>
<p>滑動時候的狀態會如下圖這樣，預覽程式會告知你現在有哪些地方被<strong>去背</strong>，藉此看一下是否有些空間不小心被切掉了(像是灰色的底)<br><img src="https://nijialin.com/images/2021/clear-bg/4.png"></p>
<p>當各位框好範圍之後，點選編輯中的<mark>將選取範圍反向</mark><br><img src="https://nijialin.com/images/2021/clear-bg/3.png"></p>
<p>按下之後會看到下圖箭頭的地方有個<strong>裁剪</strong>的圖示，給他全力的 「<strong>按。下。去</strong>」<br><img src="https://nijialin.com/images/2021/clear-bg/5.png"></p>
<p>結果就如下啦(根本看不出來)，大家可以把它下載後貼到黑色背景的地方就會發現差異嚕！<br><img src="https://nijialin.com/images/2021/clear-bg/6.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以前在 Windows 主機上操作很習慣的使用 PowerPoint 之類的工具來快速幫我去背，個人也不太會用 Adobe 相關的軟體來協助處理(或許未來可試試)，在工作之後長期使用 Mac 卻不知道有這麼方便的預覽系統可以幫忙去背，在這次學到了這個功能之後就可以把一些底圖弄的更有專業度啦！</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>去背</tag>
        <tag>預覽程式</tag>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: Chatbot 台中小聚 08 - LINE platform 工作坊紀錄</title>
    <url>/2020/08/27/chatbot-taichung-08/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/chatbot.png" alt="all user"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist - NiJia Lin。這次很開心受到 chatbot 社群的邀請，參加了 “<a href="https://chatbots.kktix.cc/events/chatbots-meetup-in-central-taiwan-008">中部人的 Chatbots Meetup 聊天機器人小小聚 #8</a>“ 的聚會活動，並且分享 LINE API 更新與個人開發的心得。在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<ul>
<li>社群 Chatbots Meetup： <a href="https://chatbots.kktix.cc/">https://chatbots.kktix.cc/</a></li>
<li>本次活動網頁: <a href="https://chatbots.kktix.cc/events/chatbots-meetup-in-central-taiwan-008">活動網址</a></li>
</ul>
<p>由於 Chatbots Meetup 本身屬於社群自主性的活動，裡面也有許多社群朋友所贊助的閃電秀。裡面的所有內容也是相當的難得與有趣。也希望能夠透過本篇文章讓大家稍微了解 Chatbots Meetup 社群閃電秀的魅力。</p>
<span id="more"></span>

<h1 id="投影片"><a href="#投影片" class="headerlink" title="投影片"></a>投影片</h1><script async class="speakerdeck-embed" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這次主題主要圍繞著三個平台實作</p>
<ul>
<li>LINE: 提供 機器人(Bot)&#x2F;網頁(LIFF)&#x2F;通知(Notify) 的服務</li>
<li>Heroku: 部署的主機，會含有 Domain&#x2F;服務套件(SQL、排程)</li>
<li>GitHub: 放置程式碼的倉庫</li>
</ul>
<p>搭配我已經寫好的專案: <a href="https://github.com/louis70109/LINE-subscribe-open-data-bot">LINE-subscribe-open-data-bot</a></p>
<blockquote>
<p>整體使用 flask&#x2F;Python 3.7、PostgreSQL 實作，若想在本地端起服務的話要有這兩個喔！</p>
</blockquote>
<h1 id="Deploy-to-Heroku"><a href="#Deploy-to-Heroku" class="headerlink" title="Deploy to Heroku"></a>Deploy to Heroku</h1><p>首先需要先到我的專案 <a href="https://github.com/louis70109/LINE-subscribe-open-data-bot">LINE-subscribe-open-data-bot</a> 按下右上角的 <code>Fork</code> (並且按星星 ⭐️) 回自己的 GitHub page。</p>
<script async class="speakerdeck-embed" data-slide="9" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在 Fork 專案到自己的帳號下之後，沿著 README 往下會找到 <code>Deploy to Heroku</code> 按鈕，按下去之後會被引導至 Heroku 部署的頁面，並輸入一個你喜歡的名字。</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>
<script async class="speakerdeck-embed" data-slide="11" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>等待部署結束後按下最下面的 <code>Manage app</code> 的按鈕會到達你剛剛建立的主機頁面 ，這邊會需要按下 <code>Configure Add-ons</code> 並加入兩個 Heroku 套件來輔助這次的實作：</p>
<ul>
<li>Heroku Scheduler</li>
<li>Heroku Postgres</li>
</ul>
<script async class="speakerdeck-embed" data-slide="12" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<script async class="speakerdeck-embed" data-slide="13" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>並且加入完套件之後再點一次 <code>Heroku Scheduler</code> 到達可以建立排程作業的地方，分別按下 Create Job 建立兩個 Job 並輸入：</p>
<ul>
<li><code>python scripts/sync_to_sql.py</code><ul>
<li>定期將資料同步到資料庫中，而第一次觸發時會建立 DB Tables。</li>
</ul>
</li>
<li><code>python scripts/notify_me.py</code><ul>
<li>定期發送以訂閱通知的用戶。</li>
</ul>
</li>
</ul>
<p>接著到 <code>Settings</code> 的頁面按下按鈕，這部分是填入環境變數的地方，且往下滑會看到 Heroku 送的 <code>Domain Name</code>(參考 17 頁)，待會會大量的使用到它，這個頁面就先保留停在這邊。</p>
<script async class="speakerdeck-embed" data-slide="16" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這邊先提前說明一下所有的環境變數用途：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">//</span> LINE bot 傳遞訊息時所需要的鑰匙</span><br><span class="line">LINE_CHANNEL_ACCESS_TOKEN=</span><br><span class="line">LINE_CHANNEL_SECRET=</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> LINE Notify 的鑰匙以及 callback url</span><br><span class="line">LINE_NOTIFY_CLIENT_ID=</span><br><span class="line">LINE_NOTIFY_CLIENT_SECRET=</span><br><span class="line">LINE_NOTIFY_REDIRECT_URI=</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> 處理 LINE Notify 所使用的 LIFF page</span><br><span class="line">LIFF_BIND_ID=</span><br><span class="line">LIFF_CONFIRM_ID=</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> 操作 Share Target Picker 需要使用的 LIFF page</span><br><span class="line">LIFF_SHARE_ID=</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> 在增加 Heroku Postgres Add-ons 時會自動加入的環境變數，若在本地端測試時則需要建立相關參數</span><br><span class="line">DATABASE_URL=</span><br></pre></td></tr></table></figure>

<h1 id="Massaging-API"><a href="#Massaging-API" class="headerlink" title="Massaging API"></a>Massaging API</h1><p>接著就要開始建立 LINE Bot 連動相關資訊，首先先到這個<a href="https://developers.line.biz/console/">LINE Developer Console</a>頁面，建立一個 Provider(<code>100 channels per provider</code>)，並且把該填的部分填完。</p>
<script async class="speakerdeck-embed" data-slide="19" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接下來處理訂閱服務的 Messaging API(Bot)部分，在眾多服務選項中選擇第二個建立 Channel。</p>
<script async class="speakerdeck-embed" data-slide="20" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>然後把該填的資訊填清楚 👍</p>
<script async class="speakerdeck-embed" data-slide="21" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在建立完後往下滑會看到 <code>Channel Secret</code>，將他複製起來放到 Heroku 環境變數的 <code>LINE_CHANNEL_SECRET</code> 欄位。</p>
<script async class="speakerdeck-embed" data-slide="22" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著點選 <code>Massaging API</code> 的頁籤並至下方看到 LINE Official Account features 的地方並按下 <code>Edit</code> 到另一個設定頁面。</p>
<script async class="speakerdeck-embed" data-slide="24" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>為了實作方便，由上到下依序為<code>停用</code>、<code>停用</code>、<code>啟用</code> 後將頁面關掉回到剛剛的 LINE Developer Console。</p>
<script async class="speakerdeck-embed" data-slide="25" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>到最下面 Issue 一個 Channel Access Token 並一樣的複製到 Heroku 環境變數中新增一個 <code>LINE_CHANNEL_ACCESS_TOKEN</code> 的欄位並填入。</p>
<script async class="speakerdeck-embed" data-slide="26" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這部分是整隻機器人最重要的一個部分，填入 webhook URL，將 Heroku settings 頁面下面 Heroku 給的 Domain Name 複製到這個地方，並在網址後面加上 <code>webhooks/line</code>，下面的 webhook 開關也記得打開。</p>
<script async class="speakerdeck-embed" data-slide="27" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>確認你的環境變數有沒有輸入正確 ❗️</p>
<script async class="speakerdeck-embed" data-slide="29" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="建立-LIFF-page"><a href="#建立-LIFF-page" class="headerlink" title="建立 LIFF page"></a>建立 LIFF page</h1><p>首先一樣先回到我們起初建立的 Provider 上並建立一個 LINE Login Channel，並且將必填欄位的資訊逐步打上，待會會需要在這 Channel 中建立三個 LIFF app。</p>
<script async class="speakerdeck-embed" data-slide="31" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在進入頁籤前，需點擊上面紅色框框的地方將這個 Channel 改成 <code>Published</code> 狀態，如此一來外部伺服器才會連結的到喔！</p>
<script async class="speakerdeck-embed" data-slide="32" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>Published 之後到 LIFF 頁籤新增三個 LIFF pages，參考第 33, 34 頁的資訊並輸入以下的 app name 以及 Endpoint url：</p>
<ul>
<li>notify index<ul>
<li><a href="https://heroku_rul/notify">https://HEROKU_RUL/notify</a></li>
</ul>
</li>
<li>notify callback<ul>
<li><a href="https://heroku_rul/notify/callback">https://HEROKU_RUL/notify/callback</a></li>
</ul>
</li>
<li>share message<ul>
<li><a href="https://heroku_rul/liff/air">https://HEROKU_RUL/liff/air</a></li>
</ul>
</li>
</ul>
<h4 id="建立完-LIFF-add-後記得打開-ShareTargetPicker-的選項喔！"><a href="#建立完-LIFF-add-後記得打開-ShareTargetPicker-的選項喔！" class="headerlink" title="建立完 LIFF add 後記得打開 ShareTargetPicker 的選項喔！"></a>建立完 LIFF add 後記得打開 <code>ShareTargetPicker</code> 的選項喔！</h4><blockquote>
<p>後續的步驟則會使用 app name 來解說喔！</p>
</blockquote>
<p>接著需要將剛剛建立的三個 LIFF ID 放到 Heroku 的環境變數上，分別對應名稱是：</p>
<ul>
<li>LIFF_BIND_ID ↔️ notify index</li>
<li>LIFF_CONFIRM_ID ↔️ notify callback</li>
<li>LIFF_SHARE_ID ↔️ share message</li>
</ul>
<script async class="speakerdeck-embed" data-slide="36" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這邊建立後並確認名字是否打對後就接著進入 LINE Notify 的部分囉！</p>
<h1 id="LINE-Notify"><a href="#LINE-Notify" class="headerlink" title="LINE Notify"></a><a href="https://notify-bot.line.me/zh_TW/">LINE Notify</a></h1><p><img src="https://nijialin.com/images/notify.png"></p>
<p>接著來到 <a href="https://notify-bot.line.me/zh_TW/">Notify 的頁面</a>，並且確認 LINE Notify 是否已加入好友(或需解除封鎖)。</p>
<blockquote>
<p>這部分串接的套件為 - <a href="https://github.com/louis70109/lotify">lotify</a> 來幫助快速串接 LINE Notify。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="38" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>從右上角按下 <code>登入</code> 結束後 👉<code>管理登入頁面</code> 👉 最下面的 <code>登入服務</code> 開始建立基本資訊。</p>
<ul>
<li>電子信箱一定要能收到信，否則會沒辦法驗證。</li>
<li>Callback URL 則輸入前面建立 LIFF app 時 <code>notify callback</code> 的網址。</li>
</ul>
<script async class="speakerdeck-embed" data-slide="40" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>不清楚 Callback URL 是哪個話就是這個 👇</p>
<script async class="speakerdeck-embed" data-slide="41" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>建立完之後就到信箱收信按下驗證的網址囉！否則你的服務會無法使用。</p>
<script async class="speakerdeck-embed" data-slide="42" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>按照慣例一樣填入環境變數到 Heroku 中：</p>
<ul>
<li>LINE_NOTIFY_CLIENT_ID</li>
<li>LINE_NOTIFY_CLIENT_SECRET</li>
<li>LINE_NOTIFY_REDIRECT_URI (這邊是 <code>URI</code> 喔！注意)：填入剛剛在設定 Callback URL 時的那個 LIFF app url。</li>
</ul>
<script async class="speakerdeck-embed" data-slide="43" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>到這部基本上對 chatbot 說 「所有縣市」 應該要有反應，若沒反應的話要確認哪個步驟有沒有做錯或打錯字喔！(現場很多這樣的問題)</p>
<script async class="speakerdeck-embed" data-slide="46" data-id="5fe13412f6ac4959a2bc468a90aa5b10" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="閃電秀-我要奮發向上！聊天機器人有哪些書？"><a href="#閃電秀-我要奮發向上！聊天機器人有哪些書？" class="headerlink" title="閃電秀 - 我要奮發向上！聊天機器人有哪些書？"></a>閃電秀 - 我要奮發向上！聊天機器人有哪些書？</h1><iframe src="//www.slideshare.net/slideshow/embed_code/key/qc23PODCp5yDfj" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/jarsing/lightning-talk-chatbotbooks-20200822" title="我要奮發向上！聊天機器人有哪些書？" target="_blank">我要奮發向上！聊天機器人有哪些書？</a> </strong> from <strong><a href="https://www.slideshare.net/jarsing" target="_blank">佳新 陳</a></strong> </div>

<p>身為主辦人 &amp; LINE API Expert 幫大家整理目前市面上有的書，雖然資訊迭代速度很快，想想有些時候我們都窩在網路上太久，若能好好地透過書籍溫習一下 Chatbot 知識也很讚喔！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>社群分享永遠是讓創意激盪的最佳方式，而 Chatbots Meetup 是一個很熱情與充滿創造力的社群組織。也希望有更多有創意的開發者願意加入 LINE Chatbot 的開發行列，更希望能熱情的參與社群的活動與一起來分享。</p>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://lin.ee/s5RsZHo">@line_tw_dev</a></p>
<p><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於-「LINE-開發社群計畫」"><a href="#關於-「LINE-開發社群計畫」" class="headerlink" title="關於 「LINE 開發社群計畫」"></a>關於 「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>DevRel</tag>
      </tags>
  </entry>
  <entry>
    <title>如何建立一個跨平台的 Twitch 機器人</title>
    <url>/2020/01/11/corss-platform-twitch-bot/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在去年大約五月的時候寫了一隻 Twitch 的 LINE bot，不過後來似乎 Twitch API 有改版讓機器人壞掉了，最近又有需要一隻機器人幫我查詢，就開始去翻一下 Twitch 官方文件，碰巧逛到這個 <a href="https://dev.twitch.tv/code/">Community Resources page</a>，看到了好多資料在裡面，就索性來重寫囉！</p>
<blockquote>
<p>因為 Twitch package 都是 Typescript，因此本篇的範例都會是 Typescript 哦！</p>
</blockquote>
<p>⭐️ 本專案: <a href="https://github.com/louis70109/Twitch-Bot">Twitch-Bot</a></p>
<h1 id="加好友"><a href="#加好友" class="headerlink" title="加好友"></a>加好友</h1><ul>
<li><p>LINE</p>
<img height="200" border="0" alt="QRcode" src="https://i.imgur.com/kRcEhBN.png">
</li>
<li><p>Messenger</p>
<img height="200" border="0" alt="QRcode" src="https://i.imgur.com/93yxeiy.png"></li>
</ul>
<h1 id="準備"><a href="#準備" class="headerlink" title="準備"></a>準備</h1><ul>
<li>套件<ul>
<li><a href="https://github.com/Yoctol/bottender">bottender</a> 為這次實作跨平台所使用的框架</li>
<li><a href="https://github.com/d-fischer/twitch">Twitch js</a> 中找到了 <a href="https://d-fischer.github.io/twitch/docs/basic-usage/getting-started.html">npm 的套件</a></li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">yarn add twitch</span><br><span class="line"><span class="comment">// or...</span></span><br><span class="line">npm install --save twitch</span><br></pre></td></tr></table></figure>

<ul>
<li>金鑰<ul>
<li><del>申請 <a href="https://dev.twitch.tv/docs/v5#getting-a-client-id">Client ID</a></del></li>
<li>建立 <a href="https://twitchapps.com/tmi/">Access Token</a></li>
</ul>
</li>
</ul>
<p>[2020&#x2F;06&#x2F;08 修正] 申請完後將 <code>oauth:</code> 後的 key 透過官方文件的 <a href="https://dev.twitch.tv/docs/authentication/#validating-requests">Validating requests</a> 指令放入 access token 中取得 Client_id，如下:</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl -H <span class="string">&quot;Authorization: OAuth &lt;access token&gt;&quot;</span> https:<span class="regexp">//i</span>d.twitch.tv<span class="regexp">/oauth2/</span>validate</span><br></pre></td></tr></table></figure>

<p>本專案的 <code>TWITCH_CLIENT_ID</code> 的環境變數就是這個回傳值中的 <code>client_id</code>。</p>
<blockquote>
<p>這部分可能會需要去 twitch <code>設定 -&gt; 連結</code> 去綁定 Oauth 的樣子，再麻煩各位注意一下。</p>
</blockquote>
<ul>
<li><p>平台</p>
<ul>
<li>需要有個 Facebook 粉絲頁</li>
<li>LINE bot</li>
</ul>
</li>
<li><p>資料庫</p>
<ul>
<li>MongoDB: Heroku 上為 <code>mLab</code></li>
</ul>
</li>
</ul>
<h1 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h1><p>Clone 專案下來看 ➡️ <a href="https://github.com/louis70109/Twitch-Bot.git">https://github.com/louis70109/Twitch-Bot.git</a><br>首先把<code>.env.sample</code>改成 <code>.env</code>，並將對應的<code>Messenger</code>、<code>LINE</code>以及<code>Twtich</code> key 放置對應的位置</p>
<ul>
<li>Messenger 申請我是參考 C.T. Lin 的<a href="https://ithelp.ithome.com.tw/articles/10218682">鐵人文章</a></li>
<li>LINE bot 申請參考<a href="https://nijialin.com/2019/09/25/Day11-LINE-%E7%9A%84%E6%9C%8D%E5%8B%99%E9%83%BD%E7%8E%A9%E4%BA%86%EF%BC%8C%E6%80%8E%E9%BA%BC%E8%83%BD%E5%BF%98%E4%BA%86-Message-api-Bot-%E5%91%A2%EF%BC%9F-2-%E7%94%B3%E8%AB%8B%E4%B8%80%E6%AD%A5%E6%AD%A5/">我的文章</a></li>
</ul>
<h2 id="跨平台"><a href="#跨平台" class="headerlink" title="跨平台"></a>跨平台</h2><p>跨平台含本地總共會有三個:</p>
<ul>
<li>Console (本地端)</li>
<li>Messenger (線上)</li>
<li>LINE (線上)</li>
</ul>
<p>Console 是 bottender 的特色之一，可以在終端機上直接測試 Bot 的行為，會先用此模式先測試路由的回覆是否正常。</p>
<p>接著要讓同樣的 Action 可以導到 Messenger 以及 LINE，bottender 提供了可以設計針對特定平台處理 Action，如下:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; platform &#125; <span class="keyword">from</span> <span class="string">&#x27;bottender/router&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">void</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> router([</span><br><span class="line">    platform(<span class="string">&#x27;line&#x27;</span>, LineAction),</span><br><span class="line">    platform(<span class="string">&#x27;messenger&#x27;</span>, MessengerAction),</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>透過<code>platform</code>來把特定平台的訊息到打對應的 Action (如 <code>LineAction</code>、<code>MessengerAction</code>)，在傳遞 Action 過程中會有一個 <code>context</code> 的變數，裡頭會有底層幫忙整理好的參數:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ConsoleContext &#123;</span><br><span class="line">  ...</span><br><span class="line">  _session: &#123;</span><br><span class="line">    _id: 5e08a45c719a1335aeae39bc,</span><br><span class="line">    id: <span class="string">&#x27;console:1&#x27;</span>,</span><br><span class="line">    _state: &#123;&#125;,</span><br><span class="line">    lastActivity: 1578743328620,</span><br><span class="line">    platform: <span class="string">&#x27;console&#x27;</span>,</span><br><span class="line">    user: &#123; id: <span class="string">&#x27;1&#x27;</span>, name: <span class="string">&#x27;you&#x27;</span>, _updatedAt: <span class="string">&#x27;2019-12-29T13:04:25.633Z&#x27;</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>_session</code> 裡有個 <code>platform</code> 的參數，只要判斷這參數就能知道訊息是來自哪個平台，而<code>user</code>則是被正規化完後的使用者資訊 (這兩個參數為目前為止我最常用的參數)</p>
<h2 id="遇到的問題"><a href="#遇到的問題" class="headerlink" title="遇到的問題"></a>遇到的問題</h2><p>由於長期使用 LINE flex message 的 button template (<a href="https://github.com/louis70109/Twitch-Bot/blob/master/src/view/line/games.ts#L56">參考</a>)，這按鈕事件可以設定按鈕上的文字並設定按下去回覆的字串。</p>
<p>而 Messenger 的按鈕就跟人家不一樣了(<a href="https://github.com/louis70109/Twitch-Bot/blob/master/src/view/messenger/games.ts#L22">參考</a>)！他沒有 LINE 的這個事件，差不多的事件只有 <code>postback</code>，在路由上就得特別處理這個事件，為了讓跨平台所使用的內容要統一，在訊息進 router 時就要處理掉:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; messenger &#125; <span class="keyword">from</span> <span class="string">&#x27;bottender/router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; withProps &#125; <span class="keyword">from</span> <span class="string">&#x27;bottender&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">LineAction</span>(<span class="params">context</span>): <span class="title">Promise</span>&lt;<span class="title">void</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> router([</span><br><span class="line">    ...</span><br><span class="line">    text(<span class="regexp">/^[f|F]ind\s*(?&lt;topic&gt;.*)$/</span>, searchGame)</span><br><span class="line">    ...</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">MessengerAction</span>(<span class="params">context</span>): <span class="title">Promise</span>&lt;<span class="title">void</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> payload = context.event?.postback?.payload;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> router([</span><br><span class="line">    ...</span><br><span class="line">    messenger.postback(</span><br><span class="line">      withProps(searchGame, &#123; <span class="attr">match</span>: &#123; <span class="attr">groups</span>: &#123; <span class="attr">topic</span>: payload &#125; &#125; &#125;)</span><br><span class="line">    )</span><br><span class="line">    ...</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這邊找到 <a href="https://bottender.js.org/docs/channel-messenger-routing">bottender 官方文件</a>中函式專門在處理 Messenger 的 postback 事件，並搭配<code>withProps</code>來幫忙把參數 postback 收到的參數傳進對應 Action。</p>
<p>為什麼會要把傳入的參數設定成巢狀 object -&gt; <code>&#123; match: &#123; groups: &#123; topic: payload &#125;&#125;&#125;</code>，因為在設計初期本是希望進來的內容都是從<code>text</code>傳進來，意指都是透過使用者打字進來，那 bottender 都會透過傳 match 參數進來(<a href="https://github.com/louis70109/Twitch-Bot/blob/master/src/controller/twitches/searchGame.ts#L7">參考</a>)，而解析完 Messenger 的 postback 時也得需要符合這樣的格式，因此就這樣設計，當然如果有更好的設計歡迎送 PR 🎉。</p>
<h1 id="Chatbot-MVC"><a href="#Chatbot-MVC" class="headerlink" title="Chatbot MVC"></a>Chatbot MVC</h1><h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a><a href="https://github.com/louis70109/Twitch-Bot/blob/master/src/model">Model</a></h2><ul>
<li><code>Twitch</code>: 這裡我設定 userId 為 unique，針對每個平台有自己的 id，每個平台都可以綁定 twitch 帳號，進而去做相關操作。</li>
<li><code>Game</code>: 因為 Twitch 套件這部分是<code>read only</code>，因此我就在建立一個一樣的 model 來處理。</li>
</ul>
<blockquote>
<p>Twich id 是全開放的，只要知道其他使用者的 id 就可以查詢某些功能(<a href="https://dev.twitch.tv/docs/v5">參考</a>)，這邊我就使用查詢<code>追隨</code>的功能。</p>
</blockquote>
<h2 id="View"><a href="#View" class="headerlink" title="View"></a><a href="https://github.com/louis70109/Twitch-Bot/tree/master/src/view">View</a></h2><p>這裡設計上只要屬於送出訊息相關的樣板(<code>Flex</code>、<code>Genetic</code>、<code>Text</code>)接放在此。</p>
<ul>
<li>common: <code>作者資訊(author)</code> 以及 <code>幫助我(help)</code> 的相關</li>
<li>LINE: Flex message 相關樣板</li>
<li>messenger: Genetic template 相關樣板</li>
</ul>
<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a><a href="https://github.com/louis70109/Twitch-Bot/tree/master/src/controller">Controller</a></h2><p>在呼叫 twitch api 出來的資料有時候會大於 LINE 以及 Messenger 的樣板限制，因此所有計算服務都會放在這邊，剛好就搭上 Controller 的對應功能。</p>
<ul>
<li>common: 負責將 controller 處理完的內容送至 <code>View</code></li>
<li>twitch: 處理<code>最多人看得遊戲</code>以及<code>搜尋指定遊戲</code></li>
<li>user: 處理<code>綁定</code>以及<code>查詢追隨</code></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>基本上做到這如果之後要擴增<code>Telegram</code>或是<code>Slack</code>都可以很快速擴充，只要把相對只要把相對的 Action 加在 <code>App.ts</code> 就行了。</p>
<p>藉由這次也學到跨平台的機器人真的不好做，每家廠牌的行為都不一樣，所幸 bottender 已經處理大部分平台間的問題，接著我們只需要將欲輸出的內容處理好對應框架所提供的功能去回傳給使用者，讓整體的開發可以更專注在開發功能上並更有彈性。</p>
<p>歡迎各位幫我按個星星 ⭐️➡️ <a href="https://github.com/louis70109/Twitch-Bot">https://github.com/louis70109/Twitch-Bot</a><br>也一起支持開源專案 <code>bottender</code>⭐️➡️ <a href="https://github.com/Yoctol/bottender">https://github.com/Yoctol/bottender</a></p>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>Chatbot</tag>
        <tag>bottender</tag>
      </tags>
  </entry>
  <entry>
    <title>【COSCUP throwback】Keynote | 參與開源</title>
    <url>/2021/10/24/coscup-2021-day1-keynote/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/coscup/keynote/4.png"></p>
<h1 id="什麼是-COSCUP"><a href="#什麼是-COSCUP" class="headerlink" title="什麼是 COSCUP?"></a>什麼是 COSCUP?</h1><p><a href="https://coscup.org/2021/zh-TW/">COSCUP</a> 是亞洲最大的開源會議之一，自 2006 年開始由開源社群舉行的年度會議，也是台灣自由開源軟體運動 (FOSSM) 的主要倡導者。COSCUP 包含演講、贊助商、社群攤位，以及 BoF 社群同樂會等，COSCUP 的宗旨在於提供一個聯結開放原始碼開發者、使用者與推廣者的平台。</p>
<blockquote>
<p>可惜今年因為疫情關係改為線上，但也不減大家參與 COSCUP 的熱情！</p>
</blockquote>
<span id="more"></span>

<script async class="speakerdeck-embed" data-slide="3" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>參與社群活動一直是我很喜歡做的事情之一，從演講中分享自己這段日子學習的經驗、攤位上與每位社群朋友交流意見、甚至到坐下來一起研究某段<strong>程式碼&#x2F;專案</strong>的可行性，而若能在 COSCUP 中分享任何主題對我來說都是一個非常棒的肯定，因此除了在攤位與大家分享外，我也踴躍於 COSCUP 中投稿(2019, 2020)，今年也很榮幸可以代表 LINE 講一場 Keynote！</p>
<h1 id="Open-Up-with-LINE-From-Beginning-TO-THE-NEXT"><a href="#Open-Up-with-LINE-From-Beginning-TO-THE-NEXT" class="headerlink" title="Open Up with LINE - From Beginning TO THE NEXT"></a>Open Up with LINE - From Beginning TO THE NEXT</h1><iframe width="560" height="315" src="https://www.youtube.com/embed/iaFAOS6XS00?start=37" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<blockquote>
<p>歡迎大家收看影片，頻道中也有許多很棒的分享喔！</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="5" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>今年是 LINE 的十週年，很高興可以在 COSCUP 上與大家一起分享這個喜悅，對於 LINE 來說，過去的十年只是一個開始，10 週年概念口號 “To The Next“ 表達了 LINE 將繼續傾聽用戶的聲音，並在未來 10 年繼續創造更好服務的理念。</p>
<p>在十週年的今天若你也對於 LINE 的工程團隊、抑或是 LINER 在 COSCUP 上分享內容有興趣，歡迎參考以下回放文章，當中都有許多很精彩的分享！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-empower-your-kubernetes-with-service-mesh-distributed-tracing/">COSCUP 2021 議程分享：Empower Your Kubernetes with Service Mesh + Distributed Tracing</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-chatbot-in-kubernetes-session/">使用 Kubernetes 打造具有會員註冊、身份驗證的多功能聊天機器人</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-throwback-verda-liff/">【COSCUP throwback】日本團隊分享 | Verda, LIFF</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-line-fukuoka/">【COSCUP Throwback】LINE Fukuoka 團隊分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-line-thailand-developer-relations/">【COSCUP Throwback】LINE Thailand Developer Relations 議程分享</a></li>
</ul>
<h2 id="支持開源專案"><a href="#支持開源專案" class="headerlink" title="支持開源專案"></a>支持開源專案</h2><script async class="speakerdeck-embed" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>或許大家很常用也熟知 LINE Chatbot、LINE Login、LIFF 等等的技術與服務，在提供服務之虞 LINE 也花了很多心力建置了許多開源專案，希望藉由分享我們的使用情境、經驗、開源貢獻來幫助每位開發者，在開發的路上能夠更高效、更有彈性的去創造許多創意的產品，以下列幾個讓大家稍微瞭解一下：</p>
<blockquote>
<p>Open Source 的程式碼以及任何內容，都是經由內部縝密的各項審查才可以對外開放，因此大家在使用上不太需要擔心喔～</p>
</blockquote>
<h3 id="line-x2F-armeria"><a href="#line-x2F-armeria" class="headerlink" title="line&#x2F;armeria"></a><a href="https://github.com/line/armeria">line&#x2F;armeria</a></h3><p>Armeria 是個讓 Java 開發者能夠使用的微服務框架，在現在容器化這麼盛行，開發上會因應許多技術需要開發，如 gRPC、Spring Boot、Kotlin 一條龍開發等等，都可以透過 Armeria 更輕易使用到許多的技術。像是 http&#x2F;2、日誌記錄、監控、追蹤也都有提供，並且有 async 架構提供出色的性能跟高併發能力</p>
<ul>
<li>範例專案：<a href="https://github.com/line/armeria-examples">https://github.com/line/armeria-examples</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="9" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>另一方面，在 2020 年也正式釋出 <strong>1.0 的版本</strong>，1.0 對於大型開源專案來說都是個里程碑，意味著開源專案是能夠 Production。此外還有一個重點，就是有超多 Contributor 第一次貢獻 Pull Request 就是給 Armeria 啦，當然送 Pull Request 除了<strong>新刪修</strong>程式之外，大家也可以從修改文件、增加範例程式開始著手，此舉也可以讓你更快速地學習如何貢獻開源專案喔！</p>
<blockquote>
<p>更多開源專案細節可以參考此篇文章 <a href="https://engineering.linecorp.com/zh-hant/blog/gdsc-opensource/">LINE 開發社群計畫: 「手把手教你建立自己的開源專案」</a></p>
</blockquote>
<h3 id="Central-Dogma"><a href="#Central-Dogma" class="headerlink" title="Central Dogma"></a><a href="https://github.com/line/centraldogma">Central Dogma</a></h3><p>隨著 CI&#x2F;CD 越來越盛行，集中式管理 Config 也越來越重要，透過 Git 來做版本管理也就成為趨勢之一，查過往修改的內容、透過 Pull Request 管理、全縣管例、<a href="https://line.github.io/centraldogma/mirroring.html">Git-to-CD</a> 等等都是透過 Git 管理很重要的一環，雖然原生是透過 Java 撰寫，當然也還有其他版本的 SDK 提供給大家使用，如果大家對於 GitOps 相關實作有興趣可以使用看看。</p>
<ul>
<li><a href="https://github.com/line/centraldogma">Java</a></li>
<li><a href="https://github.com/line/centraldogma-go">Golang</a></li>
<li><a href="https://github.com/line/centraldogma-rs">Rust</a></li>
</ul>
<h2 id="一起參與開源"><a href="#一起參與開源" class="headerlink" title="一起參與開源"></a>一起參與開源</h2><h3 id="1-動手寫作比較有印象"><a href="#1-動手寫作比較有印象" class="headerlink" title="1. 動手寫作比較有印象"></a>1. 動手寫作比較有印象</h3><script async class="speakerdeck-embed" data-slide="21" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>上述提到這麼多開源專案相關的內容，或許大家有疑問，一定要送程式碼才是參與開源嗎？當然有，就是把你所學的內容透過文章&#x2F;部落格的方式記錄下來，可以是短短的一篇解決某個問題(如上圖)，也可以是一整篇來解釋緣由，並分享到社群上讓更多人知道，可能你現在紀錄的問題，也正好是其他人正在卡關的問題，如果能透過分享的方式幫助到別人，是否也覺得很棒呢？</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/open-policy-agent-authz-in-microservice/">Open Policy Agent – 快速導入 Authz 至 Microservice 架構</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/icassp-2021/">ICASSP 2021 會議心得</a></li>
</ul>
<h3 id="2-開口講印象更深"><a href="#2-開口講印象更深" class="headerlink" title="2. 開口講印象更深"></a>2. 開口講印象更深</h3><script async class="speakerdeck-embed" data-slide="23" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>另一方面，時常我們在公司內部的活動中也都鼓勵每位開發者出外至社群分享自己的經驗&#x2F;心得，透過分享，驗證自己在技術領域上的理解是否正確，雖然上台講看起來是分享給觀眾們相關技術，但實際上學最多的一定是講者，從<strong>事前準備&#x2F;前一天趕 Demo&#x2F;整理資料&#x2F;開口分享</strong>，一切都是會幫助思緒整理，讓自己更能掌握技術本身的脈絡。</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/qa-interview-2021/">【訪談】QA 工作老實說</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-empower-your-kubernetes-with-service-mesh-distributed-tracing/">COSCUP 2021 議程分享：Empower Your Kubernetes with Service Mesh + Distributed Tracing</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-chatbot-in-kubernetes-session/">使用 Kubernetes 打造具有會員註冊、身份驗證的多功能聊天機器人</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/opentelemetry-chaos-engineering-drive-the-observability-best-practice/">OpenTelemetry 初體驗：實踐 Chaos Engineering 來 Drive the Observability’s best practice</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/lets-play-in-data-park/">LINE 資料工程團隊如何透過專業分工與 MLOps 打造不同服務 | 以 MarTech &amp; NLP 為例</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/20210226-golang-event-driven/">輕鬆「Go」建事件驅動應用 @ Golang Taipei Gathering #55</a></li>
</ul>
<h3 id="還有沒有其他方法？來跨國公司實習"><a href="#還有沒有其他方法？來跨國公司實習" class="headerlink" title="還有沒有其他方法？來跨國公司實習"></a>還有沒有其他方法？來跨國公司實習</h3><script async class="speakerdeck-embed" data-slide="24" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>或許有些同學對自己的要求比較高，覺得自己目前能力需要磨練，或者是覺得文章需要一系列、內容深度要夠等等(準備時間需要較多)，那這邊推薦一個做法 - 「<strong>實習</strong>」，實習過程中除了可以了解企業用的技術趨勢之外，也能透過與 Mentor 互相學習琢磨<strong>軟&#x2F;硬</strong>實力，讓能力能透過實習的時間大幅提升。</p>
<script async class="speakerdeck-embed" data-slide="25" data-id="98f89fa9638e48bfbbeaff2bcd9d9653" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過程中也可以透過 <strong>讀書會&#x2F;工作坊&#x2F;公司公開活動</strong> 爭取機會把自己學習的經驗分享給他人，同步增進自己的實力，因此，若你希望透過類似的方式來嘗試看看，除了期待接下來 TECH FRESH 招募時間外，也可以看看學長姐們的經驗分享喔！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/20210226-golang-event-driven/">輕鬆「Go」建事件驅動應用 @ Golang Taipei Gathering #55</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-dev-day-2020-the-past-and-future-of-machine-learning-research/">LINE Developer Day 2020 – The past and future of machine learning research 議程回顧</a></li>
</ul>
<blockquote>
<p><a href="https://careers.linecorp.com/jobs/83">秋季場正火熱加開中</a>，不想錯過在跨國公司實習機會趕快手刀投下你的履歷，此次期間即日起至 2021.11.12 截止，趕快把握機會～</p>
</blockquote>
<h1 id="團隊介紹"><a href="#團隊介紹" class="headerlink" title="團隊介紹"></a>團隊介紹</h1><h2 id="Frontend-工程團隊"><a href="#Frontend-工程團隊" class="headerlink" title="Frontend 工程團隊"></a>Frontend 工程團隊</h2><p>LINE 裡有許多服務都是使用 Web 相關技術打造而成的，而作為前端的一份子，就是要讓用戶可以在 Client 端與 Web 端使用起來的體驗一致，以下這些服務你使用時是否也覺得跟 APP 差不多呢？</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="824faed02d31456d96d39997915677f9" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>且由於前端產品線很多，許多時候需要打造共用的工具來讓不同服務可以使用共同的元件，把已有成效的解決方案有計畫的打造出來，除了品質統一與避免重造輪子之外，也讓往後新進來的人員能夠有個標準化的內容參閱來維護既有的產品。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="824faed02d31456d96d39997915677f9" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而接下來公司的方向將會漸漸將重心轉換到自然流量上，因此 Frontend 團隊就會更多處理 <strong>SEO</strong> 與 <strong>Web 效能優化</strong> 相關的工作內容，同時也引入 SSR 以及 AMP 來對齊公司的目標。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="824faed02d31456d96d39997915677f9" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然在裡面也會與不同團隊的成員合作，讓產品可以更快速地交付、維護、更安全以外，內部也會透過分享來讓更多團隊了解不同的解決方案的優點。</p>
<p>最後，Frontend 團隊由於成員會持續協助不同專案以及產品的開發，在大家學習到不同的經驗之後也會透過許多的讀書會來分享不同專案間的差異與經驗，藉由交流也讓彼此可以更快速的上手且了解不同專案的屬性。</p>
<p>今年 <a href="https://careers.linecorp.com/jobs/7">Front-end Engineer</a> 正在擴大招募，尋找在前端領域的高手們來一同來打造驚艷的產品於 LINE 生態系中。</p>
<h2 id="LINE-Pay-團隊"><a href="#LINE-Pay-團隊" class="headerlink" title="LINE Pay 團隊"></a>LINE Pay 團隊</h2><script async class="speakerdeck-embed" data-slide="3" data-id="e38aa395c27a4bad99df1fcfd699b6e3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了大家平常所使用且熟悉的支付服務以外，其實日常也需要處理<strong>金融相關</strong>、<strong>信用卡回饋</strong>等等的專案內容，而從 <a href="https://www.youtube.com/watch?v=K9ZHOdjZyug">TECHPUSE 2020</a> 之後，LINE Pay 陸續提供了 Extra Service 來達到在地化服務，像是 <strong>我的會員卡</strong>、<strong>廣告投放</strong>與透過<strong>LINE Pay 地圖</strong>讓大家知道到底有哪些商家支援 LINE Pay，不用出門就可以知道可去哪邊使用 LINE Point 回饋點數了。</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="e38aa395c27a4bad99df1fcfd699b6e3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在日常處理不同的專案之外，LINE Pay 也含有許多內部 PoC 專案，身為工程師一定會有很多想法想用，想實驗很多新學的東西，透過這些專案去驗證想法的可行性，讓想法有機會進入產品之中。</p>
<p>若認同 LINE Pay 文化，歡迎加入 LINE Pay：</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/76">Front-end Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/75">Server-side Engineer</a></li>
</ul>
<blockquote>
<p>Q: 請問不熟 Java 可以投 LINE Pay backend 嗎? 例如: Python, Go。<br>A: 都歡迎來面試，不過可以多花一點時間準備 JAVA 會比較好。</p>
</blockquote>
<blockquote>
<p>Q: 請問專案開發，包括 planner, dev, security, qa 總共有多少人執行一個專案？<br>A: 實際上人數沒辦法透露，但參與人數會跟專案大小有關。</p>
</blockquote>
<h2 id="LINE-TODAY-團隊"><a href="#LINE-TODAY-團隊" class="headerlink" title="LINE TODAY 團隊"></a>LINE TODAY 團隊</h2><script async class="speakerdeck-embed" data-slide="4" data-id="0e5a937f3ac24af2a3e0c34ddced2ed6" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>作為大家天天會用的主流新聞平台，除了日常提供大家許多新聞相關題材外，其實裡面也含有許多不同的內容，如：<strong>賽事直播</strong>(近期很火紅的 NBA 季後賽也有轉播)、<strong>電影訂票</strong>、<strong>選情專區</strong>、<strong>泰國限定的樂透</strong>、<strong>電影</strong>…等等，擁有這麼多功能都是為了讓用戶可以在 LINE TODAY 中看到大家最新、最值得關注的內容。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="0e5a937f3ac24af2a3e0c34ddced2ed6" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>擁有這麼多功能的平台，同時也是一個跨國的產品，同時也提供給泰國、印尼以及香港，為了服務這麼廣大的用戶，在開發流程上也採取了 Large Scale Scrum 的方式(<a href="https://www.youtube.com/watch?v=mMF_cwGGze0">這部分可參考 TECHPULSE 議程</a>)來管理這麼龐大的團隊，目前也正積極找 <a href="https://careers.linecorp.com/jobs/7">Frontend</a>、<a href="https://careers.linecorp.com/jobs/250">Server-Side</a>、<a href="https://careers.linecorp.com/jobs/18">QA Automation</a>、<a href="https://careers.linecorp.com/jobs/19">QA</a> 的工程師，若您對於更詳細的介紹大家可以參考 Recruitment Day 的影片喔！</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jlevziTzues" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="LINE-電商團隊"><a href="#LINE-電商團隊" class="headerlink" title="LINE 電商團隊"></a>LINE 電商團隊</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/Gf8c4Atkmt0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>電商已成為現代人不可或缺的一部份，在本次的議程中很詳細地透過不同的例子(母親節、送禮優惠…)來解釋在 LINE 電商服務中的不同使用情境，讓大家可以更快速的了解透過 LINE 來購買相關東西時的好處以及可用性。</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="1cfe6d52cca148ff96fc555e41ad1f53" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著再透過大家常見的 LINE Point 點數回饋來解釋從 LINE SHOPPING 導購服務中所延伸的整體架構流程，讓大家了解到為了整體的延展性與維護性需要透過怎樣的設計才能夠達到。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="1cfe6d52cca148ff96fc555e41ad1f53" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在電商這麼大的團隊中也與其他團隊一樣，是透過 Scrum 的方式來管理與交付產品，除了有效管理交付內容之外，也可以讓團隊成員以最有效的方式來完成產品內容。</p>
<p>當然團隊裡不可少的 code review 與內部分享會都會有，透過這些流程讓大家在更了解不同成員的思路之外，也能讓團隊中有更多的交流來有效的促進產品的活力！</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/250">Server-Side Engineer</a></li>
</ul>
<h2 id="QA-工程團隊"><a href="#QA-工程團隊" class="headerlink" title="QA 工程團隊"></a>QA 工程團隊</h2><p><img src="https://nijialin.com/images/2021/coscup/keynote/3.png"></p>
<script async class="speakerdeck-embed" data-slide="8" data-id="a6d4590aa77a47389473cc2b6999db4c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>開場 Richard 帶大家了解 Quality Assurance(QA) 以及 Quality Control(QC) 的差別，很多時候會覺得當產品(服務)要上線前只要讓 QA 測完後就可以上線，而若在上線前的階段才做測試，往往所遇到的問題以及付出的代價都會相對高許多。</p>
<script async class="speakerdeck-embed" data-slide="7" data-id="a6d4590aa77a47389473cc2b6999db4c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在 LINE Taiwan QA 部門這邊為了確保整體服務的品質，會在專案早期就參與計劃定製，與 Developer、Design、Planner..等等不同部門的角色一起討論整個流程，協助訂定不同的 Scenario 讓初期的討論可以更加完整。</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="a6d4590aa77a47389473cc2b6999db4c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在開發階段時，QA 同仁則會開始建立許多不同情境的測試案例，同時也與 developer 討論相關情境與測試自動化的相關問題，讓 QA 的同仁可以有更好的切入點找出問題，同時也透過自動化讓整體作業更加順暢。</p>
<script async class="speakerdeck-embed" data-slide="13" data-id="a6d4590aa77a47389473cc2b6999db4c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>同時 QA 團隊除了建置自動化流程外，也會打造 CI&#x2F;CD 輔助優化整體流程。我們透過自動化讓我們獲得了不少的好處。更多精彩內容也歡迎各位參閱影片內容。</p>
<script async class="speakerdeck-embed" data-slide="16" data-id="a6d4590aa77a47389473cc2b6999db4c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>若您對於優化提升品質與以及自動化工程等等的工作內容有興趣的話歡迎參考以下職缺，目前也正如火如荼地找尋優秀人才！</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/18">QA Automation Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/19">QA Engineer</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在一年一度 COSCUP 的活動與每一位開發者交流都讓讓我們同仁收穫非常多，感受到開源同伴們的熱情參與，如果你也想參與開源專案的開發，不妨參考<a href="https://github.com/line"> LINE GitHub</a> 中的專案，從發送一個增加功能的 Pull Request 開始，抑或是從修改、整理文件內容，我們也都很歡迎你勇敢跨出第一步來一起加入開源行列喔！</p>
<blockquote>
<p>那我們就下次見！</p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>COSCUP 主議程</tag>
        <tag>Open Source</tag>
        <tag>TECH FRESH</tag>
        <tag>實習生</tag>
      </tags>
  </entry>
  <entry>
    <title>【COSCUP Throwback】LINE Fukuoka 團隊分享</title>
    <url>/2021/08/12/coscup-2021-day2-fukuoka/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/coscup/lfk/1.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>相信在螢幕前觀看此篇文章得你一定對 LINE 貼圖小舖不陌生(畢竟都要買貼圖跟朋友”交流”)，因為背後的技術與流量其實是需要非常龐大的架構才支撐的下，本次 COSCUP 的 LINE 攤位上就邀請到福岡的前端與 CSI 團隊來分享相關的內容！</p>
<span id="more"></span>
<iframe width="560" height="315" src="https://www.youtube.com/embed/iq0nSph2ZNk?start=11268" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="前端團隊分享"><a href="#前端團隊分享" class="headerlink" title="前端團隊分享"></a>前端團隊分享</h2><p><img src="https://nijialin.com/images/2021/coscup/lfk/2.png"></p>
<script async class="speakerdeck-embed" data-slide="4" data-id="ed0d168dda894f92831ab078fa6fd106" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>大家在購買貼圖時可能會在 LINE APP 中直接進行，也可能透過網頁的方式去購買，當然兩者的入口不一樣，背後所需要處理的技術內容也就不同。<br>在 Web 的貼圖小舖中，需要了解現在用戶正在使用的平台為何，可能是 PC、手機 app 中的瀏覽器、LINE Web Browser，因為用戶當前所在的購買位置不同，許多內容中都需要很仔細的內部討論並更新，讓用戶不管在電腦或是手機上購買貼圖的體驗都會一致。</p>
<blockquote>
<p>過去講者也有在 JSDC 分享 - <a href="https://engineering.linecorp.com/zh-hant/blog/line-jsdc-2019/#JSDC2019%E6%B4%BB%E5%8B%95%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB(@zh)-%E5%BE%9E%E9%96%8B%E7%99%BCLINE%E9%9A%A8%E4%BD%A0%E5%A1%AB%E8%B2%BC%E5%9C%96%E4%BE%86%E8%AB%87/Tzu-LinHuang">從開發 LINE 隨你填貼圖來談</a></p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="6" data-id="ed0d168dda894f92831ab078fa6fd106" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然會因為公司活動需求需要建立許多的 Campaign 頁面，與活動需求結合並讓活動中的用戶可以有入口能夠使用，畢竟前端與使用者是第一線接觸的地方，在當中也有人詢問：</p>
<blockquote>
<p>Q: 日文排版上會不會有什麼問題呢？<br>A: 漢字與日文有筆畫問題，上頁面時需要再多跟設計確認版型。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="8" data-id="ed0d168dda894f92831ab078fa6fd106" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>最近新出的貼圖訂閱服務，在日本上線時就非常的火紅，而近期也到了台灣以及印尼，若大家還在考慮想要購買哪個貼圖，不妨先訂閱看看來使用貼圖用飽飽～</p>
<ul>
<li>貼圖訂閱介紹：<a href="https://store.line.me/stickers-premium/landing/zh-Hant">https://store.line.me/stickers-premium/landing/zh-Hant</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="11" data-id="ed0d168dda894f92831ab078fa6fd106" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>隨著服務的成長，當然有些過往的程式碼就會需要維護，而在貼圖這部分都是 hybrid app 的方式，同時會有 iOS 與 Android 相關作業系統上的內容需要支援，並且讓使用體驗一致。</p>
<p>當然身為工程師的各位最需要的就是把更多重複性的內容自動化，除了增加大家開發上的效率，也讓往後的維護上可以更加有彈性喔！</p>
<blockquote>
<p>補充：由於需要跟設計師、PM 等等的同仁一起工作，多少還是會用到日文溝通，大家對此工作有興趣也務必準備日文喔！</p>
</blockquote>
<h4 id="Tech-Stacks"><a href="#Tech-Stacks" class="headerlink" title="Tech Stacks"></a>Tech Stacks</h4><ul>
<li>React + Redux</li>
<li>Styled Component</li>
<li>Webpack</li>
<li>Sentry</li>
<li>Drone CI</li>
</ul>
<blockquote>
<p>如果你對福岡前端團隊有興趣，歡迎參考 <a href="https://linefukuoka.co.jp/en/career/list/engineer/2331">Front-end Engineer</a></p>
</blockquote>
<h2 id="CSI-團隊-Communication-Service-Integration"><a href="#CSI-團隊-Communication-Service-Integration" class="headerlink" title="CSI 團隊 (Communication Service Integration)"></a>CSI 團隊 (Communication Service Integration)</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/iq0nSph2ZNk?start=12031" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<script async class="speakerdeck-embed" data-slide="5" data-id="f5d9a47bbef44f418fdfe2ab7d1c9834" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>成員非常多元，當然除了本地的日本人之外，也有許多來自各地的人，大家看上圖就知道多多元了吧！基本上也都是用英文在討論事情，當然會日文也更好啦～(在議程後的討論也有分享不同國家的趣事)。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="f5d9a47bbef44f418fdfe2ab7d1c9834" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>團隊中也負責到各式<strong>貼圖系列</strong>&#x2F;<strong>聊天室樣式</strong>&#x2F;<strong>表情貼</strong>的內容，畢竟大家 LINE 打開後與朋友聊天都會使用到各種貼圖，其背後負責技術的團隊就是他們啦～</p>
<p>其中在此團隊中還會負責到與各地 Family Service 串接的內容，上圖中除了貼圖之外，以台灣用戶來說會看到許多如 LINE 購物、熱點、禮物等等的服務入口，也是由 CSI 團隊透過 Proxy API 整合完之後，再傳輸給 LINE 的本體去渲染出服務的入口。</p>
<script async class="speakerdeck-embed" data-slide="9" data-id="f5d9a47bbef44f418fdfe2ab7d1c9834" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在錢包頁面中近期也持續在增進與與優化內容，需要與許多國家合作打造不同區域的入口，同時也要調整 CMS 的的內部流程，降低開發者介入查詢資料的部分。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="f5d9a47bbef44f418fdfe2ab7d1c9834" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>挑戰的內容在每個正在成長的團隊中都會遇到，但如何面對問題產生時的做法也是時常需要演練的，資源調度也是需要處理的部分，演練遇到問題時所需要克服的障礙(如：成立專職 SRE 來協助團隊演練)，以及升級與維護一些技術服務，減少未來的維護成本。</p>
<p>當然做到跨國&#x2F;服務的團隊在整合上就會有許多需要在整合上就會有許多需要挑戰以及更新的內容，相信在這邊大家不管對於國際觀、程式碼的理解應該都可以更上一層樓。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2021/coscup/resume.png"></p>
<p>最後在攤位的小角落安排履歷健檢的環節，意外的發現大家對於海外工作與相關履歷問題都非常有興趣，詢問度都非常高，甚至 COSCUP 活動都結束了大家都還在討論，重疊的人數都甚至達到 30、40 人左右，非常的踴躍！未來 LINE 的相關活動也歡迎大家前來與我們討論想了解的問題喔！</p>
<blockquote>
<p>若對海外職缺有興趣，歡迎參考此連結：<a href="https://linefukuoka.co.jp/en/career/">https://linefukuoka.co.jp/en/career/</a></p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>COSCUP</tag>
      </tags>
  </entry>
  <entry>
    <title>【COSCUP throwback】日本團隊分享 | Verda, LIFF</title>
    <url>/2021/09/03/coscup-2021-day2-jp/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/coscup-booth.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在 COSCUP 的安排中很幸運可以邀請到國外的同仁來為我們分享在當地工作的內容，本次文章則帶大家了解遺下在日本的團隊(Verda + LIFF)的工作內容，如果想回味當天講者實際分享的內容在稍後也可以看 youtube 影片回味一下喔!(當天也是有許多朋友前來詢問許多與日本工作相關的問題，生活、履歷等等)</p>
<ul>
<li>投影片<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/20210801-line-verda-tuan-dui-jie-shao">LINE Verda</a></li>
<li><a href="https://speakerdeck.com/line_developers_tw/20210801-build-an-mini-app-ecosystem-for-line-developers">Build an mini-app ecosystem for LINE developers</a></li>
</ul>
</li>
</ul>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="Verda-團隊分享"><a href="#Verda-團隊分享" class="headerlink" title="Verda 團隊分享"></a>Verda 團隊分享</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/iq0nSph2ZNk?start=4734" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<hr>
<script async class="speakerdeck-embed" data-slide="3" data-id="4ae92ff6f73b428b92a53f2aca576538" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過去在 2020 COSCUP 中的 Cloud Native 議程中有分享到類似的內容，Verda 是 LINE 的私有雲服務，提供給 LINE 開發者所需要開發的基礎建設，而在經過了一年的時間機器數量又在更多了，也代表著服務一直在成長，需要更多的機器才能支撐的下這麼大量的服務與用戶。</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-coscup-2020/">COSCUP 2020 年會 – LINE 工程團隊的議程分享</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="4" data-id="4ae92ff6f73b428b92a53f2aca576538" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而基礎設施的基底則是使用 OpenStack 作為基礎，且做為團隊的一員必須對雲原生的東西有一定的熟悉度，如 Kubernetes、Prometheus、Grafana、CI&#x2F;CD 流程、網路架構…等等諸多的內容，畢竟要打造一個私有雲的服務，許多的基礎內容要是不熟悉的話也不太好對吧～？</p>
<blockquote>
<p>更多的內容可以參考 Verda 團隊的成員們分享的內容: <a href="https://engineering.linecorp.com/en/blog/verda-platform-team/">【Team &amp; Project】Meet the Team Developing the Verda Platform Using OpenStack and Kubernetes</a></p>
</blockquote>
<p>而作為私有雲的服務，需要提供給內部用戶穩定工具以及介面上的功能給全球的開發者使用，如果你也對於打造國際級企業內的服務並提供給世界各地的用戶使用，歡迎加入我們 Verda 團隊!</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="4ae92ff6f73b428b92a53f2aca576538" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>小編偷偷說，講者當初在畢業前許久就已經拿到 Offer 了(代表團隊願意等)，如果你是學生且想發展長才，歡迎投履歷試試看喔！</p>
</blockquote>
<h2 id="LIFF-團隊"><a href="#LIFF-團隊" class="headerlink" title="LIFF 團隊"></a>LIFF 團隊</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/iq0nSph2ZNk?start=7756" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<hr>
<p>LINE Frontend Framework 是許多 LINE 開發者每天都會碰到的內容，本次也特邀在日本工作的台灣同仁來分享內容，以下簡錄當天的一些內容，更詳細可以參考以上影片喔！</p>
<h2 id="為什麼要有-LIFF-呢"><a href="#為什麼要有-LIFF-呢" class="headerlink" title="為什麼要有 LIFF 呢?"></a>為什麼要有 LIFF 呢?</h2><script async class="speakerdeck-embed" data-slide="5" data-id="f23e18b74ffa4660b5c76d592e6bf346" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE 其實在 APP 中開發 Web 也有相當久的時間，在之前使用的技術上(底層是 Cordova)因為有一些技術上以及安全性的問題，且要引入到 LINE APP 中也是個負擔，因此在許多的規劃以及考量下就決定重新設計推出 LIFF 這套框架，不光是提供給內部使用，同時也可以推廣給所有目前正在使用 LIFF 的你使用!讓大家一起在 LINE 的平台上建立屬於自己的 Web App～</p>
<p>當然最重要的就是要提供用戶簡潔與直觀的 API 設計，也避免與 APP 橋接後所遇到的問題。(也就有現在的支援一般瀏覽器的功能啦~~)</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="f23e18b74ffa4660b5c76d592e6bf346" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>因為 LIFF 是使用 JavaScript 開發的框架，好處是大家在開發後也無須安裝，只要有瀏覽器的地方打開就可以使用(前提是要登入 LINE 帳號)。</p>
<p>而大家在使用 LINE App 聊天時，時常會看到&#x2F;使用許多 LINE 服務，而這些服務有些是 Native、有些則是 Web 形式，也因此為了提供&#x2F;整合更好的使用者介面給大家，讓內部的開發者可以有高度客製化的功能，讓 Family Service 可以使用 LIFF。</p>
<blockquote>
<p>此外，LIFF 一些部分是基於 Login 去實作，因此往往在用戶盡數 LIFF 時即可取得使用者的基本資訊。</p>
</blockquote>
<p>以下有些過往的參考資源提供給大家閱讀:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/meichu-liff-share-target-picker-workshop/">梅竹黑客松賽前企業工作坊 – LIFF shareTargetPicker</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/cypress-liff-unit-test/">讓我們使用 Cypress 開始為 LIFF app 撰寫單元測試</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/start-liff-v2-sharetargetpicker-power/">開啟 LINE LIFF v2 的無限潛力 — liff.shareTargetPicker</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/how-to-use-liff-in-vue3/">在 Vue3 中引入 LIFF 的 ShareTargetPicker 分享 FlexMessage 訊息給 LINE 好友</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/new-liff-url-infomation/">您需要了解有關新 LIFF URL 的所有資訊</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="8" data-id="f23e18b74ffa4660b5c76d592e6bf346" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當中有提到為了讓開發者可以在任何地方開發 LIFF(不管在 <strong>LINE APP</strong> 或是<strong>外部瀏覽器</strong>上)，就會遇到許多瀏覽器上的挑戰，雖然瀏覽器大多都是以 Webkit 方式實作，但實際上還是會有些許的差異需要去做調整，因此就需要花許多時間去處理相對應的問題</p>
<blockquote>
<p>在這過程中也能對各種的底層更加了解，是個非常棒的經驗!</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="9" data-id="f23e18b74ffa4660b5c76d592e6bf346" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>為了讓 LIFF 開發者的開發體驗(Developer Experience)更棒，也引入了 TypeScript 讓大家可以在開發時更快的使用到 LIFF 相關的 API Snippet、Hint 等等(當然還有開發上的靜態型別檢查的優點)，當然為了減少套件依賴的問題，開發上盡可能以 PureJS 來開發，降低 SDK 的 Bundle Size，當然如一些單元測試、CI、分析工具等也都是有在使用</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="f23e18b74ffa4660b5c76d592e6bf346" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>因為 LINE 非常注重資安問題，用戶在許多地方使用上都會需要同意很多的使用者條款，單然有些時候可能會影響到用戶的使用體驗導致不想使用等等，因此就有提議要降低 bounce rate 的作法(目前還在計畫中)，目標就是要讓用戶可以使用者體驗更棒，讓有需要的地方去執行即可，也是在遵守 Policy 的狀態下執行內容</p>
<script async class="speakerdeck-embed" data-slide="12" data-id="f23e18b74ffa4660b5c76d592e6bf346" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當中講者也是屬於早期 LIFF 的開發者，了解一些痛點上的內容，未來當然也希望改善開發者體驗上的內容</p>
<ul>
<li>提升維護姓</li>
<li>改善測試的架構，讓 QA 可以更好的測試方式去測試</li>
<li>目前是一個專屬團隊在開發，當然也希望提供更好的架構讓想貢獻的開發者可以盡一分心力到 LIFF SDK 上，讓不同團隊可以開發出更多屬於自己的 Plugin 等等的內容。</li>
<li>規劃提供 Debug Tool、Playground 等等的工具來幫助普羅大眾的開發者們(好期待阿!!)，而不用真的實際串接 LIFF 才能執行。</li>
</ul>
<p>當然最後如果你希望開發一個網頁框架，它是會在日常再大家手機中執行的內容，歡迎準備好你的履歷投到以下網址喔！</p>
<ul>
<li><a href="https://linecorp.com/ja/career/position/1659">LIFF 職缺</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>海外同仁在 COSCUP 中分享內容到這邊告一段落啦！如果你對在不同國家工作的內容有興趣歡迎參考以下的文章內容，相信對於你的了解上也會更有幫助喔！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-line-fukuoka/">【COSCUP Throwback】LINE Fukuoka 團隊分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/coscup-2021-line-thailand-developer-relations/">【COSCUP Throwback】LINE Thailand Developer Relations 議程分享</a></li>
</ul>
<p>當然這一系列還沒結束呢！正在讀文章的你千萬別錯過接下來更精彩的分享內容，那我們就下回見：）</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
        <tag>Verda</tag>
      </tags>
  </entry>
  <entry>
    <title>【D2R】我的角色目前配點 2021/11</title>
    <url>/2021/11/08/d2r-202111/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>網路上陸續搜到資料，但是有些東西點過就忘記了，因此今天寫一篇短文來記錄一下 ：）</p>
<span id="more"></span>

<h1 id="亞馬遜-主電-副毒-鏢"><a href="#亞馬遜-主電-副毒-鏢" class="headerlink" title="亞馬遜 - 主電 副毒 鏢"></a>亞馬遜 - 主電 副毒 鏢</h1><p>因為目前沒有無限福文組，但又想滿足丟標的慾望，因此參考網路上文章有了以下的點法 (2010 巴哈文章)</p>
<blockquote>
<p>可以滿足丟電標的慾望，同時遇到電擊免疫時還可以丟毒鏢跟怪物繞圈圈</p>
</blockquote>
<p>主要：乳牛、女伯爵、秘法神殿</p>
<p>其他關卡最好有人帶著走，有電毒免疫直接離開</p>
<h2 id="標槍技能"><a href="#標槍技能" class="headerlink" title="標槍技能"></a>標槍技能</h2><blockquote>
<p>等桌電回來補圖片</p>
</blockquote>
<p>閃電之怒 20<br>瘟疫 20<br>毒鏢 20<br>充能一擊 20<br>戳刺 1<br>雷電槍 all in</p>
<h2 id="被動"><a href="#被動" class="headerlink" title="被動"></a>被動</h2><ul>
<li>第一種點法：可全點 1</li>
<li>第二種點法：把被動頁的點數(9)投資在右側，(1)(1)(7)依序點下去</li>
</ul>
<h2 id="裝備"><a href="#裝備" class="headerlink" title="裝備"></a>裝備</h2><ul>
<li>泰坦</li>
<li>精神盾</li>
<li>+2 技能頭(亞馬頭、軍帽)</li>
<li>馬拉萬花筒</li>
<li>烏鴉</li>
<li>吸魔戒指 (路上撿的)</li>
<li>雙吸腰帶 (沒像樣的)</li>
<li>按手裡</li>
<li>鞋子隨意 (之前是地獄闊步、最近隨便撿)</li>
</ul>
<h2 id="能力點"><a href="#能力點" class="headerlink" title="能力點"></a>能力點</h2><p>力量 156 (精神盾)<br>敏捷 109 (裝泰坦)<br>剩下點體</p>
<h2 id="身上"><a href="#身上" class="headerlink" title="身上"></a>身上</h2><p>都是跑速福文</p>
<h1 id="野蠻人-入門款炫風蠻"><a href="#野蠻人-入門款炫風蠻" class="headerlink" title="野蠻人 - 入門款炫風蠻"></a>野蠻人 - 入門款炫風蠻</h1><p>崔凡克、冰凍高原、爆皮、泰魔高地洞穴、女伯爵</p>
<p>天生命很硬，跑圖比較不怕死，不用太依賴小兵</p>
<h2 id="裝備-1"><a href="#裝備-1" class="headerlink" title="裝備"></a>裝備</h2><ul>
<li>不朽全套</li>
<li>烏鴉</li>
<li>其他以吸血為主</li>
</ul>
<h2 id="能力點-1"><a href="#能力點-1" class="headerlink" title="能力點"></a>能力點</h2><p>力量：點到 200 (不朽穿的起來即可)<br>剩下點體</p>
<h2 id="技能"><a href="#技能" class="headerlink" title="技能"></a>技能</h2><p>尋找物品 1<br>戰鬥命令 20<br>戰鬥指揮 1<br>鋼鐵之膚 20<br>釘鎚專精 20<br>炫風斬 20<br>狂嚎 1<br>尋找藥水 1<br>戰鬥技能都 1 (點到可以點炫風)<br>剩下點 大吼</p>
<h2 id="身上-1"><a href="#身上-1" class="headerlink" title="身上"></a>身上</h2><p>一堆準確板子</p>
]]></content>
      <categories>
        <category>遊戲</category>
      </categories>
      <tags>
        <tag>暗黑重製版</tag>
        <tag>D2R</tag>
      </tags>
  </entry>
  <entry>
    <title>【COSCUP Throwback】LINE Thailand Developer Relation 議程分享</title>
    <url>/2021/08/06/coscup-2021-day2-th-devrel/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/coscup/th/0-1.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>開發者關係與技術推廣(Developer Relations)部門除了台灣之外，在韓國、日本、台灣、泰國、印尼皆都有此部門，除了技術品牌經營外，也會安排許多對外技術活動，本次 COSCUP 活動中邀請到泰國的 - Tee、Tan、Bee 來為我們分享在泰國裡所實踐的內容與經驗分享，對於當天的內容有興趣的朋友，除了繼續觀看本文外也可收看當天的錄影檔(英文版本)：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/iq0nSph2ZNk?start=820" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<span id="more"></span>

<p>以下就由我帶各位回味當天的內容吧！</p>
<h1 id="與技術社群共同成長"><a href="#與技術社群共同成長" class="headerlink" title="與技術社群共同成長"></a>與技術社群共同成長</h1><p><img src="https://nijialin.com/images/2021/coscup/th/0-2.png"></p>
<p>在技術領域中，我們很長需要透過交流的方式才有辦法獲取知識，可能會透過搜尋、論壇發問、Podcast、課程等等，但無論你是透過何種方式獲取知識，都是需要透過社群的凝聚才有辦法讓大家持續討論新知並一起進步，透過社群管道也是讓大家在學習的過程中不孤單，都會有人陪伴著一起學習，因此我們也很歡迎大家一起加入我們的社群平台：</p>
<ul>
<li>LINE Developers Thailand<ul>
<li><a href="https://medium.com/linedevth">Blog</a></li>
<li><a href="https://github.com/linedevth">GitHub</a></li>
</ul>
</li>
<li><a href="https://www.facebook.com/groups/linebot/">LINE 台灣開發者討論區</a></li>
</ul>
<h1 id="多元化活動"><a href="#多元化活動" class="headerlink" title="多元化活動"></a>多元化活動</h1><p><img src="https://nijialin.com/images/2021/coscup/th/0-3.png"></p>
<p>成立社群(團)之後，接下來就會需要讓大家更了解 LINE 平台上要如何透過 LINE API 來實現功能，在泰國當地也舉辦了許多活動讓來自不同專長的開發者能夠了解到開發 LINE API 的成就感，因此就會有以下的活動：</p>
<ul>
<li>workshop(工作坊)：透過一個主題討論並實踐它，讓大家的想法可以在工作坊中被實現出來，也同步為自己開啟一個服務應用的小專案。</li>
<li>Meetup：線上&#x2F;下聚會往往可以讓我們藉由一個主題延伸發想出許多精彩的創意內容，在活動中討論每個場景的應用，往往可以激起更多的發想，。</li>
<li>LINE Hack：把自己所學到的知識透過競賽方式呈現，並將適地化以及更多充滿創意的點子結合進去，讓自己的創意被看見是一件非常棒的事情！如果你是台灣朋友可以參考 <a href="https://tw-fresh.line.me/?utm_source=Facebook-Ads&utm_medium=FRESHFB-Ads&utm_campaign=FRESH2021">LINE FRESH 2021</a> 的相關活動簡章。</li>
</ul>
<p><img src="https://nijialin.com/images/2021/coscup/th/0-7.png"></p>
<ul>
<li>Developer conference(台灣為 TECHPULSE)：技術研討會上總可以追蹤大公司所釋出的最新知識與資訊，在演討會中最棒的除了聽議程之外，就是與攤位上的人互動，藉此了解更多最新的趨勢，同時也因為有大家熱情的參與，我們才能夠一次接著一次的舉辦大型演討會給大家！</li>
</ul>
<p><img src="https://nijialin.com/images/2021/coscup/th/0-4.png"><br><img src="https://nijialin.com/images/2021/coscup/th/0-6.png"></p>
<p>因應疫情的關係，我們都需要尋求不同的方式提供更好的內容給線上的每位開發者，泰國同事透過<strong>線上課程</strong>以及<strong>Code Lab</strong>(<a href="https://codelab.line.me/">https://codelab.line.me</a>) 提供內容給大家，讓剛加入的開發者能以最低的學習曲線去學習 LINE API 的相關使用方法，內容上也都簡潔明瞭，大家不妨進入網站並透過翻譯來試玩看看吧！</p>
<p><img src="https://nijialin.com/images/2021/coscup/th/0-8.JPG"></p>
<p>除了在這邊分享許多 LINE Bot 的案例分享，並且介紹泰國 API Expert 們的貢獻與介紹，讓現場的各位可以與他們一起聊聊</p>
<p><img src="https://nijialin.com/images/2021/coscup/th/0-9.png"></p>
<p>泰國同事的內容也非常多元，現在許多平台也都有內建翻譯軟體，如果你對於泰國的相關資訊有興趣可以追蹤上述的相關資訊。</p>
<h1 id="交流時間"><a href="#交流時間" class="headerlink" title="交流時間"></a>交流時間</h1><p><img src="https://nijialin.com/images/2021/coscup/th/2.jpeg"><br>既然是交流時間，首先就在外面的攤位讓 API Expert 們先輪流自我介紹，讓在場的朋友可以互相認識大神們，並能詢問不同地區的開發上所會遇到的問題討論。</p>
<p><img src="https://nijialin.com/images/2021/coscup/th/3.jpeg"></p>
<p>經過一番討論與自我介紹後，接著就換台灣 API Expert - 卡米哥介紹近期所開發的模擬器，讓開發者可以透過 Ruby 語法開發出複雜的 Flex Message JSON 內容，也讓現場的朋友了解 Ruby 強大的語言特性內容。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>很榮幸可以邀請到 LINE 泰國的同事在台灣最大的開源者年會 COSCUP 分享泰國當地的風氣與相關社群的資訊內容，讓現場的朋友可以收穫滿滿，如果大家在開發上有任何的問題，我們也都很歡迎在社群上與 API Expert 們去踴躍詢問與交流 LINE API 上開發的內容，如果你也想了解更多的內容，歡迎大家前往 <a href="https://www.facebook.com/groups/linebot/">LINE 台灣開發者討論區</a> 討論 LINE API 的開發喔！那我們就下次見啦 ：）</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>COSCUP</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Hexo 樣式的部落格引入 PlantUML</title>
    <url>/2020/06/03/create-plant-uml-in-hexo/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/03/04/16/11/sunset-659012_1280.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我在上一篇的文章 - <a href="https://nijialin.com/2020/06/01/%E5%BE%9E-Http-%E8%AB%8B%E6%B1%82%E5%88%B0%E8%AA%8D%E8%AD%98-OAuth-%E4%BB%A5%E5%8F%8A-OpenID/">從 Http 請求到認識 OAuth 以及 OpenID</a> 中引入了 <code>PlantUML</code>，主要是看了<a href="https://www.evanlin.com/til-vscode-plantuml/">這篇文章後</a>啟發我使用 UML 來畫圖，除了可以動手畫流程讓自己更了解外，也不用到處去找適合的圖並且能讓文章的風格統一。</p>
<p>但若要 Markdown 支援 PlantUML 的話還需要額外安裝套件，這邊就以我部落格的樣式 - Hexo 的 next Theme 來描述實作過程！🙂</p>
<blockquote>
<p>下載位置: <a href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml">VScode PlantUML 套件</a></p>
</blockquote>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>因為是使用 hexo，從<a href="https://hexo.io/plugins/">官網的 Plugins</a> 中找到後決定使用<a href="https://github.com/miao1007/hexo-filter-plantuml">hexo-filter-plantuml</a></p>
<blockquote>
<p>不得不說 <a href="https://hexo.io/plugins/">hexo 官網</a>真的是很多特別又好玩的套件，大家可以上去找找看有沒有適合自己寫作風格的套件喔！</p>
</blockquote>
<h2 id="寫作環境"><a href="#寫作環境" class="headerlink" title="寫作環境"></a>寫作環境</h2><ul>
<li>VScode</li>
<li>MacOS</li>
<li>Hexo 樣板</li>
</ul>
<p>詳細的流程可以參考 Evan 的文章 - <a href="https://www.evanlin.com/til-vscode-plantuml/">[TIL] 在 vscode 上面安裝並且使用 PlantUML</a></p>
<h2 id="實例"><a href="#實例" class="headerlink" title="實例"></a>實例</h2><p>首先一般在編輯器上開發完應該會像這樣:<br><img src="https://i.imgur.com/CEoFn8h.jpg"></p>
<p>想說寫好太棒了 🎉，我要把它放到部落格上，結果就會變成這樣:<br><img src="https://i.imgur.com/LwXokuE.png"></p>
<p>這下可好了這樣是誰看得懂 😤！</p>
<p>此時就使用 npm 來幫忙安裝(hexo 是基於 Node.js 開發的套件):</p>
<figure class="highlight processing"><table><tr><td class="code"><pre><span class="line">npm install --<span class="built_in">save</span> hexo-<span class="built_in">filter</span>-plantuml</span><br></pre></td></tr></table></figure>

<h5 id="避免不能畫其他圖的困擾，這邊也同步安裝"><a href="#避免不能畫其他圖的困擾，這邊也同步安裝" class="headerlink" title="避免不能畫其他圖的困擾，這邊也同步安裝:"></a>避免不能畫其他圖的困擾，這邊也同步安裝:</h5><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>graphviz</span><br></pre></td></tr></table></figure>

<p>接下來因為我們只是輸入<code>標記符號</code>，但輸出是圖片格式，因此要讓 hexo 在網頁載入時先去轉換 base64-encoded 的圖片並下載至文章上。</p>
<p>首先以為的部落格為例(<a href="https://github.com/louis70109/nijia-blog-backup">GitHub</a>)，先進入到<br><code>themes/</code> ➡️ <code>next/</code> 找到 <code>_config.yml</code> 裡的任一行輸入:</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">plantuml:</span></span><br><span class="line"><span class="symbol">  render:</span> <span class="string">&quot;PlantUMLServer&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>若還是不懂可參考<a href="https://github.com/louis70109/nijia-blog-backup/blob/master/themes/next/_config.yml#L139">我的專案</a>寫法。</p>
</blockquote>
<p>以上是一個簡易的設定，要注意到它文件中是獨立的一層，不是在任何的子階層裡面，若想要更多客製化的功能可以參考<a href="https://github.com/miao1007/hexo-filter-plantuml#advanced-configuration">作者文件說明</a>。</p>
<p>最後部署上去後就會看到這樣的結果:</p>
<p><img src="https://i.imgur.com/gzcJJml.png"></p>
<p>如此一來就大功告成囉！之後就可以拿著 UML 到處跟人家炫耀了 😆</p>
<h1 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h1><p>在寫的時候一定要在頓號後面加上<code>puml</code>的標記，這樣 hexo 才看得懂喔！</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="xml">​</span><span class="template-tag">&#123;% <span class="name">plantuml</span> %&#125;</span><span class="xml">@startuml</span></span><br><span class="line"><span class="xml">...省略</span></span><br><span class="line"><span class="xml">@enduml</span></span><br><span class="line"><span class="xml">​</span><span class="template-tag">&#123;% <span class="name">endplantuml</span> %&#125;</span></span><br></pre></td></tr></table></figure>

<p>或是習慣另一種寫法的也可以這樣：</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">plantuml</span> %&#125;</span></span><br><span class="line"><span class="xml">@startuml</span></span><br><span class="line"><span class="xml">...省略</span></span><br><span class="line"><span class="xml">@enduml</span></span><br><span class="line"><span class="template-tag">&#123;% <span class="name">endplantuml</span> %&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="用-Node-卻遇到-Java-的問題？"><a href="#用-Node-卻遇到-Java-的問題？" class="headerlink" title="用 Node 卻遇到 Java 的問題？"></a>用 Node 卻遇到 Java 的問題？</h1><p>若你不是 Java 的開發者，或許也會遇到這樣的問題：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="literal">No</span> <span class="string">Java</span> <span class="string">runtime</span> <span class="string">present,</span> <span class="string">requesting</span> <span class="string">install.</span></span><br></pre></td></tr></table></figure>

<p>因為之前因為需要安裝 <a href="https://github.com/OpenAPITools/openapi-generator">openapi-generator</a> 時有安裝過 Java 相關套件，此時需要至<a href="https://www.oracle.com/java/technologies/">官網抓取</a>並安裝，之後再執行一次就沒問題囉！</p>
<blockquote>
<p>我當時是直接到 oracle 官方直接下載 Java SE，但如果這不還是不行可以嘗試看看<a href="https://java.com/en/download/mac_download.jsp">這個網站</a></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>為什麼我要用<code>標記符號</code>顯示而不是直接<code>輸出圖片</code>呢？</p>
<p>因為我們文章可能在發佈之後或是之後回來看時發現流程有錯誤時可以馬上針對特定內容直接修改，而不用再重新找當時寫的檔案位置-輸出圖片 這樣的順序，總之只要將流程圖畫好並透過<code>程式碼區塊</code>的語法就能將圖片輸出了，這樣對我寫作來說就能夠更順暢一些了！</p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>PlantUML</tag>
        <tag>Hexo</tag>
        <tag>VScode</tag>
      </tags>
  </entry>
  <entry>
    <title>除錯 Python 套件遇到 Command Line 無法使用的問題 | lotify</title>
    <url>/2021/05/14/debug-lotify-with-commanmd-line/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://click.palletsprojects.com/en/8.0.x/_images/click-logo.png" alt="click command"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>近期收到了一個來自 Lotify 的 Pull Request，主要功能是加入 Command Line 的功能，讓用戶在安裝 Lotify 之後即可在終端機上測試，感謝來自熱情的網友幫忙。</p>
<p>原以為 Merge 之後應該要可以用了，於似乎開始安裝要開始使用測試，沒想到遇到了一個錯誤</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ModuleNotFoundError:</span> <span class="literal">No</span> <span class="string">module</span> <span class="string">named</span> <span class="string">&#x27;lotifyCli&#x27;</span></span><br></pre></td></tr></table></figure>

<p>於是就開始的抓蟲之旅。✍️</p>
<span id="more"></span>

<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><ul>
<li>使用套件：<a href="https://github.com/pallets/click">pallets&#x2F;click</a> 現在有一萬多個星星，Open Source 保證。<ul>
<li>稍微比對了寫法，大同小異，應該沒問題。</li>
</ul>
</li>
<li>一開始的 lotify&#x2F;cli.py 檔名叫做 <code>lotifyCli.py</code>，且被放在最外層，通常在 Python 裡 Module not found 都有可能是少了 __init__.py 這類的檔案。</li>
<li>當時在 setup.py 中設定 <code>entry_points</code> 時用了六個【 &#96; 】把整個 dict 包起來，網路上有找到相關做法，但不太符合設定檔樣式，要改回去，<a href="https://python-packaging-zh.readthedocs.io/zh_CN/latest/command-line-scripts.html">參考這邊</a>。</li>
</ul>
<p>從第二點開始想，一般就我看其他的套件，理論上不會任何 code 放在最外層，通常應該會有個資料夾包裝起來，像是 <code>tests/</code>、<code>utils</code>、<code>models/</code>…之類的，因此想法就先搬進去 <code>lotify/</code> 裡面，也剛好有 init.py 的檔案，處理掉 Module 問題。</p>
<p>第三點，將它改成以 dict 的方式撰寫，增加可讀性</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">entry_points=&#123;</span><br><span class="line">    <span class="string">&#x27;console_scripts&#x27;</span>: [<span class="string">&#x27;lotify=lotify.cli:send_message&#x27;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>console_scripts</code> 在 entry_points 裡設定的意思是指讓套件在安裝時可以在 Console 下執行</li>
<li>等號左邊的 lotify：在終端機上的名字</li>
<li>等號右邊：第一個為<strong>資料夾名稱</strong>(lotify)，<code>cli</code> 為<strong>檔案名稱</strong>，冒號(:)後面則是對應的主要執行函式</li>
</ul>
<p>在一切近乎完美的操作(自己講)，重新透過 <code>python setup.py install</code> 的方式安裝，結果遇到了以下的問題！</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/local/bin/lotify&quot;</span>, line <span class="number">33</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    sys.<span class="keyword">exit</span>(load_entry_point(<span class="string">&#x27;lotify==2.3.2&#x27;</span>, <span class="string">&#x27;console_scripts&#x27;</span>, <span class="string">&#x27;lotify&#x27;</span>)())</span><br><span class="line">  File <span class="string">&quot;/usr/local/bin/lotify&quot;</span>, line <span class="number">25</span>, <span class="keyword">in</span> importlib_load_entry_point</span><br><span class="line">    return <span class="keyword">next</span>(matches).load()</span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>

<p>找到了一些 issue 後，看起來可能是一些快取、舊版本資訊互相影響下的問題，此時只要透過:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip uninstall lotify</span><br><span class="line">pip install lotify</span><br></pre></td></tr></table></figure>

<p>重新安裝之後這個問題就會被解決掉囉！就目前而言我這邊測試起來都沒問題了～</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>寫下來整理估計是這兩個問題：</p>
<ul>
<li>可能是沒有 __init__.py 的問題</li>
<li>setup.py 裡的 entry_point 還是要照著官網寫法寫</li>
</ul>
<p>感謝網友熱情幫忙，送了一個 Pull Request 卸下這個套件的一個大石，讓它可以支援 Command line 的方式了，當然接下來也很歡迎大家持續送 PR 給我 ，增加套件的可用性 😊(也歡迎 test case)，如果覺得本篇不錯的話請幫我的 <a href="https://github.com/louis70109/lotify">Lotify</a> 按個星星支持一下吧！</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>LINE</tag>
        <tag>LINE Notify</tag>
        <tag>Command Line</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Vue 3 中使用 Router 的除錯過程紀錄</title>
    <url>/2020/09/10/debug-vue3-router/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因為最近正在把自己在公司用的小工具 - <a href="https://github.com/louis70109/Announcer/releases/tag/v1-ejs">Announcer</a>(Base on Node.js)中的前端抽離出來，而也剛好在前一陣子參加了 Vue.js 社群聚會得知 Vue 3 可以開始試玩，那 side project 當然就是第一個試水溫的地方啦！但可能太久沒用 Vue 來處理前端的事情讓找錯誤中有點綁手綁腳，因此把整合 3 版 Router 中的一些除錯過程記錄下來 👍</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>Init 結束後很直觀的輸入 <code>npm install vue-router</code>，在引入之後就在 <code>src/</code> 下建立 <code>router</code> 資料夾，接續建立 <code>index.js</code> 並加入以下的內容開始使用 Vue3 Router:</p>
<script src="https://gist.github.com/louis70109/4c7ea0635e6f79af5ffb6f4781d87383.js"></script>

<p>因為是使用 Vue3 的緣故所以 Vue Router 會對應 Github 為 <a href="https://github.com/vuejs/vue-next">vue-next</a>，而在安裝結束後接著就 <code>npm run serve</code> 來執行程式，只是當我開啟網頁時終端機卻出現了<a href="https://github.com/vuejs/vue-next/issues/972">這個問題</a>:</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">warning  <span class="keyword">in</span> .<span class="regexp">/node_modules/</span>vue-router<span class="regexp">/dist/</span>vue-router.esm.js</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;export &#x27;markNonReactive&#x27; was not found in &#x27;vue&#x27;</span></span><br></pre></td></tr></table></figure>

<p>然後接著往下找到<a href="https://github.com/vuejs/vue-next/issues/972?fbclid=IwAR0zL3QMDIsf0FhNJJQRmesHkNfTrqaJpqT8P1l2PaoKL2b0kXjGJEe42pw#issuecomment-615149911">這個回答</a>並引導至另一個專案(<code>vue-router-next</code>)的 <a href="https://github.com/vuejs/vue-router-next/commit/7636f556cd654fbdf49b494925628593e8383453">commit log</a> 中，看了當中的 commit 就知道改成這個版本應該沒問題，索性就直接改<code>package.json</code>中 vue-router 版本為 <code>^4.0.0-beta.9</code></p>
<p><img src="https://nijialin.com/images/vue3/issue1.png" alt="vue-router-next-1"></p>
<p>前往 release tag 也看到了 <code>^4.0.0-beta.9</code> 在其中…<br><img src="https://nijialin.com/images/vue3/router-next-tag.png" alt="vue-router-next-2"></p>
<p>但…npm install 的 router 套件對應的專案名稱為 <code>vue-next</code>，因此這樣子根本就不對啊！它是另一個專案耶(吧？)，且最新的 release tag 在寫這篇文章時只到 v3.0.0-rc.10<br><img src="https://nijialin.com/images/vue3/release-tag.png" alt="vue-router-next-release-tag"></p>
<p>最後覺得這樣很奇怪的狀態下只好去 <a href="https://www.npmjs.com/package/vue-router/v/4.0.0-beta.9">npm 官網</a>裡查證一下，結果這邊有將 vue-router-next 的 release tag 放進去，也難怪 npm install 時真的安裝的到東西，只是兩邊不同步真的很困擾 🤣<br><img src="https://nijialin.com/images/vue3/npm-router-tags.png" alt="vue-router-next-release-npm-tag"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>本來以為這樣的開發是常態，但事後詢問了一下得到的結論應該是因為 Vue Router 3.0 還在 beta 階段，因此為了區別另起一個專案來測試新的 code，而一開始之所以沒安裝到 beta 版本原因次因為 cli 會自動抓新的版本，結果抓到 2.x 的版本導致框架與路由間打架 😆，總之記錄下來也讓自己學到一個找解法的方式，以後若有相關問題也有經驗可循～ 🎉</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Javascript</tag>
        <tag>Vue Router</tag>
      </tags>
  </entry>
  <entry>
    <title>如何在 VSCode 中以 Container 方式開發 FastAPI + PostgreSQL</title>
    <url>/2021/05/29/fastapi-dev-in-container-vscode/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>故事是這樣的，前幾天好像有微軟的開發者日(❓)，因此同事在收看完線上影片後分享給我一篇關於在 VSCode 開發 <a href="https://www.youtube.com/watch?v=FvUpjdWnibo">FastAPI+PostgreSQL 的影片</a>，內容主要在講解如何在 VSCode 中以 Container 模式做開發，詳細內容以下會提到。</p>
<p>而因為過往我因為很懶得處理環境問題，因此都快速安裝 Python 後在使用 PyCharm 來協助處理開發問題，在這次看了影片中的使用覺得整體效果非常讚(香 🥰)，以下就來介紹一下如何使用以及範例吧！</p>
<blockquote>
<p>官方範例是用 Poetry 來管理套件，我則習慣使用 PIP + requirements.txt 來管理</p>
</blockquote>
<p>延伸閱讀：</p>
<ul>
<li><a href="https://nijialin.com/2021/05/03/how-to-debug-python-by-pycharm-tw/">如何在 PyCharm 幫 Python 除蟲(Debug)</a><span id="more"></span></li>
</ul>
<h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><ul>
<li>環境孤立化(在容器中)，不會污染本機環境</li>
<li>該有的 VSCode Plugins 都在</li>
<li>不用再找 Container IP，直接 127.0.0.1</li>
<li>Configuration Plugin 都幫你弄好了</li>
<li>本地開發+資料庫(介面)都弄好，很夠用(香)</li>
<li>UI 感覺變直覺了? (以前不太會用 VSCode 寫 Python)</li>
</ul>
<p>可能會遇到的問題:</p>
<ul>
<li>硬碟空間不足(容器一多可能會炸)</li>
<li>有機會需要重開 Container</li>
<li>有些功能還是沒 PyCharm 方便(各有好壞)</li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><blockquote>
<p>本次範例專案： <a href="https://github.com/louis70109/fastapi-vscode-example">fastapi-vscode-example</a></p>
</blockquote>
<p>首先在需要在 VSCode 中安裝兩個套件，Python 以及 Remote-Container，以下是 Remote-Container 的套件截圖(大家應該知道安裝哪個 Python?)</p>
<p><img src="https://nijialin.com/images/2021/fastapi-container/remote0.png" alt="remote container"></p>
<h2 id="範例專案-fastapi-vscode-example-架構"><a href="#範例專案-fastapi-vscode-example-架構" class="headerlink" title="範例專案 fastapi-vscode-example 架構"></a>範例專案 <a href="https://github.com/louis70109/fastapi-vscode-example">fastapi-vscode-example</a> 架構</h2><p>接著 Clone 這次的範例專案 <a href="https://github.com/louis70109/fastapi-vscode-example">fastapi-vscode-example</a>，以下我來跟大家稍微解釋一下資料夾結構：</p>
<ul>
<li><code>.devcontainer/</code>: Remote-Container 使用時所需要的資料夾，下面會有三個檔案 Dockerfile、docker-compose.yml、devcontainer.json，前兩個為容器的設定檔，最後一個則是 Remote-Container 所需要的檔案。</li>
<li><code>.vscode/</code>: 在 VSCode 裡面執行相關操作時幫大家儲存下來的設定檔位置。</li>
<li><code>Container database.session.sql</code>: 在 VSCode 中透過介面來操作資料庫時會初始化跑的檔案。</li>
<li><code>main.py</code>: 主程式要跑的檔案。</li>
<li>其餘檔案則是專案在寫時所分類的資料夾以及 Heroku 設定檔。</li>
</ul>
<h2 id="開始使用-Remote-Container-環境"><a href="#開始使用-Remote-Container-環境" class="headerlink" title="開始使用 Remote Container 環境"></a>開始使用 Remote Container 環境</h2><p>大致了解架構後，接著按下 Command+Shift+p 開啟一個輸入框，並輸入 <code>remote container</code> 後找到 <code>Reopen in Container</code> 的選項，如下圖所示。</p>
<p><img src="https://nijialin.com/images/2021/fastapi-container/remote1.png" alt="remote container1"></p>
<p>接著 VSCode 會開始幫忙在 Docker 中產生容器，需要稍等它 pull 以及建立容器，建立完後可以在裡面開啟終端機看一下(pwd)自己是否真的在容器(Container)裡面。<br><img src="https://nijialin.com/images/2021/fastapi-container/open1.png" alt="open folder"></p>
<p>進來之後就要來啟動專案，按下畫面上執行的按鈕，而這個按鈕則會在 <code>.vscode</code> 中建立 <code>launch.json</code> 來幫忙放相關設定檔，裡頭就是設定要跑的相關指令。<br><img src="https://nijialin.com/images/2021/fastapi-container/lauch1.png" alt="launch"></p>
<p>執行之後會在下方出現終端機來顯示跑起來的訊息，相關 call API 的測試結果當然也都會在這邊。<br><img src="https://nijialin.com/images/2021/fastapi-container/launch2.png" alt="launch2"></p>
<h2 id="Port-Forward"><a href="#Port-Forward" class="headerlink" title="Port Forward"></a>Port Forward</h2><p>執行完後大概果幾秒後，右下角會出現視窗來詢問你說要不要在 <code>瀏覽器上開啟</code> 的彈跳視窗，按下去後 VSCode 就會幫忙把相對應的 Port 全部對外，讓大家可以無痛在本地端(127.0.0.1)直接 call API</p>
<p>解決了：</p>
<ul>
<li>不用找 Docker IP 為了呼叫容器裡的服務</li>
<li>跟在電腦(本地端)開發狀態一樣，而多了不會<code>污染環境</code>的好處</li>
</ul>
<p><img src="https://nijialin.com/images/2021/fastapi-container/port.png" alt="port"></p>
<h2 id="執行與除錯-Debug-模式"><a href="#執行與除錯-Debug-模式" class="headerlink" title="執行與除錯(Debug)模式"></a>執行與除錯(Debug)模式</h2><p>跟許多開發工具一樣，要 Debug 時就在行數的<code>左邊</code>點上<code>紅點</code>，打一次訊息到 API 後就會在想除錯的那行中停下來，左邊訊息欄就會顯示當前相關參數喔。</p>
<blockquote>
<p>下方有兩個顏色，<code>紫色</code>是當前正在的處於的環境(Container)，紅色則是告訴你現在<code>服務啟動</code>了，等關閉終端機時就會變回一般的顏色囉。</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/fastapi-container/debug1.png" alt="debug"></p>
<h2 id="資料庫"><a href="#資料庫" class="headerlink" title="資料庫"></a>資料庫</h2><p>這邊看資料庫解決了筆者開發的一個小痛點，左邊欄支援直接看資料庫，可以快速查詢相關開發的資料是否正確，透過介面上的內容大致可以解決許多開發上會遇到的問題。(當然其他工具(pgadmin)還是有他好用的地方)</p>
<p><img src="https://nijialin.com/images/2021/fastapi-container/sql1.png" alt="sql1"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>像筆者我之前都很習慣在筆電中直接灌爆所有環境需要的東西，想要時直接取用，使用速度也都很及時，到目前比較有經驗之後也很少遇到環境打架問題。</p>
<p>但想起以前有些開發時需要多環境切換測試時就很容易遇到污染的問題，導致本地端看似對的但部署上去都是錯的的問題，因此之後才會逐漸切換成將開發用的工具以 Docker 的方式切開來使用。</p>
<p>藉由這次與各位分享在 VSCode 中以 Container 的方式開發 FastAPI + PostgreSQL 中的經驗，過程中也讓我釐清了許多操作上的內容，希望透過這篇文章能夠讓各位也可以開始嘗試在 Container 裡面開始開發自己的服務，同時也讓自己系統內的環境更加乾淨喔！</p>
<blockquote>
<p>本次範例專案： <a href="https://github.com/louis70109/fastapi-vscode-example">fastapi-vscode-example</a></p>
</blockquote>
<blockquote>
<p>Docker 是 Container 這個技術的解決方案之一，但是 Container 不是 Docker 喔！！</p>
</blockquote>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>VSCode</tag>
        <tag>PostgreSQL</tag>
      </tags>
  </entry>
  <entry>
    <title>深度工作力 - 讀書心得</title>
    <url>/2021/01/27/deep-work-reading/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/deep-work/1.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>一直以來也都看過許多人分享(<a href="https://www.evanlin.com/reading-deep-work/">例如</a>)，這本大概是去年十月多那邊買的，因為適逢 TECHPULSE 而被我冷落的書，因此今天就來還書債。</p>
<p>不管螢幕前的你是為工程師、運動員、或是其他任何職位的工作者，其實都需要大量的專注度才有把法執行好事情(程式、文章、跑戰術…)，那接下來就用些例子來介紹內容。</p>
<span id="more"></span>

<h1 id="網路時代"><a href="#網路時代" class="headerlink" title="網路時代"></a>網路時代</h1><p>本書使用許多的範例介紹，當中許多例子都說明現在因為現代網路的關係，有許多東西可以造成我們的分心(<code>淺薄工作</code>)以致於無法進入書中主要種點 - 「深度工作」，那平常大概我們都被什麼影響著我們呢？</p>
<ul>
<li>Email</li>
<li>在通訊軟體上的對話紀錄</li>
<li>各種 APP 通知</li>
<li>來電</li>
<li>…等等</li>
</ul>
<p>我們日常中都會接收到許多諸如此的訊息(<strong>誘惑</strong>)，書中許多例子都敘述要完全隔絕來確保自己的「<code>深度工作狀態</code>」，雖然如作家都需要一個空間來讓他們發揮靈感，但在日常有太多因素以致於無法隨時進入狀態，這邊我認為最重要的則是「<code>優先權</code>」，將收到的這些訊息內容花個五、十分鐘整理，在一定的時間內完成後休息(可參考<strong>蕃茄鐘</strong>)，再接著下一部份，當然在工作中難免會有些意外事件要處理，但當讀者(包括我)有辦法把能掌握的部分先分類好並排優先權，相信大家都能夠進入「深度狀態」。</p>
<h1 id="儀式-感"><a href="#儀式-感" class="headerlink" title="儀式(感)"></a>儀式(感)</h1><p>有在運動的朋友應該會覺得，每次運動到某個時間點後會忽然進入一種<strong>狀態</strong>，在這狀態中你會覺得做什麼事都會完成目標，這就是<code>深度的狀態</code>(看過動畫就會說這是<code>Zone</code>)。</p>
<p>但這儀式的長度可長可短，如 NBA 球員罰球時都會有特定節奏後才會投藍、早上 OOO 一定要泡杯咖啡才工作…這部分我覺得跟<code>習慣</code>有相當大的關係，讀者們可以看看我之前分享的這篇 - <a href="https://nijialin.com/2021/01/01/An-Easy-Proven-Way-to-Build-Good-Habits-Break-Bad-Ones/">原子習慣 - 閱讀心得</a>。</p>
<h1 id="「世界越淺薄，深度工作的報酬越可觀」"><a href="#「世界越淺薄，深度工作的報酬越可觀」" class="headerlink" title="「世界越淺薄，深度工作的報酬越可觀」"></a>「世界越淺薄，深度工作的報酬越可觀」</h1><p>綜觀下來書中有提到兩點：</p>
<ul>
<li>快速精通專業技術的學習能力</li>
<li>高水準的生產力</li>
</ul>
<p>我認為因為日常<strong>干擾訊號</strong>太多了，且因應網路時代各種學習資源爆炸性的出來，因此要如何讓自身更有價值，就會建立在能否常駐於「<strong>深度狀態</strong>」中，並竟可能的不被中斷，來快速達到上面兩點。</p>
<p>但平常人要怎麼知道自己有沒有辦法進入這個狀態呢？以我來說就是拿起 Switch 開始玩我喜歡的遊戲(神奇寶貝)，一晃眼時間就過去了，當讀者也感覺到這樣的狀態，也代表你也可以很容易進入狀態喔！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>說了這麼多，書中提到一點就是<strong>刻意的持續練習</strong>，建立一個習慣絕對不容易，尤其一開始可能是自身不適應，因此需要安排盡自己生活內，讓自身能快速接受。</p>
<p>以我自身的例子，當初我還沒有進健身房的習慣，但因為工作關係在運動中心附近，在下班時就可以順路過去練完在回家，當這個舉動融入我生活中，我就覺得下班去練一下也無妨，久而久之我就週而復始的進去運動，不管刮風下雨都會去，大家也可以看看有什麼習慣是你想養成，可以試著安排盡自己的一天中喔！</p>
<p>當然一切我認為都是為了有效率，這邊也推薦大家看這篇 - <a href="https://nijialin.com/2021/01/01/An-Easy-Proven-Way-to-Build-Good-Habits-Break-Bad-Ones/">原子習慣 - 閱讀心得</a>(本書我認為許多與原子習慣概念相像)，因為所有的高效、高價值的內容都是需要透<code>習慣</code>、<code>環境</code>、<code>深度狀態</code>來產生，在任何階段都會有需要適應的環境，安排好生活才是上上策喔！</p>
]]></content>
      <categories>
        <category>閱讀</category>
      </categories>
      <tags>
        <tag>習慣</tag>
        <tag>環境</tag>
        <tag>深度狀態</tag>
      </tags>
  </entry>
  <entry>
    <title>初見 FastAPI (From Flask to FastAPI)</title>
    <url>/2021/04/18/first-time-to-see-fastapi/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://camo.githubusercontent.com/86d9ca3437f5034da052cf0fd398299292aab0e4479b58c20f2fc37dd8ccbe05/68747470733a2f2f666173746170692e7469616e676f6c6f2e636f6d2f696d672f6c6f676f2d6d617267696e2f6c6f676f2d7465616c2e706e67"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>雖然現在網路越來越快，每個<strong>同步</strong>(Synchronize)的 request 處理速度都很快，但用<strong>非同步</strong>(Asynchronous)不僅可以同時處理較多 request，也不會被前面那個 request 拖時間導致後面排隊的 request 不用做事，各走各的路，出事自己負責(咦？)，雖然非同步有其他也要探討的問題，但這裡就先不討論這個～</p>
<h1 id="FastAPI-使用起來有什麼感覺呢？"><a href="#FastAPI-使用起來有什麼感覺呢？" class="headerlink" title="FastAPI 使用起來有什麼感覺呢？"></a>FastAPI 使用起來有什麼感覺呢？</h1><ul>
<li>適用於 Python 3.6 (含)以上的版本<ul>
<li>3.6 為目前 line-bot-sdk-python 最多人使用的版本</li>
</ul>
</li>
<li>支援<strong>非同步</strong>，藉由 <a href="https://docs.python.org/3/library/asyncio.html">Asyncio</a></li>
<li>Pydantic 做型別檢查 (超讚)<ul>
<li>效能不錯，可以<a href="https://pydantic-docs.helpmanual.io/benchmarks/">參考這</a></li>
</ul>
</li>
<li>寫起來跟 Flask 很像，無痛上手</li>
<li><strong>Production Ready</strong>，這很重要，若文件上沒這個使用要多注意，隨時可能會翻船？</li>
<li>寫一個 API 自動建一個 Swagger 文件，API 文件一起達成！<ul>
<li>可以使用 OpenAPI generator 來產生套件給其他語言使用者介接</li>
</ul>
</li>
</ul>
<span id="more"></span>

<h1 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> uvicorn</span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">root</span>():</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Hello World!&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    uvicorn.run(<span class="string">&quot;main:app&quot;</span>, host=<span class="string">&quot;0.0.0.0&quot;</span>, port=<span class="number">5000</span>, reload=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>跟 Flask 很像，上述範例看起來改最多的就是把 Flask() 改成 <strong>FastAPI()</strong> 來開 API，非常的快速。</p>
<p>FastAPI 推薦使用 <a href="https://www.uvicorn.org/">Uvicorn</a> 作為跑服務的工具，它支援 <a href="https://asgi.readthedocs.io/en/latest/specs/main.html">ASGI</a>，負責跑非同步相關的 Python 應用程式。</p>
<ul>
<li><a href="https://www.uvicorn.org/">Uvicorn</a> 可支援 HTTP&#x2F;1.1 以及 WebSockets，但 HTTP&#x2F;2.0 <strong>還不支援</strong>。</li>
<li>基於 <a href="https://github.com/encode/starlette">Starlette</a> 實作的框架。</li>
<li>如果你的 Python app 有很大的吞吐量(throughput)，可以搭配 gunicorn 使用。(<a href="https://github.com/encode/starlette#performance">參考 startlette 的 Performance</a>)</li>
</ul>
<blockquote>
<p>WSGI 是單一且同步的介面，不適合有 long-lived connection 的場景，如 long-polling HTTP 或 Websocket。(<a href="https://asgi.readthedocs.io/en/latest/introduction.html#what-s-wrong-with-wsgi">參考</a>)</p>
</blockquote>
<h1 id="引入函式庫"><a href="#引入函式庫" class="headerlink" title="引入函式庫"></a>引入函式庫</h1><p>由於 Python 各個版本的用戶居多 2.7~3.9，因此許多函式庫都還是以同步的方式去寫，才能向下相容，這邊我就使用 <a href="https://github.com/line/line-bot-sdk-python">line-bot-sdk-python</a> 作為本次引入的範例。</p>
<p>因為標題是從 Flask 切到 FastAPI，這邊就使用 LINE 官方的 <a href="https://github.com/line/line-bot-sdk-python/blob/master/examples/flask-echo/app_with_handler.py">Flask 範例</a>。</p>
<p>首先看到第 46 行的部分，一開始要先處理這裡</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/callback&quot;</span>, methods=[<span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">callback</span>():</span></span><br><span class="line">    <span class="comment"># get X-Line-Signature header value</span></span><br><span class="line">    signature = request.headers[<span class="string">&#x27;X-Line-Signature&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># get request body as text</span></span><br><span class="line">    body = request.get_data(as_text=<span class="literal">True</span>)</span><br><span class="line">    app.logger.info(<span class="string">&quot;Request body: &quot;</span> + body)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># handle webhook body</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        handler.handle(body, signature)</span><br><span class="line">    <span class="keyword">except</span> InvalidSignatureError:</span><br><span class="line">        abort(<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;OK&#x27;</span></span><br></pre></td></tr></table></figure>

<p>首先先分析一下需要處理的部分：</p>
<ul>
<li>有個 Header 參數 <strong>X-Line-Signature</strong></li>
<li>透過 POST 取得裡面的資料，它不是 JSON</li>
<li>Handler 處理事件，把他分送到相對應的 Event 中(文字、貼圖、影片…)</li>
</ul>
<p>解答<a href="https://github.com/louis70109/fastapi-line-bot-example/blob/master/routers/webhooks.py">在這邊</a>，但我還是貼一下程式碼來解釋這部分：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@router.post(<span class="params"><span class="string">&quot;/line&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">callback</span>(<span class="params">request: Request, x_line_signature: <span class="built_in">str</span> = Header(<span class="params"><span class="literal">None</span></span>)</span>):</span></span><br><span class="line">    body = <span class="keyword">await</span> request.body()</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        handler.handle(body.decode(<span class="string">&quot;utf-8&quot;</span>), x_line_signature)</span><br><span class="line">    <span class="keyword">except</span> InvalidSignatureError:</span><br><span class="line">        <span class="keyword">raise</span> HTTPException(status_code=<span class="number">400</span>, detail=<span class="string">&quot;chatbot handle body error.&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;OK&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>router 是因為我預期我會有多個 API，因此先劃分資料夾，使用方法<a href="https://fastapi.tiangolo.com/tutorial/bigger-applications/">參考</a></li>
<li>request 的型別則是 FastAPI 接進來時所定義的格式，<strong>x_line_signature</strong> 等於 <strong>X-Line-Signature</strong>，只是因為在 Python 裡的寫法而變成底線式的寫法，後面需用 <code>Header()</code> 的 Class 把它轉成 FastAPI 看得懂的東西</li>
<li>body 接到 LINE Server 資料時裡面的東西是沒有 decode，因此加入 <strong>decode(‘UTF-8’)</strong> 來處理資料</li>
</ul>
<blockquote>
<p>[2021&#x2F;04&#x2F;19 更新] Request 型別 decode 問題</p>
</blockquote>
<p>以下是 Request 型別裡的所呼叫的 function，由於它最後是使用 二進制(Binary)，因此要使用 <code>decode(&#39;UTF-8&#39;)</code> 的方式解回來。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">body</span>(<span class="params">self</span>) -&gt; bytes:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(self, <span class="string">&quot;_body&quot;</span>):</span><br><span class="line">        chunks = []</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">for</span> chunk <span class="keyword">in</span> self.stream():</span><br><span class="line">            chunks.append(chunk)</span><br><span class="line">        self._body = <span class="string">b&quot;&quot;</span>.join(chunks)</span><br><span class="line">    <span class="keyword">return</span> self._body</span><br></pre></td></tr></table></figure>

<p>看完是不是很想也開始著手了呢 🎉，文件通通看起來！</p>
<h2 id="路由-Router"><a href="#路由-Router" class="headerlink" title="路由 Router"></a><a href="(https://fastapi.tiangolo.com/tutorial/bigger-applications/)">路由 Router</a></h2><p>在上面的範例中有提到 router，這邊要提醒各位就是一定要在資料夾中加入 __init__.py 這個空檔案，在 Python 3 後倡導不需要這個東西，我們就很容易忽略這個傢伙！在 FastAPI 這是依靠他去找到對應的檔案，因此一定要先加上它，避免未來踩到雷。</p>
<p>下方為官方的範例改寫，路徑大致如下：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">├── <span class="selector-tag">main</span><span class="selector-class">.py</span></span><br><span class="line">├── <span class="selector-tag">requirements</span><span class="selector-class">.txt</span></span><br><span class="line">├── <span class="selector-tag">routers</span></span><br><span class="line">│   ├── __<span class="selector-tag">init__</span><span class="selector-class">.py</span></span><br><span class="line">│   └── <span class="selector-tag">items</span><span class="selector-class">.py</span></span><br></pre></td></tr></table></figure>

<p>只要在 main.py 裡面使用 <code>app.include_router(items.router)</code> 引入 items.py 的 router 變數即可，下面網址則為 <code>http://DOMAIN/items/campaign</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">router = APIRouter(</span><br><span class="line">    prefix=<span class="string">&quot;/items&quot;</span>,</span><br><span class="line">    tags=[<span class="string">&quot;items&quot;</span>],</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="meta">@router.get(<span class="params"><span class="string">&quot;/campaign&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">read_items</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;HI&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以上是我最近玩 FastAPI 的紀錄，建立了兩個官方範例的 repo，預計接下來再放個有 PostgreSQL 的版本，這樣子未來在開發時就可以比較快速開工了～ 😁</p>
<ul>
<li><a href="https://github.com/louis70109/fastapi-example">fastapi-example</a></li>
<li><a href="https://github.com/louis70109/fastapi-line-bot-example">fastapi-line-bot-example</a></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Flask</tag>
        <tag>FastAPI</tag>
        <tag>Framework</tag>
      </tags>
  </entry>
  <entry>
    <title>First year Taipei life at LINE</title>
    <url>/2021/07/25/first-year-at-line/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/root.JPG"></p>
<h1 id="跳脫舒適圈"><a href="#跳脫舒適圈" class="headerlink" title="跳脫舒適圈"></a>跳脫舒適圈</h1><p>離開住了 27 年的台中(連服役都在台中邊界)，在這裡大家的步伐都非常的急促。而在來之前做了很多功課，與學長同學各種打聽房租、生活什麼的，顧慮了超多東西，但還是不及直接來親身體驗才會懂，房租以打聽來的高&#x2F;低標為界線找房，運氣很好第一間就找到能住的套房，木頭地板、有洗衣機、獨立衛浴(乾濕分離)、小陽台、門鎖是感應式、不潮濕，雖然夏季電費還六塊，但整體下來其實是可接受的，畢竟平日都在公司工作 😆。</p>
<p>抱著忐忑不安的心到了台北後，接下來總要各種採買家具，首當其衝就是去還沒歇業的 IKEA 收購鯊魚。</p>
<p><img src="https://nijialin.com/images/2021/first-year/666965D0-CE92-4D39-A175-8EABE8DD31CB.JPEG"></p>
<span id="more"></span>

<h1 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h1><p><img src="https://nijialin.com/images/2021/first-year/IMG_4149.JPG"></p>
<p>踏進辦公室後，大家都要與自己的 Mate + 熊大合影，這時候的心情是：今天終於到了，你所期待的、努力爭取的、全新的生活來了。怕嗎？很怕自己會不會再次失敗，但既然來了，不管怎樣都不能被甩出去。</p>
<p>早上還在滿滿的 Orientation，下午就去場勘 TECHPULSE 場地了 😆，真的是第一天就開始著手做正事啦～</p>
<p>接下來的幾週就開始一系列的線上 OJT，雖然被滿滿的英文直接轟炸，很多功能會因部門不同有異，但現在回頭看來那個時間真幸福啊(遠目)，而同時也感受到每位準備課程的海外同事眼中的熱情，還可以跟他們舉手問問題，直接跨海聊起來～</p>
<p><img src="https://nijialin.com/images/2021/first-year/IMG_4142.JPG"></p>
<h1 id="球員兼裁判"><a href="#球員兼裁判" class="headerlink" title="球員兼裁判"></a>球員兼裁判</h1><p><img src="https://nijialin.com/images/2021/first-year/IMG_4592.JPG"></p>
<p>因為疫情的關係，大家都不能去日本 On Job Training，因此我們部門就為此規劃了半天讓大家可以在上班時間來了解一下整個 Engineering Office，當然做為新人的我一定是在下面坐著啊！</p>
<blockquote>
<p>更多當時寫的球員兼裁判故事：<a href="https://engineering.linecorp.com/zh-hant/blog/2020-new-employee-traning/">【LINE】新進員工的內部訓練花絮</a></p>
</blockquote>
<p>這個經驗非常特別，在這場活動中雖然每組都是我分的，不過當時我跟每位都不熟，所以不管男生多還女生多我在分組時只能用感應的 😆</p>
<h1 id="聖誕熊大"><a href="#聖誕熊大" class="headerlink" title="聖誕熊大"></a>聖誕熊大</h1><p><img src="https://nijialin.com/images/2021/first-year/FAB43C4F-7B6D-40EF-B56F-4F17911023F5.JPG"></p>
<p>公司裡面有許多活動是由 HR(人資)、PR(公關)、設計同仁 所舉辦的活動，像是感恩節、聖誕節、以及新辦公室搬家的十週年活動，每個活動辦起來都相當的有規模以及非常有指標性，每次的參加都有許多的 LINER 共襄盛舉，有終於有時間與聖誕熊大拍照了！😊</p>
<h1 id="想學什麼，問"><a href="#想學什麼，問" class="headerlink" title="想學什麼，問"></a>想學什麼，問</h1><p>雖然在這邊我的部門是 Developer Relations，但對於前&#x2F;後端、ML、SRE 之類個是技能都還是好奇心十足(還變成 SDK Maintainer)，尤其這裡強者世界多，不管是辦活動或內部讀書會都會有許多很有趣的題目，基本上只要你願意開口詢問，每位同事都很樂意分享所學，因此在這不管你想學什麼，問就對了！</p>
<h1 id="DevDay-2020"><a href="#DevDay-2020" class="headerlink" title="DevDay 2020"></a><a href="https://linedevday.linecorp.com/2020/en">DevDay 2020</a></h1><p><img src="https://nijialin.com/images/2021/first-year/IMG_4495.JPG"></p>
<p>這是我第一次自己要跟日本美美的 DevRel 同事合作，因為台灣入取的講者也不少，因此我就得協助幫忙錄影給團隊後製。最深刻有印象的部分就是他們需要將去認清單中的內容全部都一一確認，在一開始還不熟且溝通能力有限的情況下一一比手畫腳跟日本同事確認是不是這個東西 😆(拿)，正式錄影之後就要讓講者開始錄製影片，這邊講者們也是很給力，每個只要一開始有演練過，每個都是一鏡到底，想到我現在錄影都還需要後製剪接就覺得他們很厲害！</p>
<h1 id="英文能力"><a href="#英文能力" class="headerlink" title="英文能力"></a>英文能力</h1><p>在日常工作中時常有機會與韓國、日本、泰國以及來自各地工程師，時常會透過通訊軟體上用英文與他們溝通，從原本只專注在讀文件的英文，到了有機會與不同文化的同事溝通&#x2F;開會，並且也有機會與學校合作講一個全英文的課程，讓自身的<strong>聽、說、讀</strong> 在這一年間進步非常多，當然只在日常使用鐵定是不夠的，平常還是要讀各種<strong>技術文件</strong>，且在這現在大家都會 youtube ，寫文章的這幾天剛好也看這個頻道 - <a href="https://www.youtube.com/channel/UCV0qA-eDDICsRR9rPcnG7tw">Joma Tech</a> ，當中的英文我覺得很口語化又是技術相關，滿建議大家來聽聽看。</p>
<h1 id="Work-From-Home-during-COVID-19-period"><a href="#Work-From-Home-during-COVID-19-period" class="headerlink" title="Work From Home during COVID-19 period"></a>Work From Home during COVID-19 period</h1><blockquote>
<p>曾經幻想在家工作多麽讚，工作實踐自己調，想休息就休息，時間到再工作，當個有效率的人。</p>
</blockquote>
<p>以上對於像我這種需要頻繁與人交流、溝通的職位來說，WFH 其實是一件還滿痛苦的事情 😭，因為透過文字光要闡述自己的情緒實在是非常難的事，且很容易在一個不小心就讓人家誤會 ❓</p>
<p>但同時也很感恩公司在疫情爆發前就緊急制定所有 WFH 的計畫，讓大家可以在最安全的情況下在家工作，希望接下來可以趕快退溫回到辦公室，舉辦更多實體的活動。</p>
<p><img src="https://nijialin.com/images/2021/first-year/IMG_6938.JPG"></p>
<h1 id="「要做對的事，不要做簡單的事」"><a href="#「要做對的事，不要做簡單的事」" class="headerlink" title="「要做對的事，不要做簡單的事」"></a>「要做對的事，不要做簡單的事」</h1><p>這一年來學到了許多專案管理上的能力，改善了許多以前做事的壞習慣，現在對於許多活動專案的規劃都比較清楚<strong>時程&#x2F;分工</strong>的重要性，接下來有越來越多機會可以負責到專案，把更多的想法繼續注入到每個專案&#x2F;活動中，Keep going！</p>
<p><img src="https://nijialin.com/images/2021/first-year/IMG_6283.JPG"></p>
]]></content>
      <categories>
        <category>日記</category>
      </categories>
  </entry>
  <entry>
    <title>【Flagr】處理部署遇到 fcntl64 not found 的過程</title>
    <url>/2022/08/15/flagr-debug-fcntl64-error/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>睽違三個月左右再度重新部署 Flagr，沒想到在這次部署超級不順利，搞不清楚到底是環境變數沒弄好，還是是 Dockerfile 有問題，遇到 <code>fcntl64 not found</code> 的問題，直到這幾天跟同學 pair programming 進 Bash 時才抓漏成功，以下就跟大家分享一下這次的過程。</p>
<span id="more"></span>

<p>遇到的問題：</p>
<ul>
<li>CloudRun 上也無法使用</li>
<li>Heroku Container 也無法用</li>
<li>但本地端的 docker 可以用(?)</li>
</ul>
<h2 id="Error-log"><a href="#Error-log" class="headerlink" title="Error log"></a>Error log</h2><p>Flagr 遇到的錯誤訊息</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">2022</span>-<span class="number">08</span>-<span class="number">14</span>T<span class="number">16</span>:<span class="number">29</span>:<span class="number">58</span>.<span class="number">545545</span>+<span class="number">00</span>:<span class="number">00</span> heroku[web.<span class="number">1</span>]: Starting process with command `/bin/sh -c ./flagr`</span><br><span class="line"><span class="attribute">2022</span>-<span class="number">08</span>-<span class="number">14</span>T<span class="number">16</span>:<span class="number">29</span>:<span class="number">59</span>.<span class="number">715535</span>+<span class="number">00</span>:<span class="number">00</span> app[web.<span class="number">1</span>]: Error relocating ./flagr: fcntl<span class="number">64</span>: symbol not found</span><br><span class="line"><span class="attribute">2022</span>-<span class="number">08</span>-<span class="number">14</span>T<span class="number">16</span>:<span class="number">29</span>:<span class="number">59</span>.<span class="number">845175</span>+<span class="number">00</span>:<span class="number">00</span> heroku[web.<span class="number">1</span>]: Process exited with status <span class="number">127</span></span><br><span class="line"><span class="attribute">2022</span>-<span class="number">08</span>-<span class="number">14</span>T<span class="number">16</span>:<span class="number">29</span>:<span class="number">59</span>.<span class="number">903391</span>+<span class="number">00</span>:<span class="number">00</span> heroku[web.<span class="number">1</span>]: State changed from starting to crashed</span><br><span class="line"><span class="attribute">2022</span>-<span class="number">08</span>-<span class="number">14</span>T<span class="number">16</span>:<span class="number">29</span>:<span class="number">59</span>.<span class="number">911475</span>+<span class="number">00</span>:<span class="number">00</span> heroku[web.<span class="number">1</span>]: State changed from crashed to starting</span><br><span class="line"><span class="attribute">2022</span>-<span class="number">08</span>-<span class="number">14</span>T<span class="number">16</span>:<span class="number">30</span>:<span class="number">00</span>.<span class="number">925909</span>+<span class="number">00</span>:<span class="number">00</span> heroku[web.<span class="number">1</span>]: Starting process with command `/bin/sh -c ./flagr`</span><br><span class="line"><span class="attribute">2022</span>-<span class="number">08</span>-<span class="number">14</span>T<span class="number">16</span>:<span class="number">30</span>:<span class="number">02</span>.<span class="number">204653</span>+<span class="number">00</span>:<span class="number">00</span> app[web.<span class="number">1</span>]: Error relocating ./flagr: fcntl<span class="number">64</span>: symbol not found</span><br></pre></td></tr></table></figure>

<h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><p>把 <a href="https://github.com/openflagr/flagr/blob/main/Dockerfile#L22">Openflagr Dockerfile</a> 的 3.15 版本改成 <code>alpine-3.14_glibc-2.33</code>。</p>
<p>或是 Dockerfile 中重新安裝低版本的 glibc 即可。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">apk del glibc-bin glibc;</span><br><span class="line">wget -q -O <span class="regexp">/etc/</span>apk<span class="regexp">/keys/</span>sgerrand.rsa.pub https:<span class="regexp">//</span>alpine-pkgs.sgerrand.com<span class="regexp">/sgerrand.rsa.pub; wget https:/</span><span class="regexp">/github.com/</span>sgerrand<span class="regexp">/alpine-pkg-glibc/</span>releases<span class="regexp">/download/</span><span class="number">2.28</span>-r0/glibc-<span class="number">2.28</span>-r0.apk;</span><br><span class="line">apk add glibc-<span class="number">2.28</span>-r0.apk</span><br></pre></td></tr></table></figure>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>因為是透過 Heroku 的 Container Registry 部署 Flagr，但不管怎麼樣還是透過 Heroku-cli 跑 Bash 看看服務內的狀態</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">heroku <span class="keyword">run</span><span class="bash"> bash -a flagr-n3</span></span><br></pre></td></tr></table></figure>

<p>確認檔案是否有被編譯出來，看起來檔案權限也都沒問題，但執行起來錯誤還是一樣</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line">~ $ ls -la flagr</span><br><span class="line">-rwx------    1 u17758   dyno      33141888 Aug 14 14:48 flagr</span><br><span class="line">~ $ ./flagr</span><br><span class="line"><span class="keyword">Error </span>relocating ./flagr: fcntl64: symbol not found</span><br></pre></td></tr></table></figure>

<h2 id="回頭來看-flagr-裡面是否有用到-fcntl"><a href="#回頭來看-flagr-裡面是否有用到-fcntl" class="headerlink" title="回頭來看 flagr 裡面是否有用到 fcntl"></a>回頭來看 flagr 裡面是否有用到 fcntl</h2><p><img src="https://nijialin.com/images/2022/flagr-fcntl/1.png"></p>
<p>看來在 go 檔案使用了許多 fcntl64 來執行 Systemcall，勢必得解決這個套件問題才能繼續往下。</p>
<h2 id="確認-Linux-版本：-Ubuntu"><a href="#確認-Linux-版本：-Ubuntu" class="headerlink" title="確認 Linux 版本： Ubuntu"></a>確認 Linux 版本： Ubuntu</h2><figure class="highlight dns"><table><tr><td class="code"><pre><span class="line">~ $ uname -a</span><br><span class="line">Linux <span class="number">59949d</span>c4-<span class="number">18</span>ce-<span class="number">4</span>fcb-a06c-efe<span class="number">78e2d2a53</span> <span class="number">4</span>.<span class="number">4.0-1104</span>-aws #<span class="number">109</span>-Ubuntu SMP Tue May <span class="number">10 11:27:41</span> UTC <span class="number">2022</span> x86_64 Linux</span><br></pre></td></tr></table></figure>

<h2 id="檢查-glibc-版本相依性"><a href="#檢查-glibc-版本相依性" class="headerlink" title="檢查 glibc 版本相依性"></a>檢查 glibc 版本相依性</h2><p>透過 <code>apk list</code> 來看一下 glibc 是否有被安裝、版本是多少</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~ $ apk list</span><br><span class="line">...</span><br><span class="line">glibc-bin-2.35-r0 x86_64 &#123;glibc&#125; (LGPL) [installed]</span><br></pre></td></tr></table></figure>

<p>但使用 2.35 版跑就是會出現 ，因此找到<a href="https://stackoverflow.com/questions/37818831/is-there-a-best-practice-on-setting-up-glibc-on-docker-alpine-linux-base-image">這篇 Stackoverflow</a>，索性降到 2.28 版本測試看看是否環境是正常的。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">apk del glibc-bin glibc;</span><br><span class="line">wget -q -O <span class="regexp">/etc/</span>apk<span class="regexp">/keys/</span>sgerrand.rsa.pub https:<span class="regexp">//</span>alpine-pkgs.sgerrand.com<span class="regexp">/sgerrand.rsa.pub; wget https:/</span><span class="regexp">/github.com/</span>sgerrand<span class="regexp">/alpine-pkg-glibc/</span>releases<span class="regexp">/download/</span><span class="number">2.28</span>-r0/glibc-<span class="number">2.28</span>-r0.apk;</span><br><span class="line">apk add glibc-<span class="number">2.28</span>-r0.apk</span><br></pre></td></tr></table></figure>

<p>重新安裝過後再重新執行一次 .&#x2F;flagr 看看</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">~ $ ./flagr</span><br><span class="line">INFO[<span class="number">0000</span>] sql<span class="regexp">/go/</span>src<span class="regexp">/github.com/</span>checkr<span class="regexp">/flagr/</span>pkg<span class="regexp">/entity/</span>db.go:<span class="number">59800.045</span>µsCREATE TABLE <span class="string">&quot;flags_tags&quot;</span> (<span class="string">&quot;flag_id&quot;</span> integer,<span class="string">&quot;tag_id&quot;</span> integer, PRIMARY KEY (<span class="string">&quot;flag_id&quot;</span>,<span class="string">&quot;tag_id&quot;</span>))[] <span class="number">0</span></span><br><span class="line">INFO[<span class="number">0000</span>] sql<span class="regexp">/go/</span>src<span class="regexp">/github.com/</span>checkr<span class="regexp">/flagr/</span>pkg<span class="regexp">/entity/</span>db.go:<span class="number">59793.786</span>µsALTER TABLE <span class="string">&quot;flags&quot;</span> ADD <span class="string">&quot;notes&quot;</span> text;[] <span class="number">0</span></span><br><span class="line">INFO[<span class="number">0000</span>] sql<span class="regexp">/go/</span>src<span class="regexp">/github.com/</span>checkr<span class="regexp">/flagr/</span>pkg<span class="regexp">/entity/</span>db.go:<span class="number">592.726833</span>msCREATE TABLE <span class="string">&quot;tags&quot;</span> (<span class="string">&quot;id&quot;</span> integer primary key autoincrement,<span class="string">&quot;created_at&quot;</span> datetime,<span class="string">&quot;updated_at&quot;</span> datetime,<span class="string">&quot;deleted_at&quot;</span> datetime,<span class="string">&quot;value&quot;</span> varchar(<span class="number">64</span>) )[] <span class="number">0</span></span><br><span class="line">INFO[<span class="number">0000</span>] sql<span class="regexp">/go/</span>src<span class="regexp">/github.com/</span>checkr<span class="regexp">/flagr/</span>pkg<span class="regexp">/entity/</span>db.go:<span class="number">592.479293</span>msCREATE INDEX idx_tags_deleted_at ON <span class="string">&quot;tags&quot;</span>(deleted_at) [] <span class="number">0</span></span><br><span class="line">INFO[<span class="number">0000</span>] sql<span class="regexp">/go/</span>src<span class="regexp">/github.com/</span>checkr<span class="regexp">/flagr/</span>pkg<span class="regexp">/entity/</span>db.go:<span class="number">591.216724</span>msCREATE UNIQUE INDEX idx_tag_value ON <span class="string">&quot;tags&quot;</span>(<span class="string">&quot;value&quot;</span>) [] <span class="number">0</span></span><br><span class="line">INFO[<span class="number">0000</span>] Serving flagr at http:<span class="regexp">//</span>[::]:<span class="number">43003</span></span><br><span class="line">^CINFO[<span class="number">0024</span>] Shutting down...</span><br><span class="line">INFO[<span class="number">0024</span>] Stopped serving flagr at http:<span class="regexp">//</span>[::]:<span class="number">43003</span></span><br></pre></td></tr></table></figure>

<p>太…太感動了，終於可以好好執行了…….</p>
<h2 id="Workaround"><a href="#Workaround" class="headerlink" title="Workaround"></a>Workaround</h2><p>因此在這個時候的 workaround 就是先加一行先按裝低版本的 glibc</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">RUN apk add --no-cache curl; apk del glibc-bin glibc; wget -q -O <span class="regexp">/etc/</span>apk<span class="regexp">/keys/</span>sgerrand.rsa.pub https:<span class="regexp">//</span>alpine-pkgs.sgerrand.com<span class="regexp">/sgerrand.rsa.pub; wget https:/</span><span class="regexp">/github.com/</span>sgerrand<span class="regexp">/alpine-pkg-glibc/</span>releases<span class="regexp">/download/</span><span class="number">2.28</span>-r0/glibc-<span class="number">2.28</span>-r0.apk; apk add glibc-<span class="number">2.28</span>-r0.apk</span><br></pre></td></tr></table></figure>

<h2 id="一定是有哪個時候給我偷換！我要找出來"><a href="#一定是有哪個時候給我偷換！我要找出來" class="headerlink" title="一定是有哪個時候給我偷換！我要找出來"></a>一定是有哪個時候給我偷換！我要找出來</h2><p>看著 Git history，看到了<a href="https://github.com/openflagr/flagr/commit/3e5714db1a8e0377284fefe08c81101ca31d2503">三月四號歷史</a>改了跟 glibc 有關的映像檔，既然如此來去 DockerHub 找找足跡，找相依的映像檔 <a href="https://hub.docker.com/r/frolvlad/alpine-glibc/tags">frolvlad&#x2F;alpine-glibc</a>，是不是有偷改。</p>
<p>看到了除了 latest，還有<code>alpine-3.16</code>、<code>glibc-2.35</code> 以及 <code>alpine-3.15_glibc-2.35</code>，後者看起來是還有使用 2.35 版本的 glibc，在上述的 Debug 中他是不能使用的，因此我們就來往下找下一個版本。</p>
<p><img src="https://nijialin.com/images/2022/flagr-fcntl/2.png"></p>
<p>基於不死心的精神找到了下一個 alpine + glibc 版本的<code>alpine-3.14_glibc-2.33</code>，因此修改 Dockerfile 的檔案。</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">FROM</span> frolvlad/alpine-glibc:alpine-<span class="number">3</span>.<span class="number">14</span>_glibc-<span class="number">2</span>.<span class="number">33</span></span><br></pre></td></tr></table></figure>

<p>經過 <code>heroku container:push web</code> + <code>heroku container:release web</code> 後功能又再度正常了，終於可以開始把相關的東西都串上了….</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在這次除蟲過程最後居然是 Dockerfile 中用到的 image 有版本更新，導致這次推上 GCP 跟 Heroku 有問題，可能的原因是 glibc 在新版不需要某個功能，而這個功能是在舊版的 Flagr 被需要的，後續若有朋友有繼續挖下去的下歡迎留言讓我知道～～</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Flagr</tag>
        <tag>fcntl</tag>
        <tag>Heroku</tag>
      </tags>
  </entry>
  <entry>
    <title>【Flagr】Feature Toggle 練習與放在 Heroku 上測試</title>
    <url>/2022/03/04/flagr-testing-feature-toggle/</url>
    <content><![CDATA[<p><img src="https://github.com/checkr/flagr/raw/master/docs/images/logo.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前一陣子在一些討論上聽到聽前輩分享 <a href="https://zh.wikipedia.org/wiki/%E7%89%B9%E6%80%A7%E5%88%87%E6%8D%A2">Feature Toggle</a> 這個做法，想說開發上哪有那麼神奇的事，可以在 Production 上動態調整用戶跟管理者能看到的範圍，因此稍微搜尋了解一下：</p>
<span id="more"></span>

<blockquote>
<p>參考維基：特性切換或稱功能切換，英語：feature toggle、feature switch、feature flag、feature flipper 或 conditional feature 等。它是軟體開發中的一種技術，是替代維護多個原始碼分支（也稱特性分支）的一種方案，這使特性在完成並正式發布前也可以得到測試。特性切換是在執行期間隱藏、啟用或禁用特定功能。例如在開發過程中，開發人員可以啟用功能以進行測試，而其他使用者不會被啟用該功能和受到它的影響。</p>
</blockquote>
<p>聽前輩娓娓道來，Feature Toggle 是 Chunk-based development 的其中一環，整個 DevOps 中的一小部分，有了 Toggle 之後才可以讓<code>持續性交付</code>這件事更容易被達成，並且可以讓大家看到動態調整用戶可視範圍內的東西，真的非常酷。</p>
<p>不過要解釋 Feature Toggle 可能要幾天幾夜過去了，不如就直接實際使用 <a href="https://openflagr.github.io/flagr/#/README">Flagr</a> 這個 Open Source 來試玩看看。</p>
<h1 id="操作介紹"><a href="#操作介紹" class="headerlink" title="操作介紹"></a>操作介紹</h1><blockquote>
<p>官網: <a href="https://openflagr.github.io/flagr/#/README">https://openflagr.github.io/flagr/#/README</a></p>
</blockquote>
<p>執行</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Start the docker container</span></span><br><span class="line">docker pull ghcr.io<span class="regexp">/openflagr/</span>flagr</span><br><span class="line">docker run -it -p <span class="number">18000</span>:<span class="number">18000</span> ghcr.io<span class="regexp">/openflagr/</span>flagr</span><br><span class="line"></span><br><span class="line"><span class="comment"># Open the Flagr UI</span></span><br><span class="line">open http:<span class="regexp">//</span>localhost:<span class="number">18000</span></span><br></pre></td></tr></table></figure>

<p>預設是 sqlite3，</p>
<h2 id="Heroku-上操作-僅供試玩"><a href="#Heroku-上操作-僅供試玩" class="headerlink" title="Heroku 上操作(僅供試玩)"></a>Heroku 上操作(僅供試玩)</h2><p>用 Container 的方式部署到 Heroku 上，可以參考官方的<a href="https://devcenter.heroku.com/articles/container-registry-and-runtime">這篇操作說明</a>。</p>
<ol>
<li>先登入 Heroku 帳號</li>
</ol>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">heroku login</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>登入 Container 服務</li>
</ol>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line">heroku <span class="built_in">container</span>:login</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>把 Flagr 的專案 clone 下來：<a href="https://github.com/openflagr/flagr">https://github.com/openflagr/flagr</a></li>
</ol>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/openflagr/</span>flagr.git</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>接著建立 Heroku 的專案。(如果加上 -a 放上自定義名字的話，後面的指令都需要加上 -a 喔！)</li>
</ol>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">heroku create</span><br><span class="line">Creating salty-fortress-<span class="number">4191</span>... done, stack is heroku-<span class="number">20</span></span><br><span class="line">https:<span class="regexp">//</span>salty-fortress-<span class="number">4191</span>.herokuapp.com<span class="regexp">/ | https:/</span><span class="regexp">/git.heroku.com/</span>salty-fortress-<span class="number">4191</span>.git</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>把剛剛 Clone 的專案推到 Heroku 的 Container Registry:</li>
</ol>
<figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">heroku</span> container:<span class="keyword">push</span> web</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>最後把你剛剛的 Container image 推出:</li>
</ol>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">heroku container:<span class="built_in">release</span> web</span><br></pre></td></tr></table></figure>

<p>在終端機上開啟瀏覽器:</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">heroku <span class="built_in">open</span></span><br></pre></td></tr></table></figure>

<h2 id="把資料放在-Postgres-的-add-on-當中"><a href="#把資料放在-Postgres-的-add-on-當中" class="headerlink" title="把資料放在 Postgres 的 add-on 當中"></a>把資料放在 Postgres 的 add-on 當中</h2><p>建立 Postgres 的 add-on<br><img src="https://nijialin.com/images/2022/flagr/1.png"></p>
<p>會在環境變數上幫忙放上一個預設的參數<br><img src="https://nijialin.com/images/2022/flagr/2.png"></p>
<p>安裝完 add-on 之後，我們來看看本次使用的 Flagr 預設吃的兩個參數：</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">FLAGR_DB_DBCONNECTIONSTR</span></span><br><span class="line"><span class="attribute">FLAGR_DB_DBDRIVER</span></span><br></pre></td></tr></table></figure>

<p>接著參考<a href="https://github.com/checkr/flagr/blob/master/integration_tests/docker-compose.yml">官方的範例</a>把 postgres 的資訊改成 Flagr 想要的格式</p>
<p>Heroku 提供 Postgres 的連接資訊：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">postgres:<span class="regexp">//</span>帳號:密碼@網址:<span class="number">5432</span>/資料庫名稱</span><br></pre></td></tr></table></figure>

<p>參考 Flagr 範例改成的樣子：</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="attribute">host</span>=網址 <span class="attribute">user</span>=帳號 <span class="attribute">password</span>=密碼 <span class="attribute">dbname</span>=資料庫名稱</span><br></pre></td></tr></table></figure>

<p>這部分網址不需要加<code>:5432</code>喔！(切記)</p>
<blockquote>
<p><a href="https://github.com/checkr/flagr/blob/master/integration_tests/docker-compose.yml">官方的範例</a>上用 docker-compose 會把 ssl-mode&#x3D;false，因為這都是在本地端測試，在 Heroku 這邊要把 ssl-mode 移除。</p>
</blockquote>
<h1 id="開始使用-Feature-toggle-建立一個-on-x2F-off"><a href="#開始使用-Feature-toggle-建立一個-on-x2F-off" class="headerlink" title="開始使用 Feature toggle 建立一個 on&#x2F;off"></a>開始使用 Feature toggle 建立一個 on&#x2F;off</h1><ol>
<li><p>建立 flag<br><img src="https://nijialin.com/images/2022/flagr/f1.png"></p>
</li>
<li><p>Enable 這次建立的 Flag，並且建立一個 on 的 Variant(同樣步驟再建立一個 off)</p>
</li>
</ol>
<p><img src="https://nijialin.com/images/2022/flagr/f2.png"></p>
<ol start="3">
<li>建立完 on&#x2F;off Variant 之後，接著就要來建立 <code>Segment</code>，幫 on&#x2F;off 設定條件達成。因為是做開關，因此 Rollout 要設定 100%。</li>
</ol>
<p><img src="https://nijialin.com/images/2022/flagr/f3.png"></p>
<ol start="4">
<li>接著可以開始設定參數來決定觸發條件</li>
</ol>
<ul>
<li>字串需要加上雙引號 <code>&quot;xxx&quot;</code></li>
<li>如果是陣列: [“xxx”, “ooo”]</li>
<li>其他以此類推，有許多運算式可以使用，大於、小於、IN、NOT IN…</li>
</ul>
<p><img src="https://nijialin.com/images/2022/flagr/f3.png"></p>
<ol start="5">
<li>接著可以往下到 <code>Debug Console</code> 來試試剛剛使用的參數在 API 中是不是正常。把剛剛 <code>Segment</code> 中設定的條件放入 <code>entityContext</code> 的 dictionary 中。</li>
</ol>
<p>在 Debug Console 中按下 <code>POST /api/v1/evaluation</code> 按鈕後如果成功會看到以下訊息</p>
<figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;evalDebugLog&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;segmentDebugLogs&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;matched all constraints. rollout yes. &#123;BucketNum:201 DistributionArray:&#123;VariantIDs:[1] PercentsAccumulated:[1000]&#125; VariantID:1 RolloutPercent:100&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;segmentID&quot;</span>: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="string">&quot;variantID&quot;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="string">&quot;variantKey&quot;</span>: <span class="string">&quot;on&quot;</span></span><br></pre></td></tr></table></figure>

<p>同時也會觸發剛剛設定的 Variant <code>on</code> 的 key，測試成功之後就可以開始介接 Flagr 啦，讓你的程式可以更有彈性的使用 feature toggle 囉！</p>
<ol start="6">
<li><a href="https://openflagr.github.io/flagr/#/flagr_use_cases">官方文件</a>也很好的提供類似的範例演練程式，讓開發者可以使用類似的寫法到自己的應用程式中。</li>
</ol>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">evaluation_result = flagr.post_evaluation( entity )</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (evaluation_result.variant_id == new_feature_on) &#123;</span><br><span class="line">    <span class="regexp">//</span> <span class="keyword">do</span> something new and amazing here.</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="regexp">//</span> <span class="keyword">do</span> the current boring stuff.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a href="https://openflagr.github.io/flagr/#/flagr_use_cases">Use Case 參考</a>，有開關、A&#x2F;B test 範例</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>官方也有建議 Flagr 盡量在 k8s 當中，放在裡面或是一些內部網路中才可以確保 Flagr 不會被其他用戶呼叫到 API，因此上述使用 Heroku 範例<code>僅供參考測試使用</code>，如果真的需要上線使用，還是需要把 Flagr 好好的關在內部網路裡面。</p>
<p>最後藉著在 Flagr 上操控除了讓 stackholder 們控制並調整條件，且開發端也可以有彈性的放入類似的判斷式讓程式碼更整潔，個人認為引入 Flagr 對整個產品&#x2F;作品也會有更好的幫助喔！</p>
]]></content>
      <categories>
        <category>Cloud Native</category>
      </categories>
      <tags>
        <tag>Flagr</tag>
        <tag>Heroku</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Flask 中測試 atexit 官方文件的註解(Note)</title>
    <url>/2020/07/01/flask-atexit-question/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/02/11/14/45/taipei-taiwan-2057818_1280.jpg"></p>
<blockquote>
<p>Photo by <a href="https://pixabay.com/zh/photos/taipei-taiwan-taipei-101-2057818/">tingyaoh</a></p>
</blockquote>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>寫程式不管在哪個情境都會需要處理錯誤訊息，除了程式以外語言本身也需要這樣的功能，因此 python 就提供了一個標準函式庫 - <code>atexit</code>，這名字從 C 語言時態就存在的一個工具，主要是監聽程式當收到關閉請求時，可以先跳至已註冊的函式中先處理掉一些事情後再接著關閉服務，這個做法被稱為 Exit Handler，主要就是當程式收到關閉的訊號時最後會進入的函式們，一般較常見的會放上關閉<code>資料庫連線</code>、<code>釋放記憶體</code>、<code>備份 cache</code> 等等的功能，如此一來就能降低問題的產生，讓服務能夠可平滑的關閉、重啟。</p>
<p>不管使用 python 寫 <code>腳本</code>、<code>後端</code>、<code>爬蟲</code> 都可以使用 atexit 來處理例外錯誤，而我在 flask 中使用時與官方記載的<code>註解</code>有點不同，本篇就介紹一下 atexit 以及使用中不同的部分吧！</p>
<span id="more"></span>

<h1 id="atexit-介紹"><a href="#atexit-介紹" class="headerlink" title="atexit 介紹"></a>atexit 介紹</h1><p>atexit 有記載在<a href="https://docs.python.org/3/library/atexit.html">官方文件</a>中，在 stackoverflow 中<a href="https://stackoverflow.com/a/30739397">也有提及</a>，文件中說明這個模組(Module)可以去定義 <code>函式們</code>(functions) 去<code>註冊</code>或<code>反註冊</code>清除函式，並且它的優先權會在程序終止之上。開發者需預先在程式中註冊中事件(Event)，若同時註冊多個事件時，順序則是反向執行，舉例來說，當前註冊 A、B、C 三個事件，當程序意外終止時，執行的順序則會是 C、B、A，推測會反執行的原因是模組將註冊事件放進一個暫時 堆疊(stack) 中，當觸發後就會照著堆疊的方式去執行，若還是不懂<a href="https://zh.wikipedia.org/zh-tw/%E5%A0%86%E6%A0%88">可參考</a>。</p>
<p>官方中有記載：</p>
<blockquote>
<p>Note: The functions registered via this module are not called when the program is killed by a signal not handled by Python, when a Python fatal internal error is detected, or when os._exit() is called.</p>
</blockquote>
<p>當遇到以下事件時無法觸發:</p>
<ul>
<li>被外部清除程序，而 python 無法 handle</li>
<li>Python 內部錯誤</li>
<li>執行到 <code>os_exit()</code></li>
</ul>
<p>不過除了第二項以外目前都會觸發 flask 中註冊的 atexit，以下就介紹一下如何在 flask 上使用並實測。</p>
<h1 id="實測"><a href="#實測" class="headerlink" title="實測"></a>實測</h1><p>建立一個 <code>app.py</code> 然後貼下以下程式碼:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> flask imporㄓt Flask</span><br><span class="line"><span class="keyword">import</span> atexit</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@atexit.register</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shutdown</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;----------------------------------&#x27;</span>)</span><br><span class="line">    print(<span class="string">&quot;Ready to close...&quot;</span>)</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&quot;You can doing some action in here.&quot;</span>)</span><br><span class="line">    print(<span class="string">&#x27;----------------------------------&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hi&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/user/&lt;username&gt;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user</span>(<span class="params">username</span>):</span></span><br><span class="line">    <span class="keyword">if</span> username == <span class="string">&#x27;Tom&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;Hello <span class="subst">&#123;username&#125;</span>&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;I will use OS EXIT!! Hahahaha&#x27;</span>)</span><br><span class="line">        os._exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">5000</span>, debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>以下就帶幾個範例並且實測無法觸發的事件。</p>
<h2 id="範例一-外部清除"><a href="#範例一-外部清除" class="headerlink" title="範例一 - 外部清除"></a>範例一 - 外部清除</h2><p>這裡使用 <code>ps aux | grep python</code> 以及 <code>kill -9 PID</code> 來實測。</p>
<p>首先執行程式 <code>python app.py</code>:<br><img src="https://i.imgur.com/o1bryC2.png"></p>
<hr>
<p>接著使用 <code>ps aux | grep python</code> 找出我們的程序，以下圖例子而言，<code>第一段</code>與<code>第三段</code>是我們執行 app.py 這個檔案相關的程序，在 nijia 這個使用者後面接的數字就是 PID(13642 &amp; 13641)：<br><img src="https://i.imgur.com/OEcY3Kf.png"></p>
<hr>
<h3 id="刪除不同的-PID-會有不同的結果"><a href="#刪除不同的-PID-會有不同的結果" class="headerlink" title="刪除不同的 PID 會有不同的結果 "></a>刪除不同的 PID 會有不同的結果 </h3><h4 id="刪除第一個-PID-13642"><a href="#刪除第一個-PID-13642" class="headerlink" title="刪除第一個 PID - 13642"></a>刪除第一個 PID - 13642</h4><p>使用 <code>kill -9 13642</code> 時刪除它會觸發 atexit:<br><img src="https://i.imgur.com/aLTyhC8.png"></p>
<p>具體原因是因為刪除的事 <code>app.py</code> 本身而不是對於 <code>python app.py</code> 這整件事，也由於不是針對 python 本身處理，因此會觸發 exit handler 也是合情合理。</p>
<h4 id="刪除第二個-PID-13641"><a href="#刪除第二個-PID-13641" class="headerlink" title="刪除第二個 PID - 13641"></a>刪除第二個 PID - 13641</h4><blockquote>
<p>若是照步驟來這部分可能已經沒有 PID，需要再重新執行一次程式。</p>
</blockquote>
<p>一樣使用 <code>kill -9 13641</code> 會得到如下圖所示:<br><img src="https://i.imgur.com/wDDKCE1.png"></p>
<p>在這個實測中他不會觸發 exit handler，因為它刪除了 <code>python app.py</code> 的執行程序，也因為連同 python 的處理程序也一併刪除讓 python 無法觸發事件導致沒有 exit handler。</p>
<p>在這個例子中就體驗到官方文件說的：「when the program is killed by a signal not handled by Python,」</p>
<h2 id="範例二-使用-os-exit-0"><a href="#範例二-使用-os-exit-0" class="headerlink" title="範例二 - 使用 os._exit(0)"></a>範例二 - 使用 os._exit(0)</h2><p>在一開始的程式碼中我已加入 <code>@app.route(&#39;/user/&lt;username&gt;&#39;)</code> 這個路由，若帶入 username 不等於 Tom 實則會使用 <code>ox._exit(0)</code>。</p>
<p>這裡一樣先執行 <code>python app.py</code>，這邊可以使用 Postman、curl 都行，而我是使用 Python Command 搭配 requests 來測試，在呼叫 <code>http://localhost:5000/user/Amy</code> 後會收到出錯訊息：<br><img src="https://i.imgur.com/u5y3wRh.png"></p>
<p>這裡一樣有觸發到 exit handler，推測在範例中應該是被 flask 攔截下來才導致有觸發到。</p>
<h2 id="Event-3-Exit-Handler-Function-Trigger-Reverse"><a href="#Event-3-Exit-Handler-Function-Trigger-Reverse" class="headerlink" title="Event 3 - Exit Handler Function Trigger Reverse"></a>Event 3 - Exit Handler Function Trigger Reverse</h2><p>在 <code>def shutdown()</code> 下面直接加上以下的 code:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@atexit.register</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shutdown2</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;--------------Second start-------------&#x27;</span>)</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&#x27;--------------Second end---------------&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@atexit.register</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shutdown3</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;-----------Third Start-----------------&#x27;</span>)</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&#x27;-----------Third end-------------------&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>直接多註冊兩個 atexit 的函式，接著一樣執行 <code>python app.py</code> 後可以透過 python command 下一個錯誤 username 的路由觸發 graceful shutdown：</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">r</span> = requests.get(<span class="string">&#x27;http://localhost:5000/user/amy&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>實測結果 atexit 果真是會倒轉著執行 function，如堆疊(stack)般的一個一個拿出：<br><img src="https://i.imgur.com/tRLTzCt.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>使用 atexit 可以在 python 中簡單的實現 Exit Handler，需要注意的是若在 atexit 中一樣需要 try catch 去<code>抓取錯誤</code>以及設定<code>時間長度</code>(太久了一樣要關閉)，畢竟需要透過這個機制去降低<code>重開</code>&#x2F;<code>關閉成本</code>，希望能藉由這個機制讓各位的服務們可以安全下莊重新上功能 🙂。</p>
<h1 id="後續"><a href="#後續" class="headerlink" title="後續"></a>後續</h1><p>在寫這篇時感覺 atexit 這個 exit handler 比較屬於 Graceful Shutdown(GS) 的一環，但硬是把它說成是 GS 好像又有點奇怪，因為 GS 在其他語言中都會收到 <code>signal</code> 的訊號後才開始處理事件，而 python 這邊找到的資源中較多都是自己寫 class 來做 signal 的管控(沒套件)，因此在本篇的實作上就比較屬於 exit handler 的實驗與測試。</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://blog.wu-boy.com/2020/02/what-is-graceful-shutdown-in-golang/">[Go 教學] 什麼是 graceful shutdown?</a></li>
<li><a href="https://medium.com/@chentsulin/graceful-shutdown-%E7%9B%A1-server-%E6%9C%80%E5%BE%8C%E7%9A%84%E7%BE%A9%E5%8B%99-%E4%BB%A5-node-js-%E8%88%87-kubernetes-%E7%82%BA%E4%BE%8B-cb7f519389ea">Graceful Shutdown：盡 Server 最後的義務 — 以 Node.js 與 Kubernetes 為例</a></li>
<li><a href="https://stackoverflow.com/questions/30739244/python-flask-shutdown-event-handler">Python Flask shutdown event handler</a></li>
<li><a href="https://blog.louie.lu/2017/08/03/%E4%BD%A0%E6%89%80%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84-python-%E6%A8%99%E6%BA%96%E5%87%BD%E5%BC%8F%E5%BA%AB%E7%94%A8%E6%B3%95-08-atexit/">atexit — 程式關閉時回呼 — 你所不知道的 Python 標準函式庫用法 08</a></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>atexit</tag>
      </tags>
  </entry>
  <entry>
    <title>Day23 - LIFF(LINE Front-end Framework) 簡介</title>
    <url>/2019/10/07/Day23-LIFF-LINE-Front-end-Framework-%E7%B0%A1%E4%BB%8B/</url>
    <content><![CDATA[<h2 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h2><p>LIFF (LINE Front-end Framework)顧名思義就是 LINE 開發在 LINE 這個通訊軟體裡面的 Web view(好饒舌)，他是一個很精簡的內建瀏覽器，主要是能夠讓開發者可以使用 HTML &amp; Javascript 可以去處理一些在 bot 不好實現的功能，也讓開發者可以透過使用 JS SDK 去拉使用者的資訊，藉此可以做出更多種的應用。</p>
<p>網址的樣式都像是這樣<code>line://app/ZZZZZ-AAAAAAA</code>，透過 deep link 的方法讓 LINE 本身可以認得這個藉此去導向設定對應的網站，畢竟做平台的公司內部要互相溝通也是，就透過這種方法去讓不同部門的工程師可以互相使用好像也是不錯(?)</p>
<p>它也可以搭配在之前做的 LINE 服務上，Notify、Message api 上都可以串上去搭配不同種應用，而這個簡易的 Web view 有下面三種的顯示格式可以使用，開發者可以搭配不同應用場景去做搭配。<br><img src="https://i.imgur.com/Z1TfxbN.png"></p>
<p>一開始都只能使用 curl 來增加項目，使用方法可以參考<a href="https://medium.com/@danielkao/%E5%88%9D%E6%8E%A2-line-message-api-%E7%9A%84%E6%96%B0%E5%8A%9F%E8%83%BD-liff-51d5e7ff1a6a">這篇</a>，現在可以直接在 LINE Developer 頁面線上新增，像下圖片在這個頁面就可以新增了</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -X POST \</span><br><span class="line">-H <span class="string">&quot;Authorization: Bearer YOUR_CHANNEL_TOKEN&quot;</span> \</span><br><span class="line">-H <span class="string">&quot;Content-Type: application/json&quot;</span> \</span><br><span class="line">-d <span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">    &quot;view&quot;: &#123;</span></span><br><span class="line"><span class="string">        &quot;type&quot;: &quot;LIFF_SIZE&quot;,</span></span><br><span class="line"><span class="string">        &quot;url&quot;: &quot;URL_OF_YOUR_APPLICATION&quot;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;&#x27;</span> \</span><br><span class="line">https://api.line.me/liff/v1/apps</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/t5G9gXh.png"></p>
<p>這邊推薦一個 <a href="https://github.com/etrex/kamiliff">kamiliff</a>，卡米哥就用一個路由帶著 query string 來判斷，再轉打去其他 controller，如此一來就不需要為了每個頁面去獨立建立 LIFF，如此一來測試跟上線都很好管理，推薦大家去參考卡米哥的 kamiliff 的實作方法～</p>
<blockquote>
<p>這個功能最大的好處就是可以在 LINE 裡面就可以直接用，若是把使用者導出頁面基本上<strong>轉換率</strong>以及<strong>使用者體驗</strong>一定會變很差，所以若是有在開發 LINE Bot 的話很推薦使用這個。</p>
</blockquote>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>以前我曾嘗試過使用 LIFF 使用 websocket 去跟 MQTT 溝通( IoT 裝置常常使用的通訊格式)，只是他的 websocket 似乎有開，但是總是沒有收到數值，這部分實作也是年初時使用，現在這時候就不知道能不能用了 🤣，若不行就期待哪天他能提供出這個服務了～</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p><a href="https://developers.line.biz/en/docs/liff/overview/">LIFF overview</a></p>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
      </tags>
  </entry>
  <entry>
    <title>【泰國】2022/09 旅行注意事項</title>
    <url>/2022/09/06/flight-to-tw-notice-202209/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/th-2/0-1.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在 9&#x2F;1 之後 CDC 有放寬自主期間可以一人一室，剛好我是在 9&#x2F;2 出發泰國，因此回來之後就可以在自己的小套房裡面開始隔離，以下就跟大家分享這次回國之後的一些準備事項，或許這篇有機會可以幫助到正在準備回台灣的你們！</p>
<span id="more"></span>

<blockquote>
<p>入境居家檢疫新消息<a href="https://www.cdc.gov.tw/Category/MPage/n1zhXm4d4jIx2Y_k4ImsbA">請看這邊</a></p>
</blockquote>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><img src="https://nijialin.com/images/2022/th-2/0.PNG"></p>
<p>大家在離開泰國前一晚飯店時，可以線上先填寫<a href="https://hdhq.mohw.gov.tw/Default1?openExternalBrowser=1">檢疫申報表</a>，填寫回台後要隔離的一些相關資訊，全都是中文的，完成後請截圖起來。</p>
<p><img src="https://nijialin.com/images/2022/th-2/1.PNG"></p>
<p>飛機降落之前一個小時請勿喝水飲食，要讓喉嚨裡面的唾液比較能被辨識出；而飛機降落之後，空服員會通知大家可以打開通訊，這時候大家會收到來自衛福部的簡訊，請大家點選網址進去填寫檢疫申報。</p>
<p><img src="https://nijialin.com/images/2022/th-2/2.PNG"></p>
<p>因為大家在各國出入境都會用護照號碼登記，因此只要在飛機上拿出護照寫上去即可，也會把你個人資訊都放進去。</p>
<blockquote>
<p>建議大家在飛機上就填好，否則下飛機真的會排隊排很久，而且現場會很混亂。</p>
</blockquote>
<p><img src="https://nijialin.com/images/2022/th-2/3.PNG"></p>
<p>填寫完之後就會有這一頁，基本上是建議大家把它截圖起來，避免臨時網頁跑掉，或是其他各種問題導致沒辦法快速出關，主要他們會掃描這個 BAR CODE 來確認身分，再發一組口水 PCR 採集盒。</p>
<p><img src="https://nijialin.com/images/2022/th-2/4.JPG"></p>
<p>如果說你手機臨時都不能用，或是各種情況沒辦法線上處理(非台灣籍)，看起來也可以用這台機器申報，不過因為當下後面都排很長，現場工作人員會引導申報完排右邊，還沒申報排左邊，因此可能不會注意到這台，導致花了很多時間在等前面的人完成才可以看到這台機器。</p>
<p><img src="https://nijialin.com/images/2022/th-2/5.JPG"></p>
<p>防疫人員辛苦了！當下回來的旅客來自各地，在飛機上的空服員提醒時可能會有漏掉的問題(飛機太大聲)，因此這邊就是一個很混亂的地方，如果能趕快申報完成提供畫面給工作人員看，動作就會很快嚕！</p>
<p><img src="https://nijialin.com/images/2022/th-2/wait.JPG"></p>
<p>申報完之後就是開始排隊，我當下馬上排隊前面大概 60 個人左右，在後面申報完的人我記得已經排到兩百位左右了，主要就是要來領取口水採集盒，並會告之 3+4 的隔離相關說明與日期。</p>
<p><img src="https://nijialin.com/images/2022/th-2/PCR.JPG"></p>
<p>會給兩個快篩+口水收集盒+送驗單，3 天隔離完之後，如果要出門就是要先快篩陰性才行，篩一次可以出去兩天，因此第一天要篩，第三天也要快篩，如果都陰性就可以四天都出門嚕！</p>
<p><img src="https://nijialin.com/images/2022/th-2/done.JPG"></p>
<p>現場人員都會引導接下來往哪邊走，近期好像有豬瘟安，過了之後就是到口水採集處，交完之後就會給你的貼紙，證明是已經檢疫完的人類！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>泰國是個文化跟台灣很近的國家，覺得有很多東西是可以互相借鏡，雖然他們現在不用戴口罩也不用隔離，但過去似乎就是有戴口罩的習慣，因此在這情況下大概會有 30%的人沒戴，60%有戴，基本上跟台灣的狀況也滿像的，或許在之後政令鬆綁之後，泰國的情況也是可以參考的，如果大家有預計要去泰國玩，回國這篇或許可以參考看看！</p>
<blockquote>
<p>接下來也會陸續放些紀錄內容上來 ~!</p>
</blockquote>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>泰國</tag>
        <tag>自由行</tag>
        <tag>Traveling</tag>
        <tag>Thailand</tag>
      </tags>
  </entry>
  <entry>
    <title>【GCP】忘記關服務產生費用該怎麼辦？</title>
    <url>/2020/08/17/gcp-billing-support/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>原因是這樣的，我在去年 12&#x2F;13 參加了 <a href="https://www.meetup.com/GDGTaichung/events/266686542/">GDG 週年 Hackathon Party</a>，當時主辦社群很有心的提供 GCP Credit 半年份，雖然當時我是 AWS 派系但我還是很開心的使用它，但我就在這幾天收到了一筆兩千塊的帳單，造就了這篇文章分享…😭<br><img src="https://i.imgur.com/yMNSJqc.png"></p>
<span id="more"></span>

<h1 id="過程"><a href="#過程" class="headerlink" title="過程"></a>過程</h1><p>首先我在這半年中剛好有需求去玩了 GCP 的 Cloud SQL，當下玩完後以為有把 instance 刪乾淨後就沒有在關注它了，沒想到 SQL 完全沒使用的情況下居然一個月要兩千多！如果自己建服務還真的是不便宜呢…</p>
<blockquote>
<p>在 GCP 大平台上要找到這個客服表單還真的不容易，連結就直接附上了，<a href="https://support.google.com/cloud/contact/cloud_platform_entitlement_inquries?hl=en#contact=1">表單申請網址</a>。</p>
</blockquote>
<p>不得不說 Google 的客服真的是很辛苦，禮拜五申請禮拜六就回信了解我的需求，並且查詢完我帳號的所有記錄後附上參考網址，實在是非常有心呢！以下簡錄一下內容：</p>
<p><img src="https://i.imgur.com/nwxExo9.png"></p>
<p>也因為我的手誤手動刷了那筆費用讓客服 💁 有點困擾，但在信中我也表明了我是擔心信用卡沒刷過導致信用問題等等…</p>
<p>經過一連串的攻勢之後感動了 google 客服，幫我申請了帳戶調整的需求：</p>
<p><img src="https://i.imgur.com/GDveSih.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>隨後就來了好消息批准了我的申請，將費用清除掉並請我耐心等待費用的作業流程(5-7 天)，但也警告這只是一次性的信譽調整，下不為例，在驚濤駭浪中解決了我費用的問題 😭。</p>
<p>像 AWS、GCP、Azure 這類大平台都有相對應的機制，只是說因為他們相關的文件超多，有時會無法在第一時間找到，若你有相關的經驗也歡迎參考文章的連結詢問平台，只是使用這類的雲端平台都要注意一下費用，避免因小失大。</p>
<ul>
<li><a href="https://cloud.google.com/billing/docs/how-to/budgets">預算設定提醒</a></li>
</ul>
]]></content>
      <categories>
        <category>GCP</category>
      </categories>
      <tags>
        <tag>Google</tag>
        <tag>GCP</tag>
        <tag>Billing</tag>
      </tags>
  </entry>
  <entry>
    <title>【GCCP Creator】增加字幕編輯的效率！| feat. GCP, GCS, STT</title>
    <url>/2022/08/20/gccp-creator-cc-subtitle/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/coscup.JPG"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>隨著大影片時代開始，人們開始拍攝各種題材的題目，身為創作者的你最痛的點是什麼？影片？題材？對我來說就是字幕問題！人人看影片都需要字幕的部分，那該怎麼減輕上字幕的工作呢？這次就利用 GCP 上的服務(STT, GCS)，分享當中使用的一些眉眉角角，至少先讓你可以擁有一個入門級的字幕，降低大家初期在做影片所花的時間，把精力放多一點到創作上，最後在搭配 video.js 來展示。</p>
<ul>
<li><a href="https://github.com/louis70109/GCCP-Creator">GCCP Creator 專案</a></li>
<li><a href="https://coscup.org/2022/zh-TW/session/P7HXPX">分享的議程</a></li>
<li><a href="https://hackmd.io/@coscup/r1TovCJ65/%2F%40coscup%2Frk8ivC1a5">大會共筆</a><span id="more"></span></li>
</ul>
<blockquote>
<p>此次在 COSCUP 2022 分享內容是日常的 Side Project - <a href="https://github.com/louis70109/GCCP-Creator">GCCP Creator 專案</a></p>
</blockquote>
<h1 id="主題圍繞"><a href="#主題圍繞" class="headerlink" title="主題圍繞"></a>主題圍繞</h1><ul>
<li>凡事總有個原因</li>
<li>Speech-To-Text</li>
<li>Cloud Storage</li>
<li>IAM &amp; Role</li>
<li>Cloud Run</li>
<li>Youtube &amp; Video.js</li>
<li>Take Away</li>
</ul>
<h2 id="凡事總有個原因"><a href="#凡事總有個原因" class="headerlink" title="凡事總有個原因"></a>凡事總有個原因</h2><ol>
<li>減少獨自製作影片的 effort</li>
<li>增加被平台看見的機會</li>
<li>想紅</li>
</ol>
<h3 id="這個專案怎麼能增進效率呢？"><a href="#這個專案怎麼能增進效率呢？" class="headerlink" title="這個專案怎麼能增進效率呢？"></a>這個專案怎麼能增進效率呢？</h3><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/d069e1978c504743b6509a7fc336c0fb?slide=6" title="GCCP Creator @ COSCUP 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>製作影片之前花費的功夫就有許多硬體、拍攝手法、剪輯相關，但這些就我目前經驗而言應該大家體會的過程都會是一樣。</p>
<p>而在這個過程中我們能做的事情就是透過雲端服務來處理<code>逐字稿</code>-<code>對時間線</code>-<code>輸出SRT</code>，到底能怎麼做呢？</p>
<h3 id="使用-CC-字幕的原因"><a href="#使用-CC-字幕的原因" class="headerlink" title="使用 CC 字幕的原因"></a>使用 CC 字幕的原因</h3><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/d069e1978c504743b6509a7fc336c0fb?slide=7" title="GCCP Creator @ COSCUP 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<h4 id="優點篇"><a href="#優點篇" class="headerlink" title="優點篇"></a>優點篇</h4><ul>
<li>不必等字幕做完才出影片</li>
<li>上字幕難免出錯，修改快速</li>
<li>自適應(不受解析度影響)</li>
<li>提高影片曝光率(Youtube 識別)</li>
<li>Youtube 編輯器夠用</li>
<li>額外優惠<ul>
<li>幫助聽障人士</li>
<li>電腦版有自動翻譯</li>
<li>有機會讓粉絲幫忙共編</li>
</ul>
</li>
</ul>
<h4 id="缺點篇"><a href="#缺點篇" class="headerlink" title="缺點篇"></a>缺點篇</h4><ul>
<li>預設是關閉，需要訓練用戶</li>
<li>中文觀眾習慣看內字幕</li>
<li>字卡特效較少(不夠吸睛)<ul>
<li>會擋住原本的特效，有個遮罩 embed 在最前面</li>
</ul>
</li>
</ul>
<h2 id="我在講它要聽！-✍️-開啟-SpeechToText"><a href="#我在講它要聽！-✍️-開啟-SpeechToText" class="headerlink" title="我在講它要聽！ ✍️ 開啟 SpeechToText"></a>我在講它要聽！ ✍️ 開啟 SpeechToText</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/d069e1978c504743b6509a7fc336c0fb?slide=12" title="GCCP Creator @ COSCUP 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>通常我們在使用服務時，都會很習慣進 UI 看一下這服務能做到些什麼事，而 STT 的 UI 上就是一些常見設定，來源、編碼、取樣率…，讓還在觀察測試的用戶可以先稍微玩看看了解 STT 能力到哪，在進行 API 使用的部分。</p>
<h2 id="總會需要個玻璃櫃-🦖-建立-Cloud-Storage"><a href="#總會需要個玻璃櫃-🦖-建立-Cloud-Storage" class="headerlink" title="總會需要個玻璃櫃 🦖 建立 Cloud Storage"></a>總會需要個玻璃櫃 🦖 建立 Cloud Storage</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/d069e1978c504743b6509a7fc336c0fb?slide=16" title="GCCP Creator @ COSCUP 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>Cloud Storage(GCS) 顧名思義就是要建立一個雲端儲存庫，相當於 AWS S3，除了可以放上東西儲存以外，也可以透過它去介接其他的服務，此篇後面將會透過 Eventarc 去介接 Cloud Storage 與 Cloud Run。</p>
<blockquote>
<p>GCS 與 AWS S3 經常也會被拿來放置前端編譯完放置檔案的地方，再透過其他 DNS route 之類的功能，借接起來把前端資訊打在用戶的瀏覽器上。<br>其他參考 <a href="https://nijialin.com/2019/10/12/Day28-%E7%94%A8-S3-%E5%B9%AB%E5%BF%99%E8%BD%89%E5%9D%80%E5%88%B0%E5%8E%9F%E6%9C%89%E7%9A%84%E6%9C%8D%E5%8B%99%E4%B8%8A/">Day28 - 用 AWS S3 幫忙轉址到原有的服務上</a></p>
</blockquote>
<h2 id="而且要有鎖頭-🔐-來點-IAM-amp-Role"><a href="#而且要有鎖頭-🔐-來點-IAM-amp-Role" class="headerlink" title="而且要有鎖頭 🔐 來點 IAM &amp; Role"></a>而且要有鎖頭 🔐 來點 IAM &amp; Role</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/d069e1978c504743b6509a7fc336c0fb?slide=19" title="GCCP Creator @ COSCUP 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>首先要先到 GCP 左上的找到 <code>IAM &amp; Role</code>，找到 Service Account(服務帳戶) 建立授權過的帳號。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/d069e1978c504743b6509a7fc336c0fb?slide=20" title="GCCP Creator @ COSCUP 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>順利建立完後會出現有兩種方式的金鑰讓你選擇使用，這邊一般會使用 <code>JSON 的檔案</code>來與雲端服務串接 API 使用。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/d069e1978c504743b6509a7fc336c0fb?slide=21" title="GCCP Creator @ COSCUP 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>這邊與大家分享一個切身之痛的事情，之前有次因為與 .gitignore 發生了點誤會，不小心把 JSON Key 往 GitHub 踢，結果導致 Key 被抓到拿去做壞壞的事，因此被寄了通知信鎖住帳號 QAQ，所以以下提供一些之前文章有做過的做法給大家，盡可能避免大家不小心把 Key 踢出去:</p>
<ul>
<li>建立一個暫時檔</li>
<li>路徑放環境變數中</li>
<li>寫入 <code>GOOGLE_APPLICATION_CREDENTIALS</code></li>
<li>⚠️ 需要框架啟動前</li>
<li>⚠️ 需整理成 JSON 樣式</li>
<li>單引號 -&gt; 雙引號</li>
</ul>
<p>以下提供一段 python code 示範上面的內容</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tempfile, os</span><br><span class="line"></span><br><span class="line">google_temp = tempfile.NamedTemporaryFile(suffix=<span class="string">&#x27;.json&#x27;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    GOOGLE_KEY = os.environ.get(<span class="string">&#x27;GOOGLE_KEY&#x27;</span>, <span class="string">&#x27;&#123;&#125;&#x27;</span>)</span><br><span class="line">    google_temp.write(GOOGLE_KEY.encode())</span><br><span class="line">    google_temp.seek(<span class="number">0</span>)</span><br><span class="line">    os.environ[<span class="string">&#x27;GOOGLE_APPLICATION_CREDENTIALS&#x27;</span>] = google_temp.name</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    google_temp.close()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>更詳細內容請參考我之前寫的文章：<a href="https://nijialin.com/2022/04/02/python-env-import-json-string/">把 JSON 字串寫入記憶體中的暫時檔案並放路徑至環境變數中 | Python, FastAPI</a></p>
</blockquote>
<h2 id="萬事皆上雲-⛅️-如何部署到-GCP"><a href="#萬事皆上雲-⛅️-如何部署到-GCP" class="headerlink" title="萬事皆上雲 ⛅️ 如何部署到 GCP"></a>萬事皆上雲 ⛅️ 如何部署到 GCP</h2><p>gcloud 提供了很便利的方式，不用在本地端 build container 占空間，下指令時會幫忙在 GCP 上 build container，但因為是使用公有雲，所以還是需要出動神奇小卡才行，但可以省去許多初期建置的成本，也推薦大家可以使用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/louis70109/GCCP-Creator.git</span><br><span class="line"><span class="built_in">cd</span> GCCP-Creator</span><br><span class="line">gcloud run deploy xxxxxx --<span class="built_in">source</span> .</span><br></pre></td></tr></table></figure>

<p>接著就會把產生的 Container 放到 GCP 的 Artifact(Registry)，接著在部屬到 CloudRun 上。</p>
<h3 id="做什麼才會觸發-在-CloudRun-設定-Eventarc"><a href="#做什麼才會觸發-在-CloudRun-設定-Eventarc" class="headerlink" title="做什麼才會觸發 - 在 CloudRun 設定 Eventarc"></a>做什麼才會觸發 - 在 CloudRun 設定 Eventarc</h3><script async class="speakerdeck-embed" data-slide="31" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>Eventarc 在 GCP 上也是一個獨立服務，而在 CloudRun 上則是有個獨立的按鈕可以設定觸發條件，這邊因為要設定數發條件，可以設定對外、對內流量。</p>
<script async class="speakerdeck-embed" data-slide="32" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著要設定 Cloud Storage 為觸發條件，設定如下</p>
<ul>
<li>想監聽的服務</li>
<li>監聽事件，設定 Cloud Storage 上傳完成後觸發</li>
<li>最後面 URL path 則設定 <code>/</code>，這邊會對應打到你 CloudRun 的路徑</li>
</ul>
<script async class="speakerdeck-embed" data-slide="35" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著可以 MP3 檔案上傳 Cloud Storage，看看 GCCP Creator 是否運作正常，如果正常一ㄥ該過一段時間後就會出現檔案了。</p>
<h2 id="不想住這邊，我要搬走！使用-video-js-的-hints"><a href="#不想住這邊，我要搬走！使用-video-js-的-hints" class="headerlink" title="不想住這邊，我要搬走！使用 video.js 的 hints"></a>不想住這邊，我要搬走！使用 video.js 的 hints</h2><script async class="speakerdeck-embed" data-slide="38" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>一般來說，如果自己擁有的服務，也會把影片跟字幕檔案放在 Cloud Storage 上，而需要把檔案都設定從外面可以訪問的權限，而 mp4 在 video.js 中只要公開即可訪問，但如果是文字檔就不是這麼一回事了…</p>
<h3 id="CORS-那我要去愛別人-–-API-我還你原形"><a href="#CORS-那我要去愛別人-–-API-我還你原形" class="headerlink" title="CORS 那我要去愛別人 – API 我還你原形"></a>CORS 那我要去愛別人 – API 我還你原形</h3><script async class="speakerdeck-embed" data-slide="40" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>第一個方法是可以透過自己寫 API 的方式來回傳字幕檔案然後存在 localStorage；</p>
<p>而且在字幕的字串上，一定是會放 \n，在 JS 中可以使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval">eval()</a>來還字幕原型；並另外用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Blob">Blob</a> 建立一個網址給 video.js 使用；最後 video.js 只接受 <code>webVTT</code> 的格式，因此 metadata 要設定 <code>type: &#39;text/vtt&#39;</code>，這樣回傳之後 video.js 就可以正常使用囉！</p>
<script async class="speakerdeck-embed" data-slide="44" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h3 id="既然你不聽那我來硬的-–-CLI-降肉！"><a href="#既然你不聽那我來硬的-–-CLI-降肉！" class="headerlink" title="既然你不聽那我來硬的 – CLI 降肉！"></a>既然你不聽那我來硬的 – CLI 降肉！</h3><script async class="speakerdeck-embed" data-slide="42" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>因為 Cloud Storage 目前不支援在 UI 上設定 CORS，但可以透過 gcloud CLI 來操作，因此這邊就可以用 gsutil 來處理。</p>
<ul>
<li>建立設定檔 json</li>
<li>把 json 設定到 Cloud Storage 上</li>
<li>最後 get 看一下有沒有正常運作</li>
</ul>
<h3 id="過去即是永恆-–-快取放我走！"><a href="#過去即是永恆-–-快取放我走！" class="headerlink" title="過去即是永恆 – 快取放我走！"></a>過去即是永恆 – 快取放我走！</h3><script async class="speakerdeck-embed" data-slide="43" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在操作很多對外服務，系統上大部分都會做一些快取的動作，過濾一些重複刷新的動作，增加使用者體驗，但因為我們這次設定新的設定(<del>好饒口</del>)，因為都在前端操作，這邊可以開啟 F12 後使用 <code>強制清除快取</code>，就不用另外去泡茶慢慢等嚕！</p>
<h2 id="✍️-揮揮衣袖，不帶走一片雲彩"><a href="#✍️-揮揮衣袖，不帶走一片雲彩" class="headerlink" title="✍️ 揮揮衣袖，不帶走一片雲彩"></a>✍️ 揮揮衣袖，不帶走一片雲彩</h2><ul>
<li>STT 時間支援最低到 nano，但在 Youtube - 字幕上也算很精準</li>
<li>STT 測試起來以一分鐘為分水嶺，太短的影片可能不適用</li>
<li>減少初期敲字幕稿的時間(<code>30~40%</code>)，只需後續細修、對時間</li>
<li>編輯器用別人的就好，別想自己寫 ( <del>還我三個禮拜！</del> )</li>
</ul>
<script async class="speakerdeck-embed" data-slide="36" data-id="d069e1978c504743b6509a7fc336c0fb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這次在 COSCUP 2022 上分享了這次 side project，後續也發現可以透過 Youtube API 把影片或是相關檔案打上 Youtube，不過還有一些謎團要解決👀，如果這次的分享對你有用，歡迎分享出去給朋友們喔！</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>GCP</category>
      </categories>
      <tags>
        <tag>Google</tag>
        <tag>Cloud Storage</tag>
        <tag>Speech to Text</tag>
      </tags>
  </entry>
  <entry>
    <title>【GCP】將 FastAPI 佈署上 Cloud Run</title>
    <url>/2023/03/19/gcp-why-need-cloudrun-as-serverless/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>近年來，隨著雲端計算的普及和發展，越來越多的企業和開發者正在尋找一種更簡單、更高效的方式來佈署和運營應用程式。而 Severless 技術正是一種流行的解決方案。Google Cloud Run 是一個強大的 Severless 平台，可以幫助開發人員快速地佈署和運營。接著，本文將介紹 Google Cloud Run 的優點和如何在其中佈署。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="為什麼我們需要使用-Severless-佈署我們的應用程式呢？"><a href="#為什麼我們需要使用-Severless-佈署我們的應用程式呢？" class="headerlink" title="為什麼我們需要使用 Severless 佈署我們的應用程式呢？"></a>為什麼我們需要使用 Severless 佈署我們的應用程式呢？</h2><p>傳統的佈署方式需要管理和維護運行應用程式的基礎架構，包括服務器、網絡、資料庫等。這需要耗費大量時間和資源，並且需要購買硬體和安裝軟體環境。此外，當應用程式的流量遇到高峰時，需要擴展基礎架構以處理更多的請求，這也需要額外的投資人力和支援來完成。</p>
<p>而使用 Severless 佈署，開發者可以完全不必考慮基礎架構的維護和擴展，只需專注於撰寫應用程式。當使用者發送請求時，Severless 會自動處理應用程式的擴展性和可用性，以應對流量高峰。因此，Severless 佈署不僅更省時、省力，也更加彈性和可靠度。</p>
<p>由於 Severless 僅計費實際使用的計算資源和服務，因此在閒置時不會產生額外的成本，這對開發者和企業而言都是非常有利的。</p>
<h3 id="御三家比較"><a href="#御三家比較" class="headerlink" title="御三家比較"></a>御三家比較</h3><p>以下是 GCP、AWS、Azure 三家 Severless 服務的比較表。這裡僅列舉了一些常見的計算資源和服務。</p>
<table>
<thead>
<tr>
<th align="center">Cloud Provider</th>
<th align="center">計算資源</th>
<th align="center">代價單位</th>
<th align="center">最小費用</th>
<th align="center">其他服務</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Google</td>
<td align="center">CPU</td>
<td align="center">每秒</td>
<td align="center">0.0001</td>
<td align="center">GCS</td>
</tr>
<tr>
<td align="center">Cloud Run</td>
<td align="center">Memory</td>
<td align="center">每 GB 秒</td>
<td align="center">0.0000028</td>
<td align="center">Pub&#x2F;Sub, Firestore, BigQuery</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">vCPU</td>
<td align="center">每秒</td>
<td align="center">0.0000240</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center">網路傳輸</td>
<td align="center">每 GB</td>
<td align="center">0.12</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center">空間儲存</td>
<td align="center">每 GB</td>
<td align="center">0.0260</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">AWS</td>
<td align="center">CPU</td>
<td align="center">每秒</td>
<td align="center">0.00001667</td>
<td align="center">S3</td>
</tr>
<tr>
<td align="center">Lambda</td>
<td align="center">Memory</td>
<td align="center">每 GB 秒</td>
<td align="center">0.000000208</td>
<td align="center">DynamoDB, API Gateway, SNS</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">網路傳輸</td>
<td align="center">每 GB</td>
<td align="center">0.09</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center">空間儲存</td>
<td align="center">每 GB</td>
<td align="center">0.0230</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Azure</td>
<td align="center">CPU</td>
<td align="center">每秒</td>
<td align="center">0.000016</td>
<td align="center">Blob Storage</td>
</tr>
<tr>
<td align="center">Functions</td>
<td align="center">Memory</td>
<td align="center">每 GB 秒</td>
<td align="center">0.0000016</td>
<td align="center">CosmosDB, Event Grid, Notification Hubs</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">網路傳輸</td>
<td align="center">每 GB</td>
<td align="center">0.08</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center">空間儲存</td>
<td align="center">每 GB</td>
<td align="center">0.0217</td>
<td align="center"></td>
</tr>
</tbody></table>
<blockquote>
<p>以上價格僅供參考，具體的費用和條件可能會因各家雲服務商而有所不同。建議使用者在選擇之前，要詳細閱讀各家雲服務商的條款和費用，選擇最適合自己的服務。</p>
</blockquote>
<h2 id="GCP-介紹"><a href="#GCP-介紹" class="headerlink" title="GCP 介紹"></a>GCP 介紹</h2><p>Google Cloud Run 是 Google Cloud Platform (GCP) 的一個 Severless 平台，可讓開發人員在無需管理基礎設施的情況下輕鬆地佈署容器化應用程式。它支援多種程式語言和框架，包括 Node.js、Python、Go、Ruby、Java 和 .NET 等，因此開發人員可以選擇他們最熟悉的工具和框架來構建應用程式。</p>
<p>Google Cloud Run 的一個主要優點是它的彈性和可擴展性。它可以自動擴展 Instance，以滿足尖峰期流量需求；而在低流量時自動縮小 Instance，以節省資源和成本。此外，Google Cloud Run 支援快速啟動和停止容器，以縮短應用程式啟動時間和降低成本。</p>
<p>Google Cloud Run 還具有高可用性和可靠性。它使用 Google 的基礎設施和負載平衡，可以輕鬆地將流量轉發到全球各地的 Instance，從而實現全球性的高可用性和可靠性。此外，Google Cloud Run 提供了多種安全機制，包括網路隔離、身份驗證和授權等，可以幫助開發人員保護其應用程式免受攻擊和潛在漏洞的影響。</p>
<h2 id="為什麼要使用-Google-Cloud-Run-作為-Severless-的優先選擇？"><a href="#為什麼要使用-Google-Cloud-Run-作為-Severless-的優先選擇？" class="headerlink" title="為什麼要使用 Google Cloud Run 作為 Severless 的優先選擇？"></a>為什麼要使用 Google Cloud Run 作為 Severless 的優先選擇？</h2><p>Google Cloud Run 具有以下優點，使其成為開發人員選擇 Severless 技術的優先選擇：</p>
<ol>
<li>自動擴展和縮小容器 Instance，以適應流量需求。</li>
<li>快速啟動和停止容器，縮短應用程式啟動時間和降低成本。</li>
<li>高可用性和可靠性，使用 Google 的基礎設施和負載平衡。</li>
<li>多種安全機制，包括網路隔離、身份驗證和授權等。</li>
<li>支援多種程式語言和框架，可滿足開發人員不同的需求。</li>
<li>無需管理基礎設施，開發人員可以專注於應用程式的開發和佈署，而不是基礎設施的管理。</li>
</ol>
<blockquote>
<p>Serverless 都會有 Cold start 的問題，請參考我過去寫的文章 <a href="https://nijialin.com/2020/02/16/serverless-cold-start/">這篇文章</a></p>
</blockquote>
<h2 id="如何佈署到-Cloud-Run-上"><a href="#如何佈署到-Cloud-Run-上" class="headerlink" title="如何佈署到 Cloud Run 上"></a>如何佈署到 Cloud Run 上</h2><p>以下是將 FastAPI 佈署到 Google Cloud Run 上的執行指令的步驟：</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> my_fastapi/</span><br><span class="line"><span class="built_in">cd</span> my_fastapi/</span><br></pre></td></tr></table></figure>

<h3 id="0-建立-main-py"><a href="#0-建立-main-py" class="headerlink" title="0. 建立 main.py"></a>0. 建立 main.py</h3><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi import FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line">@app.<span class="builtin-name">get</span>(<span class="string">&quot;/&quot;</span>)</span><br><span class="line">def read_root():</span><br><span class="line">    return &#123;<span class="string">&quot;Hello&quot;</span>: <span class="string">&quot;World&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    import uvicorn</span><br><span class="line">    uvicorn.<span class="builtin-name">run</span>(app, <span class="attribute">host</span>=<span class="string">&quot;0.0.0.0&quot;</span>, <span class="attribute">port</span>=8000)</span><br></pre></td></tr></table></figure>

<h3 id="1-建立-requirements-txt-並放入以下內容"><a href="#1-建立-requirements-txt-並放入以下內容" class="headerlink" title="1. 建立 requirements.txt 並放入以下內容"></a>1. 建立 requirements.txt 並放入以下內容</h3><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">fastapi</span></span><br><span class="line"><span class="attribute">uvicorn</span></span><br></pre></td></tr></table></figure>

<h4 id="安裝相依套件"><a href="#安裝相依套件" class="headerlink" title="安裝相依套件"></a>安裝相依套件</h4><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -r requirements.txt</span><br></pre></td></tr></table></figure>

<h4 id="測試一下"><a href="#測試一下" class="headerlink" title="測試一下"></a>測試一下</h4><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">python</span> main.<span class="keyword">py</span></span><br><span class="line">curl http://localhos<span class="variable">t:8000</span>/</span><br></pre></td></tr></table></figure>

<h3 id="2-建立-Dockerfile"><a href="#2-建立-Dockerfile" class="headerlink" title="2. 建立 Dockerfile"></a>2. 建立 Dockerfile</h3><p>當你需要在不同的環境中運行 FastAPI 應用程式時，Docker 提供了一種簡單而有效的方式。以下是一個基於 Python 3.9、使用 Uvicorn 和 Gunicorn 作為伺服器的 FastAPI Dockerfile 範例：</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> tiangolo/uvicorn-gunicorn-fastapi:python3.<span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 將專案複製到容器中</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安裝必要的套件</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> pip install --upgrade pip</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> requirements.txt .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> pip install -r requirements.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 開放指定的埠號，讓容器外的系統能夠訪問應用程式</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 啟動 FastAPI 應用程式</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;uvicorn&quot;</span>, <span class="string">&quot;main:app&quot;</span>, <span class="string">&quot;--host&quot;</span>, <span class="string">&quot;0.0.0.0&quot;</span>, <span class="string">&quot;--port&quot;</span>, <span class="string">&quot;8000&quot;</span>]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>這個 Dockerfile 使用 <code>tiangolo/uvicorn-gunicorn-fastapi</code> 映像檔作為基底，並將應用程式碼複製到容器中，並安裝必要的套件。最後，使用 CMD 指令啟動 FastAPI 應用程式。</p>
<blockquote>
<p>請注意，上述的 Dockerfile 需要依照您實際上的程式進行修改，以符合您的需求和環境。</p>
</blockquote>
<h3 id="5-佈署到-Google-Cloud-Run"><a href="#5-佈署到-Google-Cloud-Run" class="headerlink" title="5. 佈署到 Google Cloud Run"></a>5. 佈署到 Google Cloud Run</h3><h4 id="安裝-gcloud-command-line"><a href="#安裝-gcloud-command-line" class="headerlink" title="安裝 gcloud command line"></a>安裝 gcloud command line</h4><p>gcloud 是 Google Cloud Platform 的命令行工具，它提供了一個簡單的方法來管理您在 GCP 上的資源。以下是安裝和使用 gcloud 的基本步驟：</p>
<p>前往 <a href="https://cloud.google.com/sdk/docs/install">Google Cloud SDK 官方網站</a> 下載對應作業系統的安裝檔案。</p>
<p>安裝 Cloud SDK，按照安裝提示進行操作，並選擇您需要安裝的元件。您可以在安裝過程中選擇安裝 gcloud CLI。</p>
<p>安裝完成後，在終端或命令提示字元中輸入 <code>gcloud --version</code> 檢查安裝是否成功。</p>
<h4 id="gcloud-基礎設定"><a href="#gcloud-基礎設定" class="headerlink" title="gcloud 基礎設定"></a>gcloud 基礎設定</h4><ul>
<li><p><code>gcloud init</code>：初始化 gcloud CLI，該指令會提示登錄 Google 帳戶，並選擇您要使用的 GCP 項目。</p>
</li>
<li><p><code>gcloud config set project PROJECT_ID</code>：設定 GCP Project ID，以便 gcloud CLI 與該項目交互使用。</p>
</li>
<li><p><code>gcloud auth login</code>：登錄 Google 帳戶。</p>
</li>
</ul>
<h4 id="透過-gcloud-佈署"><a href="#透過-gcloud-佈署" class="headerlink" title="透過 gcloud 佈署"></a>透過 gcloud 佈署</h4><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">gcloud <span class="built_in">run</span> deploy <span class="keyword">my</span>-fastapi-app <span class="comment">--source .</span></span><br></pre></td></tr></table></figure>

<p>選擇佈署區域與允許部署：</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">Please enter numeric choice <span class="keyword">or</span> <span class="built_in">text</span> value (must exactly match <span class="built_in">list</span></span><br><span class="line"><span class="built_in">item</span>):  <span class="number">22</span></span><br><span class="line"></span><br><span class="line">To make this <span class="keyword">the</span> default region, <span class="built_in">run</span> `gcloud config <span class="keyword">set</span> <span class="built_in">run</span>/region <span class="keyword">me</span>-west1`.</span><br><span class="line"></span><br><span class="line">This command <span class="keyword">is</span> equivalent <span class="keyword">to</span> <span class="built_in">running</span> `gcloud builds submit <span class="comment">--tag [IMAGE] .` and `gcloud run deploy my-fastapi-app --image [IMAGE]`</span></span><br><span class="line"></span><br><span class="line">Allow unauthenticated invocations <span class="keyword">to</span> [<span class="keyword">my</span>-fastapi-app] (y/N)?  y</span><br></pre></td></tr></table></figure>

<p>這樣就可以將 FastAPI 應用程式成功佈署到 Google Cloud Run 上了。</p>
<blockquote>
<p>現在無須手動將 Docker 映像檔上傳到 Google Container Registry，在執行 gclou deploy 時就會幫忙上傳 cloud storage &amp; Registry 中了，但需要注意的是: <code>記得定期清理 cloud storage</code>(佈署一次一個檔案)，否則會一直收儲存費用唷！</p>
</blockquote>
<h4 id="測試是否正常運行"><a href="#測試是否正常運行" class="headerlink" title="測試是否正常運行"></a>測試是否正常運行</h4><p>若佈署成功的話，會在 command 中看到網址，點下去基本上應該會先看到 Unauthorize 的資訊，這是因為 Cloud Run 初期設定會要求要認證才行(應該是符合資安)，因此前往以下圖片的地方開啟，就可以成功訪問網站囉！</p>
<p><img src="https://nijialin.com/images/2023/gcp/1.png"></p>
<blockquote>
<p>小知識：稍早測試用 8000 port 都失敗，看起來 Cloud Run 預設都是 8080，因此若自行佈署會失敗的話不仿看看 Port 有沒有設定錯喔！</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>Google Cloud Run 是一個功能強大的 Severless 平台，可以幫助開發人員快速地佈署和運行容器化應用程式，同時提供高可用性、可靠性和安全性。使用 Google Cloud Run，開發人員可以專注於應用程式的開發和佈署，而不必擔心基礎設施的管理和維護，因此是 Severless 技術的優先選擇之一。</p>
]]></content>
      <categories>
        <category>GCP</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>GCP</tag>
        <tag>Cloud Run</tag>
        <tag>ChatGPT</tag>
      </tags>
  </entry>
  <entry>
    <title>在本地端執行 GitHub Actions 跑 CI | Run your GitHub Actions locally</title>
    <url>/2021/12/12/github-actions-locally/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/wiki/nektos/act/img/logo-150.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本次介紹的專案 <a href="https://github.com/nektos/act">act</a>，是一個以 Golang 實作的專案，目標可以讓開發者可以在本地端跑 GitHub Actions，不用每次要測試 CI 就先推一個沒用的 Commit 上去等(如果是生產環境也是浪費資源)，只要在本地跑就可以快速得到相關的回饋，不用再為了測試推一堆沒用的 Commit 上去了 🎉</p>
<blockquote>
<p>本次使用的範例專案：<a href="https://github.com/louis70109/WordsGame">https://github.com/louis70109/WordsGame</a></p>
</blockquote>
<span id="more"></span>

<h1 id="安裝步驟"><a href="#安裝步驟" class="headerlink" title="安裝步驟"></a>安裝步驟</h1><p>因為我是使用 Mac 來操作，因此我使用如下：</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>act</span><br></pre></td></tr></table></figure>

<p>如果你是其他作業系統的用戶，<mark><a href="https://github.com/nektos/act#installation">文件上</a></mark>也有詳細寫出如何安裝以及前提</p>
<ul>
<li>實作依靠 Docker，因此需要先安裝 Docker engine</li>
<li>各種套件庫方法安裝(brew, port, choco…)</li>
<li>透過 Go 安裝(如果本身有 Go 環境)</li>
<li>Bash script<ul>
<li><code>curl https://raw.githubusercontent.com/nektos/act/master/install.sh | sudo bash</code></li>
</ul>
</li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>官方的示範影片：</p>
<p><img src="https://github.com/nektos/act/wiki/quickstart/act-quickstart-2.gif"></p>
<p>先進入你的資料夾中，我以前陣子開發的<a href="https://github.com/louis70109/WordsGame">日文單字專案</a>為例子做說明。</p>
<ol>
<li><p>資料夾中有個 <code>.github/workflows/testing.yaml</code>，GitHub Actions 預設會找 <strong>.github&#x2F;workflows</strong> 底下的 yaml 檔，因此有需要跑的檔案都要放這</p>
</li>
<li><p>執行 <code>act</code> 指令，大致樣子如下</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">➜  WordsGame git:(master) act</span><br><span class="line">[Python package/build] 🧪  Matrix: map[python-version:3.7]</span><br><span class="line">[Python package/build] 🚀  <span class="keyword">Start</span> image=ghcr.io/catthehacker/ubuntu:act-latest</span><br><span class="line">...</span><br><span class="line">[Python <span class="keyword">package</span>/<span class="keyword">build</span>]   🐳  docker exec cmd=[mkdir -m <span class="number">0777</span> -p /<span class="keyword">var</span>/run/act] <span class="keyword">user</span>=root workdir=</span><br><span class="line">...</span><br><span class="line">[Python <span class="keyword">package</span>/<span class="keyword">build</span>] ⭐  Run actions/checkout@v2</span><br><span class="line">[Python <span class="keyword">package</span>/<span class="keyword">build</span>]   ✅  <span class="keyword">Success</span> - actions/checkout@v2</span><br><span class="line">[Python <span class="keyword">package</span>/<span class="keyword">build</span>] ⭐  Run <span class="keyword">Set</span> up Python $&#123;&#123; matrix.python-<span class="keyword">version</span> &#125;&#125;</span><br><span class="line">INFO[<span class="number">0003</span>]   ☁  git <span class="keyword">clone</span> <span class="string">&#x27;https://github.com/actions/setup-python&#x27;</span> <span class="comment"># ref=v2</span></span><br><span class="line">...</span><br><span class="line">[Python <span class="keyword">package</span>/<span class="keyword">build</span>]   💬  ::debug::Downloading https://github.com/actions/python-<span class="keyword">versions</span>/releases/download/<span class="number">3.7</span><span class="number">.12</span><span class="number">-116024</span>/python<span class="number">-3.7</span><span class="number">.12</span>-linux<span class="number">-20.04</span>-x64.tar.gz</span><br><span class="line">...</span><br><span class="line">| =========================== <span class="keyword">short</span> <span class="keyword">test</span> summary info ============================</span><br><span class="line">| <span class="keyword">FAILED</span> tests/test_main.py::TestClient::test_admin_set_styles - testcontainers...</span><br><span class="line">| <span class="keyword">FAILED</span> tests/test_main.py::TestClient::test_get_user_list - testcontainers.co...</span><br><span class="line">| ============== <span class="number">2</span> <span class="keyword">failed</span>, <span class="number">1</span> passed, <span class="number">1</span> <span class="keyword">warning</span> <span class="keyword">in</span> <span class="number">247.27</span>s (<span class="number">0</span>:<span class="number">04</span>:<span class="number">07</span>) ==============</span><br><span class="line">[Python <span class="keyword">package</span>/<span class="keyword">build</span>]   ❌  <span class="keyword">Failure</span> - CI</span><br><span class="line"><span class="keyword">Error</span>: <span class="keyword">exit</span> <span class="keyword">with</span> <span class="string">`FAILURE`</span>: <span class="number">1</span></span><br><span class="line">➜  WordsGame git:(<span class="keyword">master</span>) ls</span><br></pre></td></tr></table></figure>

<blockquote>
<p>以上為正確跑一次的大致會有的訊息(節錄其中一段)，當然這邊是失敗收場，後續會在提到</p>
</blockquote>
<ol start="3">
<li>前面有提到 act 是基於 Docker 開發的工具，因此在跑的時候會在 Docker 裡面建立一個 Container 來執行裡面會用到的內容。(可進 Dashboard 看)</li>
</ol>
<p><img src="https://nijialin.com/images/2021/action/act.png"></p>
<h2 id="狀況排除-如果有環境變數還是要-export-ooo-x3D-qqq"><a href="#狀況排除-如果有環境變數還是要-export-ooo-x3D-qqq" class="headerlink" title="狀況排除 - 如果有環境變數還是要 export ooo&#x3D;qqq"></a>狀況排除 - 如果有環境變數還是要 export ooo&#x3D;qqq</h2><p>因為我在建立此專案時是需要先幫 chatbot 放 Token 測試才可以順利跑，因此在這邊 <code>$&#123;&#125;</code> 裡的直就需要在環境變數中 export</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">API_ENV:</span> <span class="string">&#x27;testing&#x27;</span></span><br><span class="line">          <span class="attr">DATABASE_URI:</span> <span class="string">postgresql://postgres:postgres@db/postgres</span></span><br><span class="line">          <span class="attr">LINE_CHANNEL_ACCESS_TOKEN:</span> <span class="string">$&#123;LINE_CHANNEL_ACCESS_TOKEN&#125;</span></span><br><span class="line">          <span class="attr">LINE_CHANNEL_SECRET:</span> <span class="string">$&#123;LINE_CHANNEL_SECRET&#125;</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure>

<h2 id="在另一個-Docker-環境中執行-act"><a href="#在另一個-Docker-環境中執行-act" class="headerlink" title="在另一個 Docker 環境中執行 act"></a>在另一個 Docker 環境中執行 act</h2><p>文件中有說明相關的內容(PR <a href="https://github.com/nektos/act/issues/583">#583</a>)，可能你有自架 Docker 在其他機器等等的，可以參考以下的指令：</p>
<blockquote>
<p><a href="https://github.com/nektos/act#docker-context-support">附上文件處</a></p>
</blockquote>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">export DOCKER_HOST=<span class="constructor">$(<span class="params">docker</span> <span class="params">context</span> <span class="params">inspect</span> --<span class="params">format</span> &#x27;&#123;&#123;.Endpoints.<span class="params">docker</span>.Host&#125;&#125;&#x27;)</span></span><br></pre></td></tr></table></figure>

<h2 id="環境特有的環境變數"><a href="#環境特有的環境變數" class="headerlink" title="環境特有的環境變數"></a>環境特有的環境變數</h2><p>或許在使用 GitHub Actions(或類似的 CI 服務)，可能會有些全域是需要設定的，可以參考<a href="https://github.com/nektos/act#configuration">文件這邊</a>，把相關內容設定在 <code>./.actrc</code> 或 <code>~/.actrc</code> 中讓本地端測試也可以達到跟線上一樣的功能。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這次剛好是沒事在 GitHub 首頁閒逛時發現的一個好東西，現在按星星 🌟 時已經快兩萬顆星星了，代表社群上大家也是很喜歡這個內容，也很實用，如果說你也有相關需求的話歡迎參考這篇文章做，如果有更多討論也歡迎在下方留言讓我知道喔！🙂</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>CI/CD</category>
      </categories>
      <tags>
        <tag>GitHub Actions</tag>
        <tag>act</tag>
        <tag>CI</tag>
        <tag>本地端</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發社群計畫: Golang #54 場社群小聚心得</title>
    <url>/2020/09/25/golang-meetup-54/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2020/golang-54/go-logo.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Tech Evangelist - NiJia Lin。這次很開心再度參加了<mark>Golang 社群第 54 場</mark>的聚會活動，繼上次參加 53 場精彩的社群小聚之後這次總算來到 LINE 的辦公室舉辦，辛苦社群夥伴們的舉辦此次的活動，在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓開發動能更加的盛大！</p>
<ul>
<li>Golang 社群活動頁面： <a href="https://www.meetup.com/golang-taipei-meetup/events/272926722/">https://www.meetup.com/golang-taipei-meetup/events/272926722/</a></li>
</ul>
<p>九月的社群邀請到 Golang Taipei Gathering 社群的朋友來到 LINE 台北辦公室，並且一起來分享與討論 LINE 內部開發流程上針對 Golang 使用上的心得分享。這次的相關資訊可以在 <a href="https://www.meetup.com/golang-taipei-meetup/events/272926722/">Golang Taipei Gathering #54</a> 找到所有的內容介紹。</p>
<p>今晚的 Golang meetup 由 Tech Evangelist － Evan (同時負責本次的社群) 開場，介紹了什麼是 LINE TECH FRESH 校園新星人才計劃。什麼是 LINE TECH FRESH ? LINE 台灣工程團隊每年透過 <a href="https://career.linecorp.com/linecorp/career/detail/20000111/704/5570?classId=&locationCd=TW&page=">LINE TECH FRESH – 技術新星人才計劃</a>，招募資訊科技相關科系，或對此領域有所涉略的大學生 &#x2F; 研究生加入 LINE 團隊進行長期實習 (一年期)，讓同學們能在國際級科技公司中觀摩學習。</p>
<p>更多內容，可以參考這篇文章： <a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></p>
<span id="more"></span>

<h2 id="整場活動影片"><a href="#整場活動影片" class="headerlink" title="整場活動影片"></a>整場活動影片</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/ShZsxFl0Ph4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><script async class="speakerdeck-embed" data-id="2865bb1c091b4210b4852bb76828a769" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE MUSIC 是一個強大且應用許多工具的服務，講者 - Wei 在本次社群分享中 Focus 在使用 Golang 的細節</p>
<blockquote>
<p>很多人會很好奇 LINE MUSIC 有什麼長處？可以參考官方部落格的這篇(<a href="http://official-blog.line.me/tw/archives/83474706.html">【LINE MUSIC】獨家去人聲跟唱 歌神換你當！</a>)。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="28" data-id="6e0e7afe98124bf08f13f200f1b45010" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>此投影片為其他分享會中提到的部分</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="3" data-id="2865bb1c091b4210b4852bb76828a769" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>從 Agenda 中即可得知 MUSIC 為了讓整題服務更加順暢並因應不同的使用情境而套用相當多的工具，在這次的分享中也一一介紹每個工具是如何選擇且應用於當前的微服務。</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="2865bb1c091b4210b4852bb76828a769" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在這張架構圖中清楚的展示在使用 golang 的微服務中，每個服務是透過何種流程去達到互相溝通的階段</p>
<p>外部的部分則分有<mark>Web</mark>、<mark>APP</mark>、<mark>External Resource</mark>(第三方資源)</p>
<ul>
<li>Web: 由於介面上相較 APP 來說比較複雜，因此在大部分的情況下會選用 GraphQL 增加彈性提供介面讓前端開發者可以有較多的選項去索取資源。<ul>
<li>推薦套件: <a href="https://github.com/99designs/gqlgen">99designs&#x2F;gqlgen</a>，並且很快地整合進 Gin 當中</li>
</ul>
</li>
<li>App: 因為介面大小較受限，因此大部分情況下是提供 RESTful API 讓 App 開發者去介接。</li>
<li>External Resource: 當合作廠商更新了資源(ex: 音樂、歌手)時，為了確保資源的完整度則選擇透過 WebSocket 讓兩邊的 Server 溝通。</li>
</ul>
<p>內部部分：</p>
<ul>
<li>使用 [Gin] 框架來當作 API Gateway 介接前端的需求。<ul>
<li>在 Routing 可以很快速的劃分 Group 讓 Controller 共用。</li>
<li>客製化 Middleware 很方便。</li>
</ul>
</li>
<li>使用 gRPC 溝通內部服務降低 Response time(<a href="https://github.com/grpc/grpc-go">grpc-go</a>)。</li>
<li>因為是為微服務，因此相呼叫 API 是必要的，講者推薦使用 <a href="https://github.com/go-resty/resty">resty</a>，且還能客製化 Before &amp; After 的 Middleware。</li>
</ul>
<script async class="speakerdeck-embed" data-slide="19" data-id="2865bb1c091b4210b4852bb76828a769" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>Database 的部分使用 <a href="https://github.com/go-gorm/gorm">GORM</a> 來介接 MySQL 加速開發，在使用 Preload、hook、Auto Migration 相關的都很方便。</li>
<li>Redis 部分因為會因應場景處理 cookie、Session、Cache 的部分，這裡推薦使用 <a href="https://github.com/go-redis/redis">go-redis</a>。</li>
<li>Kafka 大多處理 Event log 的部分，因為已 Log 的使用情境不需要即時進資料庫，因此使用 Queue 當作 Middleware 降低資料庫的負擔，這裡推薦使用 <a href="https://github.com/Shopify/sarama">Shopify&#x2F;sarama</a>，使用情境的流程圖參考以下簡報：</li>
</ul>
<script async class="speakerdeck-embed" data-slide="41" data-id="2865bb1c091b4210b4852bb76828a769" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>前面提到了有使用 WebSocket 來介接資源，而 Server 端則是使用 <a href="https://github.com/olahol/melody">melody</a> 來起服務。</li>
</ul>
<p>在這個微服務剛起的時候講者是參考 <a href="https://github.com/golang-standards/project-layout">golang-standards&#x2F;project-layout</a> 結構來建立所有的目錄檔案，藉由集結眾人意志貢獻的 project 也可以代表 LINE 是很重視參與 Open Source 的相關使用。</p>
<p>每段程式中會有生命週期，當開發者在使用特定程式去相依注入(Dependency Injection)讓 Code 可以處理事件前後所需要做的相關功能(ex: 顯示錯誤 log 時可以發送 <a href="https://sentry.io/welcome/">Sentry</a>)，以下兩個套件可以參考 👍</p>
<ul>
<li>dig: <a href="https://github.com/uber-go/dig">https://github.com/uber-go/dig</a></li>
<li>fix: <a href="https://github.com/uber-go/fx">https://github.com/uber-go/fx</a></li>
</ul>
<p>上述介紹了許多在開發上使用工具的套件，最後一定要寫測試來確保自己交付的程式碼是具有可靠性，這邊講者就推薦 <a href="https://github.com/stretchr/testify">testify 套件</a> 與 <a href="https://github.com/smartystreets/goconvey">goconvey</a> 來操作測試相關的操作。</p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>雖然以上介紹了在 LINE MUSIC 裡使用的各種套件，但在 LINE 裡面審查 Open Source 是很嚴格的，會有相關專業同仁確保 Source code 沒有資安上的問題才可以使用，因此在這次 LINE MUSIC 的講者一次提供這個大補包介紹服務中的套件，若你也有介接相關的應用不妨參考一下 LINE MUSIC 參考過的套件吧！🙂</p>
<blockquote>
<p>大家也來使用 <a href="https://music-tw.line.me/">LINE MUSIC</a> 體驗一下由我們自己打造的音樂平台服務吧！</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>因為有大家對於社群的支持才有這麼精彩的議程可以聆聽，身為場地提供方也很開心看到大家如此熱情地交流與享用美食，讓整個場地都熱絡了起來！歡迎大家踴躍參加不同的社群讓開發者文化風氣可以更加的活躍！😊</p>
<p>而在這次的 Keynote 中這次好不容易可以聽到 LINE MUSIC 團隊的成員為大家來分享服務如何運作以及已上線服務服役的套件們，相信對於來參加的開發者們可以帶來不小的幫助，尤其這些套件也是經由專業的 LINE 同仁的審查才可以使用，希望透過本篇的介紹能讓大家可以更快速的了解為什麼要使用它們。</p>
<p>若對相關服務還有興趣的話請大家持續關注我們喔！立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>研討會</tag>
        <tag>DevRel</tag>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>【GDG】Google I/O 2022 Extended 線下活動分享</title>
    <url>/2022/06/30/google-io-extended-2022/</url>
    <content><![CDATA[<p><img src="https://user-images.githubusercontent.com/6940010/176736874-e16463da-d1a3-4de0-9ffa-669ba78a5417.jpg" alt="S__3801091"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>上次參加外部活動時大概是四月多了，因為疫情關係讓這幾個月沒辦法參加實體活動，這次參加了 Google I&#x2F;O 2022 extended 的線下活動，透過這次文章快速記下一些現場有聽到的內容～</p>
<p>活動連結：<a href="https://gdg.community.dev/events/details/google-gdg-cloud-taipei-presents-gdgcloud-taipei-meetup-io-2022-extended-cloud-edition/">https://gdg.community.dev/events/details/google-gdg-cloud-taipei-presents-gdgcloud-taipei-meetup-io-2022-extended-cloud-edition/</a></p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><img src="https://user-images.githubusercontent.com/6940010/176736858-8d6c21df-54d6-4d97-8614-e60b04226d43.jpg" alt="S__3801093"></p>
<h2 id="What’s-new-in-the-latest-Serverless-World"><a href="#What’s-new-in-the-latest-Serverless-World" class="headerlink" title="What’s new in the latest Serverless World?"></a>What’s new in the latest Serverless World?</h2><p>開場稍微介紹了 Serverless 以及 Kubernetes 大致使用場景與面對的方向：</p>
<ul>
<li>Serverless -&gt; Developer 導向，只要把 code 寫完推上去就能使用<ul>
<li>過去也有寫過一些 Serverless 的文章，<a href="https://nijialin.com/tags/Serverless/">歡迎參考</a></li>
</ul>
</li>
<li>kubernetes -&gt; 較針對 Infra manager，需要管理各種應用場景，針對不同需求提供方案</li>
</ul>
<p>接著簡介帶入產品，把用戶常見 FAQ 分享給大家，這裡主要重點就是在使用時，要幫使用者顧跳槽的東西(彈性)，也要顧及到方便性與 Downtime 的部分。</p>
<p>接下來提供了一些在官網上也有的一些範例，跟大家說現在 gcloud 方便程度到哪。雖然現在會寫 Dockerfile 的人也不少，但如果可以讓開發者(Developer)把心思放在開發上，讓服務來幫忙寫 Dockerfile 速度就會更快了！因此這邊講者就用類似下方的指令到一個自己寫的範例 project，讓 gcloud 自動去幫 Golang 語言的程式跑出容器並部署上。</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">gcloud <span class="keyword">run</span><span class="bash"> deploy NAME --<span class="built_in">source</span> .</span></span><br></pre></td></tr></table></figure>

<p>接著就開始講到一些藍綠部署的切換機制，透過 gsutil 並打上 <code>--tag green</code> 去標註，最後透過範例以及一些指令去逐漸將趴數提高，把用藍的部分流量逐步轉到綠的身上，真的不行也可以 rollback 這樣！</p>
<h3 id="eventarc"><a href="#eventarc" class="headerlink" title="eventarc"></a>eventarc</h3><p>接下來聽到這一部份我也覺得很有興趣，它可以監聽到 Google Cloud 當中許多的服務當做了些什麼事情時，可以去監聽他們之後，把訊號打到後面的服務，這邊講者用 Cloud Storage 做範例，丟一個像是 Excel 的檔案(日常行政常見)，觸發到 eventarc 之後接著 Workflow 處理相關流程，再把內容丟到 Cloud Run 把訊號丟出來，做到常見的 Pub&#x2F;Sub 相關事情，Demo 中也有類似以下：</p>
<ul>
<li>方便性：用 UI 就可以設定的東西</li>
<li>可用性：還可以接 loadbalancer<ul>
<li>不同區域的 cloud run，接到同一個 loadbalancer，會自動認區域</li>
</ul>
</li>
</ul>
<h4 id="解決的問題"><a href="#解決的問題" class="headerlink" title="解決的問題"></a>解決的問題</h4><p>以前都需要再透過外網繞一圈結果是打回 GCP 上的內容，現在有個內部 VPC，可以不用繞過外網再進來，加速網路的速度與安全性。</p>
<h3 id="想到的一個點子"><a href="#想到的一個點子" class="headerlink" title="想到的一個點子"></a>想到的一個點子</h3><p>講者提到的流程如下：</p>
<figure class="highlight xl"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">cloud</span> storage 丟到一個檔案 -&gt;</span> <span class="function"><span class="title">eventarc</span> 收到資訊後 -&gt;</span> <span class="function"><span class="title">workflow</span> 接上parser處理內容 -&gt;</span> Cloud run 跑東西</span><br></pre></td></tr></table></figure>

<p>那因為最近有投稿一個 STT 相關的主題，但每次都在等 STT 盼對出來進 DB 時間就去了很多，感覺可以透過這次分享會聽到的流程來達到相關加速開發的需求：</p>
<figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">影片丟上 <span class="function"><span class="title">cloud</span> storage -&gt;</span> <span class="function"><span class="title">eventarc</span> -&gt;</span> <span class="function"><span class="title">cloud</span> run 跑STT -&gt;</span> 轉存 STT 檔案回 cloud storage</span><br></pre></td></tr></table></figure>


<h2 id="AlloyDB-The-best-of-Google-PostgreSQL-compatibility"><a href="#AlloyDB-The-best-of-Google-PostgreSQL-compatibility" class="headerlink" title="AlloyDB, The best of Google + PostgreSQL compatibility"></a>AlloyDB, The best of Google + PostgreSQL compatibility</h2><p><img src="https://user-images.githubusercontent.com/6940010/176736800-7ef83aa0-80c7-4851-a44d-a8970fce28cd.jpg" alt="S__3801094"></p>
<p>以 PostgreSQL 為主體去做的，以下做了些小筆記：</p>
<ul>
<li><p>支援到 14 版本</p>
</li>
<li><p>HA 機制</p>
</li>
<li><p>把 redo 的過程從 memory 改成在 storage 裡面去跑 AlloyDB</p>
<ul>
<li>No checkpoint stalls, 加速擴展性</li>
</ul>
</li>
<li><p>Row Format vs columnar format</p>
<ul>
<li>Row Format: 把一列的東西存一個，ID, Name…存一排，在搜尋上假設要找 ID，就要一列一列找<ul>
<li><code>1,a,AAA 2,b,BBB</code></li>
</ul>
</li>
<li>Cloumnar Format 的存法是把 Key 存一排，名字存一排依此類推，透過這方式就可以快速找到 ID 相關，然後再透過內部機制去取得後續的資料這樣<ul>
<li><code>1,2 a,b AAA,BBB</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>free during public preview，講者有提到GA後就會收費，因為儲存機制不同於 Cloud SQL，相對收費會高些</p>
</blockquote>
<h3 id="Position"><a href="#Position" class="headerlink" title="Position"></a>Position</h3><p>假設都是 4G RAM、1TB硬碟</p>
<ul>
<li>cloud SQL: 這邊用了 Primary, HA 還有一個忘了，這三個地方。</li>
</ul>
<p>在建立時因為機制，會去讀寫實體的硬碟，因此就會需要三個地方就各自會有個 1TB 硬碟(Storage)，讀寫上要去 SYNC 也會有較多的 cost，且 read write 相對 downtime 也比較久：</p>
<ul>
<li>AlloyDB: 跟 cloud SQL 不一樣的部分是三個地方都會分享同一個 Storage，文件中也保證即便硬碟因為人為或伺服器有問題，都不會讓資料不見。<ul>
<li>這邊有另外詢問講者問題，提到資料也會有類似 git 版控的概念，讓大家可能在一些人為因素不小心動到，或是種種原因後，也是一樣可以回到上一版本的資料，跟快照不太一樣，但至少知道自己的資料們還在，損失也會相對少</li>
<li>因為共享同個 Storage，少了多餘的 query 成本花費，速度上也相對 cloud SQL 快上許多，不用再跨一層互相溝通的時間</li>
<li>cloud spanner 讀寫部分可以水平擴展，降低 downtime 的時間，如果剛好量很大還是什麼都可以更快的 consume 掉</li>
</ul>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這次是首次來參加線下 GDG 活動，難得在聽演講同時也可以看看周遭的風景也真的不錯，現場也遇到了許多認識的人，世界真的很小呢(哈)，希望接下來有更多的機會可以到線下跟大家見面！有任何問題歡迎留言讓我知道：）</p>
<p><img src="https://user-images.githubusercontent.com/6940010/176736868-fe6aa721-6893-4279-bcd4-632413f4b9ab.jpg" alt="S__3801095"></p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>GCP</tag>
        <tag>AlloyDB</tag>
        <tag>eventarc</tag>
      </tags>
  </entry>
  <entry>
    <title>【灰階思考】真實世界就只有0跟1嗎？</title>
    <url>/2021/09/05/gray-thinking/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/gray.PNG"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前剛出的當下實在時忙到不可開交，覺得買回來可能是<del>墊泡麵</del>放書架上都不會動的書，所幸在近期有學長借我讓我聞香聞香。</p>
<p>我經常在上班的過程中會收聽股癌的節目(走路 20 分鐘)，節目大多以投資看盤為一個主軸，並分享許多經驗以及獨特的看法給大家，也時常鼓勵大家千萬別聽信別人說的話，一切眼見為憑(當然偶爾有會開賭)，在聽節目的過程中真的受益良多，即使是股市菜雞也能有一定程度的認知，以下就分享這次的讀書心得給大家吧！</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="保持警覺，接受多元"><a href="#保持警覺，接受多元" class="headerlink" title="保持警覺，接受多元"></a>保持警覺，接受多元</h2><p>開始的章節提到這個內容，時常我們在做任何事情時很容易只看到眼前的路，並不會看到周遭是否有其他的東西。以軟體開發來說，市面上流傳了許多心法，TDD、DDD、瀑布開發、敏捷開發、<del>隕石開發</del> 諸多心法，我覺得每種方法只要用對場域一定都是好方法，但也別一意孤行覺得用某方法才是王道等等，否則很容易造就自己視野狹隘，限縮自己的成長。</p>
<blockquote>
<p>公司的師傅之前也有跟實習生們分享 TDD 心法，也慎重提醒大家要保持開闊的心胸去接納不同的開發術，才能讓自己的技能有所提升！😊</p>
</blockquote>
<h2 id="有策略，才能臨危不亂-「藉著投溫層擺脫同溫層」"><a href="#有策略，才能臨危不亂-「藉著投溫層擺脫同溫層」" class="headerlink" title="有策略，才能臨危不亂 - 「藉著投溫層擺脫同溫層」"></a>有策略，才能臨危不亂 - 「藉著投溫層擺脫同溫層」</h2><p>許多時候我們總是習慣在自己習慣的地方走一步算一步，畢竟如果當前已經賺(取)到自己滿足的位置，我們就不太會想改變(me too)。</p>
<p>而書中提到的一個做法:[本來每天吃牛排，改成一三五吃牛排，二四六吃魚排]</p>
<p>讓你維持著還有同溫層的地方，同時也還能嘗新去接觸不同領域(很像分散投資)，當然這也跟健身飲食很像，我們不太可能一開始就直接改全水煮，或是爆算熱量直接控制，直接脫離同溫層可行性實在非常低，因此大家若也想離開同溫層，或許也可以試試類似的方法~</p>
<p>另一方便，因為網路時代的關係，讓我們新增同溫層是非常容易的，過往的時代(小時候)你要切換到另一個同溫層因為資訊量少，許多時候都只能放棄原本的地方跳到新的位置，同時也讓自己很有機會適應不良。</p>
<p>但現在不同了，只要滑鼠點一點就可以到下一個群組(筆者原本在股票，順手就切換到加密貨幣)，如此一來代價很低，而價值很高，獲取的知識量也是別人的好幾倍，應該也是大家平常在做的事情?</p>
<h3 id="講到策略，當然就要-gt-懷疑-了解並動腦"><a href="#講到策略，當然就要-gt-懷疑-了解並動腦" class="headerlink" title="講到策略，當然就要 -&gt; 懷疑, 了解並動腦"></a>講到策略，當然就要 -&gt; 懷疑, 了解並動腦</h3><p>別一意孤行做某件事情，雖然偶爾會撿到便宜(發票中獎…)，但撿到便宜的事情不會天天有，就像拉斯維加斯的賭場一樣，贏的機率都算好了，最終就是為了把你留在賭場，讓你有種誘惑是可以繼續贏錢的感覺，因此在做事情的安排上，就要適度的懷疑並想想看有什麼差異。</p>
<h2 id="小朋友才做選擇，我全都要"><a href="#小朋友才做選擇，我全都要" class="headerlink" title="小朋友才做選擇，我全都要"></a>小朋友才做選擇，我全都要</h2><p>學習上的方式可能會因人而異，這邊我認為我也算是一個雜學派的人類，如書中提到:[重點不是學了什麼，而是有什麼沒學，有什麼致命的冰山是自己還沒發現]，主要就是觀念和知識都應該動態靈活，隨著自己狀態和能力調整，多讓自己去發現新奇的事物或是知識，讓自己在更靈活的在資訊爆炸的時代中優游自如的行動。</p>
<h2 id="贏家特質-樂觀-耐性-實踐並承擔風險"><a href="#贏家特質-樂觀-耐性-實踐並承擔風險" class="headerlink" title="贏家特質 - 樂觀, 耐性, 實踐並承擔風險"></a>贏家特質 - 樂觀, 耐性, 實踐並承擔風險</h2><ul>
<li><strong>樂觀</strong>(不是傻天真): 人生在世本來就是一直失敗，小至小便尿歪，大至投資失敗，但把這些失敗的經驗學起來，讓你也能更正向的向前進。</li>
<li><strong>耐性</strong>: 觀察任何事情本來就不會是一下子就懂為什麼，需要經過許多時間的薰陶，才有辦法讓你在對的時間點獲取該有的報酬。(報酬因事情而定，或許要的就是錢，也可能是某種你想要的東西)</li>
<li><strong>實踐</strong>: 想這麼多，沒做都是白日夢，但在做的過程中要承擔風險，畢竟千算萬算可能沒算到那個失敗，承擔失敗之後再修正自己的策略，重新來過或許就有機會成功。</li>
</ul>
<blockquote>
<p>當然每個策略、判斷內容孰優孰劣，只有適合自己最重要。</p>
</blockquote>
<h2 id="當心知識與經驗得詛咒"><a href="#當心知識與經驗得詛咒" class="headerlink" title="當心知識與經驗得詛咒"></a>當心知識與經驗得詛咒</h2><p>有時候經驗太多，我們會依靠我們累積的這些經驗來判斷事情，雖然大多數的情況下我們都可以迎刃而解，但可能在一個 Edge case 中會讓我們以為判斷是對的，而少了質疑，讓我們失敗收場。</p>
<p>因此即便累積的大量的經驗，在遇到任何事情時還是要停下腳步看一下，多質疑一下當前的判斷，或許可以少走點冤枉路。</p>
<h2 id="新手少少投資"><a href="#新手少少投資" class="headerlink" title="新手少少投資"></a>新手少少投資</h2><p>這邊書上有提到一個很重要的概念，在想投資時要評斷自己當下想投資的內容是什麼，意思是你現在可能投資專業技能是比較好的，也就是薪水成長比投資快時，你應該先去增加投資專業能力，等薪水變高之後再來投資比較穩定。(投資初期沒本金的話會影響到生活等等)</p>
<h2 id="莫非定律"><a href="#莫非定律" class="headerlink" title="莫非定律"></a>莫非定律</h2><p>當我們在某個領域久了，都會有種「<strong>眾人皆醉我獨醒</strong>」的錯覺，任何事情只要有錯的機會，那他就真的有可能會錯，因此在看任何事情時即便有自我判斷能力，但還是要看當前市場(環境)中再去判斷當前局勢。</p>
<h2 id="投資談錢不談情"><a href="#投資談錢不談情" class="headerlink" title="投資談錢不談情"></a>投資談錢不談情</h2><p>這邊時常在 Podcast 中時常聽到股癌提到類似的訊息，有時候我們會被情緒或是立場所影響而讓我們誤判，我們看某件事情(可能是投資或其他的)應該要是一體兩面(或更多面)，從不同角度去分析事情，才可以讓自己的投資或是判斷事情上更不會出錯(當然若出錯就修正策略啦~)。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>上班在路上除了醒腦以外也許到股癌分享的許多投資知識與看到的市場狀態，許多內容也都是反映到真實世界中的某些事情上，當然若有再投資的朋友很歡迎聽，沒投資的朋友也就當作提前了解市場的狀態來聽聽看，或許也能讓大家在真正進入投資圈時走一些冤枉路~ :)</p>
<blockquote>
<p>大家在想任何事情是要多想想看有沒有其他種可能喔! (也是要對自己說)</p>
</blockquote>
]]></content>
      <categories>
        <category>閱讀</category>
      </categories>
      <tags>
        <tag>股癌</tag>
        <tag>Podcast</tag>
        <tag>灰階思考</tag>
      </tags>
  </entry>
  <entry>
    <title>設定 GTM &amp; GA 來觀察你的 Hexo 部落格流量！</title>
    <url>/2022/12/30/google-tag-manager-hexo-track/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>當你完成了一個網頁、部落格之後，當然最期待的就是開始有用戶開始使用啦！但過去在使用 GA3 來協助監控流量時很方便，只要放入 UA-xxxx + Script 基本上就完成了。但在一陣子之後需要搬到 GA4 + GTM 上，這讓許多記憶還停在舊方法上的人頭都很痛，因此以下就由頭痛的筆者帶各位操作一次新的 GTM + GA4 來放入 Hexo 的部落格中囉！</p>
<ul>
<li>Google Tag Manager 以下簡稱 GTM</li>
<li>Google Analytics 簡稱 GA</li>
</ul>
<h2 id="流程圖"><a href="#流程圖" class="headerlink" title="流程圖"></a>流程圖</h2><p><img src="https://nijialin.com/images/2022/GTM/GTMflow.png"></p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="1-建立-GTM"><a href="#1-建立-GTM" class="headerlink" title="1. 建立 GTM"></a>1. 建立 GTM</h2><p><img src="https://nijialin.com/images/2022/GTM/1createGTM.png"></p>
<p>首先先到 <a href="https://tagmanager.google.com/#/home">Google Tag Manager 首頁</a>，首次來到這裡的人應該都是空白的，因此按下圖片上的<code>建立帳戶</code>的按鈕來建立一個，當中都是填一些基本資訊，主要要寫一個可辨別的名稱，並選擇 Web。</p>
<h2 id="2-GTM-Code-在哪呢？"><a href="#2-GTM-Code-在哪呢？" class="headerlink" title="2. GTM Code 在哪呢？"></a>2. GTM Code 在哪呢？</h2><p><img src="https://nijialin.com/images/2022/GTM/2GTMcode.png"></p>
<p>建立完成之後，點選剛剛的帳戶(a.k.a <strong>容器名稱</strong>)，在一個琳瑯滿目的畫面中會不好找 GTM 程式碼的位置，在圖片上的箭頭指示位置，也就是 GTM Code 名稱的位置給他點下去，這邊的程式碼內容就是要提供給前端工程師塞入 HTML 的部分，因此要記得這個位置喔！</p>
<h2 id="3-Hexo-中怎麼放入-GTM-Code"><a href="#3-Hexo-中怎麼放入-GTM-Code" class="headerlink" title="3. Hexo 中怎麼放入 GTM Code?"></a>3. Hexo 中怎麼放入 GTM Code?</h2><p><img src="https://nijialin.com/images/2022/GTM/3Hexo.png"></p>
<p>在我的 Hexo 部落格中，要按造以下的目錄結構找到 head 的位置塞入 GTM code:</p>
<figure class="highlight xquery"><table><tr><td class="code"><pre><span class="line">themes &gt; <span class="keyword">next</span> &gt; layout &gt; _partials &gt;<span class="built_in"> head</span> &gt;<span class="built_in"> head</span>.swig</span><br></pre></td></tr></table></figure>

<p>找到檔案之後，因為官方文件上有寫要放在 <head> 附近，接著在 <code>&lt;meta&gt;</code> 前後放上，讓 GTM js code 可以預載入像是以下的範例：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">...省略</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;theme-color&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&#123;&#123; theme.android_chrome_color &#125;&#125;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;generator&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Hexo &#123;&#123; hexo_version &#125;&#125;&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Google Tag Manager --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  (<span class="function"><span class="keyword">function</span> (<span class="params">w, d, s, l, i</span>) </span>&#123;</span></span><br><span class="line">    w[l] = w[l] || [];</span><br><span class="line"><span class="javascript">    w[l].push(&#123; <span class="string">&#x27;gtm.start&#x27;</span>: <span class="keyword">new</span> <span class="built_in">Date</span>().getTime(), <span class="attr">event</span>: <span class="string">&#x27;gtm.js&#x27;</span> &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> f = d.getElementsByTagName(s)[<span class="number">0</span>],</span></span><br><span class="line">      j = d.createElement(s),</span><br><span class="line"><span class="javascript">      dl = l != <span class="string">&#x27;dataLayer&#x27;</span> ? <span class="string">&#x27;&amp;l=&#x27;</span> + l : <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    j.async = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">    j.src = <span class="string">&#x27;https://www.googletagmanager.com/gtm.js?id=&#x27;</span> + i + dl;</span></span><br><span class="line">    f.parentNode.insertBefore(j, f);</span><br><span class="line"><span class="javascript">  &#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>, <span class="string">&#x27;script&#x27;</span>, <span class="string">&#x27;dataLayer&#x27;</span>, <span class="string">&#x27;GTM-YOUR_GTM_CODE&#x27;</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- End Google Tag Manager --&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;%- if theme.favicon.apple_touch_icon %&#125; ...省略</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考文章： <a href="https://blog.balabambe.com/2021/07/29/Hexo-%E6%89%8B%E5%8B%95%E6%96%B0%E5%A2%9E-Google-Analytics%E3%80%81Google-Tag-Manager-%E7%9A%84%E8%BF%BD%E8%B9%A4%E7%A2%BC/">Hexo 手動新增 Google Analytics、Google Tag Manager 的追蹤碼</a></p>
</blockquote>
<h2 id="4-那我要怎麼設定-GTM-監聽事件呢？"><a href="#4-那我要怎麼設定-GTM-監聽事件呢？" class="headerlink" title="4. 那我要怎麼設定 GTM 監聽事件呢？"></a>4. 那我要怎麼設定 GTM 監聽事件呢？</h2><p><img src="https://nijialin.com/images/2022/GTM/4createevent.png"></p>
<p>到左邊的<code>代碼</code>頁面，點選新增來建立事件。</p>
<p><img src="https://nijialin.com/images/2022/GTM/5addGAcode.png"></p>
<p>點選<code>代碼設定</code>區塊，然後選擇 GA4 事件來加入你的 GA，左上角的名字我就先取名 <strong>blog-onload</strong>，意思就是在載入的同時會使用到的事件。</p>
<h2 id="5-那我的-GA-在哪邊？"><a href="#5-那我的-GA-在哪邊？" class="headerlink" title="5. 那我的 GA 在哪邊？"></a>5. 那我的 GA 在哪邊？</h2><p><img src="https://nijialin.com/images/2022/GTM/6updatetoGA4.png"></p>
<p>一般你會用到這邊的話通常要嘛被強迫升級或是你已經使用 GA 許久(如圖)，如果尚未升級 GA4，那麼他會跳出通知說 2023&#x2F;07&#x2F;01 將會停止處理新資料，因此來到你的 GA 畫面上之後趕快點選右上角的部分來更新你的 GA。</p>
<h2 id="6-點哪更新我的-GA？"><a href="#6-點哪更新我的-GA？" class="headerlink" title="6. 點哪更新我的 GA？"></a>6. 點哪更新我的 GA？</h2><p><img src="https://nijialin.com/images/2022/GTM/7UpdateGA4.png"></p>
<p>點選中間<code>開始使用</code>，GA 就會自動幫你升級了～</p>
<p><img src="https://nijialin.com/images/2022/GTM/8completeupdateGA4.png"></p>
<p>如圖所示，看到下方有 <code>GA4 資源名稱</code>對應<code>資源ID</code>就代表更新成功嚕！</p>
<h2 id="7-GA-標準疑問之一-阿我的流量咧？"><a href="#7-GA-標準疑問之一-阿我的流量咧？" class="headerlink" title="7. GA 標準疑問之一: 阿我的流量咧？"></a>7. GA 標準疑問之一: 阿我的流量咧？</h2><p><img src="https://nijialin.com/images/2022/GTM/9wait24h.png"></p>
<p>相信做到這個步驟的各位應該已經心急如焚，怎麼不趕快給我看一點流量？？都不確定到底能不能出去撒廣告、網站到底有沒有流量啊？</p>
<p>但 GA 這邊收集時間基本上是以 24 小時為計，因此若要看到你的資料要嘛等時間，不然就按造接下來的步驟用 Debug mode 來測試 GTM 跟 GA 有沒有通嚕！</p>
<h2 id="8-回到剛剛沒放上-GA-的-GTM-事件頁面"><a href="#8-回到剛剛沒放上-GA-的-GTM-事件頁面" class="headerlink" title="8. 回到剛剛沒放上 GA 的 GTM 事件頁面"></a>8. 回到剛剛沒放上 GA 的 GTM 事件頁面</h2><p><img src="https://nijialin.com/images/2022/GTM/10addonloadeventwithRoottrigger.png"></p>
<p>把你剛剛的 GA (G-xxxxx) 放入之後，並在下方的觸發事件中選擇<code>所有元素</code>，並設定名稱為 Root Trigger，意思就是進頁面之後開始觸發的條件。</p>
<p><img src="https://nijialin.com/images/2022/GTM/11whereisroottrigger.png"></p>
<p>亦或是你還沒建立畫面，可以找 GTM 主畫面中選擇左邊的<code>觸發條件</code>來建立你的 Root Trigger。</p>
<h2 id="針對特定按鈕想追蹤怎辦？"><a href="#針對特定按鈕想追蹤怎辦？" class="headerlink" title="針對特定按鈕想追蹤怎辦？"></a>針對特定按鈕想追蹤怎辦？</h2><p><img src="https://nijialin.com/images/2022/GTM/121findclass.png"></p>
<p>假設我看看部落格左邊的欄位是否有人來按，滑鼠滑過去右鍵檢查，先找看看 id 或 class，且盡量以 id 為主，因為他是唯一值，在觀察流量上才會更準確。其次當然 class 也可以，不過同一層欄位可能就會一起被觀察到，但若像我一樣沒差的話那就沒問題嚕！</p>
<p><img src="https://nijialin.com/images/2022/GTM/122addevent.png"></p>
<p>到變數的地方，右邊可以<code>新增</code>來建立一個變數，因為 class 需要另外建立。<br><img src="https://nijialin.com/images/2022/GTM/123addclassevent.png"></p>
<p>按造圖片上的內容，我們來把變數的地方放入 class 的數值。</p>
<p><img src="https://nijialin.com/images/2022/GTM/124addnewtriggerevent.png"></p>
<p>建立完成變數之後，回到<code>代碼</code>的地方，去針對想監聽的 event 中去選上，然後數值在變數那已經設定過了，這邊就不用再多跑一次嚕！</p>
<h2 id="大功告成！"><a href="#大功告成！" class="headerlink" title="大功告成！"></a>大功告成！</h2><p><img src="https://nijialin.com/images/2022/GTM/125done.png"></p>
<p>到了這邊基本上只要按右上角提交之後就完成啦，而接下的部分就是有關於要怎麼測試 GTM &amp; GA 到底有沒有實際成功，但因這篇幅實在太長了～測試的部分留給下一篇吧！</p>
<h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2><h3 id="以前我都要放-UA-xxx，那現在我-GA-要放哪？-G-xxxx"><a href="#以前我都要放-UA-xxx，那現在我-GA-要放哪？-G-xxxx" class="headerlink" title="以前我都要放 UA-xxx，那現在我 GA 要放哪？(G-xxxx)"></a>以前我都要放 UA-xxx，那現在我 GA 要放哪？(G-xxxx)</h3><p>只要 GTM 裡面有設定觸發之後打到對應的 GA 後，就不用管現在的 G-xxx 追蹤碼了，因為當 GTM 觸發之後他就會把相關流量打給 GA，因此給工程師 GTM 追蹤碼之後就可以開始進後台做事啦：）</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><h1 id="參考好文"><a href="#參考好文" class="headerlink" title="參考好文"></a>參考好文</h1><ul>
<li><a href="https://doordata.tw/blog/gtm-tutorial-for-beginner">GTM 是什麼？入門必看的 Google Tag Manager 代碼管理工具設定教學！</a></li>
</ul>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>GTM</tag>
        <tag>GA</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Hexo 的 Next 樣板中引入 utterances 的留言區 | GitHub Issue</title>
    <url>/2021/05/15/hexo-utterances-comment/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>早些日子前(也才去年)，我還是使用 Facebook 的留言，因為一般人理論上都已經登入過 Facebook，透過串接 Plugin 馬上就可以讓用戶留言，實在是挺方便。但隨時時間的推演，由於 Hexo 是由 JavaScript 所構成的，且因為相互依賴的套件許多，被迫一定要將 Hexo 升級版本(好像是 3 -&gt; 5)，導致我的留言區直接全毀…</p>
<p>近期橫空出世(<del>明明是自己孤陋寡聞</del>)了一個 TypeScript 所構成的留言區套件 <a href="https://utteranc.es/">utterances</a>，它是幹嘛得呢？它透過串接 GitHub issue 的方式來完成留言區的功能(需要 GitHub 帳號)，簡單來說如果在文章底下留言的話，他會同步在該 GitHub 專案留下一個 issue 同步留言。</p>
<span id="more"></span>

<p>至於為什麼要用它呢？因為<a href="https://nijialin.com/">我的部落格</a>全部東西都是放在 GitHub 上面(by Hexo)，最後在透過 GitHub 幫我顯示部落格，因此在這次選擇上就切換成跟 GitHub 有連結的套件作為我留言區的選擇。</p>
<ul>
<li>使用 Jekyll 的話可以<a href="https://www.evanlin.com/jekyll-remove-disqus/">參考此篇</a></li>
</ul>
<h1 id="引入套件"><a href="#引入套件" class="headerlink" title="引入套件"></a>引入套件</h1><ul>
<li><a href="https://utteranc.es/">utterances</a>: <a href="https://utteranc.es/">https://utteranc.es/</a></li>
<li>GitHub: <a href="/">https://github.com/utterance/utterances</a></li>
</ul>
<h1 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h1><ul>
<li>hexo: 5.2.0<ul>
<li>Next 模組</li>
</ul>
</li>
<li>macOS: Big Sur</li>
<li>NodeJS: v14.15.5</li>
<li>npm: 6.14.11</li>
</ul>
<h1 id="步驟"><a href="#步驟" class="headerlink" title="步驟"></a>步驟</h1><ol>
<li>進入 <a href="https://utteranc.es/">utterances</a> 後滑到 Repository 的地方，將 issue 要放的專案(repo)名稱放上去，例如： <strong>louis70109&#x2F;nijia-blog-backup</strong> ，千萬別放上網址喔！</li>
</ol>
<p><img src="https://nijialin.com/images/2021/hexo-utt/s1.png" alt="repo setting"></p>
<p>這邊可以設定當留言被觸發要發 issue 時，想要放的內容，以第一項來說，標題會有用網址路徑名稱來顯示</p>
<p><img src="https://nijialin.com/images/2021/hexo-utt/s2.png" alt="issue map"></p>
<p>留言之後會出現的樣式：<br><img src="https://nijialin.com/images/2021/hexo-utt/s2-2.png" alt="issue github"></p>
<p>這部分則是再發 issue 時要不要幫忙加上<strong>標籤</strong>(Label)，以及放入部落格時候的<strong>樣式</strong>(Theme)<br><img src="https://nijialin.com/images/2021/hexo-utt/s3.png" alt="label and theme"></p>
<p>最後會給你一段網址，透過 JavaScript 的方式在網頁上幫忙渲染，透過他們的程式幫你引入留言區(<code>https://utteranc.es/client.js</code>)至部落格，其餘內容則是在上述步驟時就會自動產生了，只要把這段放入專案中即可。<br><img src="https://nijialin.com/images/2021/hexo-utt/s4.png" alt="html tag"></p>
<p>有了程式碼之後，要開始找 Hexo 的 Next 要放的位置，以我的專案 <a href="https://github.com/louis70109/nijia-blog-backup">nijialin-blog-backup</a> 來說，照著下面的資料夾結構往下</p>
<blockquote>
<p>theme -&gt; next -&gt; layout -&gt; _partials -&gt; comments.swig</p>
</blockquote>
<p>會找到 swig 的檔案(格式可<a href="https://zh.wikipedia.org/wiki/SWIG">參考 wiki</a>)<br><img src="https://nijialin.com/images/2021/hexo-utt/5.png" alt="hexo structure"></p>
<p>當中找到如以下的判斷式：</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> page.comments %&#125;</span></span><br></pre></td></tr></table></figure>

<p>把剛剛在建立好的留言板程式複製並貼在 if 判斷是下面</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://utteranc.es/client.js&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">repo</span>=<span class="string">&quot;[ENTER REPO HERE]&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">issue-term</span>=<span class="string">&quot;pathname&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">theme</span>=<span class="string">&quot;github-light&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">async</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最後在 themes -&gt; next -&gt; _config.yml 的最下面加入:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">utterances:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>部署上去之後，進去部落格就可以看到結果啦！</p>
<p><img src="https://nijialin.com/images/2021/hexo-utt/result.png" alt="comment result"></p>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>utterances</tag>
        <tag>GitHub</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>【GCP】如何讓 Cloud Run 持續執行背景程式</title>
    <url>/2023/04/04/how-cloud-run-continuely-cronjob-background/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="冷啟動-Cold-start-amp-Cloud-Run-如何處理？"><a href="#冷啟動-Cold-start-amp-Cloud-Run-如何處理？" class="headerlink" title="冷啟動(Cold start) &amp; Cloud Run 如何處理？"></a>冷啟動(Cold start) &amp; Cloud Run 如何處理？</h1><p><a href="https://cloud.google.com/serverless?hl=zh-tw">Serverless 架構</a>的冷啟動（cold start）是指當一個沒有被使用的函式需要被調用時，需要先啟動一個新的容器或虛擬機器來執行該函式，這個啟動的期間被稱為冷啟動時間。</p>
<p>但我們在寫應用的時候通常都會帶有一些 cronjob 在背景跑(備份、爬蟲…)，但在 Serverless 上都會遇到 Cold Start 的問題，在這種情況下因為資源都會被釋放掉，如果這些 cronjob 是比較重的且 Severless RAM&amp;CPU 又放比較少， cronjob 時邊爬蟲邊異地備份又讀寫資料庫(~~ 誇張了點 ~~)，這情況下可能會因為資源瞬間不夠導致功能異常。</p>
<span id="more"></span>

<blockquote>
<p>官方也有提供以下以前不能操作的範例給大家：</p>
<ul>
<li>Executing background tasks and other asynchronous processing work after returning responses</li>
<li>Leveraging monitoring agents like OpenTelemetry that may assume access to CPU in background threads</li>
<li>Using Go’s Goroutines or Node.js async, Java threads, and Kotlin coroutines</li>
<li>Moving Spring Boot apps that use built-in scheduling&#x2F;background functionality</li>
<li>Listening for Firestore changes to keep an in-memory cache up to date</li>
</ul>
</blockquote>
<p>而一般初期會使用 Serverless 通常就是為了省錢、省管理成本才來使用，遇到了上述情況下通常有可能會另起容器或自身一直 ping，來讓容器可以持續活著，但這樣就不就增加了 request &amp; 容器成本了？</p>
<h1 id="如何處理與使用它？"><a href="#如何處理與使用它？" class="headerlink" title="如何處理與使用它？"></a>如何處理與使用它？</h1><p>在 Cloud Run 上有個 <strong>隨時分配 CPU</strong> 功能(a.k.a CPU is always allocated)可以使用，除了可以在 UI 上設定之外，身為開發者一定要知道如何在部署的時候加上指令才行，請參考以下方式：</p>
<p>參考<a href="https://cloud.google.com/run/docs/configuring/cpu-allocation#command-line">開發者文件</a>，可以在部署完之後、當下去加上參數<code>--no-cpu-throttling</code>來達到隨時有 CPU 資源的狀態，結果會如下圖所示。</p>
<blockquote>
<p>Example: <code>gcloud run deploy YOUR_SERVICE --source . --no-cpu-throttling</code></p>
</blockquote>
<p><img src="https://nijialin.com/images/2023/gcp/cpu_allocated.png"></p>
<h1 id="花費問題？"><a href="#花費問題？" class="headerlink" title="花費問題？"></a>花費問題？</h1><p><a href="https://storage.googleapis.com/gweb-cloudblog-publish/images/cloud_run_container.max-1000x1000.jpg"></a></p>
<p>照<a href="https://cloud.google.com/blog/products/serverless/cloud-run-gets-always-on-cpu-allocation?hl=en">官方文件</a>上所述，在啟動<strong>隨時分配 CPU</strong>的狀態下，費用(charged)比照原本容器都持續活著狀態， CPU 會 -25%、Memory 則會 -20%，看起來應該還挺划算的，因此若有相關需求或許也可以參考看看喔！</p>
<blockquote>
<p>但這功能目前已經 Release，文件上可能 out off date，包括指令也無需加上 beta，因此在實際使用時還是要關注一下帳單跟相關說明文件喔！</p>
</blockquote>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><a href="https://storage.googleapis.com/gweb-cloudblog-publish/images/excute_env.png"></a></p>
<p>如果在專案需求越來越多時，開始有需要處理這些冷啟動的問題，可以參考上圖的地方，選用適合場景的選項，讓專案可以更符合公司的需求。</p>
<blockquote>
<p>中文介面步驟: 選到特定容器 &gt; 編輯及部署新的修訂版本 &gt; 執行環境</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>GCP 對於平常有在寫一些小專案是非常方便的，只要把 Dockerfile 寫好之後，後續部署都交給 gcloud 的指令來操作即可，即可部署在 Cloud Run 上(Base on K-Native)，介面上也很方便可以點選許多功能，甚至可以串接 GitHub 來做自動部署，這些都相當方便呢！如果你近期也像我一樣 Heroku 因為收錢在搬家，或許可以考慮到 GCP 上，對於流量不多的小專案來說，這些花費應該算是不多。</p>
<blockquote>
<p>若文章中有勘誤，請留言跟我說唷！謝謝大家觀賞～😊</p>
</blockquote>
]]></content>
      <categories>
        <category>GCP</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>GCP</tag>
        <tag>Cloud Run</tag>
        <tag>Cold Start</tag>
      </tags>
  </entry>
  <entry>
    <title>如何在本地端建立 SSL 認證(開發用) | 在 vite config 中引入</title>
    <url>/2022/05/06/how-to-build-ssl-localhost/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>有時我們在開發一些前端頁面，串接一些平台服務並需要是 <code>https</code> 在瀏覽器上顯示，不過這對一些前端開發者，或是像我這種還沒有 Server 的人來說就很困擾，以下就介紹一下如何在 Mac 本地端使用，最後再使用 vite(Vue) 做範例。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><blockquote>
<p>參考來自 <a href="https://web.dev/how-to-use-local-https/">web.dev</a>，可惜當中沒有 Vue 的範例 🧐</p>
</blockquote>
<h2 id="安裝-mkcert-於-MacOS"><a href="#安裝-mkcert-於-MacOS" class="headerlink" title="安裝 mkcert 於 MacOS"></a>安裝 mkcert 於 MacOS</h2><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>mkcert</span><br><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>nss <span class="comment"># If Firefox</span></span><br></pre></td></tr></table></figure>

<h2 id="透過-mkcert-安裝-CA-在電腦上"><a href="#透過-mkcert-安裝-CA-在電腦上" class="headerlink" title="透過 mkcert 安裝 CA 在電腦上"></a>透過 mkcert 安裝 CA 在電腦上</h2><p><img src="https://nijialin.com/images/2022/line-api-update-1/3.png"></p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">mkcert -<span class="keyword">install</span></span><br></pre></td></tr></table></figure>

<h2 id="建立-localhost-的兩把-pem"><a href="#建立-localhost-的兩把-pem" class="headerlink" title="建立 localhost 的兩把 pem"></a>建立 localhost 的兩把 pem</h2><p><img src="https://nijialin.com/images/2022/line-api-update-1/4.png"></p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">mkcert localhost</span></span><br></pre></td></tr></table></figure>

<h2 id="透過-mkcert-建立兩個-localhost-pem-key"><a href="#透過-mkcert-建立兩個-localhost-pem-key" class="headerlink" title="透過 mkcert 建立兩個 localhost pem key"></a>透過 mkcert 建立兩個 localhost pem key</h2><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">mkdir -p cert &amp;&amp; mkcert -key-<span class="keyword">file</span> .<span class="regexp">/cert/</span>key.pem -cert-<span class="keyword">file</span> .<span class="regexp">/cert/</span>cert.pem <span class="string">&#x27;localhost&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="在-vite-config-js-vue-config-js-中設定位置"><a href="#在-vite-config-js-vue-config-js-中設定位置" class="headerlink" title="在 vite.config.js || vue.config.js 中設定位置"></a>在 <code>vite.config.js</code> || <code>vue.config.js</code> 中設定位置</h2><p>以 vite 或是 vue 的資料夾結構中，只要有標題的 config，就可以在框架載入時放入一些設定，廢話不多說上扣：</p>
<script src="https://gist.github.com/louis70109/b77b22ece137fbc1945153a9d1767b23.js"></script>

<p>把相關的位置放上之後就會啟動 Server (<code>npm run serve</code>…之類的)， pem 就會被吸進去嚕！ </p>
<blockquote>
<p>範例： <code>https://localhost:8080</code></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以上這算是最近在開發 LIFF 時因為需要 SSL 時找到的做法，雖然後來因為需求可能還是需要其他的解法(heroku, ngrok, 自己養 Server 轉網址…)，但如果串接一些服務時，或是自家後端規定一定要帶著 SSL 才能訪問，不如參考這邊文章吧！希望對各位有幫助😁</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>SSL</tag>
        <tag>mkcert</tag>
        <tag>https</tag>
        <tag>vue</tag>
        <tag>vite</tag>
      </tags>
  </entry>
  <entry>
    <title>How to debug Python app by Pycharm</title>
    <url>/2021/04/28/how-to-debug-python-by-pycharm-1/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p>I wrote dynamic programming language from working to now. Most of my time also use <code>print</code>(Python), <code>console.log</code>(JS), <code>puts</code>(Ruby) to debug any scripts or web apps. from my before experience, I only know Ruby had <code>byebug</code> package which could write a <code>byebug</code> line in your code and run it, it will show something information that you could debug in the terminal. </p>
<blockquote>
<p>This is my first know debug method in dynamic languages … XD</p>
</blockquote>
<span id="more"></span>


<p>In this article, I will take you to know how to debug Python apps by Pycharm which was I learn recently…😆</p>
<ol>
<li>Open your project and click the dropdown button</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/0.png"></p>
<ol start="2">
<li>Select <code>Edit Configurations</code>.</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/1.png"></p>
<ol start="3">
<li><p>Click <code>＋</code> ➡️ Select <code>Python</code> ➡️ Choose your <code>script</code> or <code>web entrance file</code> ➡️ Set <code>Environment Variables</code> if your app needs ➡️ <code>Apply</code> and <code>OK</code>.<br><img src="https://nijialin.com/images/2021/debug-python/2.png"></p>
</li>
<li><p>Click <code>+</code> adding a variable, fill the variable key and value column.</p>
</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/4.png"></p>
<ol start="5">
<li>The name would map your task name.</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/3.png"></p>
<ol start="6">
<li>Finally, you will get a task which like following name <code>api debug</code>(It’s my task name).</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/6.png"></p>
<ol start="7">
<li>Put red icon in a line(or two red icon become a scope), Click the <code>bug button</code> to start the debug mode🎉</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/5.png"></p>
<ol start="8">
<li>Then you can see code information(variables, library…) at IDE.</li>
</ol>
<blockquote>
<p>If you run web app, you need to give API a action, then debug mode will be trigger.</p>
</blockquote>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>This is my first time using debug mode in dynamic languages by Python. Write down my experience when I forgot steps on another day… XD</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pycharm</tag>
      </tags>
  </entry>
  <entry>
    <title>【SQL】如何在 pgAdmin 上使用 DDL 快速初始化資料表</title>
    <url>/2020/06/06/how-pgAdmin-init-table-by-DDL/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>當接觸到 PostgreSQL 後 pgAdmin 應該是最常被找到的一個免費 GUI 工具，雖然因為是網站的緣故，很多體驗與桌面版稍嫌落差(跟 postwomen 之餘 postman 一樣)，但今天會告訴大家一個滿好用的功能 - <code>DDL</code>，而 DDL 在其他工具上(如 Navicat)上就讓我找不到地方使用，接著就帶大家認識一下 <code>DDL</code> 並透過 <code>pgAdmin</code> 講解使用的過程 🙂</p>
<span id="more"></span>

<h1 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h1><p>接下來文章會按照下圖的步驟去說明：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNjRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjUzMHB4O2hlaWdodDoyNjRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MzAgMjY0IiB3aWR0aD0iNTMwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBDb250YWluZXItLT48ZyBpZD0iY2x1c3Rlcl9Db250YWluZXIiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxNjYiIHg9IjgzIiB5PSIxMC41Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc5IiB4PSIxMjYuNSIgeT0iMjUuNDk1MSI+Q29udGFpbmVyPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9wZ0FkbWluIj48ZWxsaXBzZSBjeD0iMTY2LjA3MzEiIGN5PSIxMjcuMjYxOSIgZmlsbD0iI0YxRjFGMSIgcng9IjU4LjU3MzEiIHJ5PSIxNC43NjE5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMTMwLjU3MzEiIHk9IjEzMS4wMDk1Ij5wZ0FkbWluPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9Qb3N0Z3JlU1FMIj48ZWxsaXBzZSBjeD0iMTY1LjgxNDIiIGN5PSI2MS4yNjI4IiBmaWxsPSIjRjFGMUYxIiByeD0iNjYuODE0MiIgcnk9IjE1Ljc2MjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0IiB4PSIxMjAuODE0MiIgeT0iNjUuMDEwNCI+UG9zdGdyZVNRTDwvdGV4dD48L2c+PCEtLWVudGl0eSB1c2VyLS0+PGcgaWQ9ImVsZW1fdXNlciI+PGVsbGlwc2UgY3g9IjIxIiBjeT0iOTgiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTIxLDEwNiBMMjEsMTMzIE04LDExNCBMMzQsMTE0IE0yMSwxMzMgTDgsMTQ4IE0yMSwxMzMgTDM0LDE0OCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwIiB4PSI2IiB5PSIxNjIuNDk1MSI+dXNlcjwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fQ3JlYXRlIHRhYmxlIj48ZWxsaXBzZSBjeD0iNDE5LjMyODgiIGN5PSIyMi4yNjU4IiBmaWxsPSIjRjFGMUYxIiByeD0iNjkuMzI4OCIgcnk9IjE2LjI2NTgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxIiB4PSIzNzAuODI4OCIgeT0iMjYuMDEzMyI+Q3JlYXRlIHRhYmxlPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9GaW5kICZhbXA7IHNhdmUgRERMIj48ZWxsaXBzZSBjeD0iNDE5LjU1OTEiIGN5PSI5Mi42MTE4IiBmaWxsPSIjRjFGMUYxIiByeD0iNzguNTU5MSIgcnk9IjE4LjExMTgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNSIgeD0iMzU5LjgzMjgiIHk9Ijk2LjE1MjUiPkZpbmQgJmFtcDsgc2F2ZSBEREw8L3RleHQ+PC9nPjxnIGlkPSJlbGVtX0Ryb3AgdGFibGUiPjxlbGxpcHNlIGN4PSI0MTkuNzM1MyIgY3k9IjE2MS4zNDcxIiBmaWxsPSIjRjFGMUYxIiByeD0iNjQuNzM1MyIgcnk9IjE1LjM0NzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIzNzcuNzM1MyIgeT0iMTY1LjA5NDYiPkRyb3AgdGFibGU8L3RleHQ+PC9nPjxnIGlkPSJlbGVtX1VzZSBEREwgdG8gY3JlYXRlIFRhYmxlIj48ZWxsaXBzZSBjeD0iNDE5LjUzMjkiIGN5PSIyMzUuMzA2NiIgZmlsbD0iI0YxRjFGMSIgcng9IjEwNC41MzI5IiByeT0iMjMuMzA2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc0IiB4PSIzMzIuNTMyOSIgeT0iMjM4LjE1MzMiPlVzZSBEREwgdG8gY3JlYXRlIFRhYmxlPC90ZXh0PjwvZz48IS0tbGluayB1c2VyIHRvIHBnQWRtaW4tLT48ZyBpZD0ibGlua191c2VyX3BnQWRtaW4iPjxwYXRoIGQ9Ik0zNi4yMzQyLDEyNy41IEM1Mi44MzU3LDEyNy41IDgxLjMyNDIsMTI3LjUgMTA3LjI5LDEyNy41ICIgZmlsbD0ibm9uZSIgaWQ9InVzZXItcGdBZG1pbiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1saW5rIHBnQWRtaW4gdG8gUG9zdGdyZVNRTC0tPjxnIGlkPSJsaW5rX3BnQWRtaW5fUG9zdGdyZVNRTCI+PHBhdGggZD0iTTE2NiwxMTIuMjg5IEMxNjYsMTAyLjQ5IDE2Niw5Mi42OTEgMTY2LDgyLjg5MyAiIGZpbGw9Im5vbmUiIGlkPSJwZ0FkbWluLXRvLVBvc3RncmVTUUwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE2Niw3Ny43NjgsMTYyLDg2Ljc2OCwxNjYsODIuNzY4LDE3MCw4Ni43NjgsMTY2LDc3Ljc2OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1saW5rIHBnQWRtaW4gdG8gQ3JlYXRlIHRhYmxlLS0+PGcgaWQ9ImxpbmtfcGdBZG1pbl9DcmVhdGUgdGFibGUiPjxwYXRoIGQ9Ik0yMDkuMzgxLDExNy4yNDUgQzIyNS4xNjEsMTEyLjIyNSAyNDIuNjk3LDEwNS4xMzcgMjU3LDk1LjUgQzI2MS40MzgsOTIuNTEgMjYwLjg1NSw4OS44ODUgMjY1LDg2LjUgQzI4NC44OTcsNzAuMjUgMjkxLjYwNSw2OC4xMTIgMzE1LDU3LjUgQzMzMi40NDgsNDkuNTg2IDM1Mi4yMzksNDIuNDY4IDM2OS44MDksMzYuNzUxICIgZmlsbD0ibm9uZSIgaWQ9InBnQWRtaW4tdG8tQ3JlYXRlIHRhYmxlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM3NC43MDIsMzUuMTc2LDM2NC45MDk0LDM0LjEyNDYsMzY5Ljk0MjMsMzYuNzA3MywzNjcuMzU5Niw0MS43NDAyLDM3NC43MDIsMzUuMTc2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOCIgeD0iMjY2IiB5PSI2Ny41NjY5Ij5bMV08L3RleHQ+PC9nPjwhLS1saW5rIHBnQWRtaW4gdG8gRmluZCAmIHNhdmUgRERMLS0+PGcgaWQ9ImxpbmtfcGdBZG1pbl9GaW5kICZhbXA7IHNhdmUgRERMIj48cGF0aCBkPSJNMjE3Ljg5NSwxMjAuNDE3IEMyNTQuOTk3LDExNS4yNTQgMzA1Ljc2OCwxMDguMTg4IDM0Ni45NSwxMDIuNDU3ICIgZmlsbD0ibm9uZSIgaWQ9InBnQWRtaW4tdG8tRmluZCAmYW1wOyBzYXZlIERETCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNTEuOTIzLDEwMS43NjUsMzQyLjQ1NzIsOTkuMDQ1MSwzNDYuOTcwOCwxMDIuNDU0OSwzNDMuNTYxLDEwNi45Njg2LDM1MS45MjMsMTAxLjc2NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjI2NiIgeT0iMTA3LjU2NjkiPlsyXTwvdGV4dD48L2c+PCEtLWxpbmsgcGdBZG1pbiB0byBEcm9wIHRhYmxlLS0+PGcgaWQ9ImxpbmtfcGdBZG1pbl9Ecm9wIHRhYmxlIj48cGF0aCBkPSJNMjA0LjgxMywxMzguOTQ2IEMyMjIuODY1LDE0My45NDYgMjQ0Ljg3MywxNDkuMzcyIDI2NSwxNTIuNSBDMjkyLjU3NCwxNTYuNzg1IDMyMy4yMjIsMTU5LjA3MTMgMzQ5LjgzNywxNjAuMjc2NiAiIGZpbGw9Im5vbmUiIGlkPSJwZ0FkbWluLXRvLURyb3AgdGFibGUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzU1LjEwNCwxNjAuNTAzNSwzNDYuMjgzNywxNTYuMTIxNCwzNTAuMTA4NiwxNjAuMjg5MiwzNDUuOTQwOCwxNjQuMTE0MSwzNTUuMTA0LDE2MC41MDM1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOCIgeD0iMjY2IiB5PSIxNDguNTY2OSI+WzNdPC90ZXh0PjwvZz48IS0tbGluayBwZ0FkbWluIHRvIFVzZSBEREwgdG8gY3JlYXRlIFRhYmxlLS0+PGcgaWQ9ImxpbmtfcGdBZG1pbl9Vc2UgRERMIHRvIGNyZWF0ZSBUYWJsZSI+PHBhdGggZD0iTTE5MC43MDQsMTQxLjI2NiBDMjEwLjI3MywxNTIuMzM5IDIzOC45NTgsMTY3LjkwNyAyNjUsMTc5LjUgQzI5My45MDgsMTkyLjM2ODggMzI2Ljc2NywyMDQuNjU1MiAzNTQuNjQ2LDIxNC40MjM0ICIgZmlsbD0ibm9uZSIgaWQ9InBnQWRtaW4tdG8tVXNlIERETCB0byBjcmVhdGUgVGFibGUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzU5LjQzMywyMTYuMDkzLDM1Mi4yNTEyLDIwOS4zNTM0LDM1NC43MTE2LDIxNC40NDcyLDM0OS42MTc5LDIxNi45MDc2LDM1OS40MzMsMjE2LjA5MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjI2NiIgeT0iMTc1LjU2NjkiPls0XTwvdGV4dD48L2c+PCEtLVNSQz1bUFAyeDJpOTA0NE54X09mUllJYVktQVdpMTM1T01JWGc5SFBaQ2d2QnVjd083R0tIX3JzWmdBM1RTQy1QNlJXTHhuS1E4Q3VVNThLSnBqSzVSc0JmVjRyMkh6SUtic0h2Z1BVQXFNM29qYzkza0dSMUFSQU9KdVg5eTRoRWktMWd5OEg4S3hIaEVvd0VwWVVGeDNFWkNxOXg3ZzlRdVVMWWJmWVItUjhxVlMyOUMyYjNRTFRuQ2lJY2tfcXJmaXVOUTI3SWNQNWJpcVJnX0tjUFhGZnhmRl83cl82dnQ5SUdscHdrdGw5V1VtUzBdLS0+PC9nPjwvc3ZnPg=='>

<h1 id="What-is-DDL"><a href="#What-is-DDL" class="headerlink" title="What is DDL?"></a>What is DDL?</h1><p>簡單來說 <code>資料定義語言</code>（Data Definition Language，DDL）是屬於 DBMS 語言的一種，用於定義 DB schema，且 DBMS 內基本上都有 DDL 編譯器 (complier) 能夠處理 DDL，而它是由 CREATE、ALTER 與 DROP 三個語法所組成。</p>
<blockquote>
<p>參考來自 <a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E6%96%99%E5%AE%9A%E7%BE%A9%E8%AA%9E%E8%A8%80">wiki</a></p>
</blockquote>
<h1 id="操作環境"><a href="#操作環境" class="headerlink" title="操作環境"></a>操作環境</h1><p>以下是我操作的環境，使用 docker-compose 幫我架起 <code>postgreSQL</code> &amp; <code>pgAdmin</code>。</p>
<ul>
<li>MacOS</li>
<li>Docker<ul>
<li>pgAdmin</li>
<li>PostgreSQL</li>
<li><a href="https://github.com/louis70109/postgresql-pgAdmin">參考範例</a></li>
</ul>
</li>
</ul>
<h1 id="步驟介紹"><a href="#步驟介紹" class="headerlink" title="步驟介紹"></a>步驟介紹</h1><h2 id="1-建立範例-Table"><a href="#1-建立範例-Table" class="headerlink" title="1. 建立範例 Table"></a>1. 建立範例 Table</h2><p>首先先到 pgAdmin 中，建立一個新的 Table<br><img src="https://i.imgur.com/5lq8eip.png"></p>
<p>建立一個範例的 Item table<br><img src="https://i.imgur.com/NvDIicH.png"></p>
<p>再來是 Book table<br><img src="https://i.imgur.com/qdmIQCE.png"></p>
<p>簡單加個 Item 的外鍵 (Foreign Key)<br><img src="https://i.imgur.com/XoQai7x.png"></p>
<h2 id="2-找出-DDL"><a href="#2-找出-DDL" class="headerlink" title="2. 找出 DDL"></a>2. 找出 DDL</h2><p>接著就要開始找 DDL 啦！透過 <code>CREATE SCRIPT</code> 來找我們要的 DDL 腳本<br><img src="https://i.imgur.com/kYoWCTgl.png"></p>
<p>儲存 <code>Item</code> &amp; <code>Book</code> 的內容 (存成<code>.sql</code> 或是任一文字檔案)<br><img src="https://i.imgur.com/5Br3HkM.png"></p>
<h3 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h3><p>在前面的範例中 id 使用 流水號(<code>serial</code>)，它存在於 <code>Sequences</code> 的地方，所以千萬要記得將它一併帶出後儲存起來：<br><img src="https://i.imgur.com/d9jRfBil.png"></p>
<p>否則會遇到以下問題:</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ERROR:  </span>relation &quot;Book_id_seq&quot; does not exist</span><br><span class="line">SQL state: 42P01</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="3-將範例-Item-amp-Book-刪除"><a href="#3-將範例-Item-amp-Book-刪除" class="headerlink" title="3. 將範例 Item &amp; Book 刪除"></a>3. 將範例 Item &amp; Book 刪除</h2><p>接著就把它刪除來做測試吧！<br><img src="https://i.imgur.com/phQ8AYvl.png"><br><img src="https://i.imgur.com/F6kVuYwl.png"></p>
<h2 id="4-使用-DDL-將-Table-放回去"><a href="#4-使用-DDL-將-Table-放回去" class="headerlink" title="4. 使用 DDL 將 Table 放回去"></a>4. 使用 DDL 將 Table 放回去</h2><p>在 <code>Public</code> 這個下拉式選單中<code>右鍵</code>就會看到 <code>CREATE SCRIPT</code> 的選項<br><img src="https://i.imgur.com/BS6wNXxl.png"></p>
<p>把剛剛的 DDL 複製過來，記得要先讓 Sequence 先進去接著才是 Table</p>
<p>抑或是可以將兩個組裝在一起，先把 Sequence 放在前面，其中一個範例如下:</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- SEQUENCE: public.Item_id_seq</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SEQUENCE</span> <span class="built_in">public</span>.&quot;Item_id_seq&quot;</span><br><span class="line">    <span class="keyword">INCREMENT</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">START</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">MINVALUE</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">MAXVALUE</span> <span class="number">2147483647</span></span><br><span class="line">    <span class="keyword">CACHE</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">SEQUENCE</span> <span class="built_in">public</span>.&quot;Item_id_seq&quot;</span><br><span class="line">    <span class="keyword">OWNER</span> <span class="keyword">TO</span> postgres;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Table: public.Item</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="built_in">public</span>.&quot;Item&quot;</span><br><span class="line">(</span><br><span class="line">    id <span class="type">integer</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> nextval(<span class="string">&#x27;&quot;Item_id_seq1&quot;&#x27;</span>::<span class="type">regclass</span>),</span><br><span class="line">    title <span class="type">character</span> <span class="type">varying</span>(<span class="number">100</span>) <span class="keyword">COLLATE</span> pg_catalog.&quot;default&quot;,</span><br><span class="line">    description <span class="type">text</span> <span class="keyword">COLLATE</span> pg_catalog.&quot;default&quot;,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> &quot;Item_pkey&quot; <span class="keyword">PRIMARY KEY</span> (id)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">WITH</span> (</span><br><span class="line">    <span class="keyword">OIDS</span> = <span class="keyword">FALSE</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">TABLESPACE</span> pg_default;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="built_in">public</span>.&quot;Item&quot;</span><br><span class="line">    <span class="keyword">OWNER</span> <span class="keyword">to</span> postgres;</span><br></pre></td></tr></table></figure>

<p>將 <code>Sequence</code> 以及 <code>Table</code> 的 DDL 組在一起建立就能省掉一個步驟，之後的 Table 使用情境也會雷同，若照著步驟做有出現錯誤時，請記得檢查使用否<code>順序</code>有問題。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在建置初期也許只有一個 staging，但隨著專案規模變大之後就會分 production、develop、beta、QA 等等的環境，而在建置環境時使用 DDL 這樣的功能也能避免部署人員失誤出錯，例如將欄位長度輸入錯(長度 100 -&gt; 199)，當然如果連複製都能錯那就…😅，總之在專案中放入一個 schema 的資料夾放入這些 DDL 在部署到其他環境時能夠更快速處理這部分。</p>
]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>PostgreSQL</tag>
        <tag>pgAdmin</tag>
        <tag>SQL</tag>
        <tag>DDL</tag>
      </tags>
  </entry>
  <entry>
    <title>【TypeScript】從頭建立屬於你的 TypeScript 專案</title>
    <url>/2020/09/19/how-to-build-typescript/</url>
    <content><![CDATA[<h2 id="為什麼選擇-TypeScript？"><a href="#為什麼選擇-TypeScript？" class="headerlink" title="為什麼選擇 TypeScript？"></a>為什麼選擇 TypeScript？</h2><p>雖然在動態語言中打滾了許久(Ruby ➡️ JavaScript ➡️ Python)，但對於型別定義這件事情還是一直耿耿於懷，而打滾的過程中也曾經寫過 Golang，隨後因為在 Chatbot 社群中接觸了 <a href="https://github.com/Yoctol/bottender">Bottender</a> 並認識到了 TypeScript，因此改寫了第一個 Side Project - <a href="https://github.com/louis70109/Twitch-Bot">圖奇獸</a> 為 TypeScript，深深的被 TypeScript 吸引過去，不僅擁有動態語言(JS)的彈性，又能有型別檢查(Type System)與介面(Interface)來輔助開發，在開發上都能<del>滿江紅</del>有滿滿的提示避免出錯，這也是型別檢查會帶來的好處(先天的 Linter)，只是往往都是靠人家 cli 來幫我 init project 卻沒動手做過，就借本篇來逐步初始化 project。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>首先你的電腦一定要有安裝 <a href="https://nodejs.org/zh-tw/download/">Node.js</a>，下載並安裝完後會擁有一個 <code>npm</code> 的指令，以下就會使用此指令來起專案。</p>
<blockquote>
<p>若你是 windows 用戶可以參考卡米哥的文章 - <a href="https://medium.com/@EtrexKuo/%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E5%9C%A8-windows-%E4%BD%BF%E7%94%A8-node-js-%E6%89%93%E9%80%A0%E5%B0%88%E5%B1%AC%E6%96%BC%E4%BD%A0%E7%9A%84-line-bot-%E8%81%8A%E5%A4%A9%E6%A9%9F%E5%99%A8%E4%BA%BA-173ac0f6be92">從零開始在 Windows 使用 Node.js 打造專屬於你的 LINE Bot 聊天機器人</a></p>
</blockquote>
<p>建立一個資料夾後並進入剛剛建立的資料夾：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir typescript-line-bot</span><br><span class="line"><span class="built_in">cd</span> typescript-line-bot</span><br></pre></td></tr></table></figure>

<p>接著就使用 <code>npm init</code> 指令來初始化一個屬於你的 package.json，它會詢問很多問題，逐步輸入對應的訊息或使用預設，這份檔案會是之後人家在看 node 專案的第一個入口(相關資訊皆在此)，因此裡面的資訊盡量越詳細越好 🙂！</p>
<p><img src="https://nijialin.com/images/2020/npm-init.png" alt="npm init"></p>
<p>產生出 package.json 之後接著我<a href="https://medium.com/@peterchang_82818/typescript-example-%E6%95%99%E5%AD%B8-tutorial-%E7%AF%84%E4%BE%8B-%E9%96%8B%E7%99%BC-%E6%95%99%E5%AD%B8-%E5%88%9D%E5%AD%B8%E8%80%85-%E7%92%B0%E5%A2%83-nodejs-javascript-react-js-3%E6%AD%A5-888fa8033fc7">參考這篇</a>來建立 TypeScript 環境，以下引用一下文章使用方法：</p>
<p>安裝 TypeScript 以及讓 Node.js 支援型別的套件</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">npm install typescript @types/<span class="keyword">node</span><span class="title"></span></span><br></pre></td></tr></table></figure>

<p>安裝完之後接著就用 <code>tsc</code> 來幫忙初始化 tsconfig (TypeScript 的設定檔)</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npx tsc <span class="comment">--init</span></span><br></pre></td></tr></table></figure>

<p>完成後使用 <code>ls</code> 來看看自己的檔案數量是否遇我的一樣<br><img src="https://nijialin.com/images/2020/npm-tsc.png" alt="npm tsc"></p>
<p>接著就用編輯器打開這個資料夾開始更改(我用 VScode)，打開 tsconfig.json 後會看到一片密密麻麻的註解，找到 <code>outDir</code>(Output directory) 後將它移除註解並改成 <code>./dist</code>，讓之後 TypeScript 編譯完的檔案自動放在 dist 這個資料夾下。</p>
<p><img src="https://nijialin.com/images/2020/tsc-config.gif" alt="tsconfig"></p>
<p>接著因為開發時需要幫忙 Reload，這邊就安裝 <a href="https://www.npmjs.com/package/ts-node">ts-node</a> &amp; <a href="https://www.npmjs.com/package/nodemon">nodemon</a> 至 devDependencies 中(只在開發時才使用的套件)。</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">npm install ts-<span class="keyword">node</span> <span class="title">nodemon</span> --save-dev</span><br></pre></td></tr></table></figure>

<p>安裝完套件之後就是來修改 script 裡面的內容，這邊 key 的內容即是你打 <code>npm run OOO</code> 裡面的內容：</p>
<ul>
<li>build: 從 TypeScript 編譯成 JavaScript。</li>
<li>dev: 開發環境使用的指令。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;tsc&quot;</span>,</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;nodemon index.ts&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>接著我們在本地端建立一個 <code>index.ts</code> 並且輸入以下範例：</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">showTotal</span>(<span class="params">first: <span class="built_in">number</span>, second: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> total: <span class="built_in">number</span> = first + second;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`The total is: <span class="subst">$&#123;total&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">showTotal(<span class="number">100</span>, <span class="number">200</span>);</span><br></pre></td></tr></table></figure>

<p>接著就可以執行 <code>npm run dev</code> 看看輸出結果，改動 showTotal() 裡面的值來測試一下是否正常 reload 喔！<br><img src="https://nijialin.com/images/2020/npm-run-dev1.png" alt="npm dev"></p>
<h1 id="Jest-測試"><a href="#Jest-測試" class="headerlink" title="Jest 測試"></a>Jest 測試</h1><p>透過 npm 來安裝與 TypeScript 相依的 jest 套件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -D jest ts-jest @types/jest</span><br></pre></td></tr></table></figure>

<p>在之前已經在 package.json 的 <code>scripts</code> 中加入了 build&#x2F;dev 的指令，這部分就再加上 <code>test</code> 的相關啟動指令：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">&quot;test&quot;</span>: <span class="string">&quot;jest --coverage&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>由於剛剛選擇了 <code>ts-jest</code> 來幫助我們使用 jest，接著就來用它來加入 jest 的設定檔，使用 npx 來幫忙啟動指令而不用額外安裝 ts-jest 的 global command：</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">npx ts-<span class="keyword">jest </span><span class="built_in">config</span>:init</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考<a href="https://titangene.github.io/article/jest-typescript.html#%E8%A8%AD%E5%AE%9A-jest-config-js">這篇文章</a>的說明，Jest 預設只會吃 <code>__test__</code> 裡的 <code>.test</code> || <code>.spec</code> 的後綴(suffix)結尾的檔案，在看任何專案以及新增檔案時需要注意這部分的命名，否則容易出錯。</p>
</blockquote>
<p>接著在主目錄下新增名為 <code>__test__</code> 的資料夾，在裡面接著新增 <code>index.test.ts</code> 的檔案後並加入以下測試範例：</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; showTotal &#125; <span class="keyword">from</span> <span class="string">&quot;../index&quot;</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;It should be 3&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> total: <span class="built_in">number</span> = showTotal(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">const</span> expected: <span class="built_in">number</span> = <span class="number">3</span>;</span><br><span class="line">  expect(total).toBe(expected);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>接著就使用 <code>npm run test</code> 來收成果囉！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這篇就快速紀錄一下從一個乾淨的資料夾到建立環境來測試 TypeScript 的過程，沿途參考了許多文件以及文章來讓這次從頭新增專案的路比較順利，很感謝每位作者的付出才讓我無痛的踏上 TypeScript 的路程。</p>
<p>接下來預計會帶入 Express + LINE Frontend Framework(LIFF) + LINE Messaging API(Bot) 來實際操作 API 與前端溝通的內容，並說明處理相關設定的問題。</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://nodejs.org/zh-tw/download/">Node.js</a></li>
<li><a href="https://www.npmjs.com/package/ts-node">ts-node</a></li>
<li><a href="https://www.npmjs.com/package/nodemon">nodemon</a></li>
<li><a href="https://medium.com/@EtrexKuo/%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E5%9C%A8-windows-%E4%BD%BF%E7%94%A8-node-js-%E6%89%93%E9%80%A0%E5%B0%88%E5%B1%AC%E6%96%BC%E4%BD%A0%E7%9A%84-line-bot-%E8%81%8A%E5%A4%A9%E6%A9%9F%E5%99%A8%E4%BA%BA-173ac0f6be92">從零開始在 Windows 使用 Node.js 打造專屬於你的 LINE Bot 聊天機器人</a></li>
<li><a href="https://medium.com/@peterchang_82818/typescript-example-%E6%95%99%E5%AD%B8-tutorial-%E7%AF%84%E4%BE%8B-%E9%96%8B%E7%99%BC-%E6%95%99%E5%AD%B8-%E5%88%9D%E5%AD%B8%E8%80%85-%E7%92%B0%E5%A2%83-nodejs-javascript-react-js-3%E6%AD%A5-888fa8033fc7">3 步建立 Typescript 開發環境</a></li>
<li><a href="https://titangene.github.io/article/jest-typescript.html">Jest + TypeScript：建置測試環境</a></li>
</ul>
]]></content>
      <categories>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
        <tag>nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title>如何在 PyCharm 幫 Python 除蟲(Debug)</title>
    <url>/2021/05/02/how-to-debug-python-by-pycharm-tw/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>從我開始工作時，因為<strong>動態語言</strong>方便且快速上手，因此我就選擇動態語言作為我吃飯的工具。隨著時間的推進我寫過了 Python、Ruby、JavaScript，由於大多都使用 VScode 撰寫程式，對於環境設定不是很熟捻的我設定相關東西就很困擾，因此大多數都是用 <code>print</code>(Python)、<code>console.log</code>(JS) 或是 <code>puts</code>(Ruby) 直接印在終端機上來除錯腳本或是網站。</p>
<p>在過去這些日子中最有印象的就是使用 Ruby 的 <code>byebug</code> 套件來幫我除蟲，它是個可以在終端機透過快捷鍵讓你取得想除錯的地方開始進行除錯，對於當時的我來說簡直是福音，也讓我在那段日子中非常的快樂ＸＤ</p>
<span id="more"></span>

<p>由於現在轉戰 Python 之後有了 PyCharm 這個超讚的 IDE，把 VScode 的環境就拿來寫前端跟一些部落格(Markdown)使用。因此接下來就將分享我是如何在 PyCharm 上 debug Python 相關的程式。</p>
<h1 id="步驟"><a href="#步驟" class="headerlink" title="步驟"></a>步驟</h1><ol>
<li>透過 PyCharm 開啟你的專案並選擇畫面上紅色框框的下拉式選單</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/0.png"></p>
<ol start="2">
<li>開啟後選擇 <code>Edit Configurations</code></li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/1.png"></p>
<ol start="3">
<li>讚著圖上的紅色箭頭部分操作，按下 <code>＋</code> ➡️ 選擇 <code>Python</code> ➡️ 開啟資料夾選擇你想使用的 <code>script</code> 或是 <code>web 入口檔案</code> ➡️ 設定 <code>環境變數</code> (如果地餓話) ➡️ 先 <code>Apply</code> 後 <code>OK</code></li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/2.png"></p>
<ol start="4">
<li>環境變數設定如下，按下 <code>＋</code> 可以增加一欄來填寫參數，把相關欄位的 Key 以及 Value 填上來新增環境變數</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/4.png"></p>
<ol start="5">
<li>上方欄位所寫的名稱將會對應到左方欄位的名稱，它將是執行任務時的辨識名稱</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/3.png"></p>
<ol start="6">
<li>你會看到如下圖範例 - <code>api debug</code>(我的任務名稱)，裡頭將會填寫你剛剛所設定的所以參數以及檔案位置(絕對路徑)</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/6.png"></p>
<ol start="7">
<li>在你想要測試的程式位置數字旁按下滑鼠左鍵，會看到一個紅色的按鈕，它將代表程式的中斷點，最後按下上方的 <code>🐛 圖案的按鈕</code> 來開始<strong>除蟲模式</strong>🎉</li>
</ol>
<p><img src="https://nijialin.com/images/2021/debug-python/5.png"></p>
<ol start="8">
<li>最後你就可以看到你執行時的所有資訊啦～也許是變數值、函式庫…</li>
</ol>
<blockquote>
<p>如果你是在 debug web API，你需要先透過工具去觸發才會開始執行除錯模式喔！(Postman、curl…)</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這也是我第一次在動態語言中使用 IDE 來幫我除錯，以前老是以為動態語言就沒辦法除錯(型別定義不清楚)，透過這次使用 PyCharm Debug 也幫助我抓出了一些程式上沒有判斷好的部分，也許哪天又忘了怎麼 Debug 時可以回來看看這一篇… XD</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pycharm</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Vue3 中引入 LIFF 的 ShareTargetPicker 分享 FlexMessage 訊息給 LINE 好友</title>
    <url>/2020/09/12/how-to-use-liff-in-vue3/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2020/vue-use-liff/picker-result.png" alt="picker result"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>以往在 LINE 平台上發送公告相關訊息時都只能編排文字順序、傳另一個圖片、抑或是傳影片…anyway，而隨著 LINE 推出了 <a href="https://developers.line.biz/en/docs/messaging-api/using-flex-messages/">Flex Message</a> 讓開發者可以將訊息當作網頁 CSS 樣式塑造出一個客製化的訊息格式，這在 Chatbot 的領域裡基本上可以算是殺手級功能了，Chatbot 可以在過程中可以依照對話流程釋出不同樣版的內容，讓使用者體驗更上一層。</p>
<p>隨著時間的演進 LINE 也 release 了自家的前端框架 - <a href="https://developers.line.biz/en/reference/liff/">LIFF</a>，開發者能夠很快速的使用到 LINE Login 的相關功能並且整合到 Chatbot 上面，讓整體服務的使用體驗更上一層，接著在近些日子釋出了本篇介紹的主軸 - <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker</a>，其功能主要是能將之前只有 Chatbot 才能使用的 Flex Message 透過 LIFF 的這隻 API 使用發送者的名義將客製化訊息幫忙發送給 <code>使用者</code>&#x2F;<code>群組</code>&#x2F;<code>聊天室</code>，讓我在群組公布訊息時能有煥然一新的模樣呢！</p>
<ul>
<li>也有 LINE API Expert 分享的 <a href="https://taichunmin.idv.tw/blog/2020-07-12-liff-businesscard.html">看起來很專業的 LINE 數位版名片</a> 文章可以參考。</li>
</ul>
<p>會寫這篇的原因也是因為最近寫了一個 Side Project - <a href="https://github.com/louis70109/Announcer">Announcer</a> 讓我可以再公布訊息時可以發送漂亮的 Flex MEssage，而使用 Node.js 開發時因為需要使用 <a href="https://developers.line.biz/en/reference/liff/">LIFF</a> 的 <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker</a>，當時只透過 <a href="https://ejs.co/">EJS</a> 幫我產生 html template 來發送 FlexMessage，一開始認為應該不會寫太多前端的邏輯，但隨著想增進更多的 UX 因此需要操作更多的前端邏輯(可以看看<a href="https://github.com/louis70109/Announcer/releases/tag/v1-ejs">這個 tag</a> 裡的 views 資料夾)，因此在多種考慮下決定使用 Vue 來簡化我的開發，但在 migrate 之前總是要先了解一下兩邊結合的可行性，本篇就給大家帶來 Vue3 結合 LIFF 的相關使用介紹。 🙂</p>
<blockquote>
<p>FlexMessage 詳細介紹可以參考這篇 - <a href="https://engineering.linecorp.com/zh-hant/blog/flex-message-update1/">Flex Message 的 Update 1 已公開</a></p>
</blockquote>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><blockquote>
<p>範例專案在此: <a href="https://github.com/louis70109/vue-liff-shareTargetPicker">GitHub</a></p>
</blockquote>
<p>首先呢，就使用 vue 官方建議的 command line 來建立一個新的專案，名稱為 <code>liff-2_4-demo</code>:</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">vue</span> create liff-<span class="number">2</span>_<span class="number">4</span>-demo</span><br></pre></td></tr></table></figure>

<p>輸入之後就可以選擇要哪個模式，這邊我們選擇 <code>Vue 3 preview</code><br><img src="https://nijialin.com/images/vue3/vue-init.png" alt="vue init"></p>
<p>建立好了之後畫面如下，接著就用 <code>cd liff-2_4-demo</code> 進入資料夾開始<br><img src="https://nijialin.com/images/vue3/vue-init-ok.png" alt="vue init ok"></p>
<p>接著分別安裝 Vue Router 以及 LIFF 套件讓後續開發比較順利些</p>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> install vue-router@next @line/liff</span><br></pre></td></tr></table></figure>

<p>接著預設會給一個 <code>HelloWorld</code> 的 component，將之沿用並在 <code>src/</code> 下建立一個 <code>router</code> 資料夾，接著在 router&#x2F; 下建立一個 index.js 並加入以下的內容開始使用 Vue3 Router:</p>
<script src="https://gist.github.com/louis70109/4c7ea0635e6f79af5ffb6f4781d87383.js"></script>

<blockquote>
<p>若你在 Vue 3 使用 Router 的過程有問題的話可以<a href="https://nijialin.com/2020/09/10/debug-vue3-router/">參考這篇文章</a></p>
</blockquote>
<p>Router 這邊處理好後就接著來處理 LIFF。接著進入到 <code>HelloWorld.vue</code> 的檔案中，找到 props 的部分將它置換成 <code>setup()&#123;&#125;</code></p>
<blockquote>
<p>關於 composition API 的使用方法請參考<a href="https://composition-api.vuejs.org/#basic-example">這個網址</a></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&#x27;HelloWorld&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="liff-init"><a href="#liff-init" class="headerlink" title="liff.init()"></a>liff.init()</h2><p>接著因為 LIFF 啟用時需要先 init (<a href="https://developers.line.biz/en/reference/liff/#initialize-liff-app">參考</a>)，在 Vue 這邊就選擇放在 <code>Mounted</code> 下，並且搭配著 async&#x2F;await 來簡化一下 liff 的 sample code，可以選擇自己喜歡的方式去寫 🙂(對 Promise 不熟的話可以<a href="https://nijialin.com/2020/06/13/learn-javascript-promise/">參考這篇</a>)：</p>
<h4 id="Async-x2F-Await-版本："><a href="#Async-x2F-Await-版本：" class="headerlink" title="Async&#x2F;Await 版本："></a>Async&#x2F;Await 版本：</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> liff <span class="keyword">from</span> <span class="string">&quot;@line/liff&quot;</span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  onMounted(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> liff.init(&#123; <span class="attr">liffId</span>: <span class="string">&quot;123456-abcedfg&quot;</span> &#125;); <span class="comment">// Use own liffId</span></span><br><span class="line">      <span class="keyword">if</span> (!liff.isLoggedIn())</span><br><span class="line">        liff.login(&#123; <span class="attr">redirectUri</span>: <span class="built_in">window</span>.location.href &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`liff.state init error <span class="subst">$&#123;err&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<h4 id="原版："><a href="#原版：" class="headerlink" title="原版："></a>原版：</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  liff</span><br><span class="line">    .init(&#123;</span><br><span class="line">      liffId: <span class="string">&#x27;123456-abcedfg&#x27;</span>, <span class="comment">// Use own liffId</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!liff.isLoggedIn()) liff.login(&#123; <span class="attr">redirectUri</span>: <span class="built_in">window</span>.location.href &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err.code, err.message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在行動裝置開啟 Liff 時會是有登入狀態，而 <code>if (!liff.isLoggedIn())</code> 是讓桌機版瀏覽器在進入時可以判斷並導向 LINE 的登入畫面來確保使用者登入的狀態</p>
<h2 id="liff-ShareTargetPicker"><a href="#liff-ShareTargetPicker" class="headerlink" title="liff.ShareTargetPicker()"></a>liff.ShareTargetPicker()</h2><p>由於在 掛載(mount)階段已經初始化好 liff 了，接著在這邊就可以直接使用並參考 <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker</a> 的文件把 code 複製過來並一樣提供兩種使用方法給大家:</p>
<h4 id="Async-x2F-Await-版本：-1"><a href="#Async-x2F-Await-版本：-1" class="headerlink" title="Async&#x2F;Await 版本："></a>Async&#x2F;Await 版本：</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">sendTargetPicker</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!liff.isLoggedIn()) &#123;</span><br><span class="line">    liff.login(&#123; <span class="attr">redirectUri</span>: <span class="built_in">window</span>.location.href &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (liff.isApiAvailable(<span class="string">&#x27;shareTargetPicker&#x27;</span>)) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> picker = <span class="keyword">await</span> liff.shareTargetPicker([</span><br><span class="line">        &#123;</span><br><span class="line">          type: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">          text: <span class="string">&#x27;Hello, World!&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ]);</span><br><span class="line">      <span class="keyword">if</span> (picker) &#123;</span><br><span class="line">        <span class="comment">// succeeded in sending a message through TargetPicker</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`[<span class="subst">$&#123;picker.status&#125;</span>] Message sent!`</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> [majorVer, minorVer] = (liff.getLineVersion() || <span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">parseInt</span>(majorVer) == <span class="number">10</span> &amp;&amp; <span class="built_in">parseInt</span>(minorVer) &lt; <span class="number">11</span>) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(</span><br><span class="line">            <span class="string">&#x27;TargetPicker was opened at least. Whether succeeded to send message is unclear&#x27;</span></span><br><span class="line">          );</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="built_in">console</span>.log(<span class="string">&#x27;TargetPicker was closed!&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="comment">// something went wrong before sending a message</span></span><br><span class="line">      <span class="built_in">console</span>.log(error);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;Flex Message got some error&#x27;</span>);</span><br><span class="line">      liff.closeWindow();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="built_in">console</span>.log(<span class="string">&#x27;Please login...&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="原版：-1"><a href="#原版：-1" class="headerlink" title="原版："></a>原版：</h4><p>若不習慣用語法糖的話可以用原本的範例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendTargetPicker</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!liff.isLoggedIn()) &#123;</span><br><span class="line">    liff.login(&#123; <span class="attr">redirectUri</span>: <span class="built_in">window</span>.location.href &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (liff.isApiAvailable(<span class="string">&#x27;shareTargetPicker&#x27;</span>)) &#123;</span><br><span class="line">    liff</span><br><span class="line">      .shareTargetPicker([</span><br><span class="line">        &#123;</span><br><span class="line">          type: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">          text: <span class="string">&#x27;Hello, World!&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ])</span><br><span class="line">      .then(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (res) &#123;</span><br><span class="line">          <span class="comment">// succeeded in sending a message through TargetPicker</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">`[<span class="subst">$&#123;res.status&#125;</span>] Message sent!`</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> [majorVer, minorVer] = (liff.getLineVersion() || <span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">          <span class="keyword">if</span> (<span class="built_in">parseInt</span>(majorVer) == <span class="number">10</span> &amp;&amp; <span class="built_in">parseInt</span>(minorVer) &lt; <span class="number">11</span>) &#123;</span><br><span class="line">            <span class="comment">// LINE 10.3.0 - 10.10.0</span></span><br><span class="line">            <span class="comment">// Old LINE will access here regardless of user&#x27;s action</span></span><br><span class="line">            <span class="built_in">console</span>.log(</span><br><span class="line">              <span class="string">&#x27;TargetPicker was opened at least. Whether succeeded to send message is unclear&#x27;</span></span><br><span class="line">            );</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// LINE 10.11.0 -</span></span><br><span class="line">            <span class="comment">// sending message canceled</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;TargetPicker was closed!&#x27;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// something went wrong before sending a message</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;something wrong happen&#x27;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>把這個 function 貼上去之後就加上 html 標籤來呼叫 <code>sendTargetPicker</code> 函式:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sendTargetPicker&quot;</span>&gt;</span>Send Sample<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="使用-Heroku-來部署-Vue"><a href="#使用-Heroku-來部署-Vue" class="headerlink" title="使用 Heroku 來部署 Vue"></a>使用 Heroku 來部署 Vue</h2><p>首先需要安裝 <a href="https://devcenter.heroku.com/articles/heroku-cli">Heroku Command Line</a>，安裝完之後就先使用 <code>Heroku login</code> 你的帳號，以下的指令會基於這兩個步驟去實現。</p>
<p>由於這邊只使用到前端的部分，為求方便使用 express 來當作跟瀏覽器對接的入口。</p>
<p>在目錄資料夾下建立一個 <code>index.js</code> 的入口檔案，以下的程式碼則是全部根據請求導向至對應的路由上：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> serveStatic = <span class="built_in">require</span>(<span class="string">&#x27;serve-static&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">app.use(serveStatic(__dirname));</span><br><span class="line">app.use(<span class="string">&#x27;/&#x27;</span>, serveStatic(path.join(__dirname, <span class="string">&#x27;/dist&#x27;</span>)));</span><br><span class="line">app.get(<span class="regexp">/.*/</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.sendFile(path.join(__dirname, <span class="string">&#x27;/dist/index.html&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> port = process.env.PORT || <span class="number">8080</span>;</span><br><span class="line">app.listen(port);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;server started &#x27;</span> + port);</span><br></pre></td></tr></table></figure>

<p>接著使用下 heroku cli 來建立一個服務，<code>-a</code> 後面接著服務的名稱</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">heroku create -a &lt;your-service&gt;</span><br><span class="line">git add . <span class="comment"># 將當前目錄加入 git 裡面</span></span><br><span class="line">git commit -m <span class="string">&#x27;想放在 commit 裡的訊息&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2020/vue-use-liff/heroku-create.png" alt="heroku create"></p>
<p>建立完成後會自動連接剛剛建立的 repository，接著透過 <code>git push heroku master</code> 來推到 heroku 上：<br><img src="https://nijialin.com/images/2020/vue-use-liff/heroku-push-1.png" alt="heroku push 1"></p>
<p>等待一會兒後就完成啦！！並且還附贈一個 Domain 給你。這邊範例的 domain 則是 <code>https://liff-sample-5.heroku.app/</code><br><img src="https://nijialin.com/images/2020/vue-use-liff/heroku-push-2.png" alt="heroku push 2"></p>
<p>到這裡測試環境已經啟動的差不多了，接著就來建立 LINE Login channel：<br><img src="https://nijialin.com/images/2020/vue-use-liff/login-create-1.png" alt="login channel 1"></p>
<p>選擇完最左邊的 channel 之後並依序填入相關資訊，並選擇 <code>web app</code>：<br><img src="https://nijialin.com/images/2020/vue-use-liff/login-create-2.png" alt="login channel 2"></p>
<p>待建立完成之後到 LIFF 的頁籤中新增(<code>Add</code>)一個 LIFF page，將剛剛使用 heroku 建立的網址貼上只 Endpoint Url 輸入框並接著網址輸入<code>/liff/template</code>:<br><img src="https://nijialin.com/images/2020/vue-use-liff/liff-create-1.png"></p>
<p>新增完 LIFF page 後要將 Channel <code>Published</code> 以及啟動 <code>ShareTargetPicker</code> 按鈕，並將下方的 LIFF url 複製起來貼到瀏覽器上<br><img src="https://nijialin.com/images/2020/vue-use-liff/login-publish-liff-info.png" alt="publish login info"></p>
<p>輸入之後 LIFF 會自動 mapping 到剛剛輸入的 Endpoint url，首先在剛進入時因為在掛載(mount)階段，所以會先執行 <code>liff.init()</code><br><img src="https://nijialin.com/images/2020/vue-use-liff/login-page.png" alt="login page"></p>
<p>登入之後會導回到以下的畫面：<br><img src="https://nijialin.com/images/2020/vue-use-liff/liff-test-page.png" alt="vue page"></p>
<p>按下按鈕之後會被引導到 <code>好友</code>&#x2F;<code>群組</code>&#x2F;<code>聊天室</code> 的分享頁面(可複選)：<br><img src="https://nijialin.com/images/2020/vue-use-liff/liff-share-info.png" alt="share to friends"></p>
<p>分享之後就看到成果啦 🎉<br><img src="https://nijialin.com/images/2020/vue-use-liff/liff-test-result.png" alt="share message to group"></p>
<p>這部分因為 demo 的關係只送出簡單的文字，若想送出很漂亮的樣板可以參考 <a href="https://developers.line.biz/en/docs/messaging-api/using-flex-messages/">FlexMessage</a>，並且也有相關的線上工具 - <a href="https://developers.line.biz/flex-simulator/">Simulator</a> 讓大家可以產生出自己要的樣板喔！</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">  text: <span class="string">&quot;Hello, World!&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Bonus"><a href="#Bonus" class="headerlink" title="Bonus"></a>Bonus</h2><ol>
<li>若你是使用剛剛提到的工具產生 Flex Message，你需要再產生的 JSON 內容最外面加上下列的相關描述，才能讓 LINE app 收到你的 Flex Message 喔！</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;flex&quot;</span>,</span><br><span class="line">    <span class="string">&quot;altText&quot;</span>: <span class="string">&quot;I am sample text&quot;</span>,</span><br><span class="line">    <span class="string">&quot;contents&quot;</span>: [ 放入剛剛產生的 <span class="built_in">JSON</span> ],</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>之所以會一直使用這個判斷式是因為有 IAB(In App Browser) 以及 External Browser 兩種模式，在情境不同時必須先確認有登入過 LINE 才可以使用之後的功能，否則很容易搞不清楚導致開始除錯後才發現沒確認這部分而浪費很多時間。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!liff.isLoggedIn()) &#123;</span><br><span class="line">  liff.login(&#123; <span class="attr">redirectUri</span>: <span class="built_in">window</span>.location.href &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以往只能讓 Chatbot 回應 FlexMessage，而現在能透過 LIFF 使用 ShareTargetPicker 是否有煥然一新的感覺呢？讓發訊息的身份不會只被綁在 bot 身上，使用者本身也能共用 FlexMessage，透過這篇帶大家逐步使用 Vue3 試玩 LIFF 的新功能，若大家有使用經驗、作品、問題的話歡迎至 <a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot 社群</a>分享喔！讓大家互惠一同建造出 WOW 的 Side Project 吧！🙂</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker</a></li>
<li><a href="https://developers.line.biz/en/docs/messaging-api/using-flex-messages/">FlexMessage</a></li>
<li><a href="https://developers.line.biz/flex-simulator/">Simulator</a></li>
<li><a href="https://developers.line.biz/en/reference/liff/">LIFF v2 API</a></li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>LINE</tag>
        <tag>LIFF</tag>
        <tag>ShareTargetPicker</tag>
      </tags>
  </entry>
  <entry>
    <title>【續集】如何只使用一台 Mac 進行直播 | BlockHole | OBS | Mac</title>
    <url>/2021/06/19/how-to-use-blockhole-in-your-mac/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>常常看著我的另外一篇設定直播的文章 - <a href="https://nijialin.com/2020/11/29/mac-stream-soundflower/">如何只使用一台 Mac 進行直播 feat. SoundFlower, OBS, Youtube</a> 長期蟬聯本部落格的流量冠軍(感謝大家愛戴)。當時這篇的目標是為了解決透過 OBS 直播時也要同時把桌面音訊打出去(e.g. 線上研討會)，讓觀眾可以同步聽到在電腦中所收到的聲音。</p>
<p>而當時遇到的問題是 SoundFlower 會把聲音通通抓走，導致直播操作者<strong>無法透過麥克風來同步輸入聲音</strong>，並需要透過其他軟體(LINE、Zoom、Google meet…)從另一個裝置打音訊進去。當然這也是解法，但若裝置沒有這麼多的話可就會造成困擾。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>而本次要介紹的另一個直播方案是透過 <a href="https://github.com/ExistentialAudio/BlackHole">BlockHole</a> 這個工具幫助直播可以把桌面聲音一起打進直播中，並解決掉以上的那些問題</p>
<p>首先官方有提供 Source Code 並且點選在下方提供<a href="https://existential.audio/blackhole/?pk_campaign=github&pk_kwd=readme">下載連結</a>，僅需提供信箱以及姓名即可下載。</p>
<p><img src="https://nijialin.com/images/2021/blockhole/1.png"></p>
<p>在這個註冊頁面往下滑會看到一些基本資訊，除了用途、粉絲團資訊外，最重要的就是它支援 SoundFlower 沒支援的 M1 晶片，一般來說 Mac 大版更新後時常會有許多東西會有相容性的問題，個人認為 BlockHole 可能是用 C 語言寫的，相對 Obj-C 開發的 SoundFlower 能維護的人也較多 (C 語言不敗！)</p>
<blockquote>
<p>尤其 SoundFlower 在上次更新時似乎已經是 2016 的樣子 ❓ 因此後面的版本就沒有持續開發跟進。</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/blockhole/2.png"></p>
<p>送出後他會寄信含有認證碼的網址到你的信箱，讓你透過連結認證後讓你下載安裝檔。<br><img src="https://nijialin.com/images/2021/blockhole/3.png"></p>
<p>點進來後選擇 16ch 的版本 (東西都選最多的 ❓)，安裝完就如下<br><img src="https://nijialin.com/images/2021/blockhole/4.png"></p>
<h2 id="OBS-setting"><a href="#OBS-setting" class="headerlink" title="OBS setting"></a>OBS setting</h2><p>接著進到 OBS 右下角的設定中(還沒安裝請<a href="(https://nijialin.com/2020/11/29/mac-stream-soundflower/)">參考這篇</a>)<br><img src="https://nijialin.com/images/2021/blockhole/5.png">，在麥克風選項中選上 BlockHole16h 的選項，另一個用上自己的麥克風，讓 OBS 幫你做多重輸入，如果是透過 Mac 的 MIDI 之類的多重音訊輸入 OBS 似乎是不支援的。</p>
<p>在設定完這部分後就可以進<code>串流</code>設定看要去哪個平台直播囉！ 😇</p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>你可能會很困惑為什麼在用 SoundFlower 時是在<code>輸出時</code>選，但在這邊卻是在<code>輸入時</code>選，就目前實測起來時 SoundFlower 的做法是把輸出端的聲音全部接走，因此若你有參考此篇 <a href="https://nijialin.com/2020/11/29/mac-stream-soundflower/">如何只使用一台 Mac 進行直播 feat. SoundFlower, OBS, Youtube</a> 的話，你會發現無法在電腦前聽到聲音，但在直播上聽得到聲音(記憶中直播機也無法打出麥克風)。</p>
<p>而這次使用 BlockHole 他則是透過<code>輸入</code>的方式進入，在 OBS 中可以同步設定你自己的麥克風，且兩個不會衝突，簡單說它的做法就是將<strong>電腦桌面的聲音</strong>透過<strong>轉換成輸入</strong>的方式，因此此種方式就不會讓直播機(筆電)聽不到聲音，就可以即時跟同個會議(對話群組)的人講話了。(<del>雖然電腦會很燙</del>)</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>SoundFlower 與 BlockHole 的共通點：</p>
<ul>
<li>目前不支援用藍牙耳機設備，感覺可能是系統層的某個地方被接走導致的(猜測)，BlockHole <a href="https://github.com/ExistentialAudio/BlackHole#airpods-with-an-aggregatemulti-output-is-not-working">下方也有註明</a>，如果你對討論有興趣可以參考這個 <a href="https://github.com/ExistentialAudio/BlackHole/issues/146">issue</a></li>
</ul>
<p>如果你不是要做直播，單純想做 <strong>多音軌輸入</strong> 或 <strong>音效合成</strong> 可以參考參考 <a href="https://github.com/ExistentialAudio/BlackHole#guides">GitHub Guide</a>。</p>
<p>若有內容缺少哪個部分或是勘誤，請於下方留言讓我知道喔～ 🥰</p>
]]></content>
      <categories>
        <category>直播</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>BlockHole</tag>
        <tag>OBS</tag>
      </tags>
  </entry>
  <entry>
    <title>【Python】在 GitHub Actions 上建立自動測試並打包至 PyPi</title>
    <url>/2021/02/11/how-to-use-github-action/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/action/action.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在過往很多開源專案大家都會使用 Travis (也真的好用)，但隨著 GitHub Actions 推出之後也許多人轉移上去，畢竟讓資源都在同一個平台上也比較好管理。而最近看到許多專案(LINE SDK)都開始改到 Actions 上，且因緣際會下看到 GitHub 的文件上敘述如何使用，而在個人專案上也能很清楚明瞭的點選到相關的 Actions flow，所以本次就用這篇來介紹一下啦～</p>
<blockquote>
<p>範例專案請參考<a href="https://nijialin.com/2021/02/11/how-to-use-github-action/">我的 GitHub</a></p>
</blockquote>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><a href="https://docs.github.com/en/actions/learn-github-actions">GitHub Actions</a> 到底是什麼？或許你聽過也用過 Travis CI、Circle CI、Jenkins …，大多人用途可能是 <code>自動測試</code>、<code>持續部署</code>…<code>自動化ＯＯＯ</code>，簡而言之就是透過這些工具讓我們日常重覆性極高的工作可以讓機器去自動處理，而只要收最後的結果即可(成功&#x2F;失敗)。那 GitHub Actions 就是如前面幾樣工具一樣的功能，定義好 yaml 檔後就會自動觸發工作開始執行，最大的優點就是：若寫的套件、side project 剛好放在 GitHub 上，就可以達到 <strong>single source of truth</strong> 的效果，不用到處設定相關參數而導致搞混 🙂</p>
<h2 id="處理相依套件資訊"><a href="#處理相依套件資訊" class="headerlink" title="處理相依套件資訊"></a>處理相依套件資訊</h2><p>首先一般專案設計都會依照環境去切割相依套件的檔案，例如 (<strong>production</strong> vs <strong>develop</strong>)，(<strong>Production</strong> vs <strong>CI 環境</strong>)，在<a href="https://github.com/louis70109/GitHub_Action_Python_Example">此次的範例中</a>我建立的 <code>requirements.txt</code> 與 <code>requirements-ci.txt</code> 來安裝相關套件，主要是為了切割環境避免造成多餘的安裝，後者則是在 CI 環境中會用到的工具。</p>
<h2 id="檢查-tox-ini"><a href="#檢查-tox-ini" class="headerlink" title="檢查 tox.ini"></a>檢查 tox.ini</h2><p>這個檔案目的是為了讓你在跑 tox 這個指令時可以參考相關設定檔，讓個人開發者可以在當中彈性的設定相依需求。</p>
<script src="https://gist.github.com/louis70109/25c3f2fefc12a277ec97ae6aab25c915.js"></script>

<ul>
<li>第 2 行：在參考其他專案時複製過來，當中是 <code>py37-flake8-src</code>，但因為會測試多版本，因此這邊輸入 <code>py3-flake8-src</code> 就好。(少個 7)</li>
<li>第 11 行：執行環境中會相依套件(如：pytest、pytest-flake8、pytest-pep8、pytest-cov)，雖然在建立時已經有安裝 <code>requirement-ci.txt</code>，但這邊還是要修改避免其他人在本地端測試時無法啟動。</li>
</ul>
<h2 id="加入部署的-Actions"><a href="#加入部署的-Actions" class="headerlink" title="加入部署的 Actions"></a>加入部署的 Actions</h2><p><img src="https://nijialin.com/images/2021/action/1.png"></p>
<p>進入專案後，點選到上面頁籤中的 <code>Actions</code>，選取當中的 <code>Python Package</code>，</p>
<script src="https://gist.github.com/louis70109/4f06b7fdfb2b4e89557cb04ce0f939c2.js"></script>

<p>猶記得去年剛出時因為資源還不多，但現在有許多貢獻者已經幫我們寫好了許多內容，可以讓我們在當中直接點選引進 專案中，但要在 submit 前要注意當中跑的內容是甚麼才行喔！</p>
<h2 id="設定-Secret-至單一專案中"><a href="#設定-Secret-至單一專案中" class="headerlink" title="設定 Secret 至單一專案中"></a>設定 Secret 至單一專案中</h2><ul>
<li>先到 <a href="https://pypi.org/">https://pypi.org/</a></li>
<li>右上角 Your project</li>
<li>點選 Account Setting</li>
</ul>
<p><img src="https://nijialin.com/images/2021/action/token1.png"></p>
<p>因為我們還沒將專案上傳至 Pypi，因此在這裡設定權限時會先設定所有專案(Scope)，若在此之後會擔心權限問題，可在上傳完之後再回來更改喔！</p>
<p><img src="https://nijialin.com/images/2021/action/token2.png"></p>
<p>最後會給你帳號 <code>__token__</code> 與密碼 <code>pypi-xxxoooo</code>，並有敘述說你在本地端如何操作，不過這邊因為要放在 GitHub Actions 上，因此就不討論這部分。</p>
<p><img src="https://nijialin.com/images/2021/action/token3.png"></p>
<p>接著開啟剛剛 Fork 的專案，並於 <strong>Setting</strong> 中設定剛剛建立的帳號密碼，並按第三步的建立，將 <strong>PYPI_USERNAME</strong> 以及 <strong>PYPI_PASSWORD</strong> 填入剛剛設定得對應值。</p>
<p><img src="https://nijialin.com/images/2021/action/env1.png"></p>
<p>在加入部署 Actions 環節中的圖片，會有 Publish Python Package 的按鈕，但若你不小心把網頁關掉了也沒關係，以下提供一份 gist，在 <code>.github/workflows</code> 裡建立一個 <code>publish.yml</code> 並貼上即可。</p>
<blockquote>
<p>小技巧：用 Mac 開網頁我都會 Command + 左鍵 開新頁面，避免舊的頁面也需要但被刷掉。</p>
</blockquote>
<script src="https://gist.github.com/louis70109/a0d4ce1886f975552a096106bbf3c89a.js"></script>

<p>稍微解釋一下這份 yaml 檔在這部分最重要部分</p>
<ul>
<li><strong>6~8 行</strong>: 當在 GitHub 中 Release 新版本建立時(不清楚 Release <a href="https://docs.github.com/en/github/administering-a-repository/managing-releases-in-a-repository">可參考</a>)，自動觸發該腳本跑相對應功能。</li>
<li><strong>27, 28 行</strong>: 讀取專案中的環境變數，也就是剛剛在 <strong>Secret</strong> 輸入的 <strong>PYPI_USERNAME</strong> 以及 <strong>PYPI_PASSWORD</strong>，這兩行會自動去抓這兩個參數並放入。</li>
<li><strong>30, 31 行</strong>: 讀取專案套件中的 <strong>setup.py</strong>，透過設定值並編譯出一個 <code>dist/</code> 的資料夾，透過 twine 把 <code>dist/</code> 上傳至 Pypi 上。</li>
</ul>
<h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><p>首先我們先任意改個 README 內容後，直接推送至 GitHub 上，應該會先看到 ✅ 的地方是個黃色圈圈 🟡，此時就是正在跑一開始設定的單元測試，可以點圖示進去看跑的過程。</p>
<p><img src="https://nijialin.com/images/2021/action/test1.png"></p>
<p>修改 <code>GitHub_Action_Python_Example/__version__.py</code> 裡的版本號(例如: 1.0.2)演進版好，接著我們在點選 <code>Release</code> 後，會看到畫面上有 <code>Draft a new release</code> 的按鈕：<br><img src="https://nijialin.com/images/2021/action/release0.png"></p>
<p>進入後輸入相關的資訊：</p>
<ul>
<li>版號</li>
<li>標題</li>
<li>細節描述</li>
</ul>
<p><img src="https://nijialin.com/images/2021/action/release1.png"></p>
<p>輸入完之後點選 <strong>Actions</strong>，就會看到相關觸發的流程開始執行了<br><img src="https://nijialin.com/images/2021/action/release2.png"></p>
<p>想看更多執行細節就點入，會看到相關的執行 Actions Task， 若有錯誤則在當中查看。(感覺可以在設定讓整個 Task 串在一起)<br><img src="https://nijialin.com/images/2021/action/release3.png"></p>
<p>如上圖完成之後，至 <a href="https://pypi.org/">Pypi</a> 上查看你的套件，以下圖來說我就釋出了 <strong>0.2.0</strong> 的版本囉！<br><img src="https://nijialin.com/images/2021/action/release4.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>若讀者在看這邊時也在嘗試做 Python 套件的話不妨參考看看，而透過 GitHub Actions 也能讓你只要下 Release 時即可自動推到 Pypi 上，整體體驗就超省時的，是不是很方便呀！</p>
<p>接下來則預計寫一篇如何讓 GitHub Actions 串相關通知型服務，近請期待！</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>CI</tag>
        <tag>GitHub</tag>
        <tag>SDK</tag>
      </tags>
  </entry>
  <entry>
    <title>【讀書心得】無限賽局</title>
    <url>/2022/03/27/infinite-game/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/infinite-game.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Simon Sinek(賽門) 是我很久之前在看 TED 演講時就已知的作者，大家應該時常在 FB 也會看到她鼓舞人心的一些影片？而今天介紹的這本書剛好是在無意間與前輩討論時聽到的一本書，在有一定規模的公司或是任何環境中，學會換不同的思考方式也是一門學問，以下就來分享一下我的心得。</p>
<ul>
<li><a href="https://www.ted.com/speakers/simon_sinek">TED 演講</a><span id="more"></span></li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="有限賽局-vs-無限賽局"><a href="#有限賽局-vs-無限賽局" class="headerlink" title="有限賽局 vs 無限賽局"></a>有限賽局 vs 無限賽局</h2><p>其中比較有印象的一個例子就是 NBA 的比賽，在現代的比賽中，很多人會覺得只要球隊多買幾個球星，應該就是勝利方程式，當然球星之所以為球星就是有他的價值存在(比賽掌控、領導能力、更衣室…)，只要來能贏的比賽就對了，但這樣子的想法在書中的討論就是有限賽局。</p>
<p>而另一方面，也就是許多粉專在寫的內容，就是「<code>化學效應</code>」，以過去的勇士隊來說(應該14年左右?)，大家在許多比賽中都很能得分，偶爾也打得出不錯的比賽，但在季後賽總是大約落在4、5名左右，走得很艱辛，遲遲無法碰到冠軍。而在 Kerr 教練來了之後，當年直接谷底大翻身，團隊成員各司其職，把整個隊伍的「<code>化學效應</code>」發揮到最大，進而開啟後來所謂的勇士王朝，在這當中相信不論是總教練、球員…都是以整個團隊為優先考量，進而把整個<strong>隊伍的文化</strong>帶起來，成功讓接下來進來的球員可以享受團隊籃球的文化，達到無限賽局的方程式。</p>
<blockquote>
<p>當然許多時候也不會一直在無限賽局中，在 NBA 中贏的比賽也是很重要的一環，因此如何建立起有效溝通的團隊也是一門很大的學問呢！</p>
</blockquote>
<p>接著在書的其中最有印象的就是日常生活中與我們比較相近的三個大公司：</p>
<ul>
<li>柯達<ul>
<li>過去以底片相機聞名，吹起拍照的風氣，相信大家小時候一定很常去洗照片、拿柯達的相機記錄大小事情，但在這邊因為當時擁有了許多的供應鏈上的利益(底片、相機、各種專利…)，在已經看到智慧型手機之類的市場，卻沒有動身去研發與了解這個市場，時至今日市場大多只剩高階的攝影需求，無法享用智慧型手機所帶來的龐大利益。</li>
</ul>
</li>
<li>蘋果<ul>
<li>相信大家應該對於 IPHONE 問世的故事應該都聽了許多，這次書中提到的是在麥金塔(後來俗稱為 MAC)出來之前，蘋果與 IBM 各擁有了許多 PC 上的市場。而在改革之時需要把作業系統改成有 GUI(圖形化視窗) 時，內部有許多的主管初期都無法接受這次的改革，因為當時已經砸了許多的時間與成本來打造當時紅極一時的 PC，當然最後在賈伯斯帶領之下讓 MAC 擁有第一款成功的面向大眾市場的個人電腦，成功成為當時世界第二大個人電腦製造商，甚至讓現在的工程師(我)可以享用如此美的介面。</li>
<li>當然在改革的同時也需要有不同廣度的思維才有辦法建構出如此劃時代的產品。</li>
<li>其中的名言:「不先推翻自己，就等著被顛覆。」</li>
</ul>
</li>
<li>福特<ul>
<li>執行長接手時遇到了連年下滑的問題</li>
<li>了解對手為什麼有辦法做出市場都喜歡的車子</li>
<li>再回頭評估公司內到底出了什麼問題</li>
<li>最後在轉虧為盈翻轉了市場</li>
</ul>
</li>
</ul>
<h2 id="團隊信任感"><a href="#團隊信任感" class="headerlink" title="團隊信任感"></a>團隊信任感</h2><p>書中提到，有一位高階主管空降到一間公司，初期要解決團隊中的問題時，要求所有主管在報告時需要以 <code>綠、黃、紅</code> 標示出有遇到的問題，一開始所有主管不管怎麼樣都是使用綠色，因為深怕說出問題時，會影響到自己的生計。而在該位主管日復一日的鼓勵下，一位主管開始標示出<strong>紅色</strong>有遇到問題的部分，當時這位提出問題的主管深怕職涯到此結束，不但並沒有結束，反而被讚賞提出問題，進而解決長久的痛點，日復一日讓所有主管相信在這個團隊中可以提出問題，解決長年以來的問題之外，該位高階主管也建立起團隊的信任感！</p>
<h2 id="可敬的對手"><a href="#可敬的對手" class="headerlink" title="可敬的對手"></a>可敬的對手</h2><p>在福特以及蘋果的章節中提到，不管為任何產業，總會遇到一個跟你實力相當甚至高出許多的對手，在這個時候千萬別讓有限的思想限制你的發展，反而是要從對手那挖掘出值得學習的部分，吸收起來讓自己日後有機會超越對方，這樣的思考方式才不會侷限自己的領域發展。</p>
<h2 id="名為人生的賽局"><a href="#名為人生的賽局" class="headerlink" title="名為人生的賽局"></a>名為人生的賽局</h2><p>書中最後提到我們生活中一直在有限、無限賽局中飄來飄去，具體那些想法才是好的呢？這就要因人、環境而異，在你的世界裡面是無限賽局，在我的世界可能就不一定，因此看這本書時要以自己的人生下去觀察，找出屬於自己的賽局。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這本書中用了整本書的例子告訴大家關於無限賽局的思考方式，當然有許多的例子以我現在而言，還沒到達那個位置可能無法想像真的是我的話會怎麼辦，但我覺得最受用的地方是，只要日常是在處理人的環節上，這裡面許多的思考方式都是相當受用的，當然也推薦不同職業的大家來看看這本書喔！</p>
]]></content>
      <categories>
        <category>閱讀</category>
      </categories>
  </entry>
  <entry>
    <title>解決在 NodeJS 環境中遇到 Redis 套件的 Callback 的問題 | Promise 封裝</title>
    <url>/2021/05/13/javascript-callback-promise/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>


<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>近期在想活動時想到之前有做個<a href="https://github.com/louis70109/Screen-LINE-Bullets">彈幕機器人</a>，異想天開下想說在上面加個投票系統，不過為求方便想快速完成，因此想說用 Docker 啟動一個 Redis 來做個 PoC，因為當初為求前後端方便彈幕機器人就使用全 js 的方式撰寫，在很直觀找到最多星星的 Redis 套件 - <a href="https://github.com/NodeRedis/node-redis">node-redis</a>，以下就分享我被 callback 雷到的經驗ＸＤ</p>
<span id="more"></span>

<h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><p><a href="https://github.com/louis70109/vote-bullets-line-bot/blob/master/utils/redis.js">https://github.com/louis70109/vote-bullets-line-bot/blob/master/utils/redis.js</a></p>
<p>官方說本身要支援的話要等到 v4 版本，或是用 <code>util.promisify</code> 的方法去讓他變成 Promise 的模式，但顧慮到其他的套件不一定會有類似的封裝方法，因此底下就快速紀錄如何包裝成 Promise 讓其他函式可以正常使用。</p>
<h1 id="紀錄"><a href="#紀錄" class="headerlink" title="紀錄"></a>紀錄</h1><p>由於當時遇到 Callback 問題的程式碼 <code>redisClient.get(&#39;users&#39;, (err, val) =&gt; &#123;&#125;)</code> 是會非同步執行完後才回來，導致在 LINE Bot 都已經回應了 Redis 才反應過來，因此接下來就開始用 Promise 來封裝它。</p>
<blockquote>
<p>參考範例： <a href="https://github.com/louis70109/vote-bullets-line-bot/blob/master/utils/redis.js">https://github.com/louis70109/vote-bullets-line-bot/blob/master/utils/redis.js</a></p>
</blockquote>
<p>首先，要先知道 JavaScript 任何東西都是以一個<code>函式</code>(<code>Function</code>)為單位，因此不論是在陣列、Object 當中都可以放入函式，且因為獨立封裝成一個檔案的關係，為了接下來 module.export 方便因此就直接定義一個 Object 來用。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> redisPromise = &#123;&#125;;</span><br></pre></td></tr></table></figure>

<p>這邊使用 JavaScript 獨特的寫法來撰寫，前面說過 JavaScript 是 Function-based，因此很多東西都可以用 <code>.</code> 來串接。而以下這段則是將 <code>redisClient.get()</code> 這個 callback 函式透過建立一個 Promise 來將它包裝後，藉由 Promise 的 <code>reslove()</code> 以及 <code>reject()</code> 來控制成功、失敗時的相關作法，最後在 <strong>return</strong> 來回傳結果，如此一來就可以解決非同步的問題了。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">redisPromise.getAndUpdateUserList = <span class="function">(<span class="params">lineData</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    redisClient.get(<span class="string">&#x27;users&#x27;</span>, <span class="function">(<span class="params">err, val</span>) =&gt;</span> &#123;</span><br><span class="line">      reslove(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">    &#125;))&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>另一個版本</strong>: 但相信有些讀者應該看到這語法糖應該會頭很痛，以下將它拆解為比較好理解的版本(使用匿名函式)。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">redisPromise = &#123;</span><br><span class="line">  getAndUpdateUserLint: <span class="function"><span class="keyword">function</span> (<span class="params">lineData</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      redisClient.get(<span class="string">&#x27;users&#x27;</span>, <span class="function">(<span class="params">err, val</span>) =&gt;</span> &#123;</span><br><span class="line">        reslove(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>最後在程式的尾端加上 <code>module.exports = redisPromise;</code>，即可將剛剛包裝好的東西都輸出出去，讓引入此檔案的地方可以使用剛剛定義的 <code>redisPromise.getAndUpdateUserLint()</code> 功能，詳細用法可以參考<a href="https://github.com/louis70109/vote-bullets-line-bot/blob/master/index.js#L41">我的 GitHub</a>。</p>
<blockquote>
<p>如果你是寫 Python 的朋友可以想像這個 dictionary (Object) 是一個 Class，裡面的每個 key 都是一個 function，如此一來在撰寫程式時會有比較好的連結喔！</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以上這次是我第一次遇到這樣的問題，未來可能也會遇到有些套件提供的功能如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">someFunction(callbackOne(), callbackTwo());</span><br></pre></td></tr></table></figure>

<p>因為 JavaScript 本身是非同步，因此在 Debug 時可能會看到在後面的 log 已經先印出來了，才看到 Callback 打回來的訊息，若大家切換語系到 JavaScript 時要注意使用的套件是否有遇到這類的問題喔！(還真不適應 😆)</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Callback</tag>
      </tags>
  </entry>
  <entry>
    <title>處理 video.js 字幕編碼問題 | 使用 blob 放上字幕檔</title>
    <url>/2022/04/16/javascript-video-js-subtitle-debug/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因為放在 bucket 上的檔案預設是用 utf-8 上傳，但如果是中文字變成亂碼。因此想說好看一點，在後端上傳前把東西都先用 big5 encode 完後再傳到 bucket，檔案看起來就正常了</p>
<ul>
<li>video.js 前端若用 localhost 會拉不到影片<ul>
<li>至少要用 IP 的方式開啟才能讀到<code>影片</code>跟<code>字幕</code></li>
</ul>
</li>
<li>如果 <code>字幕檔</code> 是抓遠端 bucket，會遇到 CORS 的問題<ul>
<li>本篇使用 blob 的方式建立一個<code>暫時的網址</code>給字幕使用</li>
</ul>
</li>
</ul>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>呼救了後端來 big5 格式的中文字幕檔，WEBVTT 相關的格式都幫忙 format 好了，想說就透過 Blob 建立一個網址放上去</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vttBlob = <span class="keyword">new</span> Blob([vttText], &#123; <span class="attr">type</span>: <span class="string">&#x27;text/vtt&#x27;</span> &#125;);</span><br><span class="line"><span class="keyword">const</span> blobURL = URL.createObjectURL(vttBlob);</span><br><span class="line"><span class="keyword">return</span> blobURL;</span><br></pre></td></tr></table></figure>

<p>結果開啟 blob url 之後，發現居然連 <code>\n</code> 都老老實實的放下去(如下圖)，因此這邊就用 <code>eval()</code> 來協助重建字串。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vttText = <span class="built_in">eval</span>(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;subtitles&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/subtitle/0-1.png"></p>
<p>想說 blob 出來是亂碼，找了一下就使用 iconv 來協助轉成 big5，看起來畫面是成功的</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vttText = iconv.encode(<span class="built_in">eval</span>(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;subtitles&#x27;</span>)), <span class="string">&#x27;big5&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/subtitle/1-2.png"></p>
<p>結果重新整理畫面後，看到影片上居然都是亂碼…<br><img src="https://nijialin.com/images/subtitle/1-1.png"></p>
<p>接著實驗一下把 iconv.encode() 先拔掉之後，雖然從 blob url 上看是亂碼，但是到影片播放器中卻是正常的，所以看來 video.js 會協助把中文的字幕(vtt)<code>自動的轉成 big5</code> 的格式，因此若有在使用時可以注意一下喔！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>video.js 影片部分可以拉沒公開的 Google Cloud Storage(GCS) 上的影片，但字幕檔拉的時候會有 CORS 的問題(搞不清楚)，因此使用 Blob 方式來協助這次的使用，因為這次 big5, utf-8 的問題繞得很大一圈，不過至少東西可以繼續往下開發了，後續 side project 出來之後再繼續跟大家分享～</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>video.js</tag>
        <tag>WEBVTT</tag>
        <tag>字幕</tag>
      </tags>
  </entry>
  <entry>
    <title>【JavaScript】Function 呈現方式、修改 Array 長度、型態轉換、Unique Array value</title>
    <url>/2020/09/26/javascript-skills-1/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近在各個地方學到到一些 JavaScript 的小技巧，練習過後快速寫一篇小文章記錄下來 📖，也把一些實際上有用到的小技巧一併記錄下來分享給大家。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>以下的測試程式碼皆可直接在 node 環境中貼上執行，直接在終端機(ex: iTerm)中下 <code>node</code> 即可進入環境，另外也可以貼到 Chrome 的 Console(按 F12)。</p>
<h2 id="過濾陣列重複的值"><a href="#過濾陣列重複的值" class="headerlink" title="過濾陣列重複的值"></a>過濾陣列重複的值</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">MDN 解釋</a>: Set objects are collections of values. You can iterate through the elements of a set in insertion order. A value in the Set may only occur once; it is unique in the Set’s collection.</p>
<p>簡單來說: 會把重複的值過濾掉讓它(value)只出現一次，並創建一個新的陣列</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tmp = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Set</span>(tmp);</span><br><span class="line"><span class="comment">//result: Set &#123; 1, 2, 3, 4, 5, 6, 7 &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="轉換成-Boolean"><a href="#轉換成-Boolean" class="headerlink" title="轉換成 Boolean"></a>轉換成 Boolean</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">!<span class="number">5</span>;</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line">!<span class="string">&quot;5&quot;</span>;</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line">![];</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line">!&#123;&#125;;</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line">!<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h2 id="強制型態轉換"><a href="#強制型態轉換" class="headerlink" title="強制型態轉換"></a>強制型態轉換</h2><p>以下提供常見與 JavaScript 提供的另一種方法:</p>
<h3 id="字串-與-整數-互換"><a href="#字串-與-整數-互換" class="headerlink" title="字串 與 整數 互換"></a>字串 與 整數 互換</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> b = <span class="number">123</span>; <span class="comment">// Integer</span></span><br><span class="line"><span class="comment">// 轉字串</span></span><br><span class="line"><span class="built_in">String</span>(b); <span class="comment">// &#x27;123&#x27;</span></span><br><span class="line">b + <span class="string">&quot;&quot;</span>; <span class="comment">// &#x27;123&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字串轉整數</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="string">&quot;456&quot;</span>;</span><br><span class="line"><span class="built_in">Number</span>(c); <span class="comment">// 456</span></span><br><span class="line">+c; <span class="comment">// 456</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 整數 -&gt; 字串 -&gt; 整數</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="built_in">String</span>(b)); <span class="comment">// 123</span></span><br><span class="line">+(b + <span class="string">&quot;&quot;</span>); <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<h3 id="浮點數-與-整數"><a href="#浮點數-與-整數" class="headerlink" title="浮點數 與 整數"></a>浮點數 與 整數</h3><p>更多使用方法可以參考 <a href="https://stackoverflow.com/questions/596467/how-do-i-convert-a-float-number-to-a-whole-number-in-javascript">stackoverflow</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> d = <span class="number">123.45</span>;</span><br><span class="line"><span class="built_in">parseInt</span>(d); <span class="comment">// 123</span></span><br><span class="line">d | <span class="number">0</span>; <span class="comment">// 123</span></span><br><span class="line">~~d; <span class="comment">//123</span></span><br><span class="line">&gt;&gt;d; <span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<h2 id="陣列長度修改"><a href="#陣列長度修改" class="headerlink" title="陣列長度修改"></a>陣列長度修改</h2><p>這個使用方式會更改到原本的陣列</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">arr.length = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<p>若不想更改到原本的陣列可以使用 <code>filter</code> 來操作:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.filter(<span class="function">(<span class="params">el</span>) =&gt;</span> arr.indexOf(el) &lt; <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h2 id="常見函式呈現方法"><a href="#常見函式呈現方法" class="headerlink" title="常見函式呈現方法"></a>常見函式呈現方法</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">campaign1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Hello 1 world&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> campaign2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Hello 2 world&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> campaign3 = <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&quot;Hello 3 world&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 特定需求像是: 遞迴</span></span><br><span class="line"><span class="keyword">const</span> campaign4 = <span class="function"><span class="keyword">function</span> <span class="title">fac</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n &lt; <span class="number">2</span> ? <span class="number">1</span> : n * fac(n - <span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(campaign4(<span class="number">3</span>));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在操作上若要宣告當下就執行，可以參考 「<a href="https://developer.mozilla.org/zh-TW/docs/Glossary/IIFE">IIFE</a>」</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>看過這些用法後要記得練習讓自己對這些用法更加有印象喔！若之後有學到不同的技巧實在寫新的文章分享。 👍</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>【JCConf 2022】活動紀錄 | Keynote, 攤位, 開發統計版</title>
    <url>/2022/10/14/jcconf-2022/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/jcconf/2.JPG"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>JCConf 為台灣最大的 Java 開發者研討會，這次的研討會中也看到許多講者、開發者的活力！有在現場的朋友一定會被這活力感染。當然今年 LINE 如往常一樣透過「黃金級」贊助 JCConf，除了讓開發者可以在攤位上與 LINER 互動外，也讓社群能夠有持續前進的動力！沒參加到也沒關係，以下就讓小編用文章帶大家走走。</p>
<span id="more"></span>

<h2 id="什麼是-JCConf"><a href="#什麼是-JCConf" class="headerlink" title="什麼是 JCConf?"></a><a href="https://jcconf.tw/2022/">什麼是 JCConf?</a></h2><p>JCConf Taiwan (Java Community Conference Taiwan) 是由社群成員發起的 Java 程式語言及相關領域研討會，由 TWJUG (Taiwan Java User Group) 主辦，Scala Taiwan 和 科斯高 協辦。宗旨在提供台灣的 Java 開發者有更多參與社群以及交流技術的機會，目標與會對象主要為使用 Java 語言及 JVM 相關技術的程式開發者和相關從業人員。</p>
<h1 id="Keynote-LINE-TODAY"><a href="#Keynote-LINE-TODAY" class="headerlink" title="Keynote - LINE TODAY"></a>Keynote - LINE TODAY</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/4d3bbc1078594d23b6146d0e7949d098?slide=4" title="LINE TODAY keynote in JCConf 2022 " allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>因為這次是黃金級贊助，特此邀請 LINE TODAY 團隊的 PJ Tsai 用五分鐘的時間快速介紹整個團隊的技術架構與組成，既然是在 Java 研討會，當然基本的 Java EE, Aspect, Spring Boot…都是必要的，但大家總會有疑問，LINE 有各式各樣的團隊，是不是都自己維護工具呢？其實 LINE 也是相當<a href="https://github.com/line">支持 Open Source</a>，當然在這次的 Keynote 中 PJ 也分享了 LINE TODAY 中使用到的 Open Source。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/4d3bbc1078594d23b6146d0e7949d098?slide=5" title="LINE TODAY keynote in JCConf 2022 " allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>LINE TODAY 團隊也相當重視 DevOps 的流程，以下概略列出來給大家：</p>
<ul>
<li>透過 JIRA 專案管理</li>
<li>Container 方式存取</li>
<li>SonarQube 做靜態程式碼分析</li>
<li>Jenkins 處理各種自動化流程</li>
<li>透過 ArgoCD 佈署於 Kubernetes</li>
<li>使用 Grafana 來監控服務狀態</li>
<li>透過 LeSS 大型敏捷框架來增進交付效率</li>
</ul>
<p>當然你若想了解更細節的團隊內容，歡迎參考以下職缺：</p>
<ul>
<li><a href="https://lnkd.in/gUYE4dTi">Server-Side Developer - LINE TODAY</a></li>
</ul>
<h1 id="攤位"><a href="#攤位" class="headerlink" title="攤位"></a>攤位</h1><p><img src="https://nijialin.com/images/2022/jcconf/1.JPG"></p>
<h2 id="EC-team"><a href="#EC-team" class="headerlink" title="EC team"></a><a href="https://engineering.linecorp.com/zh-hant/teams/LINE%20SHOPPING/">EC team</a></h2><p>LINE 電商包含購物、直播、禮物、口袋商店、快電商以及金物流 &#x2F; 電子發票等 microservices。LINE 購物是我們的主要服務，透過商品比價功能，讓用戶可以從上千萬筆的商品中找到最低價或回饋最多的商品，當用戶透過 LINE 購物完成消費，我們將回饋 LINE POINTS 給用戶，除了新功能的開發外，也需要與各合作廠商或 LINE 其他國家的服務合作或平台串接。</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/1155">Senior Data Engineer - EC</a></li>
<li><a href="https://careers.linecorp.com/jobs/1308">Machine Learning Engineer - EC</a></li>
<li><a href="https://careers.linecorp.com/jobs/1230">Full Stack Developer - EC</a></li>
</ul>
<h2 id="Android-amp-iOS-team"><a href="#Android-amp-iOS-team" class="headerlink" title="Android &amp; iOS team"></a><a href="https://speakerdeck.com/line_developers_tw/2022-ios-and-android-team-introduction">Android &amp; iOS team</a></h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/2bf0b0ada56e4bd3a004fe0b0a0e6c4c?slide=7" title="2022 iOS &amp; Android team introduction" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>作為 Android 和 iOS 開發者，加入 LINE 工程團隊，可以親手維護自己與親友每天使用的軟體。在這次攤位中分享了在 LINE 當中負責的應用程式以及使用的語言，同時也因為 LINE 功能眾多為大型程式，有機會深入研究模組化與編譯技術。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/2bf0b0ada56e4bd3a004fe0b0a0e6c4c?slide=9" title="2022 iOS &amp; Android team introduction" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>也分享去年推出的 LINE 購物 App，由台灣團隊一手打造出來，採用了最新的 Google Flutter 技術，讓 Android 及 iOS 兩個平台的開發能更密切，讓現場交流的會眾覺得非常有趣，詢問了許多使用者體驗的問題，當然若讀者有興趣也歡迎參考以下資訊：</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/1362">Flutter iOS Developer</a></li>
<li><a href="https://careers.linecorp.com/jobs/1227">Android Developer</a></li>
</ul>
<h2 id="LINE-Pay"><a href="#LINE-Pay" class="headerlink" title="LINE Pay"></a><a href="https://speakerdeck.com/line_developers_tw/line-pay-in-jcconf-2022">LINE Pay</a></h2><p><img src="https://nijialin.com/images/2022/jcconf/3.JPG"></p>
<p>這次的攤位中也邀請的 LINE Pay 的 Luther 以及 Kevin 來攤位上跟大家分享在團隊中處理支付上的一些討論。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/2d79c6c989c44c519132da68f67fcd97?slide=4" title="LINE Pay in JCConf 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>介紹當中也有提到近期推出的 <a href="https://apps.apple.com/tw/app/line-pay-%E6%94%AF%E4%BB%98%E9%AB%94%E9%A9%97-%E7%85%A5%E7%84%B6%E4%B8%80%E6%96%B0/id1563230455">LINE Pay App</a>，在使用上小編真的是日常生活都會用到它，使用體驗非常好且直觀呢！</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/2d79c6c989c44c519132da68f67fcd97?slide=10" title="LINE Pay in JCConf 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>當然在技能方面也是含有許多 Open Source 的工具，如果想更透徹了解 LINE Pay 日常開發到底會用到哪些工具，請看這邊:</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/75">Server-side Engineer - LINE Pay</a></li>
<li><a href="https://careers.linecorp.com/jobs/639">Android Developer - LINE Pay</a></li>
</ul>
<h2 id="Global-Content-Platform-team"><a href="#Global-Content-Platform-team" class="headerlink" title="Global Content Platform team"></a><a href="https://speakerdeck.com/line_developers_tw/global-content-platform-in-jcconf-2022">Global Content Platform team</a></h2><p><img src="https://nijialin.com/images/2022/jcconf/6.JPG"></p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/34ba3bd80e8d440d95254f8952b7441e?slide=2" title="Global Content Platform in JCConf 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>在 LINE 服務當中，像是 LINE TODAY、LINE 旅遊、LINE 購物、LINE 熱點等等，都會需要有許多的資料來呈現內容給使用者，隨著服務越來越多，也就需要專門在負責消化&#x2F;吞吐這些資料的團隊，來幫助大家處理日常資料流。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/34ba3bd80e8d440d95254f8952b7441e?slide=8" title="Global Content Platform in JCConf 2022" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>而在處理資料上會因為許多來源跟需求不同，需要處理&#x2F;整理不同的格式(JSON, XML…)，進而讓介接的服務可以在使用體驗上達到一致。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2022/jcconf/IMG_2609.JPG"></p>
<p>以語言開發為基礎的研討會中，有相關的調查都是非常有趣的，本次的攤位中調查「使用何種方式開發 Java」、「都怎麼版控」；其中多數開發者都以 JetBrain 的 IntelliJ IDEA 作為開發首選，搭配 Git 作為版本控制，當然也有開發者選用其他的方式開發以及版本控制，透過這問卷版在現場的互動中真的是很有趣呢！</p>
<p>很高興這次有機會參與年度的 Java 盛事，如果對於加入我們有興趣的開發者，歡迎參考上方的團隊敘述中的連結喔！希望能在 LINE 台灣與大家相見！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>JCConf</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE Taiwan x Java 年度盛會：JCConf 2020</title>
    <url>/2020/12/12/jcconf-2020-booth/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2020/jcconf/booth.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan Technology Evangelist – NiJia Lin。這次非常開心能以 LINER 身份參加 <a href="https://jcconf.tw/2020/">JCConf 2020</a>，與各界 Java 高手們在<strong>台大醫院國際會議中心</strong>享受 Java 社群的強大動能與活力！而 LINE 身為黃金級贊助商之一，特別為 JCConf 準備 Keynote 議程，也有從眾多優秀的議程競爭者中脫穎而出的 LINER 講者，向與會者介紹最新服務與開發技術。並且也在大會現場設置了公司攤位，由多位充滿專業與熱忱的 LINE 開發人員定時為與會者提供短講，介紹 LINE SHOPPING、LINE SPOT、LINE TODAY、LINE Client、LINE Pay 等團隊的工作內容，接下來就來複習一下當天的內容吧！</p>
<span id="more"></span>

<p>其他同仁們的心得分享：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/a-trip-to-jcconf-2020/">A trip to JCConf 2020</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/jcconf-2020-sharing-rsocket/">JCConf 2020 大會心得分享 – RSocket 革命，為了 Reactive Programming 而生的高效率通訊協定</a></li>
</ul>
<h1 id="Keynote"><a href="#Keynote" class="headerlink" title="Keynote"></a>Keynote</h1><p><img src="https://nijialin.com/images/2020/jcconf/keynote.jpg"></p>
<p>於大會的 Keynote 時間由 LINE EC Lead - Ange 快速帶大家認識 LINE EC 主要負責的內容：</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="9f5b83bb0fec42ea9327750597018ff7" data-ratio="1.41436464088398" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><a href="https://buy.line.me/">LINE 購物</a>: 為一個<strong>導購平台</strong>，讓消費者可以在 LINE 的平台上即可同時搜尋與比較各大購物網站的價格，各大節慶時常有優惠活動，因此先 LINE 購物再購物！<ul>
<li>相關技術文章 : <a href="https://engineering.linecorp.com/zh-hant/blog/line-shopping-app-with-flutter/">LINE Shopping App with Flutter: 使用 Flutter 來打造 LINE 購物的手機雙平台應用</a></li>
</ul>
</li>
<li><a href="https://ezstore.line.me/">LINE 口袋商店</a>: LINE 官方帳號內建的電子商務服務，認證帳號只需進一步完成 LINE Pay 註冊，即可快速打造在 LINE 上的電商平台！消費者只要在 LINE 平台上就可以輕鬆完成商品資訊問答、付款以及追蹤出貨狀況等等，大大簡化了消費者的購物流程！</li>
<li><a href="https://giftshop-tw.line.me/">LINE 酷券</a>: 以券類為主軸，讓大家可以在上面以划算的價格買到優惠券</li>
</ul>
<script async class="speakerdeck-embed" data-slide="5" data-id="9f5b83bb0fec42ea9327750597018ff7" data-ratio="1.41436464088398" src="//speakerdeck.com/assets/embed.js"></script>

<p>因為 LINE 在各種節日時常會有大流量的問題，因此在日常開發上講者就快速整理了一些較大方向所需面對的挑戰。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="9f5b83bb0fec42ea9327750597018ff7" data-ratio="1.41436464088398" src="//speakerdeck.com/assets/embed.js"></script>

<p>同時也因為團隊是採用 Scrum，因此交付週期以兩個禮拜一個週期來快速交付新功能，讓平台可以持續推動更多優秀的功能給大家體驗。</p>
<p>當然除了吸引人的福利外(開放風氣、Training、Team building…等等)，若你的技能與下列有關(不用全部)，歡迎至 <a href="https://career.linecorp.com/linecorp/career/list">LINE Career</a> 投遞履歷，同時也歡迎大家投遞不同的職缺喔！</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="9f5b83bb0fec42ea9327750597018ff7" data-ratio="1.41436464088398" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="大會快講-Migrating-to-JUnit-5-x2F-Joanna-Hu"><a href="#大會快講-Migrating-to-JUnit-5-x2F-Joanna-Hu" class="headerlink" title="大會快講 - Migrating to JUnit 5 &#x2F; Joanna Hu"></a>大會快講 - Migrating to JUnit 5 &#x2F; Joanna Hu</h2><p><strong>為何整合到 JUnit5</strong></p>
<ul>
<li>高度支援 IDE 與 build tool</li>
<li>容易從 JUnit4 移植</li>
<li>並且有相關新功能</li>
</ul>
<script async class="speakerdeck-embed" data-slide="1" data-id="e939086a95c2498f8f683bf4c944e3af" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如果你是 JUnit4 的開發者，如何來 Migrating 到 JUnit5 呢？</p>
<ul>
<li>升級你的 Maven 到 3.63 以上</li>
<li>升級你的 Gradle 到 4.6 以上</li>
<li>先寫一些使用 JUnit5 的測試案例</li>
<li>移植舊有 JUnit4 的測試</li>
<li>Package 有更換過就可以繼續使用</li>
<li>根據 JUnit4 Rule 測試，改寫成 JUnit5 Extension</li>
<li>透過換名字方式即可，也可以使用 IntelliJ IDEA 的功能來置換</li>
</ul>
<blockquote>
<p>更詳細內容可參考 <a href="https://engineering.linecorp.com/zh-hant/blog/2020-10-21-twjug/#migrating-to-junit-5--joanna-hu">2020&#x2F;10&#x2F;21 TWJUG@LINE</a>，裡有更多議程的介紹。</p>
</blockquote>
<h2 id="大會快講-Introduction-to-AssertJ-x2F-Andy-Chen"><a href="#大會快講-Introduction-to-AssertJ-x2F-Andy-Chen" class="headerlink" title="大會快講 - Introduction to AssertJ &#x2F; Andy Chen"></a>大會快講 - Introduction to AssertJ &#x2F; Andy Chen</h2><ul>
<li>AssertJ 可以更容易來陳述與表達 test case 原本的意思（語意上）</li>
<li>AssertJ 可以更清楚表達 test failure 的狀況</li>
<li>更少的 code 可以有更精準的表達</li>
</ul>
<blockquote>
<p>更詳細內容可參考 <a href="https://engineering.linecorp.com/zh-hant/blog/2020-10-21-twjug/#introduction-to-assertj--andy-chen">2020&#x2F;10&#x2F;21 TWJUG@LINE</a>，裡有更多議程的介紹。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="1" data-id="62c0abf65c024c2190772278bb8a37fa" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="攤位快講-LINE-SHOPPING-購物"><a href="#攤位快講-LINE-SHOPPING-購物" class="headerlink" title="攤位快講 - LINE SHOPPING(購物)"></a>攤位快講 - <a href="https://buy.line.me/">LINE SHOPPING(購物)</a></h2><p><img src="https://nijialin.com/images/2020/jcconf/client2.jpg"></p>
<p>作為一個導購的入口整合了各大電商網站，在節慶時特別容易遇到流量問題，因此在系統結構上就會使用到一些技術或工具，如 CDN、Kubernetes、Cache Server…來確保流量進來時的穩定性：</p>
<script async class="speakerdeck-embed" data-slide="14" data-id="50946b9cde9640ad979628de0eaa3919" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了在 Keynote 已經分享過的 Technology Stack 以外，團隊也有在 Scrum 上細分角色，以確保每人都有負責到屬於自己的區塊。</p>
<script async class="speakerdeck-embed" data-slide="23" data-id="50946b9cde9640ad979628de0eaa3919" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="攤位快講-TW-Client-team"><a href="#攤位快講-TW-Client-team" class="headerlink" title="攤位快講 - TW Client team"></a>攤位快講 - TW Client team</h2><p><img src="https://nijialin.com/images/2020/jcconf/shopping.jpg"></p>
<p>Client Team 主要負責有以下部分，從頁籤分類、 SDK 到 TODAY 以及 SHOPPING APP:</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="3a683b91ae7d4b69880745496b168902" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<script async class="speakerdeck-embed" data-slide="10" data-id="3a683b91ae7d4b69880745496b168902" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>在 12&#x2F;18 的 <a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020/">TECHPULSE 2020</a> 中也有許多 LINER 會在議程中分享 Client 相關主題(Flutter、螢幕長截圖)</p>
</blockquote>
<h2 id="攤位快講-LINE-TODAY"><a href="#攤位快講-LINE-TODAY" class="headerlink" title="攤位快講 - LINE TODAY"></a>攤位快講 - LINE TODAY</h2><p><img src="https://nijialin.com/images/2020/jcconf/today.jpg"></p>
<script async class="speakerdeck-embed" data-slide="2" data-id="452c9831a78444178018170da6c26e0c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>做為大家日常生活中都會用到的內容供應服務，TODAY 以<code>多樣化內容</code>、<code>Notification</code>、<code>Social</code>、<code>Live</code> 為主，以下簡單列一些常見提供的內容：</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="452c9831a78444178018170da6c26e0c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而身為一個大型的內容服務，架構上也整合了許多功能(推薦系統、CDN、CMS…)：</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="452c9831a78444178018170da6c26e0c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>也因為 LINE TODAY 每天都會接收到許多流量，同時需要提供良好的系統給使用者，因此講者也很佛心的幫大家整理出來：</p>
<script async class="speakerdeck-embed" data-slide="23" data-id="452c9831a78444178018170da6c26e0c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="攤位快講-LINE-Pay"><a href="#攤位快講-LINE-Pay" class="headerlink" title="攤位快講 - LINE Pay"></a>攤位快講 - LINE Pay</h2><p><img src="https://nijialin.com/images/2020/jcconf/pay.jpg"></p>
<p>作為一個與行動支付相關的服務，LINE Pay 提供了許多功能:</p>
<script async class="speakerdeck-embed" data-slide="2" data-id="d9bd6ad263c64682893b5475d715469f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<script async class="speakerdeck-embed" data-slide="6" data-id="d9bd6ad263c64682893b5475d715469f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>大家再熟悉不過的畫面</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="d9bd6ad263c64682893b5475d715469f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在開發上也是經過縝密的流程才能造就現今的 LINE Pay，也因為與支付有關，所以從 Plan -&gt; Security -&gt; Develop(FE, BE) -&gt; QA 都會有層層把關來確保服務品質。</p>
<script async class="speakerdeck-embed" data-slide="13" data-id="d9bd6ad263c64682893b5475d715469f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然除了相關功能介紹外，上述也有相關開發的工具展示供大家參考，而若你對於更細節內容有興趣的話可以收看 LINE Developer Meetup 13 - LINE Pay Kevin Hsiao 的分享：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/u9gkqcTH6rM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="攤位快講-LINE-SPOT"><a href="#攤位快講-LINE-SPOT" class="headerlink" title="攤位快講 - LINE SPOT"></a>攤位快講 - LINE SPOT</h2><p><img src="https://nijialin.com/images/2020/jcconf/spot.jpg"></p>
<p>這部分有另一篇更詳細介紹，請<a href="https://engineering.linecorp.com/zh-hant/blog/serving-location-based-data/">參考此篇</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Dir0iUpAjH4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<script async class="speakerdeck-embed" data-slide="13" data-id="cc7a74a469d24aa0bbd8493d1df76926" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="攤位快講-LINE-Travel"><a href="#攤位快講-LINE-Travel" class="headerlink" title="攤位快講 - LINE Travel"></a>攤位快講 - LINE Travel</h2><p><img src="https://nijialin.com/images/2020/jcconf/travel.jpg"></p>
<script async class="speakerdeck-embed" data-slide="4" data-id="63a32ef2be4545e6aa6b4b6d704fd223" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>作為一個旅遊服務，LINE Travel 提供了許多與旅遊規劃相關功能，如 Co-editing、POI 介紹與推薦、地圖規劃…此外也提供了一個會員市集，深度整合了各大旅遊平台，讓大家可以如 <a href="https://buy.line.me/">LINE 購物</a>一樣比價並且導向至相對應的平台上，讓大家的選擇可以更多樣性。</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="63a32ef2be4545e6aa6b4b6d704fd223" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>以上攤位於 <code>12/18</code> 的 <a href="https://techpulse.line.me/">LINE TAIWAN TECHPULSE 2020</a>皆會有展出，且會有許多相關團隊的同仁們會在大會議程上與大家分享主題，報名只到 <strong>12&#x2F;13</strong> 晚上 23:59 為止，趕快手刀報名才不會錯過這千載難逢的機會！</p>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://tw.linebiz.com/column/lac-verified/">LINE for Business</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020/">LINE TAIWAN TECHPULSE 2020</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>研討會</tag>
        <tag>DevRel</tag>
      </tags>
  </entry>
  <entry>
    <title>【日文】五十音學習記錄 | 學語言前要先會あああああああああ</title>
    <url>/2021/08/24/jp-50-words-learning/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>「風遁螺旋手裡劍」、「雷之呼吸壹之型ＯＯＯ」</p>
<p>以上這些兩句只要有看動畫的人應該都會知道，甚至都會把大街上他唸出來了(<del>太油</del>)，此外因為工作關係上班都會與有許多日本同事溝通，看著看著都覺得自己好像看得懂(明明就用亂猜)，且甚至身邊的同事都去考到 N1 等級了，當身邊的朋友(同事)都開始在學日語時，感覺自己也得上了ＸＤ(畢竟接觸多了)</p>
<blockquote>
<p><del>以上廢話很多</del></p>
</blockquote>
<p>以下是我一開始學五十音的學法，與大家分享一下我如何用工程師的角度的記得這些單字 😆</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>あ　い　う　え　お<br>a i u e o</p>
<p>上面這幾個字就是給小朋友他們應該都有會發音了，但就只會這幾個發音跟亂念的招式名稱，還是沒辦法把基本的五十音背好，以下我以一個軟體工程師的角度分享我的背法。</p>
<p>當你會第一排的陣列之後，會發現，第二排陣列你永遠記不住！(還是只有我？)且記憶體會頻繁的流失…陣列值一直被 pop 掉</p>
<blockquote>
<p>[a, i, u, e, o]</p>
</blockquote>
<p>經過了縝密的評估，且每晚只有約半～一個小時的時間可以學，一排一排背太沒有記憶點了，因此我就先把 a 排的羅馬拼音都先背下來</p>
<blockquote>
<p>a, ka, sa, ta, na | 五個一組記<br>ha, ma, ya, ra, wa, n | 五個一組加最後一個字</p>
</blockquote>
<p>接著大家都有學過<strong>二維陣列</strong>(矩陣)的概念以及 JSON 的概念吧！背起來完腦袋中的 Storage 應該如下</p>
<p>{<br>a: [i, u, e, o],<br>ka: [],<br>sa: [],<br>ta: [],<br>na: [],<br>ha: [],<br>ma: [],<br>ya: [],<br>ra: [],<br>wa: [],<br>n: []<br>}</p>
<blockquote>
<p>這邊我們就先不管日文字怎麼寫，先把發音記得比較重要！</p>
</blockquote>
<p>接著我們看一下以下的圖，既然我們已經會一開始 a, i, u, e, o 的發音，加上我們會 ka, sa, ta, na…的字首音，組合起來後整個二維陣列的樣式都出來啦！</p>
<p><img src="https://nijialin.com/images/2021/jp50.png"></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  [a, i, u, e, o],</span><br><span class="line">  [ka, ke, ku, ke, ko],</span><br><span class="line">  ...依此類推</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>這邊要記得 ya 行有<code>中洞</code>，沒錯就是麻將的中洞，這樣比較好記</p>
</blockquote>
<blockquote>
<p>wa 只要記頭尾就好, [wa, wo]</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>最後，濁音跟半濁音網路上也有許多教法，他們是對應到 ka, sa, ta, ha 行，這邊我的紀法就是 ga, za, tabata(da, ba, pa)，就是 fitness 的那個 tabata，透過聯想的方式就很容易記得了，當最後大家都知道發音怎麼唸之後，在想盡辦法死背每一個日文字了(這真的無解)，會發音之後看東西就可以學比較快囉！😁</p>
<p>最後還是記不下來發音順序？去公園邊走邊念就可以記得很快囉！(放下羞恥心)</p>
<blockquote>
<p>お疲れ様でした :)</p>
</blockquote>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Japan</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker 學習筆記 - 將 Twitch Bot 容器化</title>
    <url>/2020/01/27/learn-docker-with-twitch-bot/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近剛好看到許多<code>EKS</code>、<code>GKE</code>相關的文章，趁著過年時刻先來補足一下 Docker 這個既熟悉又陌生的技能 😆，之後再接著研究如何串接至 <a href="https://zh.wikipedia.org/zh-tw/Kubernetes">kubernetes</a> 並同時到雲平台上，接下來一起來看我從建立到建置的過程紀錄 🙂。</p>
<p>以下就使用我的 side project - <a href="https://github.com/louis70109/Twitch-Bot">Twitch-Bot</a> 做範例囉！</p>
<blockquote>
<p>主要使用的功能為 <code>node</code> 以及 <code>mongo</code></p>
</blockquote>
<h1 id="新增檔案"><a href="#新增檔案" class="headerlink" title="新增檔案"></a>新增檔案</h1><p>這邊我使用 vscode 的 <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker">Docker extension</a> 來幫助我快速建立 docker 相關的檔案:</p>
<ul>
<li>Dockerfile</li>
<li>docer-compose.yml</li>
<li>.dockerignore</li>
</ul>
<blockquote>
<p>透過以下的 gif 可以快速建立以上三個檔案</p>
</blockquote>
<p><img src="https://github.com/microsoft/vscode-docker/raw/master/resources/readme/generateFiles.gif"></p>
<p>操作方式為 <code>Cmd+Shift+P</code> &gt;<code>docker: add</code> &gt; <code>選擇語言(Node)</code> &gt; <code>設定輸出 Port</code></p>
<h2 id="處理-dockerfile"><a href="#處理-dockerfile" class="headerlink" title="處理 dockerfile"></a>處理 dockerfile</h2><p>藉由 extension 來幫我們產生檔案第一步就完成了，接著對 Dockerfile 稍做修改:</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">10.13</span>-alpine</span><br><span class="line"><span class="keyword">MAINTAINER</span> NiJia &lt;louis70109@gmail.com&gt;</span><br><span class="line"><span class="keyword">ENV</span> NODE_ENV production</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> [<span class="string">&quot;package.json&quot;</span>, <span class="string">&quot;package-lock.json*&quot;</span>, <span class="string">&quot;/app/&quot;</span>]</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> npm install</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /app/</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;npm&quot;</span>, <span class="string">&quot;start&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>FROM: 來自什麼映像檔，這裡使用預設給的 node 版。</li>
<li>MAINTAINER: 寫描述的位置，這邊我標註我的名稱與 EMail。</li>
<li>ENV: 環境變數寫在這，不過這個專案是放在 Github 上，所以我就沒把 chatbot 平台的密鑰放在這了。</li>
<li>WORKDIR: 當前在一個乾淨的環境下，而你預想的工作路目錄要叫什麼就在這設定，同時也會一起幫你建立好 (我用<code>/app</code>這個工作資料夾當作範例)。</li>
<li>COPY: 把檔案複製到想要放的地方，這裡為了先讓容器安裝完相依套件，因此先把 <code>package.json</code> 以及 <code>package-lock.json</code> 先複製進 <code>/app/</code> 這個資料夾內。</li>
<li>RUN: 執行終端機指令，在上面檔案複製過來之後，這裡我就來安裝相依套件庫。</li>
<li>COPY: 安裝完產生 node_modules 之後把原本的有的東西都複製過來。<ul>
<li><code>.</code> &#x3D; 當前目錄</li>
<li>&#x2F;app&#x2F; &#x3D; 欲複製前往的地方</li>
</ul>
</li>
<li>EXPOSE: 容器要打出去的 Port 出口，在前面呼叫 extension 時就已經輸入完這欄了。</li>
<li>CMD: 幫我執行指令 (參考: <a href="http://jenkins.readbook.tw/docker/basic/104-dockerfile/entrypoint/">CMD 與 ENTRYPOINT 的差別</a>)</li>
</ul>
<h2 id="docker-compose-yml"><a href="#docker-compose-yml" class="headerlink" title="docker-compose.yml"></a>docker-compose.yml</h2><p>這邊我將預設的修改為:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">twitch-bot:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">twitch-bot</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">NODE_ENV:</span> <span class="string">production</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">5000</span><span class="string">:5000</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mongo</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">chatbot-network</span></span><br><span class="line">  <span class="attr">mongo:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mongo</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/db:/data/db</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">chatbot-network</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">chatbot-network:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure>

<p>首先將<code>version</code>改成 <code>3</code>，有向下相容的話當然就是要使用新的囉！</p>
<p>接著會建立兩個 container (services):</p>
<ol>
<li>twitch-bot<br><code>build</code> 後面接著 <code>.</code> 是指說建立在當前位置，<code>depends_on</code> 則是依賴哪個 container，最後則透過 networks (<code>chatbot-network</code>) 來讓服務互相溝通。</li>
<li>mongo<br>這邊則就直接去 dockerhub 裡面抓，<code>restart</code>鐵定是必要設定，不然會沒有資料庫 🤣，<code>volumes</code>則是設定說你想映射的檔案位置在哪，這邊我設定<strong>當前目錄的&#x2F;data&#x2F;db</strong> (.&#x2F;data&#x2F;db)裡面，對應到映像檔裡面的 <strong>&#x2F;data&#x2F;db</strong> 的位置，然後一樣透過 networks (<code>chatbot-network</code>) 來讓服務溝通。</li>
</ol>
<p>networks 這邊就有點像主機設定網卡一樣，我設定一個 <code>chatbot-network</code> 的網卡它是使用橋接(<code>bridge</code>)模式來驅動(<code>driver</code>)</p>
<blockquote>
<p>這部分是參考<a href="https://zhuanlan.zhihu.com/p/69536325">知乎</a>，對照改出來的</p>
</blockquote>
<blockquote>
<p>補給站: 一般看到 <code>5000:5000</code> 或是 <code>./data/db:/data/db</code> 的寫法，它意思是 本地端位置 對應「<code>:</code>」到 容器的位置，像上述檔案就有 port 以及 資料庫位置，這邊就會因應服務而對應到不同的功能。</p>
</blockquote>
<h2 id="修改-dockerignore"><a href="#修改-dockerignore" class="headerlink" title="修改 .dockerignore"></a>修改 .dockerignore</h2><p>這邊因為我很偷懶不想把<code>.env</code>裡的環境變數寫進<code>dockerfile</code>😆，因此在這就把檔案中的<code>**/.env</code>拔掉方便做事 🤣</p>
<h1 id="測試容器"><a href="#測試容器" class="headerlink" title="測試容器"></a>測試容器</h1><h3 id="啟動"><a href="#啟動" class="headerlink" title="啟動"></a>啟動</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-d</code> 表示讓容器跑在背景，如果沒加的話就會在終端機上看到容器們的行為。</li>
<li>會建立本地端的 container image。</li>
</ul>
<h3 id="關閉"><a href="#關閉" class="headerlink" title="關閉"></a>關閉</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker-compose down</span><br></pre></td></tr></table></figure>

<ul>
<li>若是使用 <a href="https://github.com/louis70109/Twitch-Bot">Twitch-bot</a> 來試玩的話，則需要多開一個視窗執行 <code>npx ngrok http 5000</code> 來建立一個暫時含有 SSL 的 URL。</li>
</ul>
<h1 id="建置-build"><a href="#建置-build" class="headerlink" title="建置(build)"></a>建置(build)</h1><p>如果是按照原本 docker-compose.yml 的打法：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">twitch-bot:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">twitch-bot</span></span><br></pre></td></tr></table></figure>

<p>這樣的話 docker 預設會幫忙下一個 <code>latest</code> 版號的 tag。</p>
<p>如果是按造以下做法的話在 build 就會幫忙建立 <code>帳號/容器名</code>，並下一個 <code>0.1</code> 的 tag</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">twitch-bot:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">louis70109/twitch-bot:0.1</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/7Ftfpeh.png"></p>
<p>接下來就執行 <code>docker-compose build</code> 幫忙建立一個有版本號(tag)的容器映像檔(container image)。</p>
<p><img src="https://i.imgur.com/JiifOjy.png"></p>
<blockquote>
<p>補給站:</p>
<ul>
<li>記得要 <code>docker login</code> 哦！</li>
<li>到 dockerhub 或其他私有倉庫建立 container repository</li>
</ul>
</blockquote>
<h1 id="結碖"><a href="#結碖" class="headerlink" title="結碖"></a>結碖</h1><p>趁著春節的零碎時間來跟這個熟悉陌生技能打個招呼 😆，同時也體會到大家說到 docker 好用的地方以及給予的彈性，之前都是有需要測試某些功能才會用到，對於 <code>dockerfile</code> 以及 <code>docker-compose.yml</code> 就甚少了解，藉著年假空檔練習，之後只要在熟悉一下整體的使用方法應該就能好好的～用它來幫忙做事了 🚀。</p>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="https://github.com/lmjben/cdfang-spider/blob/master/src/nodeuii/config/index.ts#L3">連線 mongo container</a><br><a href="http://jenkins.readbook.tw/docker/basic/104-dockerfile/entrypoint/">docker CMD 使用</a><br><a href="https://docs.docker.com/compose/">Overview of Docker Compose</a><br><a href="https://github.com/louis70109/Twitch-Bot">Twitch-Bot</a></p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>container</tag>
        <tag>docker-compose</tag>
      </tags>
  </entry>
  <entry>
    <title>【k3d】處理無法開 NodePort 與建立 Cluster 的問題</title>
    <url>/2021/10/17/kubernetes-k3d-nodeport-not-create/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>這個禮拜複習一下之前使用 k3d 練習 Kubernetes 的相關文章 - <a href="https://nijialin.com/2021/02/19/kubernetes-k3d-learning/">將 Chatbot 丟入一台筆電中的 Kubernetes 叢集海 | k3d | Docker</a>，但很莫名其妙的 k3d 壞掉，建立除了說 agents 找不到之外，建立到一半還會 rollback，以下如果看文的你有遇到類似的問題可以試試看。</p>
<h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><ul>
<li>刪除 k3d 的 Cluster</li>
<li>NodePort 開啟的寫法更換</li>
</ul>
<span id="more"></span>

<h1 id="除蟲過程直接跳到-kind"><a href="#除蟲過程直接跳到-kind" class="headerlink" title="除蟲過程直接跳到 kind"></a>除蟲過程直接跳到 kind</h1><p>許久沒用之後我索性想說跳巢使用另一個工具 <a href="https://kind.sigs.k8s.io/">kind</a>，它是由 Kubernetes 所維護的開源測試工具，本想說好了順便學一下，順著 Quick Start 實作後，部署上去透過 k9s 來監控一下為什麼最基本的服務起來都一直在 pending 的狀態，進去看之後看到類似下面的訊息：</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>node(s) had taints that the pod didn<span class="comment">&#x27;t tolerate.</span></span><br></pre></td></tr></table></figure>

<p>許久沒弄＋第一次換過來都不知道是發生什麼事情(污染了什麼？？)，並且當中也看到 CrashLoopBackOff 的字眼，重複查了許多都是因為使用舊版導致的一些問題，這邊剛好想到會不會是 k3d 與 kind 之間卡了什麼東西互相影響</p>
<h1 id="回歸-k3d-建立-Cluster-遇到錯誤"><a href="#回歸-k3d-建立-Cluster-遇到錯誤" class="headerlink" title="回歸 k3d 建立 Cluster 遇到錯誤"></a>回歸 k3d 建立 Cluster 遇到錯誤</h1><p>建立初期我還是照著官網範例下了 <code>k3d cluster create nijiacluster --agents 1 -p 8000:30080@agent[0]</code> (官網不會騙我吧？)，但還是出現類似以下的錯誤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">➜  k3d cluster <span class="keyword">create</span> nijiacluster2 <span class="comment">--agents 1</span></span><br><span class="line">INFO[<span class="number">0000</span>] Prep: Network</span><br><span class="line">INFO[<span class="number">0000</span>] Created network <span class="string">&#x27;k3d-nijiacluster2&#x27;</span></span><br><span class="line">INFO[<span class="number">0000</span>] Created volume <span class="string">&#x27;k3d-nijiacluster2-images&#x27;</span></span><br><span class="line">INFO[<span class="number">0000</span>] <span class="keyword">Starting</span> <span class="keyword">new</span> tools node...</span><br><span class="line">INFO[<span class="number">0000</span>] <span class="keyword">Starting</span> Node <span class="string">&#x27;k3d-nijiacluster2-tools&#x27;</span></span><br><span class="line">INFO[<span class="number">0001</span>] Creating node <span class="string">&#x27;k3d-nijiacluster2-server-0&#x27;</span></span><br><span class="line">INFO[<span class="number">0001</span>] Creating node <span class="string">&#x27;k3d-nijiacluster2-agent-0&#x27;</span></span><br><span class="line">INFO[<span class="number">0001</span>] Creating LoadBalancer <span class="string">&#x27;k3d-nijiacluster2-serverlb&#x27;</span></span><br><span class="line">INFO[<span class="number">0001</span>] <span class="keyword">Using</span> the k3d-tools node <span class="keyword">to</span> gather environment information</span><br><span class="line">INFO[<span class="number">0001</span>] <span class="keyword">Starting</span> cluster <span class="string">&#x27;nijiacluster2&#x27;</span></span><br><span class="line">INFO[<span class="number">0001</span>] <span class="keyword">Starting</span> servers...</span><br><span class="line">INFO[<span class="number">0001</span>] <span class="keyword">Starting</span> Node <span class="string">&#x27;k3d-nijiacluster2-server-0&#x27;</span></span><br><span class="line">INFO[<span class="number">0001</span>] Deleted k3d-nijiacluster2-tools</span><br><span class="line">INFO[<span class="number">0007</span>] <span class="keyword">Starting</span> agents...</span><br><span class="line">INFO[<span class="number">0007</span>] <span class="keyword">Starting</span> Node <span class="string">&#x27;k3d-nijiacluster2-agent-0&#x27;</span></span><br><span class="line"><span class="keyword">WARNING</span>: <span class="keyword">Error</span> loading config <span class="keyword">file</span>: /<span class="keyword">Users</span>/nijia/.docker/config.json: <span class="keyword">open</span> /<span class="keyword">Users</span>/nijia/.docker/config.json: too many <span class="keyword">open</span> files</span><br><span class="line">ERRO[<span class="number">0030</span>] <span class="keyword">Failed</span> Cluster <span class="keyword">Start</span>: <span class="keyword">Failed</span> <span class="keyword">to</span> <span class="keyword">add</span> one <span class="keyword">or</span> more agents: Node k3d-nijiacluster2-<span class="keyword">agent</span><span class="number">-0</span> <span class="keyword">failed</span> <span class="keyword">to</span> <span class="keyword">get</span> ready: <span class="keyword">Failed</span> waiting <span class="keyword">for</span> <span class="keyword">log</span> message <span class="string">&#x27;Successfully registered node&#x27;</span> <span class="keyword">from</span> node <span class="string">&#x27;k3d-nijiacluster2-agent-0&#x27;</span>: <span class="keyword">failed</span> <span class="keyword">to</span> <span class="keyword">get</span> <span class="keyword">container</span> <span class="keyword">for</span> node <span class="string">&#x27;k3d-nijiacluster2-agent-0&#x27;</span>: <span class="keyword">Failed</span> <span class="keyword">to</span> <span class="keyword">list</span> containers: <span class="keyword">error</span> during <span class="keyword">connect</span>: <span class="keyword">Get</span> <span class="string">&quot;http://%2Fvar%2Frun%2Fdocker.sock/v1.24/containers/json?all=1&amp;filters=%7B%22label%22%3A%7B%22app%3Dk3d%22%3Atrue%2C%22k3d.cluster.imageVolume%3Dk3d-nijiacluster2-images%22%3Atrue%2C%22k3d.cluster.network.external%3Dfalse%22%3Atrue%2C%22k3d.cluster.network.id%3Ded12e7fc4c6a417a407af54b2aa37659ef4c93ad480fbbe815b041fe9d042954%22%3Atrue%2C%22k3d.cluster.network.iprange%3D172.25.0.0%2F16%22%3Atrue%2C%22k3d.cluster.network%3Dk3d-nijiacluster2%22%3Atrue%2C%22k3d.cluster.token%3DDIoMcOupoUDPSYabJsVF%22%3Atrue%2C%22k3d.cluster.url%3Dhttps%3A%2F%2Fk3d-nijiacluster2-server-0%3A6443%22%3Atrue%2C%22k3d.cluster%3Dnijiacluster2%22%3Atrue%2C%22k3d.role%3Dagent%22%3Atrue%2C%22k3d.version%3Dv5.0.1%22%3Atrue%7D%2C%22name%22%3A%7B%22%5E%2F%3F%28k3d-%29%3Fk3d-nijiacluster2-agent-0%24%22%3Atrue%7D%7D&amp;limit=0&quot;</span>: dial unix /<span class="keyword">var</span>/run/docker.sock: socket: too many <span class="keyword">open</span> files</span><br><span class="line">ERRO[<span class="number">0030</span>] <span class="keyword">Failed</span> <span class="keyword">to</span> <span class="keyword">create</span> cluster &gt;&gt;&gt; <span class="keyword">Rolling</span> Back</span><br><span class="line">INFO[<span class="number">0030</span>] Deleting cluster <span class="string">&#x27;nijiacluster2&#x27;</span></span><br><span class="line"><span class="keyword">WARNING</span>: <span class="keyword">Error</span> loading config <span class="keyword">file</span>: /<span class="keyword">Users</span>/nijia/.docker/config.json: <span class="keyword">open</span> /<span class="keyword">Users</span>/nijia/.docker/config.json: too many <span class="keyword">open</span> files</span><br><span class="line">ERRO[<span class="number">0030</span>] <span class="keyword">Failed</span> <span class="keyword">to</span> <span class="keyword">get</span> nodes <span class="keyword">for</span> cluster <span class="string">&#x27;nijiacluster2&#x27;</span>: docker <span class="keyword">failed</span> <span class="keyword">to</span> <span class="keyword">get</span> containers <span class="keyword">with</span> labels <span class="string">&#x27;map[k3d.cluster:nijiacluster2]&#x27;</span>: <span class="keyword">failed</span> <span class="keyword">to</span> <span class="keyword">list</span> containers: <span class="keyword">error</span> during <span class="keyword">connect</span>: <span class="keyword">Get</span> <span class="string">&quot;http://%2Fvar%2Frun%2Fdocker.sock/v1.24/containers/json?all=1&amp;filters=%7B%22label%22%3A%7B%22app%3Dk3d%22%3Atrue%2C%22k3d.cluster%3Dnijiacluster2%22%3Atrue%7D%7D&amp;limit=0&quot;</span>: dial unix /<span class="keyword">var</span>/run/docker.sock: socket: too many <span class="keyword">open</span> files</span><br><span class="line">ERRO[<span class="number">0030</span>] <span class="keyword">failed</span> <span class="keyword">to</span> <span class="keyword">get</span> cluster: <span class="keyword">No</span> nodes <span class="keyword">found</span> <span class="keyword">for</span> given cluster</span><br><span class="line">FATA[<span class="number">0030</span>] Cluster <span class="keyword">creation</span> <span class="keyword">FAILED</span>, also <span class="keyword">FAILED</span> <span class="keyword">to</span> <span class="keyword">rollback</span> changes!</span><br></pre></td></tr></table></figure>

<h2 id="想起還有-k9s"><a href="#想起還有-k9s" class="headerlink" title="想起還有 k9s"></a>想起還有 k9s</h2><p>透過 k9s 可以觀看在線上的 node, pod 在搞什麼鬼，近來看才發現有一個沒刪掉的 cluster 卡在這</p>
<p><img src="https://nijialin.com/images/2021/k3d-debug/1.png"></p>
<blockquote>
<p>可能我指令也不熟沒發現到這邊</p>
</blockquote>
<p>上網找了一下可以使用 <code>kubectl config delete-context</code> 把沒刪掉的 cluster 砍了，因此就如下：</p>
<figure class="highlight dsconfig"><table><tr><td class="code"><pre><span class="line">➜ <span class="string">kubectl</span> <span class="string">config</span> <span class="built_in">delete-context</span> <span class="string">k3d-nijiacluster</span></span><br><span class="line"><span class="string">deleted</span> <span class="string">context</span> <span class="string">k3d-nijiacluster</span> <span class="string">from</span> /<span class="string">Users</span>/<span class="string">nijia</span>/.<span class="string">kube</span>/<span class="string">config</span></span><br></pre></td></tr></table></figure>

<p>砍掉之後再重新建立一次 cluster 就不會出現上面錯誤了</p>
<h1 id="k3d-NodePort-建立不起來"><a href="#k3d-NodePort-建立不起來" class="headerlink" title="k3d - NodePort 建立不起來"></a>k3d - NodePort 建立不起來</h1><p>上次輸入這個指令後是可以建立 NodePort 的 Cluster</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">k3d</span> cluster create nijiacluster --agents <span class="number">1</span> -p &#x27;<span class="number">8000</span>:<span class="number">30080</span>@agent[<span class="number">0</span>]&#x27;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>官方文件目前也是這樣說 [2021&#x2F;10&#x2F;17]： <a href="https://k3d.io/usage/guides/exposing_services/#2-via-nodeport">https://k3d.io/usage/guides/exposing_services/#2-via-nodeport</a></p>
</blockquote>
<p>想當然是建立失敗，出現以下訊息</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">FATA[<span class="number">0000</span>] failed <span class="keyword">to</span> transform port<span class="variable">s:</span> Failed <span class="keyword">to</span> parse node <span class="built_in">filter</span><span class="variable">s:</span> invalid format <span class="built_in">or</span> <span class="built_in">empty</span> subset in <span class="string">&#x27;agent[0]&#x27;</span></span><br></pre></td></tr></table></figure>

<p>接著透過 <code>--help</code> 來找一下到底哪邊輸入錯了</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">-p</span>, <span class="selector-tag">--port</span> <span class="selector-attr">[HOST:]</span><span class="selector-attr">[HOSTPORT:]</span><span class="selector-tag">CONTAINERPORT</span><span class="selector-attr">[/PROTOCOL]</span><span class="selector-attr">[@NODEFILTER]</span>   <span class="selector-tag">Map</span> <span class="selector-tag">ports</span> <span class="selector-tag">from</span> <span class="selector-tag">the</span> <span class="selector-tag">node</span> <span class="selector-tag">containers</span> (via the serverlb) <span class="selector-tag">to</span> <span class="selector-tag">the</span> <span class="selector-tag">host</span> (<span class="attribute">Format</span>: [<span class="attribute">HOST</span>:][<span class="attribute">HOSTPORT</span>:]CONTAINERPORT[/PROTOCOL][<span class="variable">@NODEFILTER</span>])</span><br><span class="line"><span class="selector-tag">-</span> <span class="selector-tag">Example</span>: `<span class="selector-tag">k3d</span> <span class="selector-tag">cluster</span> <span class="selector-tag">create</span> <span class="selector-tag">--agents</span> <span class="selector-tag">2</span> <span class="selector-tag">-v</span> /<span class="selector-tag">my</span>/<span class="selector-tag">path</span>@<span class="selector-tag">agent</span><span class="selector-pseudo">:0</span>,<span class="selector-tag">1</span> <span class="selector-tag">-v</span> /<span class="selector-tag">tmp</span>/<span class="selector-tag">test</span>:/<span class="selector-tag">tmp</span>/<span class="selector-tag">other</span>@<span class="selector-tag">server</span><span class="selector-pseudo">:0</span>`</span><br></pre></td></tr></table></figure>

<p>看到範例才發現後面的 <code>[]</code> 變成了 <code>:</code></p>
<h2 id="AS-IS"><a href="#AS-IS" class="headerlink" title="AS-IS"></a>AS-IS</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">k3d</span> cluster create nijiacluster --agents <span class="number">1</span> -p <span class="number">8082</span>:<span class="number">30080</span>@agent[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<h2 id="TO-BE"><a href="#TO-BE" class="headerlink" title="TO-BE"></a>TO-BE</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">k3d</span> cluster create nijiacluster --agents <span class="number">1</span> -p <span class="number">8082</span>:<span class="number">30080</span>@agent:<span class="number">0</span></span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>今天簡短寫一下這週對我而言遇到的怪問題，接下來要開始研究一下在 k3d 中安裝 prometheus 了～</p>
]]></content>
      <categories>
        <category>Kubernetes</category>
      </categories>
      <tags>
        <tag>Kubernetess</tag>
        <tag>k3d</tag>
        <tag>NodePort</tag>
        <tag>kind</tag>
      </tags>
  </entry>
  <entry>
    <title>將 Chatbot 丟入一台筆電中的 Kubernetes 叢集海 | k3d | Docker</title>
    <url>/2021/02/19/kubernetes-k3d-learning/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Kubernetes 幫忙處理掉許多以前很繁雜的問題(Auto-Scaling、容器管理..)，讓開發者只要手持 Container 與大量 yaml 檔即可將工具部署上去(前提是容器要正常工作)，但作為僅有一台筆電的開發者(我)想試玩總不能直接至雲端開叢集(金幣攻擊)，因此找到了一個解決方案，使用 k3d 來幫助我們建立 Kubernetes 試玩，以下就一步步帶大家從容器建立到將服務部署於叢集上。</p>
<p>範例專案：<a href="https://github.com/louis70109/kubernetes-line-echo-bot">louis70109&#x2F;kubernetes-line-echo-bot</a></p>
<span id="more"></span>

<h1 id="建立容器"><a href="#建立容器" class="headerlink" title="建立容器"></a>建立容器</h1><p>首先要先進入 <a href="https://github.com/louis70109/kubernetes-line-echo-bot/tree/master/echo-bot-python">echo-bot-python</a> 資料夾中，在建立前可以先測試這個範例是否正常運作，這隻機器人只是一隻基本回話的 Chatbot：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> echo-bot-python/</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line">cp .env.example .env <span class="comment"># 加入 LINE_CHANNEL_SECRET, LINE_CHANNEL_ACCESS_TOKEN 兩把鑰匙</span></span><br><span class="line">python api.py</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>請至 <a href="https://developers.line.biz/console/">LINE Developer Console</a> 建立 Chatbot</li>
<li>LINE Chatbot 建立流程參考於 <a href="https://nijialin.com/2020/08/27/chatbot-taichung-08/#Massaging-API">Chatbot Taichung 工作坊的文章</a></li>
</ul>
</blockquote>
<p>為求方便與練習，這邊使用 Docker Hub 作為 Kubernetes 的容器使用平台，接著請先至 <a href="https://hub.docker.com/">Docker Hub</a> 註冊帳號並下載 <a href="https://docs.docker.com/get-docker/">Docker</a>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker login <span class="comment"># 登入</span></span><br><span class="line">docker build . -t=<span class="string">&quot;帳號/line-echo-bot-python&quot;</span>  <span class="comment"># 將中文改成你 Docker Hub 的帳號</span></span><br><span class="line">docker push  <span class="comment"># 推上 Docker Hub</span></span><br></pre></td></tr></table></figure>

<p>第二段意思是在<strong>當前位置</strong>建立一個 <code>帳號/line-echo-bot-python</code> 的標籤，因為在上半部測試 Chatbot 時已經在 <strong>echo-bot-python&#x2F;</strong> 資料夾下，若不知道位置可使用 <code>pwd</code> 來查當前位置。</p>
<p>若建立上還是有問題，可以使用我已經有建立好了的 <a href="https://hub.docker.com/repository/docker/louis70109/line-echo-bot-python">Echo-Bot-Container</a>。</p>
<blockquote>
<p>補充: Docker 是 Container 的一個解決方案，Container 不等於 Docker</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/nc3mBN3LzvM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h1 id="練習開始"><a href="#練習開始" class="headerlink" title="練習開始"></a>練習開始</h1><p>日常工作中，上半部的工作可能會更加複雜，而若只是練習許多人會直接使用 <a href="https://hub.docker.com/_/nginx">Nginx</a> 來測試也是沒問題的，那麼接下來就開始使用 <a href="https://k3d.io/">k3d</a> 來練習囉！</p>
<p>k3d 是什麼呢？它是將 <a href="https://github.com/k3s-io/k3s">k3s</a> 這個輕量化(Lightweight) Kubernetes 打包成 Docker Image，讓不同平台的 Docker 用戶可以在 Docker 上操作 Kubernetes，當然也有很多不同的服務可以支援，這邊就不贅述。</p>
<h2 id="1-安裝-k3d-其他安裝方式-與-kubectl-其他-於-Mac"><a href="#1-安裝-k3d-其他安裝方式-與-kubectl-其他-於-Mac" class="headerlink" title="1. 安裝 k3d (其他安裝方式) 與 kubectl (其他) 於 Mac"></a>1. 安裝 k3d (<a href="https://k3d.io/#installation">其他安裝方式</a>) 與 kubectl (<a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">其他</a>) 於 Mac</h2><p><img src="https://nijialin.com/images/2021/k3d/logo.png" alt="k3d"></p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>k3d</span><br><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>kubectl</span><br><span class="line"></span><br><span class="line">kubectl version --client</span><br></pre></td></tr></table></figure>

<blockquote>
<p>kubectl 是 kubernetes 操作叢集(cluster)的的指令集</p>
</blockquote>
<h2 id="2-建立叢集-cluster-，將-mycluster-改成你想要的名字"><a href="#2-建立叢集-cluster-，將-mycluster-改成你想要的名字" class="headerlink" title="2. 建立叢集(cluster)，將 mycluster 改成你想要的名字"></a>2. 建立叢集(cluster)，將 <strong>mycluster</strong> 改成你想要的名字</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">k3d</span> cluster create mycluster --agents <span class="number">1</span> -p &#x27;<span class="number">8082</span>:<span class="number">30080</span>@agent[<span class="number">0</span>]&#x27;</span><br></pre></td></tr></table></figure>

<p>-p 的意思是將本機(Mac)的 8082 port 轉到 Docker 裡的 Kubernetes 環境中的 30080 port</p>
<h4 id="2021-x2F-10-x2F-15-更新"><a href="#2021-x2F-10-x2F-15-更新" class="headerlink" title="[2021&#x2F;10&#x2F;15 更新]"></a>[2021&#x2F;10&#x2F;15 更新]</h4><p>在這天我在回顧使用時遇到了以下錯誤</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Error </span>from server (InternalError): an error on the server (&quot;&quot;) has prevented the request from succeeding</span><br></pre></td></tr></table></figure>

<p>問題是在 <code>kubectl</code> 沒有跟 <code>k3d</code> 建立的 cluster 連結</p>
<p>因此重新建立一個 cluster 之後會看到以下的 logs:</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="builtin-name">INFO</span>[0000] Prep: Network</span><br><span class="line"><span class="builtin-name">INFO</span>[0000]<span class="built_in"> Network </span>with name <span class="string">&#x27;k3d-nijiacluster&#x27;</span> already exists with ID <span class="string">&#x27;cd6c156a979c5cdec361aa1322a8b0486a1e910589041c5fdbee361f14693152&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0000] Created volume <span class="string">&#x27;k3d-nijiacluster-images&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0001] Creating node <span class="string">&#x27;k3d-nijiacluster-server-0&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0001] Creating node <span class="string">&#x27;k3d-nijiacluster-agent-0&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0001] Creating LoadBalancer <span class="string">&#x27;k3d-nijiacluster-serverlb&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0001] Starting cluster <span class="string">&#x27;nijiacluster&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0001] Starting Node <span class="string">&#x27;k3d-nijiacluster-server-0&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0010] Starting Node <span class="string">&#x27;k3d-nijiacluster-agent-0&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0011] Starting Node <span class="string">&#x27;k3d-nijiacluster-serverlb&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0012] (Optional) Trying <span class="keyword">to</span> <span class="builtin-name">get</span><span class="built_in"> IP </span>of the docker host <span class="keyword">and</span> inject it into the cluster as <span class="string">&#x27;host.k3d.internal&#x27;</span> <span class="keyword">for</span> easy access</span><br><span class="line">WARN[0017] Failed <span class="keyword">to</span> patch CoreDNS ConfigMap <span class="keyword">to</span> include entry <span class="string">&#x27;192.168.65.2 host.k3d.internal&#x27;</span>: Exec process <span class="keyword">in</span> node <span class="string">&#x27;k3d-nijiacluster-server-0&#x27;</span> failed with exit code <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0017] Successfully added host record <span class="keyword">to</span> /etc/hosts <span class="keyword">in</span> 3/3 nodes</span><br><span class="line"><span class="builtin-name">INFO</span>[0017] Cluster <span class="string">&#x27;nijiacluster&#x27;</span> created successfully!</span><br><span class="line"><span class="builtin-name">INFO</span>[0017] <span class="attribute">--kubeconfig-update-default</span>=<span class="literal">false</span> --&gt; sets <span class="attribute">--kubeconfig-switch-context</span>=<span class="literal">false</span></span><br><span class="line"><span class="builtin-name">INFO</span>[0017] You can now use it like this:</span><br><span class="line">kubectl<span class="built_in"> config </span>use-context k3d-nijiacluster</span><br><span class="line">kubectl cluster-info</span><br></pre></td></tr></table></figure>

<p>其中 <code>kubectl config use-context k3d-nijiacluster</code> 非常中藥，它需要設定 config 讓 kubectl 認識你的 k3d container，下完這指令之後就不會出現剛剛以上的問題喔。</p>
<h4 id="2021-x2F-02-x2F-24-更新"><a href="#2021-x2F-02-x2F-24-更新" class="headerlink" title="[2021&#x2F;02&#x2F;24 更新]"></a>[2021&#x2F;02&#x2F;24 更新]</h4><p>透過 <code>docker ps</code> 會看到剛剛建立的 agent 被起了一個 Docker Container，並 forward <code>8082:30080</code> port，這就是 k3d 將 k3s 包裝起來的 Container</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">CONTAINER</span> ID   IMAGE                      COMMAND                  CREATED      STATUS      PORTS                             NAMES</span><br><span class="line"><span class="attribute">cd60952ed93a</span>   rancher/k<span class="number">3</span>d-proxy:v<span class="number">4</span>.<span class="number">0</span>.<span class="number">0</span>   <span class="string">&quot;/bin/sh -c nginx-pr…&quot;</span>   <span class="number">4</span> days ago   Up <span class="number">4</span> days   <span class="number">80</span>/tcp, <span class="number">0.0.0.0:52713</span>-&gt;<span class="number">6443</span>/tcp   k<span class="number">3</span>d-nijiacluster-serverlb</span><br><span class="line"><span class="attribute">120e93a4ca0a</span>   rancher/k<span class="number">3</span>s:latest         <span class="string">&quot;/bin/k3s agent&quot;</span>         <span class="number">4</span> days ago   Up <span class="number">4</span> days   <span class="number">0.0.0.0:8082</span>-&gt;<span class="number">30080</span>/tcp           k<span class="number">3</span>d-nijiacluster-agent-<span class="number">0</span></span><br><span class="line"><span class="attribute">dc82667faec0</span>   rancher/k<span class="number">3</span>s:latest         <span class="string">&quot;/bin/k3s server --t…&quot;</span>   <span class="number">4</span> days ago   Up <span class="number">4</span> days                                     k<span class="number">3</span>d-nijiacluster-server-<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>建立完後使用 <code>k3d node list</code> 來看自己剛剛建立的 cluster 們狀態:</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">k3d <span class="keyword">node</span> <span class="title">list</span></span><br><span class="line"></span><br><span class="line">NAME                        <span class="keyword">ROLE</span>           <span class="title">CLUSTER</span>        STATUS</span><br><span class="line">k3d-nijiacluster-agent-<span class="number">0</span>    agent          nijiacluster   running</span><br><span class="line">k3d-nijiacluster-server-<span class="number">0</span>   server         nijiacluster   running</span><br><span class="line">k3d-nijiacluster-serverlb   loadbalancer   nijiacluster   running</span><br></pre></td></tr></table></figure>

<blockquote>
<p>按造過往經驗， Mac 在這裡會是代表像是 Linux 中的 iptable(防火牆)，也就是最後一到對外關卡，因此才需要挖通道讓 Mac 與 Docker 中的 kubernetes 互通。</p>
</blockquote>
<h2 id="3-將-chatbot-bot-service-yml-部署到-cluster-中"><a href="#3-將-chatbot-bot-service-yml-部署到-cluster-中" class="headerlink" title="3. 將 chatbot(bot_service.yml) 部署到 cluster 中"></a>3. 將 chatbot(bot_service.yml) 部署到 cluster 中</h2><p>修改以 clone 下來的<a href="https://github.com/louis70109/kubernetes-line-echo-bot/blob/master/bot_service.yml">專案</a>，開啟 <strong>bot_service.yml</strong> 後先把上述建立好並推上 DockerHub 的容器貼在 <strong>image</strong> 欄位，並將剛剛建立的 LINE Chatbot key <strong>env 參數</strong>中:</p>
<ul>
<li>容器對外是 8000 port</li>
<li>每個像這樣會被部署的服務皆會稱為 Deployment</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">bot-service</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">帳號/line-echo-bot-python:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8000</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">LINE_CHANNEL_SECRET</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">&#x27;剛剛設定的 SECRET&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">LINE_CHANNEL_ACCESS_TOKEN</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">&#x27;剛剛設定的 TOKEN&#x27;</span></span><br></pre></td></tr></table></figure>

<p>將 bot_service.yml 部署上 kubernetes(k3d) 並用 get 看來看 pods 的狀態：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl apply -f bot_service.yml</span><br><span class="line">kubectl get -f bot_service.yml</span><br></pre></td></tr></table></figure>

<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">NAME</span>             READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line"><span class="attribute">bot</span>-deployment   <span class="number">0</span>/<span class="number">1</span>     <span class="number">1</span>            <span class="number">0</span>           <span class="number">12</span>s</span><br></pre></td></tr></table></figure>

<p>如果要看更詳細資訊的話可以使用 describe 來看：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl describe pods <span class="comment"># 看細節</span></span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/k3d/chatbot-pod.png" alt="k3d"></p>
<h2 id="4-進入-forward-yml-介接-kubernetes-k3d-與-Deployment-chatbot-的-port"><a href="#4-進入-forward-yml-介接-kubernetes-k3d-與-Deployment-chatbot-的-port" class="headerlink" title="4. 進入 forward.yml 介接 kubernetes(k3d) 與 Deployment(chatbot) 的 port"></a>4. 進入 <a href="https://github.com/louis70109/kubernetes-line-echo-bot">forward.yml</a> 介接 kubernetes(k3d) 與 Deployment(chatbot) 的 port</h2><p>做到這邊狀態現在整體狀態應該會如下：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxODRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQ3NHB4O2hlaWdodDoxODRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0NzQgMTg0IiB3aWR0aD0iNDc0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMjYiIHgyPSIyNiIgeTE9IjM2LjI5NjkiIHkyPSIxNDkuNjk1MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIyMTUuNSIgeDI9IjIxNS41IiB5MT0iMzYuMjk2OSIgeTI9IjE0OS42OTUzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjI5OC41IiB4Mj0iMjk4LjUiIHkxPSIzNi4yOTY5IiB5Mj0iMTQ5LjY5NTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNDMxLjUiIHgyPSI0MzEuNSIgeTE9IjM2LjI5NjkiIHkyPSIxNDkuNjk1MyIvPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDIiIHg9IjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOCIgeD0iMTIiIHk9IjI0Ljk5NTEiPk1hYzwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQyIiB4PSI1IiB5PSIxNDguNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIxMiIgeT0iMTY4LjY5MDQiPk1hYzwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQxIiB4PSIxOTUuNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3IiB4PSIyMDIuNSIgeT0iMjQuOTk1MSI+azNkPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDEiIHg9IjE5NS41IiB5PSIxNDguNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3IiB4PSIyMDIuNSIgeT0iMTY4LjY5MDQiPmszZDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNCIgeD0iMjQ2LjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MCIgeD0iMjUzLjUiIHk9IjI0Ljk5NTEiPkRlcGxveW1lbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDQiIHg9IjI0Ni41IiB5PSIxNDguNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwIiB4PSIyNTMuNSIgeT0iMTY4LjY5MDQiPkRlcGxveW1lbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NCIgeD0iMzk0LjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MCIgeD0iNDAxLjUiIHk9IjI0Ljk5NTEiPkNoYXRib3Q8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NCIgeD0iMzk0LjUiIHk9IjE0OC42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAiIHg9IjQwMS41IiB5PSIxNjguNjkwNCI+Q2hhdGJvdDwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwNCw2My40Mjk3LDIxNCw2Ny40Mjk3LDIwNCw3MS40Mjk3LDIwOCw2Ny40Mjk3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNiIgeDI9IjIxMCIgeTE9IjY3LjQyOTciIHkyPSI2Ny40Mjk3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2IiB4PSIzMyIgeT0iNjIuMzYzOCI+ODA4MiBwb3J0ICYjMjM1NjU7JiMyNTAzMzsgMzAwODAgcG9ydDwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwOS41LDkyLjU2MjUsMjk5LjUsOTYuNTYyNSwzMDkuNSwxMDAuNTYyNSwzMDUuNSw5Ni41NjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMDMuNSIgeDI9IjQzMC41IiB5MT0iOTYuNTYyNSIgeTI9Ijk2LjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkiIHg9IjMxNS41IiB5PSI5MS40OTY2Ij4mIzIzNTU5OyA4MDAwIHBvcnQgJiMyMzU2NTsmIzIyODA2OzwvdGV4dD48cGF0aCBkPSJNMTY2LDEwOS41NjI1IEwxNjYsMTM0LjU2MjUgTDM0OCwxMzQuNTYyNSBMMzQ4LDExOS41NjI1IEwzMzgsMTA5LjU2MjUgTDE2NiwxMDkuNTYyNSAiIGZpbGw9IiNGRkFBQUEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMzgsMTA5LjU2MjUgTDMzOCwxMTkuNTYyNSBMMzQ4LDExOS41NjI1IEwzMzgsMTA5LjU2MjUgIiBmaWxsPSIjRkZBQUFBIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjEiIHg9IjE3MiIgeT0iMTI2LjYyOTQiPiYjMzI1NzA7JiMyMzU2OTsgbWlkZGxld2FyZSAmIzI0MTcxOyYjMjQ1Mzc7JiMyMDE3MTsmIzI1NTA5OzwvdGV4dD48IS0tU1JDPVt5cXJDcmhOQkRhd25LaDBtaTMxSUFDV2xBYjV1a2c3dE1Oa2RXaDYxV09LMU04SkI5UktXOXh5b0RwTWxuNFJORUlFbjkyY19uMGdlaDFzZW9TMDBoa2RmYWNiU1VWYWJnR2h2UFFiNTJhMTNUSEdHNlhNS3RUbVNXUzFBdVZjVU5LeXRKNUo4cEtuOW9LYWpKb25BTE5Zd1NfTkpfSkVWeEV2LXJoU0swMDAwXS0tPjwvZz48L3N2Zz4='>

<p>看到檔案 - <a href="https://github.com/louis70109/kubernetes-line-echo-bot">forward.yml</a> 中的以下欄位：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;bot-svc&#x27;</span></span><br><span class="line">    <span class="attr">nodePort:</span> <span class="number">30080</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8000</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">8000</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://k3d.io/usage/guides/exposing_services/#2-via-nodeport">文件上</a>有提到 Kubernetes 預設的 NodePort 範圍為<strong>30000-32767</strong>，因此上述則被設定在 <strong>30080</strong>(範圍中)<br><a href="https://k3d.io/usage/guides/exposing_services/">Reference</a></li>
<li>port 與 targetPort 則是 Deployment(chatbot) 的對外 port</li>
</ul>
<p>知道動作後，接著就把它放上 kubernetes 吧！</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kebectl apply -f forward.yml</span><br><span class="line">kubectl get -f forward.yml</span><br></pre></td></tr></table></figure>

<p>如此一來就用 forward.yml 這個 deployment 介接完成還可以看到是否有對應成功啦！</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">NAME</span>          TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line"><span class="attribute">bot</span>-service   NodePort   <span class="number">10</span>.xx.ooo.<span class="number">70</span>   &lt;none&gt;        <span class="number">8000</span>:<span class="number">30080</span>/TCP   <span class="number">4</span>s</span><br></pre></td></tr></table></figure>

<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzOTRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjY2MHB4O2hlaWdodDozOTRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2NjAgMzk0IiB3aWR0aD0iNjYwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMzgiIHgyPSIzOCIgeTE9IjM2LjI5NjkiIHkyPSIzNTkuNjI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjE1OC41IiB4Mj0iMTU4LjUiIHkxPSIzNi4yOTY5IiB5Mj0iMzU5LjYyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIzMjEiIHgyPSIzMjEiIHkxPSIzNi4yOTY5IiB5Mj0iMzU5LjYyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI0NjIiIHgyPSI0NjIiIHkxPSIzNi4yOTY5IiB5Mj0iMzU5LjYyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI2MTEiIHgyPSI2MTEiIHkxPSIzNi4yOTY5IiB5Mj0iMzU5LjYyNSIvPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDIiIHg9IjE3IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjgiIHg9IjI0IiB5PSIyNC45OTUxIj5NYWM8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0MiIgeD0iMTciIHk9IjM1OC42MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOCIgeD0iMjQiIHk9IjM3OC42MjAxIj5NYWM8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0MSIgeD0iMTM4LjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNyIgeD0iMTQ1LjUiIHk9IjI0Ljk5NTEiPmszZDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQxIiB4PSIxMzguNSIgeT0iMzU4LjYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3IiB4PSIxNDUuNSIgeT0iMzc4LjYyMDEiPmszZDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMCIgeD0iMjcxIiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODYiIHg9IjI3OCIgeT0iMjQuOTk1MSI+Zm9yd2FyZC55bWw8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDAiIHg9IjI3MSIgeT0iMzU4LjYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg2IiB4PSIyNzgiIHk9IjM3OC42MjAxIj5mb3J3YXJkLnltbDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNCIgeD0iNDEwIiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTAiIHg9IjQxNyIgeT0iMjQuOTk1MSI+RGVwbG95bWVudDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNCIgeD0iNDEwIiB5PSIzNTguNjI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTAiIHg9IjQxNyIgeT0iMzc4LjYyMDEiPkRlcGxveW1lbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NCIgeD0iNTc0IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAiIHg9IjU4MSIgeT0iMjQuOTk1MSI+Q2hhdGJvdDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc0IiB4PSI1NzQiIHk9IjM1OC42MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MCIgeD0iNTgxIiB5PSIzNzguNjIwMSI+Q2hhdGJvdDwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0Nyw2My40Mjk3LDE1Nyw2Ny40Mjk3LDE0Nyw3MS40Mjk3LDE1MSw2Ny40Mjk3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzOCIgeDI9IjE1MyIgeTE9IjY3LjQyOTciIHkyPSI2Ny40Mjk3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODciIHg9IjQ1IiB5PSI2Mi4zNjM4Ij5SZXF1ZXN0IE9PTzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwOSw5Mi41NjI1LDMxOSw5Ni41NjI1LDMwOSwxMDAuNTYyNSwzMTMsOTYuNTYyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTU5IiB4Mj0iMzE1IiB5MT0iOTYuNTYyNSIgeTI9Ijk2LjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzgiIHg9IjE2NiIgeT0iOTEuNDk2NiI+JiMyNDE3MTsmIzI1MTA1OyYjMjE1Nzg7JiMzNTM4MDsmIzIzNDI3OyYjMjUxMDU7JiMzNTIwMTsmIzMwMzQwOyBPT088L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NTAsMTIxLjY5NTMsNDYwLDEyNS42OTUzLDQ1MCwxMjkuNjk1Myw0NTQsMTI1LjY5NTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMyMSIgeDI9IjQ1NiIgeTE9IjEyNS42OTUzIiB5Mj0iMTI1LjY5NTMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NyIgeD0iMzI4IiB5PSIxMjAuNjI5NCI+azNkICYjMzU0OTg7JiMzNTIwMTsgT09PPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTk5LDE1MC44MjgxLDYwOSwxNTQuODI4MSw1OTksMTU4LjgyODEsNjAzLDE1NC44MjgxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0NjIiIHgyPSI2MDUiIHkxPSIxNTQuODI4MSIgeTI9IjE1NC44MjgxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMiIHg9IjQ2OSIgeT0iMTQ5Ljc2MjIiPiYjMzU1MzE7JiMzMjEwMjsmIzI1MTA1OyBPT088L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NzMsMTc5Ljk2MDksNDYzLDE4My45NjA5LDQ3MywxODcuOTYwOSw0NjksMTgzLjk2MDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQ2NyIgeDI9IjYxMCIgeTE9IjE4My45NjA5IiB5Mj0iMTgzLjk2MDkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUiIHg9IjQ3OSIgeT0iMTc4Ljg5NSI+JiMyMjkwOTsmIzIwMTAyOyYjMzY4ODk7JiMyNjE1OTsmIzIzNDI3OyYjMzUyMDE7JiMzMDM0MDsgT09PPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzMyLDIwOS4wOTM4LDMyMiwyMTMuMDkzOCwzMzIsMjE3LjA5MzgsMzI4LDIxMy4wOTM4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMjYiIHgyPSI0NjEiIHkxPSIyMTMuMDkzOCIgeTI9IjIxMy4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3IiB4PSIzMzgiIHk9IjIwOC4wMjc4Ij4mIzM2ODg5OyYjMjYxNTk7IGszZCAmIzM1MjAxOyYjMzAzNDA7IE9PTzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE3MCwyMzguMjI2NiwxNjAsMjQyLjIyNjYsMTcwLDI0Ni4yMjY2LDE2NiwyNDIuMjI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTY0IiB4Mj0iMzIwIiB5MT0iMjQyLjIyNjYiIHkyPSIyNDIuMjI2NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwIiB4PSIxNzYiIHk9IjIzNy4xNjA2Ij4mIzMyMTAyOyYjMjAzMjA7IE9PTzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ5LDI2Ny4zNTk0LDM5LDI3MS4zNTk0LDQ5LDI3NS4zNTk0LDQ1LDI3MS4zNTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MyIgeDI9IjE1OCIgeTE9IjI3MS4zNTk0IiB5Mj0iMjcxLjM1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NyIgeD0iNTUiIHk9IjI2Ni4yOTM1Ij5SZXNwb25zZSBPT088L3RleHQ+PHBhdGggZD0iTTUsMjg0LjM1OTQgTDUsMzA5LjM1OTQgTDE5MiwzMDkuMzU5NCBMMTkyLDI5NC4zNTk0IEwxODIsMjg0LjM1OTQgTDUsMjg0LjM1OTQgIiBmaWxsPSIjRkZBQUFBIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTgyLDI4NC4zNTk0IEwxODIsMjk0LjM1OTQgTDE5MiwyOTQuMzU5NCBMMTgyLDI4NC4zNTk0ICIgZmlsbD0iI0ZGQUFBQSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2IiB4PSIxMSIgeT0iMzAxLjQyNjMiPjgwODIgcG9ydCAmIzIzNTY1OyYjMjUwMzM7IDMwMDgwIHBvcnQ8L3RleHQ+PHBhdGggZD0iTTQyMCwzMTkuNDkyMiBMNDIwLDM0NC40OTIyIEw2NTMsMzQ0LjQ5MjIgTDY1MywzMjkuNDkyMiBMNjQzLDMxOS40OTIyIEw0MjAsMzE5LjQ5MjIgIiBmaWxsPSIjRkZBQUFBIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNjQzLDMxOS40OTIyIEw2NDMsMzI5LjQ5MjIgTDY1MywzMjkuNDkyMiBMNjQzLDMxOS40OTIyICIgZmlsbD0iI0ZGQUFBQSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5IiB4PSI0NzcuNSIgeT0iMzM2LjU1OTEiPiYjMjM1NTk7IDgwMDAgcG9ydCAmIzIzNTY1OyYjMjI4MDY7PC90ZXh0PjwhLS1TUkM9W3lxckNyaE5CRGF3bktXWEFCSW5EQkl2SHlGVnR2bThBd0RnYnZIVUw5blFidzVOY3ZiV2ZGRHN2LWJkN25BU0prcndpc0Y5cU5KRUdfTTlQdV9EUEJNM2JJMmZyeExuSTJ0Qm9BdERKeXFnaTU4M2NBQm5PakdnZTVBbUU4UUxodnZvSE05QUszckpwT2ROdHl3dEJXMFEyYksyNVRVcUthQ3J2a2RKbGFycmpCbmpjRmZrbjdjV3hUZ2pqVDk2ckcxSDNOODMzZk0xbDAtci1pZFMxbWpVLVlTY1dpMldrb0N5aEpXS0J2LU1OZjJoYWJ3S01BRzNiVEMwY0Foa3ZFR0ExYk9BNVdPTUhHYTUtS09kMnFtc3pwemV4NU9tRDMybUNtMjk4LVgza3FiNjBVWDFYbkRDRHhLMVozMHBXblpuVENXcTBdLS0+PC9nPjwvc3ZnPg=='>

<h2 id="5-測試"><a href="#5-測試" class="headerlink" title="5. 測試"></a>5. 測試</h2><p>我有做一個 root 路由是來測試用的，直接在瀏覽器上輸入 <code>localhost:8082/</code> 看有沒有出現 World 的字串，若有出現代表待會測試 chatbot 理論上也是會成功的。</p>
<h2 id="6-測試-Chatbot-有沒有-Echo"><a href="#6-測試-Chatbot-有沒有-Echo" class="headerlink" title="6. 測試 Chatbot 有沒有 Echo"></a>6. 測試 Chatbot 有沒有 Echo</h2><p><img src="https://nijialin.com/images/ngrok.png"></p>
<p>由於我是在 Mac 上執行，為求方便我使用 ngrok 來建立暫時含有 SSL 的網址，並把網址複製到剛剛於 <a href="https://developers.line.biz/console/">LINE Developer Console</a> 建立的 Chatbot 當中的 endpoint 欄位，接著就到剛剛的 Chatbot 上開始跟它聊天吧！</p>
<p><img src="https://i.imgur.com/Tn1XS13.png" alt="Echo bot"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>憑藉著過往僅存的經驗好不容易完成了一整個 Kubernetes 試玩的循環，雖然曾經因為不小心忘了叢集而被被索取大量費用(怕.png)，但在這次的經驗中了解到文件完整性的重要性(<a href="https://kubernetes.io/docs/home/">Kubernetes</a> &amp; <a href="https://k3d.io/">k3d</a>)，讓開發者可以在碰壁的情況下快速找到需要的解答，也體現出 Kubernetes 生態的完整性！接下來若有其他的練習(踩坑)經驗我也會再透過文章分享給大家！😊</p>
]]></content>
      <categories>
        <category>Kubernetes</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>LINE</tag>
        <tag>Container</tag>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title>【Javascript】你知道你常用的 Promise 嗎?</title>
    <url>/2020/06/13/learn-javascript-promise/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在寫 Javascript 時一定會看到有套件或是範例有使用到 callback function，在過往的 coding 過程中最擔心的問題就是遇到 Callback Hell(也就是俗稱的波動拳)，最常見的範例為：</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span><span class="constructor">Something(<span class="params">function</span>(<span class="params">result</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">do</span><span class="constructor">SomethingElse(<span class="params">result</span>, <span class="params">function</span>(<span class="params">newResult</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">do</span><span class="constructor">ThirdThing(<span class="params">newResult</span>, <span class="params">function</span>(<span class="params">finalResult</span>)</span> &#123;</span><br><span class="line">      console.log(&#x27;Got the final result: &#x27; + finalResult);</span><br><span class="line">    &#125;, failureCallback);</span><br><span class="line">  &#125;, failureCallback);</span><br><span class="line">&#125;, failureCallback);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Sample from <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Using_promises">MDN</a></p>
</blockquote>
<p>為了降低波動拳的出現機率，因此就就誕生了 <code>Promise</code> 來幫忙處理 Hell world 的問題，至於如何處理就透過接下來就說明並介紹用法。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>Promise 是 Javascript 的<code>非同步運算的物件</code>，並且包含 <code>resolve</code>(成功)、<code>reject</code>(失敗)、<code>pending</code>(處理中)三種狀態，接下來就看看介紹吧！</p>
<h2 id="Promise-提供了什麼？"><a href="#Promise-提供了什麼？" class="headerlink" title="Promise 提供了什麼？"></a>Promise 提供了什麼？</h2><p>主要提供了 <code>.then()</code> 以及 <code>.catch()</code> 方法讓使用者可以做 Promise Chain 去串聯方法，它的用意是讓之前的 Chain 在做完之後去執行接下來的事情，以 <a href="https://github.com/axios/axios">Axios</a> 為例：</p>
<figure class="highlight nim"><table><tr><td class="code"><pre><span class="line">axios.get(&#x27;https://www.example.com&#x27;)</span><br><span class="line">  .then(function(<span class="literal">result</span>) <span class="meta">&#123;...&#125;</span>)</span><br><span class="line">  .catch(function(error) <span class="meta">&#123;...&#125;</span>)</span><br></pre></td></tr></table></figure>

<p>可以在輪到 <code>get()</code> 執行後若成功則進去 <code>.then()</code>，反之錯誤則 <code>.catch()</code>，若只看這樣不清楚還是不懂，那來與以前的寫法比對：</p>
<figure class="highlight nim"><table><tr><td class="code"><pre><span class="line">function successCallback(<span class="literal">result</span>) <span class="meta">&#123;...&#125;</span></span><br><span class="line">function failureCallback(error) <span class="meta">&#123;...&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="type">GetExampleCode</span>(callExampleUrl, successCallback, failureCallback)</span><br></pre></td></tr></table></figure>

<p>看完以前的的寫法，使用 Promise 邏輯是不是比較順暢且直覺呢？</p>
<p>看完範例後，接著看一下怎麼實作一個 Promise 吧！</p>
<h2 id="製作一個【判斷數字】的-Promise"><a href="#製作一個【判斷數字】的-Promise" class="headerlink" title="製作一個【判斷數字】的 Promise"></a>製作一個【判斷數字】的 Promise</h2><h3 id="了解-Promise-參數"><a href="#了解-Promise-參數" class="headerlink" title="了解 Promise 參數"></a>了解 Promise 參數</h3><p>新增一個 <code>Promise</code> 時一定要兩個參數(<code>resolve</code> &amp; <code>reject</code>)，<code>resolve</code> 用在當 Promise 裡的判斷式成功後所需要回傳的物件，而 <code>reject</code> 顧名思義就是當答案<strong>非預期</strong>時的回傳物件。</p>
<h3 id="實作-Implementation"><a href="#實作-Implementation" class="headerlink" title="實作 Implementation"></a>實作 Implementation</h3><p>看完解釋之後，接著使用 Chrome 作為範例，首先按下 <code>F12</code> 並至 <code>Console</code> 畫面：<br><img src="https://i.imgur.com/0bUzvKS.png"></p>
<p>接著我們來定義範例的 numberCondition 函式：</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> number<span class="constructor">Condition(<span class="params">num</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="keyword">new</span> <span class="constructor">Promise(<span class="params">function</span>(<span class="params">resolve</span>, <span class="params">reject</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num<span class="operator"> === </span><span class="number">0</span>)&#123;</span><br><span class="line">      resolve(<span class="string">&quot;Yeah you got it, the number is 0&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     reject(<span class="keyword">new</span> <span class="constructor">Error(&#x27;No No, <span class="params">your</span> <span class="params">number</span> <span class="params">is</span> <span class="params">wrong</span>&#x27;)</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Bonus-使用-early-return-讓程式碼更簡潔些"><a href="#Bonus-使用-early-return-讓程式碼更簡潔些" class="headerlink" title="Bonus - 使用 early return 讓程式碼更簡潔些"></a>Bonus - 使用 early return 讓程式碼更簡潔些</h4><p>這個方法依照我的經驗在 Ruby、Javascript、Python 都有用過，但 Javascript 這邊用的是最平凡，若看到其他 project 的程式碼有這樣使用時千萬別慌張，其實只是合在一起寫而已。</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> number<span class="constructor">Condition(<span class="params">num</span>)</span>&#123;</span><br><span class="line">  return <span class="keyword">new</span> <span class="constructor">Promise(<span class="params">function</span>(<span class="params">resolve</span>, <span class="params">reject</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num<span class="operator"> === </span><span class="number">0</span>)&#123;</span><br><span class="line">      resolve(<span class="string">&quot;Yeah you got it, the number is 0&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     reject(<span class="keyword">new</span> <span class="constructor">Error(&#x27;No No, <span class="params">your</span> <span class="params">number</span> <span class="params">is</span> <span class="params">wrong</span>&#x27;)</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述範例當 <code>num</code> 等於 0 時就回傳一組字串告訴使用者答對，反之則回傳錯誤訊息的 Error 物件，最後則是把結果 return 回去。</p>
<h3 id="結果"><a href="#結果" class="headerlink" title="結果"></a>結果</h3><p>Promise 寫完了，接下來就來呼叫他吧！</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">numberCondition(<span class="number">999</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&quot;答對了！&quot;</span>) &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&quot;糟糕，答錯了&quot;</span>) &#125;)</span><br></pre></td></tr></table></figure>

<p>貼到 Chrome 開發者工具列(Console)上吧！接著再把 999 改成 0 會就會跑到 <code>.then</code> 囉。<br><img src="https://i.imgur.com/6456opd.png"></p>
<blockquote>
<p>這樣有沒有發現平常就在使用 Promise 呢 🙂！</p>
</blockquote>
<h1 id="我知道-Promise-了，那-Async-x2F-Await-跟它有什麼關係？"><a href="#我知道-Promise-了，那-Async-x2F-Await-跟它有什麼關係？" class="headerlink" title="我知道 Promise 了，那 Async&#x2F;Await 跟它有什麼關係？"></a>我知道 Promise 了，那 Async&#x2F;Await 跟它有什麼關係？</h1><p>自己做了一個 Promise 後，使用它需要一直 <code>.then()</code>、<code>.catch()</code>，接下來就來介紹一下 <code>async/await</code> 在 Promise 之後才誕生的語法糖。</p>
<h2 id="動手做-Implementation"><a href="#動手做-Implementation" class="headerlink" title="動手做 Implementation"></a>動手做 Implementation</h2><p>首先我們先複製前面的 Promise code 過來:</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> number<span class="constructor">Condition(<span class="params">num</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="keyword">new</span> <span class="constructor">Promise(<span class="params">function</span>(<span class="params">resolve</span>, <span class="params">reject</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num<span class="operator"> === </span><span class="number">0</span>)&#123;</span><br><span class="line">      resolve(<span class="string">&quot;Yeah you got it, the number is 0&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     reject(<span class="keyword">new</span> <span class="constructor">Error(&#x27;No No, <span class="params">your</span> <span class="params">number</span> <span class="params">is</span> <span class="params">wrong</span>&#x27;)</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這邊就把 <code>.then()</code> 的寫法並使用 <a href="https://developer.mozilla.org/zh-TW/docs/Glossary/IIFE">IIFE</a> 搭配<code>匿名函式</code>直接執行:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> numberCondition(<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<p>以上是原生的寫法搭配 IIFE，以下則是使用 Arrow Function 做範例:</p>
<figure class="highlight clojure"><table><tr><td class="code"><pre><span class="line">(<span class="name">async</span> () =&gt; &#123;</span><br><span class="line">    const result = await numberCondition(<span class="number">0</span>)</span><br><span class="line">    console.log(<span class="name">result</span>)</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>當 function 裡有使用到 await 時，外面一定要有 async 的字眼，否則會出錯。</p>
</blockquote>
<p>一樣貼至 Chrome 的開發者工具列：</p>
<p><img src="https://i.imgur.com/HT9eGlC.png"></p>
<p>與 Promise 的觸發方式是一樣的，若到 <code>resolve</code> 成功階段時則附值於 <code>result</code>，反之則直接 throw Error()。</p>
<blockquote>
<p>在這邊的錯誤處理需要使用 try…catch 去 handle error</p>
</blockquote>
<h2 id="好處"><a href="#好處" class="headerlink" title="好處"></a>好處</h2><p>若是從其他語言來的朋友，使用 async&#x2F;await 的寫法邏輯上會較通順，而若使用一般的 Promise 則容易搞混當前程式執行位置，而 async&#x2F;await 語法糖除了讓其他語言開發者可以更快速理解以外，也能讓程式邏輯能夠直接順下去，當然最後要加入 Javascript 這個家庭時了解 <code>Callback</code> 仍是開發 Javascript 裡必要的功能 👍。</p>
<h2 id="待討論部分"><a href="#待討論部分" class="headerlink" title="待討論部分"></a>待討論部分</h2><p>由於是在 Promise 之後才出現的語法，若接手的專案本身並未支援到 async&#x2F;await 語法時則需要將相關邏輯轉換使用 <code>.then()</code>、<code>.catch()</code> 去處理 Promise，在專案的<code>支援度</code>上這部分則需要多考慮。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>因為接觸到 <a href="https://github.com/Yoctol/bottender">Bottender</a> 才接觸到 Promise 以及 async&#x2F;await 這系列的工具，在理解上也花了好長一段時間才轉換過來，藉由本篇紀錄我釐清的過程，透過這些例子希望讓大家能夠更快速的了解 Promise 🙂。</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Callback</tag>
        <tag>Promise</tag>
        <tag>IIFE</tag>
        <tag>Arrow Function</tag>
      </tags>
  </entry>
  <entry>
    <title>LIFF migration: from Replace to Concatenate mode</title>
    <url>/2021/01/19/liff-replace-migrate-concat/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>於 <code>1/18</code> 釋出了一篇新聞 <a href="https://developers.line.biz/en/news/2021/01/18/remind-discontinue-replace-mode-announcement/">Reminder: On March 1, 2021, “Replace (Backward compatibility mode)” will be removed from the permanent link redirection settings for LIFF app and LINE MINI App</a>，在這個新聞中提到將會在 <code>3/1</code> 移除 LIFF 的 <code>Replace</code> 模式:</p>
<p><img src="https://nijialin.com/images/2021/migrate-liff/news.png"></p>
<p>移除後若尚未更新 LIFF SDK 的話可能會遇到以下問題：</p>
<ul>
<li>LIFF 打不開</li>
<li>空白頁面</li>
<li>打開了但出現許多錯誤訊息</li>
<li>…</li>
</ul>
<p>於 2020&#x2F;11&#x2F;20 有發過即將移除的<a href="https://developers.line.biz/en/news/2020/11/20/discontinue-replace-mode-announcement/">新聞</a>，隨後也有相關文章敘述這件事，許多更改內容可以參閱：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/new-liff-url-infomation/">您需要了解有關新 LIFF URL 的所有資訊</a></li>
<li>LAE 戴均民 - <a href="https://taichunmin.idv.tw/blog/2021-01-19-line-liff-v2-replace-deprecated.html">LINE LIFF v2 的 replace 模式即將被移除及建議程式寫法</a></li>
<li>LAE 卡米哥 - <a href="https://etrexkuo.medium.com/the-best-practice-of-liff-fd89f2e612fc">The Best Practice Of LIFF</a><span id="more"></span></li>
</ul>
<h2 id="改過去會遇到什麼問題？"><a href="#改過去會遇到什麼問題？" class="headerlink" title="改過去會遇到什麼問題？"></a>改過去會遇到什麼問題？</h2><p>可能會遇到的問題：</p>
<ul>
<li>路徑問題<ul>
<li>過往 LIFF 無法設定 sub path(子路徑)，有些開發者會寫相關解決方案</li>
<li>出現同樣的路徑: <a href="https://example.com/%60campaign%60/%60campaign%60">https://example.com/`campaign`/`campaign`</a></li>
</ul>
</li>
</ul>
<p>參考之前泰國同事的文章比較一下差異 - <a href="https://engineering.linecorp.com/zh-hant/blog/new-liff-url-infomation/">您需要了解有關新 LIFF URL 的所有資訊</a></p>
<h1 id="怎麼調整-Mode-的選項？"><a href="#怎麼調整-Mode-的選項？" class="headerlink" title="怎麼調整 Mode 的選項？"></a>怎麼調整 Mode 的選項？</h1><ul>
<li><p>首先先進入 <a href="https://developers.line.biz/console/">Developer Console</a> 頁面中</p>
</li>
<li><p>選擇你 Chatbot Channel 的 <code>Provider</code> 後，點選所使用的 <code>LINE Login</code> Channel<br><img src="https://nijialin.com/images/2021/migrate-liff/1.png"></p>
</li>
<li><p>會看到服務中的 LIFF page 目前是 <code>Replace</code><br><img src="https://nijialin.com/images/2021/migrate-liff/2.png"></p>
</li>
<li><p>將之改成 <code>Concatenate</code> 模式<br><img src="https://nijialin.com/images/2021/migrate-liff/3.png"></p>
</li>
<li><p><strong>升級</strong>你的 LIFF SDK 版本到 <code>2.3</code> 以上(目前最新為 <code>2.7</code>)避免版本不支援</p>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>若因為時程問題造成無法再更新日期前完全改版，這邊提供一個新聞上的資訊，只要你的 LINE 版本在 <code>v10.10.0</code>(使用<a href="https://developers.line.biz/en/reference/liff/#get-line-version">liff.getLineVersion()</a>取版本) 以下 以及 <code>LIFF SDK v2.2.1</code> 以下即可繼續使用 <code>Replace mode</code>(<strong>不建議</strong>)。</p>
<p><img src="https://nijialin.com/images/2021/migrate-liff/workaround.png"></p>
<p>最後，筆者我還是建議大家趁早將程式碼 migration，避免在日後遇到不可預期的錯誤，若還有相關問題無法解決，歡迎至<a href="https://www.facebook.com/groups/linebot">討論區</a>發問，會有許多高手在當中幫忙解答。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE 開發者社群計畫：LINE API Update: 上半年度整理 @ Chatbot meetups 31</title>
    <url>/2022/05/25/line-api-update-2022-1/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/line-api-update-1/2.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan 的 Technology Evangelist - Nijia Lin。這次很開心受到 chatbot 社群的邀請，參加了 “<a href="https://events.chatbot.tw/events/30">Chatbot meetup 聊天機器人小小聚 31 @ Gather Town</a>“ 的聚會活動，並且分享 LINE API 更新心得。在此也跟各位分享本次參與的紀錄，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。</p>
<ul>
<li>本次活動網頁: <a href="https://events.chatbot.tw/events/30">活動網址</a></li>
</ul>
<span id="more"></span>

<ul>
<li>活動影片</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/I6AWuSM5ln8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="📊-Rich-menu-更新"><a href="#📊-Rich-menu-更新" class="headerlink" title="📊 Rich menu 更新"></a>📊 Rich menu 更新</h2><blockquote>
<p><a href="https://developers.line.biz/en/news/2022/05/13/richmenu-keyboard/">官方 API 更新新聞</a></p>
</blockquote>
<p>Rich Menu 在與官方帳號互動時很方便，不過過去在使用上會遇到一些小問題，在如今已經有方法解決囉！讓我們繼續往下看。</p>
<h3 id="過去遇到-或-無法處理的問題"><a href="#過去遇到-或-無法處理的問題" class="headerlink" title="過去遇到 或 無法處理的問題"></a>過去遇到 或 無法處理的問題</h3><ul>
<li>從 Rich Menu 按下按鈕後送出 Flex Message 後，如果訊息量太長，上面的內容會看不到</li>
<li>只能手動縮小 Rich Menu</li>
<li>切換鍵盤步驟過多<ul>
<li>高互動的官方帳號不好處理(例如: 遊戲型 OA)</li>
</ul>
</li>
</ul>
<h3 id="現在能怎麼做"><a href="#現在能怎麼做" class="headerlink" title="現在能怎麼做?"></a>現在能怎麼做?</h3><script async class="speakerdeck-embed" data-slide="7" data-id="dc6a980bb1844e8192fe3f27d1436748" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在這次更新中支援了以下四種功能:</p>
<ul>
<li>closeRichMenu: 關閉 rich menu</li>
<li>openRichMenu: 打開 rich menu</li>
<li>openKeyboard: 打開鍵盤</li>
<li>openVoice: 打開 voice message 的輸入模式</li>
</ul>
<p>除了透過 <a href="https://developers.line.biz/en/reference/messaging-api/#postback-action">postback action</a> 打開以上四種 actions，另外還可以在打開鍵盤同時，輸入文字，並且可以帶有 <code>\n</code>，最多 300 字</p>
<p>範例:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;postback&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;Buy&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;data&quot;</span>: <span class="string">&quot;action=buy&amp;itemid=123&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;displayText&quot;</span>: <span class="string">&quot;Buy&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;inputOption&quot;</span>: <span class="string">&quot;openKeyboard&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;fillInText&quot;</span>: <span class="string">&quot;---\nName: \nPhone: \nBirthday: \n---&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如此一來解決了透過 Rich Menu 發送 Flex Message 版面看不清楚、切換鍵盤、自動輸入文字等等的問題，讓大家在開發 Chatbot 時可以有更好的使用者體驗！</p>
<blockquote>
<p>API Expert - 均民 詳細寫了一篇文章，歡迎大家參考: <a href="https://taichunmin.idv.tw/blog/2022-05-14-line-postback-input-option.html">新功能：在官方帳號開關選單、切換文字或語音輸入</a></p>
</blockquote>
<h2 id="🌏LIFF-更新"><a href="#🌏LIFF-更新" class="headerlink" title="🌏LIFF 更新"></a>🌏LIFF 更新</h2><p>最近 LIFF 團隊釋出了讓大家可以快速建立 web app 的工具，支援了各大主流框架，且使用方式相當容易。並且也提供了去年 DevDay 提到的兩個 plugin，以下就帶大家看一下！</p>
<blockquote>
<p>參考<a href="https://developers.line.biz/en/docs/liff/cli-tool-create-liff-app/#advance-preparation">最近的新聞</a></p>
</blockquote>
<h3 id="透過-npx-初始化一個-LIFF-app"><a href="#透過-npx-初始化一個-LIFF-app" class="headerlink" title="透過 npx 初始化一個 LIFF app"></a>透過 npx 初始化一個 LIFF app</h3><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>npx <span class="variable">@line</span>/create-liff-app</span><br></pre></td></tr></table></figure>

<iframe width="560" height="315" src="https://www.youtube.com/embed/wrcJTeD77ZE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h3 id="選擇想用的框架與相關參數"><a href="#選擇想用的框架與相關參數" class="headerlink" title="選擇想用的框架與相關參數"></a>選擇想用的框架與相關參數</h3><p><img src="https://nijialin.com/images/2022/line-api-update-1/2.png"></p>
<ul>
<li>名稱</li>
<li>框架</li>
<li>型別<ul>
<li>JavaScript&#x2F;TypeScript</li>
</ul>
</li>
<li>LIFF ID<ul>
<li>會在 <code>.env</code> 中，還沒填後續可以改</li>
</ul>
</li>
<li>套件管理？ yarn || npm</li>
</ul>
<h3 id="LIFF-Inspector-x2F-Mock"><a href="#LIFF-Inspector-x2F-Mock" class="headerlink" title="LIFF Inspector&#x2F;Mock"></a><a href="https://developers.line.biz/en/news/2022/04/25/liff-plugin/">LIFF Inspector&#x2F;Mock</a></h3><script async class="speakerdeck-embed" data-slide="4" data-id="dc6a980bb1844e8192fe3f27d1436748" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>各位開發者不管在開發何種網頁上的內容，最需要的就是透過 DevTools 去檢查是否有元素跑掉，或是相關邏輯印出來的資訊是否有符合預期。過去在開發 LIFF 時會遇到的問題就是，在手機端測試開發項目時，除了用 alert() 暴力破解之外，就是 vConsole 來協助開發時顯示一些 log 方便除錯。</p>
<p>而在如今 LIFF 團隊出了全新的 plugin - Inspector，協助大家在手機&#x2F;桌機開發 LIFF app 時，可以讓相關的訊息透過 websocket 的方式到 PC 瀏覽器的 DevTools 中顯示，如此一來就可以在開發上有更好的體驗。</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="dc6a980bb1844e8192fe3f27d1436748" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>另一方面的 plugin，Mock 是許多開發 LIFF 的前端開發者很大的福音，畢竟 LIFF 有一部份還是依靠 LINE Server 上的交握才可以讓大家獲取一些應用程式中的行為，在這邊透過 Mock 就可以測試流程中把 LIFF 給擋住，預設他的行為會是正確的，進而達到測試的目的性。</p>
<h2 id="🚀-Flex-Message-Update-3"><a href="#🚀-Flex-Message-Update-3" class="headerlink" title="🚀 Flex Message Update 3"></a>🚀 <a href="https://developers.line.biz/en/news/2022/03/11/flex-message-update-3-released/">Flex Message Update 3</a></h2><script async class="speakerdeck-embed" data-slide="9" data-id="dc6a980bb1844e8192fe3f27d1436748" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>video 可展示在 hero 區塊 🚀</li>
<li>在 box component 中指定寬、高最大值</li>
<li>text component 可加上行距(line spacing)</li>
<li><a href="https://developers.line.biz/flex-simulator/">Flex Message Simulator</a> 支援 Update 3</li>
</ul>
<p>影片功能是我在早期開發 Flex Message 時就很期待的功能之一，如今終於可以使用啦！並且搭配在上一版中已可以放上 APNG 來展示動圖，如此一來整個 Flex 就可以更加的完整使用，搭配更多的英用來操作。</p>
<blockquote>
<p>文章可以參考： <a href="https://engineering.linecorp.com/zh-hant/blog/line-video-flex-message-bot/">如何透過 LINE Video Flex Message 來打造影片翻譯（自動輸出文字）LINE Bot 聊天機器人</a></p>
</blockquote>
<h2 id="📝-Webhook-redelivery"><a href="#📝-Webhook-redelivery" class="headerlink" title="📝 Webhook redelivery"></a>📝 <a href="https://developers.line.biz/en/news/2022/03/07/pre-release-webhook-redelivery/">Webhook redelivery</a></h2><script async class="speakerdeck-embed" data-slide="13" data-id="dc6a980bb1844e8192fe3f27d1436748" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過去可能在某次上版之後，開發者自己寫的 Chatbot(Backend API) 忽然壞掉，導致 chatbot 在收到訊息轉打到 webhook 時完全沒反應，更前端的用戶卻不知道發生什麼事，即便再後來修好了，當時用戶的需求沒辦法被滿足，這樣子的體驗就會變得不太好。(如下)</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0MjRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDo0MjRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgNDI0IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMjciIHgyPSIyNyIgeTE9IjM2LjI5NjkiIHkyPSIzODguNzU3OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxNTUuNSIgeDI9IjE1NS41IiB5MT0iMzYuMjk2OSIgeTI9IjM4OC43NTc4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjMxOSIgeDI9IjMxOSIgeTE9IjM2LjI5NjkiIHkyPSIzODguNzU3OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI1NDMuNSIgeDI9IjU0My41IiB5MT0iMzYuMjk2OSIgeTI9IjM4OC43NTc4Ii8+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0NSIgeD0iNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSIxMiIgeT0iMjQuOTk1MSI+VXNlcjwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQ1IiB4PSI1IiB5PSIzODcuNzU3OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSIxMiIgeT0iNDA3Ljc1MjkiPlVzZXI8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NCIgeD0iMTE4LjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MCIgeD0iMTI1LjUiIHk9IjI0Ljk5NTEiPkNoYXRib3Q8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NCIgeD0iMTE4LjUiIHk9IjM4Ny43NTc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAiIHg9IjEyNS41IiB5PSI0MDcuNzUyOSI+Q2hhdGJvdDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQ1IiB4PSIyOTciIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iMzA0IiB5PSIyNC45OTUxIj5MSU5FPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDUiIHg9IjI5NyIgeT0iMzg3Ljc1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iMzA0IiB5PSI0MDcuNzUyOSI+TElORTwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc2IiB4PSI1MDUuNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYyIiB4PSI1MTIuNSIgeT0iMjQuOTk1MSI+QmFja2VuZDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc2IiB4PSI1MDUuNSIgeT0iMzg3Ljc1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MiIgeD0iNTEyLjUiIHk9IjQwNy43NTI5Ij5CYWNrZW5kPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQzLjUsNjMuNDI5NywxNTMuNSw2Ny40Mjk3LDE0My41LDcxLjQyOTcsMTQ3LjUsNjcuNDI5NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjcuNSIgeDI9IjE0OS41IiB5MT0iNjcuNDI5NyIgeTI9IjY3LjQyOTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iMzQuNSIgeT0iNjIuMzYzOCI+JiMzMDMzMjsmIzM2ODY1OyYjMzUzMzg7JiMyNDY4Nzs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzOC41LDkyLjU2MjUsMjguNSw5Ni41NjI1LDM4LjUsMTAwLjU2MjUsMzQuNSw5Ni41NjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMi41IiB4Mj0iMTU0LjUiIHkxPSI5Ni41NjI1IiB5Mj0iOTYuNTYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNCIgeD0iNDQuNSIgeT0iOTEuNDk2NiI+JiMyNDA1MDsmIzM1NzEyOyYjNjUyOTI7JiMzNjAzOTsmIzM1MzM4OyYjMzQzODk7JiMyOTcwMjsmIzIwMDEzOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwNy41LDEyMS42OTUzLDMxNy41LDEyNS42OTUzLDMwNy41LDEyOS42OTUzLDMxMS41LDEyNS42OTUzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNTUuNSIgeDI9IjMxMy41IiB5MT0iMTI1LjY5NTMiIHkyPSIxMjUuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyOSIgeD0iMTYyLjUiIHk9IjEyMC42Mjk0Ij5MSU5FIFNlcnZlciAmIzI1OTEwOyYjMjEwNDA7JiMzNjAzOTsmIzM1MzM4OzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE2Ni41LDE1MC44MjgxLDE1Ni41LDE1NC44MjgxLDE2Ni41LDE1OC44MjgxLDE2Mi41LDE1NC44MjgxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNjAuNSIgeDI9IjMxOC41IiB5MT0iMTU0LjgyODEiIHkyPSIxNTQuODI4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MCIgeD0iMTcyLjUiIHk9IjE0OS43NjIyIj4mIzI0MDUwOyYjMjU5MTA7JiMyMTA0MDsmIzY1MjkyOyYjMzY2ODE7JiMzMzI2Nzsgd2ViaG9vazwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUzMS41LDE3OS45NjA5LDU0MS41LDE4My45NjA5LDUzMS41LDE4Ny45NjA5LDUzNS41LDE4My45NjA5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMTkuNSIgeDI9IjUzNy41IiB5MT0iMTgzLjk2MDkiIHkyPSIxODMuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwMCIgeD0iMzI2LjUiIHk9IjE3OC44OTUiPiYjMzY4Nzk7JiMzNjk0Mjsgd2ViaG9vayAmIzI1MTcxOyYjMjEwNDA7IEJhY2tlbmQgQVBJPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzMwLjUsMjA5LjA5MzgsMzIwLjUsMjEzLjA5MzgsMzMwLjUsMjE3LjA5MzgsMzI2LjUsMjEzLjA5MzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMyNC41IiB4Mj0iNTQyLjUiIHkxPSIyMTMuMDkzOCIgeTI9IjIxMy4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYiIHg9IjMzNi41IiB5PSIyMDguMDI3OCI+MjAwIE9LPC90ZXh0PjxwYXRoIGQ9Ik0yOTEsMjI2LjA5MzggTDI5MSwyNTEuMDkzOCBMNTcwLDI1MS4wOTM4IEw1NzAsMjM2LjA5MzggTDU2MCwyMjYuMDkzOCBMMjkxLDIyNi4wOTM4ICIgZmlsbD0iI0FERkYyRiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTU2MCwyMjYuMDkzOCBMNTYwLDIzNi4wOTM4IEw1NzAsMjM2LjA5MzggTDU2MCwyMjYuMDkzOCAiIGZpbGw9IiNBREZGMkYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIzODcuMjUiIHk9IjI0My4xNjA2Ij4mIzE5OTY4OyYjMzMzMjQ7JiMyMjIzODsmIzIwNjU5OyYjMjUxMDQ7JiMyMTE1MTs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MzEuNSwyNzMuMzU5NCw1NDEuNSwyNzcuMzU5NCw1MzEuNSwyODEuMzU5NCw1MzUuNSwyNzcuMzU5NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzE5LjUiIHgyPSI1MzcuNSIgeTE9IjI3Ny4zNTk0IiB5Mj0iMjc3LjM1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDAiIHg9IjMyNi41IiB5PSIyNzIuMjkzNSI+JiMzNjg3OTsmIzM2OTQyOyB3ZWJob29rICYjMjUxNzE7JiMyMTA0MDsgQmFja2VuZCBBUEk8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMzAuNSwzMDIuNDkyMiwzMjAuNSwzMDYuNDkyMiwzMzAuNSwzMTAuNDkyMiwzMjYuNSwzMDYuNDkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzI0LjUiIHgyPSI1NDIuNSIgeTE9IjMwNi40OTIyIiB5Mj0iMzA2LjQ5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTgiIHg9IjMzNi41IiB5PSIzMDEuNDI2MyI+NDAwIHx8IDUwMC4uLiBMSU5FIFNlcnZlciAmIzI1MjE0OyYjMTk5ODE7JiMyMTA0MDs8L3RleHQ+PHBhdGggZD0iTTI5MSwzMTkuNDkyMiBMMjkxLDM0NC40OTIyIEw1NzAsMzQ0LjQ5MjIgTDU3MCwzMjkuNDkyMiBMNTYwLDMxOS40OTIyIEwyOTEsMzE5LjQ5MjIgIiBmaWxsPSIjRkE4MDcyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNTYwLDMxOS40OTIyIEw1NjAsMzI5LjQ5MjIgTDU3MCwzMjkuNDkyMiBMNTYwLDMxOS40OTIyICIgZmlsbD0iI0ZBODA3MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA4IiB4PSIzMjIuMjUiIHk9IjMzNi41NTkxIj4mIzIyODMzOyYjMjU5NDM7JiMyMjIzODsmIzIwNjU5OyYjMjQ0NjA7JiM2NTI5MjsmIzI5OTkyOyYjMjUxNDI7JiMxOTk4MTsmIzMwNjkzOyYjMzY5NDc7JiMzMDMzMjsmIzI5OTgzOyYjMjAxNjA7JiM0MDYzNjsmIzIwMTA3OzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM4LjUsMzY2Ljc1NzgsMjguNSwzNzAuNzU3OCwzOC41LDM3NC43NTc4LDM0LjUsMzcwLjc1NzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzA3LjUsMzY2Ljc1NzgsMzE3LjUsMzcwLjc1NzgsMzA3LjUsMzc0Ljc1NzgsMzExLjUsMzcwLjc1NzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSIzMi41IiB4Mj0iMzEzLjUiIHkxPSIzNzAuNzU3OCIgeTI9IjM3MC43NTc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyIiB4PSI0NC41IiB5PSIzNjUuNjkxOSI+JiMyNDU5MDsmIzQwNjM2OyYjMjc3OTQ7JiMyNjM3NzsmIzIyMjM4OyYjMjUwMzM7JiMyMTYwMjs/Pz88L3RleHQ+PCEtLVNSQz1bMm9yRUJUQXJTeXY4QjRkQUJ4NUlVM3ZwcHlrNm5YU2hrZnVyaGtVMllraFFYRzhMTUlheXRSeGZuUmc2enRqd05jbmsxd2Z1Q05GZ3ltYmpKdFFpSFFacHlWSHBqTDgwYUdoMWdLTGJnS0tBcHdQaVV6Z24wUUExMm9JMVAxVkdGOFdxb0NZemRJX1FEb2tLZm9QYnZFVGRHckt3OUlQZGYtUWJNMmN5UkVYX3NUVzdhckx1clphUGc0aTFBZ3RXNkUzOTFNTjNkNjFhT0EzV3h5c0xici1JZ2YwRlNXVDhNMFVrR3pkSG5TdERvQ3JBdVNjRVhYU1RRdnhFZGxVcVFWRXBaV2JGay1QcFNMNWlrR2RHeWZlUTFMQzMwcHF6RlRKR3dEcHRQNFNsSzNpTlJnVXZFTGVPYzFpMUdzVjluY1RKZnFFU3pkSFYzcDJDZGF6UHlRblo2ejIwdl9FTmxjb1MzOG9ndnJGY0Z6ZFR5N0JOZFlVeGtoY3VHQjVhZW1qcG5SRTZGZzM0aXFzSmRpdGYxOWhvaEJ0cHdTSDV6bFJzMDAwMF0tLT48L2c+PC9zdmc+'>

<p>在這次有了 Webhook redelivery 之後，可以在 LINE Developer Console 中去設定按鈕。</p>
<p>設定完了之後，在請求失敗後 LINE Server 也會在一定的時間內持續打訊息到 webhook url 中，讓暫時故障的 Server 可以在修復後收到請求，讓用戶後續還可以收到回饋，避免用戶流失的問題。</p>
<h3 id="Check-error-statistics-for-sending-webhooks"><a href="#Check-error-statistics-for-sending-webhooks" class="headerlink" title="Check error statistics for sending webhooks"></a>Check error statistics for sending webhooks</h3><script async class="speakerdeck-embed" data-slide="16" data-id="dc6a980bb1844e8192fe3f27d1436748" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>一般來說會開啟 redelivery，就是預計會有失敗的呼叫產生，因此在這也會一起把這些歷程也給記錄下來，因此這邊打開之後可以看到被呼叫的錯誤狀態，進而搭配 Server log 去追朔到狀態發生當下的問題，協助大家可以更釐清是否有邏輯上的問題產生。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>希望透過這次難得的機會在線上跟大家分享這陣子 LINE API 的相關更新，如果覺得這邊文章有幫助，歡迎分享給妳身旁的開發者朋友們喔！一起開發出更多不一樣的應用。那我們就下一篇文章再見啦～～</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>Life Hacker 初章: 用 LINE Bot 看你平常做的事</title>
    <url>/2022/08/17/line-bot-with-github-api/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/chatbot-mid-birth.png"></p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=1" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE 台灣技術傳教士 - NiJia Lin，此次的內容於「中部人的聊天機器人小小聚 #22」分享，分享這陣子以來自己做的一個小專案，拋磚引玉希望能讓更多點子於社群上發酵，想了解更多分享的內容請繼續往下看吧！</p>
<ul>
<li><a href="https://chatbots.kktix.cc/events/chatbots-meetup-in-central-taiwan-022">活動頁</a></li>
<li><a href="https://speakerdeck.com/line_developers_tw/life-hacker-with-line-bot-and-github-api">簡報連結</a></li>
</ul>
<span id="more"></span>

<h1 id="為什麼誕生這篇文章-分享"><a href="#為什麼誕生這篇文章-分享" class="headerlink" title="為什麼誕生這篇文章(分享)?"></a>為什麼誕生這篇文章(分享)?</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=3" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<ul>
<li>訊息散落在個人群組、各種聊天室</li>
<li>「那個 OOO 網址借我放一下」，應該很常看到這句話?</li>
<li>平常喜歡看 GitHub</li>
<li>許多工作訊息、聊天內容都在 LINE 上面</li>
</ul>
<blockquote>
<p>因為上述原因誕生了這次的想法</p>
</blockquote>
<h1 id="Part-1-整合-GitHub-API-LINE-Bot"><a href="#Part-1-整合-GitHub-API-LINE-Bot" class="headerlink" title="Part 1. 整合 GitHub API + LINE Bot"></a>Part 1. 整合 GitHub API + LINE Bot</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=5" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>首先我建立了一個專案叫做 <a href="https://github.com/louis70109/ideas-tree">ideas-tree</a> 準備來放我日常收集的小點子，接著另外建立一個 <a href="https://github.com/louis70109/line-bot-gitbub-actions-receiver">LINE Bot 專案</a>，專門來處理管理者(我)與 LINE Bot 放上的任何點子訊息。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=6" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>把服務叫起來之後於聊天室內打上訊息，即可把輸入的內容打到 <a href="https://github.com/louis70109/ideas-tree">ideas-tree</a> 上面做紀錄，在這些過程中的流程請參考以下流程圖。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzMDRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjYyNHB4O2hlaWdodDozMDRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2MjQgMzA0IiB3aWR0aD0iNjI0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tZW50aXR5ID8/Py0tPjxnIGlkPSJlbGVtXyYjMzE2NDk7JiMyOTcwMjsmIzMyNzczOyI+PGVsbGlwc2UgY3g9IjI3IiBjeT0iMTQiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTI3LDIyIEwyNyw0OSBNMTQsMzAgTDQwLDMwIE0yNyw0OSBMMTQsNjQgTTI3LDQ5IEw0MCw2NCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQyIiB4PSI2IiB5PSI3OC40OTUxIj4mIzMxNjQ5OyYjMjk3MDI7JiMzMjc3Mzs8L3RleHQ+PC9nPjxnIGlkPSJlbGVtX0xJTkUgQm90Ij48ZWxsaXBzZSBjeD0iMjQ0LjA4NjgiIGN5PSI0My43Mzk3IiBmaWxsPSIjRjFGMUYxIiByeD0iNTUuNTg2OCIgcnk9IjE0LjczOTciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYxIiB4PSIyMTAuNTg2OCIgeT0iNDcuNDg3MyI+TElORSBCb3Q8L3RleHQ+PC9nPjxnIGlkPSJlbGVtXyYjMjQ1MjU7JiMzMjc3MzsmIzMwMzQwOyYjMjQ0NjA7JiMzMTQ3MTsiPjxlbGxpcHNlIGN4PSI1MzIuMDg2OCIgY3k9IjQzLjMxNzQiIGZpbGw9IiNGMUYxRjEiIHJ4PSI2Mi4wODY4IiByeT0iMTQuODE3NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAiIHg9IjQ5NC4wODY4IiB5PSI0Ny4wNjQ5Ij4mIzI0NTI1OyYjMzI3NzM7JiMzMDM0MDsmIzI0NDYwOyYjMzE0NzE7PC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9HaXRIdWIiPjxlbGxpcHNlIGN4PSI0NTIuODc2MSIgY3k9IjE3My4xNjQ0IiBmaWxsPSIjRjFGMUYxIiByeD0iNDcuMzc2MSIgcnk9IjE0LjY2NDQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwIiB4PSI0MjQuODc2MSIgeT0iMTc2LjkxMTkiPkdpdEh1YjwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fSWRlYXMtdHJlZSYjMjM1NjA7JiMyNjY5NjsiPjxlbGxpcHNlIGN4PSIyNjUuOTUwNCIgY3k9IjI4MS41OTAxIiBmaWxsPSIjRjFGMUYxIiByeD0iNzMuNDUwNCIgcnk9IjE3LjA5MDEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMiIgeD0iMjExLjk1MDQiIHk9IjI4NS4zMzc2Ij5JZGVhcy10cmVlJiMyMzU2MDsmIzI2Njk2OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/IHRvIExJTkUgQm90LS0+PGcgaWQ9ImxpbmtfJiMzMTY0OTsmIzI5NzAyOyYjMzI3NzM7X0xJTkUgQm90Ij48cGF0aCBkPSJNNDguMjAyLDQzLjUgQzc5LjIxMzksNDMuNSAxMzguMTU4LDQzLjUgMTgzLjMwMyw0My41ICIgZmlsbD0ibm9uZSIgaWQ9IiYjMzE2NDk7JiMyOTcwMjsmIzMyNzczOy10by1MSU5FIEJvdCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxODguNDU4LDQzLjUsMTc5LjQ1OCwzOS41LDE4My40NTgsNDMuNSwxNzkuNDU4LDQ3LjUsMTg4LjQ1OCw0My41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQiIHg9IjY2LjI1IiB5PSIzNi41NjY5Ij4mIzM2NjY0OyYjMjA4Mzc7JiMyNDgxOTsmIzIwNzg2OyYjMjMzODQ7JiMzMDM0MDsmIzM1MzM4OyYjMjQ2ODc7PC90ZXh0PjwvZz48IS0tbGluayBMSU5FIEJvdCB0byA/Pz8/Py0tPjxnIGlkPSJsaW5rX0xJTkUgQm90XyYjMjQ1MjU7JiMzMjc3MzsmIzMwMzQwOyYjMjQ0NjA7JiMzMTQ3MTsiPjxwYXRoIGQ9Ik0yOTkuNTI5LDQzLjUgQzM0Ni43MDEsNDMuNSA0MTQuNTUyLDQzLjUgNDY0Ljc4NSw0My41ICIgZmlsbD0ibm9uZSIgaWQ9IkxJTkUgQm90LXRvLSYjMjQ1MjU7JiMzMjc3MzsmIzMwMzQwOyYjMjQ0NjA7JiMzMTQ3MTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDY5Ljg5Niw0My41LDQ2MC44OTYsMzkuNSw0NjQuODk2LDQzLjUsNDYwLjg5Niw0Ny41LDQ2OS44OTYsNDMuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0IiB4PSIzMTcuNzUiIHk9IjM2LjU2NjkiPiYjMzY4NjU7JiMzMzI2Nzsgd2ViaG9vayBTZXJ2ZXI8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvIEdpdEh1Yi0tPjxnIGlkPSJsaW5rXyYjMjQ1MjU7JiMzMjc3MzsmIzMwMzQwOyYjMjQ0NjA7JiMzMTQ3MTtfR2l0SHViIj48cGF0aCBkPSJNNTIzLjI0NCw1OC42MzIgQzUwOC43OTcsODEuOTQ4IDQ3OS45OTEsMTI4LjQzOSA0NjQuMTI0LDE1NC4wNDcgIiBmaWxsPSJub25lIiBpZD0iJiMyNDUyNTsmIzMyNzczOyYjMzAzNDA7JiMyNDQ2MDsmIzMxNDcxOy10by1HaXRIdWIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDYxLjMxOCwxNTguNTc2LDQ2OS40NTgsMTUzLjAzMTcsNDYzLjk1MTIsMTU0LjMyNTUsNDYyLjY1NzMsMTQ4LjgxODYsNDYxLjMxOCwxNTguNTc2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjQiIHg9IjQ5MiIgeT0iMTI0LjU2NjkiPiYjMjUxNzE7IENvbW1pdCAmIzM2OTE0OyYjMjM1NjA7JiMyNjY5NjsmIzIwMDEzOzwvdGV4dD48L2c+PCEtLWxpbmsgR2l0SHViIHRvIElkZWFzLXRyZWU/Py0tPjxnIGlkPSJsaW5rX0dpdEh1Yl9JZGVhcy10cmVlJiMyMzU2MDsmIzI2Njk2OyI+PHBhdGggZD0iTTQzMS45MTIsMTg2LjAxIEMzOTguOTYxLDIwNC43NzY0IDMzNS4wOTIsMjQxLjE1MDcgMjk2LjkyOSwyNjIuODg1NSAiIGZpbGw9Im5vbmUiIGlkPSJHaXRIdWItdG8tSWRlYXMtdHJlZSYjMjM1NjA7JiMyNjY5NjsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjkyLjQwNiwyNjUuNDYxMywzMDIuMjA2MiwyNjQuNDgzNSwyOTYuNzUwOSwyNjIuOTg3LDI5OC4yNDczLDI1Ny41MzE3LDI5Mi40MDYsMjY1LjQ2MTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5NyIgeD0iMzc4IiB5PSIyMzAuNTY2OSI+JiMyNDMxNDsmIzMxNDM1OyYjMjcyODQ7JiMyNjY5NjsmIzI1OTE4OyYjMjA4Mzc7JiMzNTMzODsmIzI0Njg3OyAmYW1wO0xJTkUmIzI5OTkyOyYjMjUxNDI7JiMzNjAzOTsmIzM1MzM4OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/IHRvIElkZWFzLXRyZWU/Py0tPjxnIGlkPSJsaW5rXyYjMzE2NDk7JiMyOTcwMjsmIzMyNzczO19JZGVhcy10cmVlJiMyMzU2MDsmIzI2Njk2OyI+PHBhdGggZD0iTTQ4LjIwOTcsNjUuNDQzIEM5NC4xMDE4LDExMC43NTkgMjAyLjA0NywyMTcuMzQ5OSAyNDYuNDI0LDI2MS4xNjk1ICIgZmlsbD0ibm9uZSIgaWQ9IiYjMzE2NDk7JiMyOTcwMjsmIzMyNzczOy10by1JZGVhcy10cmVlJiMyMzU2MDsmIzI2Njk2OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNTAuMDEzLDI2NC43MTM2LDI0Ni40MTksMjU1LjU0MzksMjQ2LjQ1NSwyNjEuMjAwNiwyNDAuNzk4MywyNjEuMjM2NiwyNTAuMDEzLDI2NC43MTM2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQiIHg9IjE3MiIgeT0iMTc3LjU2NjkiPiYjMjY1OTc7JiMzMDQ3NTsmIzIwMTcwOyYjMjYwODU7JiMyNTk3MjsmIzI5NzAyOyYjMjA4Mzk7JiMyMzQ4MTs8L3RleHQ+PC9nPjwhLS1TUkM9W1V4dmt1VkM5Ukl5UU1kTmpEN215X0xtTGRGOUJEQXFLTmtwUHlSSHJ3UkZjcEt6UkRaclRFLUZ2aDlPTkF4Z1VEUXhkR1lXMlFkWXdsblVlNG9adlQ1X0Z5ek5oV1ZmVURaSS1RRC1pSzl3UWI5NlZkd3FHZDVmS2JiaDRYUTVHRG9NX0YwemVXN2pjWUtUZjRiM1ZpeXg5Mml4dmtSY1A5SzBaRFp0VHFGNWlPU1VKN01rdk8yZnFXT2V6S3I4Sll0TEJZYjlKOFY5MFJLenR4dGcta2xsUGdZYjB4aENmLXUxRVhaWEpHR3RhcEVUSkxacGhzRlBZU3BqR2FFaXZ0QUZPWk5lc1YtZHBFVHJGVGRTemN4eHFzVEdqR0JMRk12U19OUlNKMDAwMF0tLT48L2c+PC9zdmc+'>

<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=7" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>結果大概像這樣，可以把輸入的大頭貼+人名放上，並且在以下放入在 LINE Bot 上輸入的內容。</p>
<h2 id="使用-Markdown-轉-HTML-的-GitHub-API"><a href="#使用-Markdown-轉-HTML-的-GitHub-API" class="headerlink" title="使用 Markdown 轉 HTML 的 GitHub API"></a>使用 Markdown 轉 HTML 的 GitHub API</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=8" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>雖然在手機上打 Markdown 格式不太方便，但因為有時候也會用到電腦紀錄資訊，因此還是當內容建立時格式化成 html 格式，如此以來即便是換行也可以被放進去，才不會輸入的訊息都變成同一行。</p>
<blockquote>
<p>剛看到上面的檔案會寫 .md 檔案是為什麼呢? 原本是預計放入內容是 Markdown，但因為在使用之後覺得還是格式化成 html 是比較統一，因此在檔案的名稱上改成 .html 是比較正確的喔！</p>
</blockquote>
<p>以下附一段 python code 給大家參考</p>
<script src="https://gist.github.com/louis70109/bfc722790051807dac10458f234b0cf3.js"></script>

<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=9" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>輸入完之後如上圖所示。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=11" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>因為透過 GitHub API 自動幫忙判斷使用的樣式，因此所有的內容擺放位置都已經幫忙調整好了，就不用自己想著到底要怎麼寫 html 了！說不定之後也可以使用 Markdown 格式寫一些東西，然後產生像是 Hackmd 那樣的輸出格式～也甚至有機會把它弄成 GitHub page 給大家看！</p>
<h1 id="Part-2-每日透過-GitHub-Actions-佈署上-GitHub-Page"><a href="#Part-2-每日透過-GitHub-Actions-佈署上-GitHub-Page" class="headerlink" title="Part 2. 每日透過 GitHub Actions 佈署上 GitHub Page"></a>Part 2. 每日透過 GitHub Actions 佈署上 GitHub Page</h1><p>以下將會大家介紹一下我日常撰寫部落格時後續執行的自動部署與相關問題，以及為什麼要選擇 LINE Bot 作為我操作的介面👀</p>
<h2 id="遇到的問題"><a href="#遇到的問題" class="headerlink" title="遇到的問題"></a>遇到的問題</h2><ul>
<li>Hexo 部署跑編譯時偶爾會出現 timeout</li>
<li>一次部署大約在三分鐘左右，手動部署會很耗時</li>
<li>因為是透過 js 編譯，因此會有 node_module (比較肥)</li>
</ul>
<h2 id="為什麼用-LINE-Bot-而不是-LINE-Notify-呢？"><a href="#為什麼用-LINE-Bot-而不是-LINE-Notify-呢？" class="headerlink" title="為什麼用 LINE Bot 而不是 LINE Notify 呢？"></a>為什麼用 LINE Bot 而不是 LINE Notify 呢？</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=15" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<ul>
<li>可以發送 flex message，除了比較漂亮外，可以做的事情也比較多</li>
<li>LINE Bot 中可以獲取 user id ，可以間接做用戶辨識，避免機器人被發現亂打 commit</li>
<li>承上，做部署之類的事情可以更清楚是誰按的，不會死無對證</li>
</ul>
<h2 id="為什麼選擇-GitHub-Actions？"><a href="#為什麼選擇-GitHub-Actions？" class="headerlink" title="為什麼選擇 GitHub Actions？"></a>為什麼選擇 GitHub Actions？</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=16" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>主要也是因為我的專案基本上都在 GitHub 上執行，因此透過 GitHub Actions 也是相對方便許多，不用再額外設定其他內容。</p>
<p>另一部分也因為無需架設，在GitHub上就可以無痛免費使用，且社群也相較於兩年前我使用時更加完整，有許多東西都可以參考使用，讓我們在實現點子時可以更加快速～</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/9f9e836869da46879b027b8750fe43d1?slide=18" title="Life Hacker with LINE Bot and GitHub API" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>這次做的專案主要也是為了收集我日常尚未發酵的點子，接著安排每個週末把這週的內容好好整理，就可以更加收斂自己點子的發想了！</p>
<p>另外本來想介接 json2video 的服務，但因為測試的數量較少，想說未來如果真的需要想串接其他平台時可以再來使用～</p>
<p>最後也很鼓勵大家使用 LINE Bot 去做更多的應用，500 封免費的訊息相信對於日常使用應該是綽綽有餘，且也可以同步做身份認證，簡直就是一兼二顧：），後續有更多串接的應用我也會在持續分享給大家！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>CI/CD</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>CI</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>帶你了解 LINE Developers Meetup 第 14 場的精彩內容！</title>
    <url>/2021/04/01/line-dev-meetup-14/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/line-14/root.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan Developer Relations 團隊的 NiJia Lin。很開心在這裡跟各位分享 2021 年的首場開發者小聚，本場次是我加入以來第一次在台北舉辦的線下活動(過往都是會眾身份)，除了有美味餐點以外，現場也能感受到滿滿的開發者們對於技術熱情(同仁們一直包圍詢問)，以下就由我帶大家體驗一下現場的熱情吧！</p>
<p>KKTIX 活動網頁: <a href="https://linegroup.kktix.cc/events/20210319">活動網址</a></p>
<span id="more"></span>

<h1 id="活動內容與外場分享"><a href="#活動內容與外場分享" class="headerlink" title="活動內容與外場分享"></a>活動內容與外場分享</h1><p><img src="https://nijialin.com/images/2021/line-14/1.jpg"></p>
<p>開場由 Tech Evangelist - Evan Lin 為大家介紹近期 LINE 公開的活動，讓對於來跨國工作有興趣的大家可以有個初步的了解，如最近的 04&#x2F;16 在新竹的線下實體活動，以及一年一度的招募日，對外公佈活動讓大家有機會加入到國際級公司與我們一起打造 WoW 的產品，可以參考以下兩個活動資訊：</p>
<ul>
<li><a href="https://linegroup.kktix.cc/events/20210416">LINE Developers Meetup 開發者小聚系列活動 #15 @ 清大教育館</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-taiwan-developers-recruitment-day/">2021 LINE Taiwan Developers Recruitment Day</a></li>
</ul>
<blockquote>
<p>當然也不會漏了學生朋友！對來 LINE 實習體驗不同的工作文化有興趣，請參考 - <a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/line-14/2.jpg"></p>
<p>本次 LINE Developer Meetup 開發者小聚，第一位講者 Nina Chang 來分享在資料工程團隊中的經驗分享 - 「<strong>Let’s Play in DataPark</strong>」，帶大家認識 LINE 資料工程團隊的角色分工以及目前所接觸到的部分(<strong>MLOps、MarTech、NLP</strong>)，也敘述了許多與在學時學習的比較，更多內容歡迎參考 Nina 寫的文章：<a href="https://engineering.linecorp.com/zh-hant/blog/lets-play-in-data-park/">LINE 資料工程團隊如何透過專業分工與 MLOps 打造不同服務 | 以 MarTech &amp; NLP 為例</a>。</p>
<p><img src="https://nijialin.com/images/2021/line-14/12.jpg"></p>
<p>在一個研討會中最重要的時光除了聽講者的精彩議程外，最精華的部分就是把握與講者交流時間，透過交流除了了解相關職務以外，也能幫你釐清剛剛在聽講過程中不了解的部分，也許你的疑問也是大家的疑問，前往不同的研討會時別害羞提出你的問題哦！</p>
<h2 id="LINE-CLIENT-團隊"><a href="#LINE-CLIENT-團隊" class="headerlink" title="LINE CLIENT 團隊"></a><a href="https://speakerdeck.com/line_developers_tw2/line-client-team">LINE CLIENT 團隊</a></h2><p><img src="https://nijialin.com/images/2021/line-14/6.jpg"></p>
<script async class="speakerdeck-embed" data-slide="2" data-id="d0a4a5f15ad54a688f3eea7ab3258e92" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>工程師成就感許多的來源相信大多都是希望自己開發的產品是能夠在路上看到有人使用它，而 LINE 的 CLIENT 團隊負責的部分正是大家平常每天在用的 App，如以下簡報所示，除了將 <a href="https://today.line.me/tw/v2/tab">LINE TODAY 的新聞頁面</a>引入 APP 的分頁外，如我們平常使用的 <strong>影片自動播放</strong>、<strong>子畫面觀看影片</strong>、<strong>長截圖</strong>(還可以匿名)也都是 CLIENT 團隊處理的喔！</p>
<ul>
<li>長截圖相關開發介紹影片 - <a href="https://www.youtube.com/watch?v=y22Z76j3S00">Android Chatroom Message Capturing</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="3" data-id="d0a4a5f15ad54a688f3eea7ab3258e92" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然不只有這些開發，還有像是 <a href="https://today.line.me/tw/v2/tab">LINE TODAY</a>、<a href="https://buy.line.me/">LINE SHOPPING</a>、<a href="https://github.com/line">LINE SDK</a> 都是工作上會接觸到的產品，想了解更多關於工作以及團隊文化可以參考下方簡報：</p>
<script async class="speakerdeck-embed" data-slide="7" data-id="d0a4a5f15ad54a688f3eea7ab3258e92" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>如果你對於開發 Client 產品有興趣，目前有在找 <a href="https://careers.linecorp.com/jobs/17">iOS Developer</a>。</p>
</blockquote>
<h2 id="LINE-SHOPPING-購物"><a href="#LINE-SHOPPING-購物" class="headerlink" title="LINE SHOPPING(購物)"></a><a href="https://speakerdeck.com/line_developers_tw2/20210319-line-shopping-team">LINE SHOPPING(購物)</a></h2><script async class="speakerdeck-embed" data-slide="3" data-id="b6b53ddd79624379b4809fc52cb4dd87" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>電商在我們生活中已經是密不可分的一部份，LINE 購物作為一個導購平台與各大電商平台合作，讓用戶可以在平台上比價找到自己最滿意的價格去購買商品，因此就有了「<strong>先 LINE 購物 再購物</strong>」的這句名言產生了～</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="b6b53ddd79624379b4809fc52cb4dd87" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然現場的大家對於技術團隊中運作的方式也很好奇，因為需要整合許多平台的資料，會有以下三個部分：</p>
<ul>
<li>Domain：整合與處理不同形式的 API 資料。</li>
<li>Large Scale Project：因為專案本身規模龐大，因此<strong>程式碼品質</strong>、<strong>CI&#x2F;CD</strong>、<strong>跨團隊(國)合作</strong>都是在開發過程中相當重要的部分。</li>
<li>Scalability：擴展性在 LINE 中一直是很重要的一環，寫出具有彈性且有品質的程式碼也是每位 LINE 的開發者所注重的。</li>
</ul>
<p>&gt; 對於挑戰流量有興趣的朋友可以查看相關職缺：<a href="https://careers.linecorp.com/jobs/250">Server-Side Developer</a></p>
<h2 id="LINE-Frontend-團隊"><a href="#LINE-Frontend-團隊" class="headerlink" title="LINE Frontend 團隊"></a><a href="https://speakerdeck.com/line_developers_tw2/line-frontend-team">LINE Frontend 團隊</a></h2><p><img src="https://nijialin.com/images/2021/line-14/8.jpg"></p>
<p>在你我看到 LINE APP 許多頁面中，其實藏著許多 Webview 的畫面，也就是開發者們常見的 <a href="https://developers.line.biz/en/docs/liff/overview/">LIFF</a>，在大部分的服務內都有前端部門的足跡，當然除了提供外部服務外，其中也建立了三個內部的服務讓 LINE 前端工程師們可以更有效率的使用一些常用的功能：</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="b1a6c4534d5942dcb89e709b8b3416d3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在 LINE 中很鼓勵大家多學習不同的技能，在前端部門這當然也是一樣，如平常所見開發者為了提升 SEO 會去使用一些 <a href="https://nuxtjs.org/docs/2.x/concepts/server-side-rendering">Server-Side Rendering</a>(SSR) 的框架(如 Nuxt.js)來提升搜尋效率等等，除了鼓勵大家勇於學習不同的技能外，另一方面當然也讓大家提升對於產品的了解度。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="b1a6c4534d5942dcb89e709b8b3416d3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如上述所說除了產品開發外，LINE 也很注重多元學習，講者概略統計出一週工程師們常做的事情，是不是覺得很讚呢！如果你也喜歡前端部門的話歡迎來挑戰一起加入 LINE 的大家庭！(<a href="https://careers.linecorp.com/jobs/7">投遞入口</a>)</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="b1a6c4534d5942dcb89e709b8b3416d3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="LINE-TODAY-團隊"><a href="#LINE-TODAY-團隊" class="headerlink" title="LINE TODAY 團隊"></a><a href="https://today.line.me/tw/v2/tab">LINE TODAY 團隊</a></h2><script async class="speakerdeck-embed" data-slide="4" data-id="52067d63f1814086824fdec298e3f1e7" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在前面 Client 團隊有稍微提到，LINE TODAY 作為數一數二的新聞入口相信也是大家平常每天看時事的一個平台，且不只在台灣，泰國、印尼、香港也都有上架喔！當然除了時事以外也有相關轉播(直播)的功能，像我最愛看的 NBA 就有在 TODAY 上轉播。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="52067d63f1814086824fdec298e3f1e7" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然要面對大流量勢必得有個好的架構才有辦法應付不同的情境，講者也不吝嗇提供出 LINE TODAY 的架構，從前端、串接第三方 API、推薦系統、後端、Cache Sever、Databases…都有在上面。</p>
<p>如果你也喜歡 LINE TODAY 並想加入，目前也有在徵人喔！</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/7">Frontend</a></li>
<li><a href="https://careers.linecorp.com/jobs/250">Server-Side Developer</a></li>
<li><a href="https://careers.linecorp.com/jobs/19">QA Engineer</a></li>
</ul>
<h2 id="LINE-Travel-團隊"><a href="#LINE-Travel-團隊" class="headerlink" title="LINE Travel 團隊"></a><a href="https://travel.line.me/">LINE Travel 團隊</a></h2><p><img src="https://nijialin.com/images/2021/line-14/7.jpg"></p>
<script async class="speakerdeck-embed" data-slide="5" data-id="9902387d29304ad6af58a39852beb825" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>講到服務平台當然不能少了 LINE TRAVEL 呀！LINE TRAVEL 致力於打造全台最大的行程規劃與旅遊導購平台，從旅遊前的資訊搜集、與旅伴共同規劃行程，到導購下單的訂購機票飯店與團旅等的一站式體驗。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="9902387d29304ad6af58a39852beb825" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>講者也分享了再交付平台功能時的週期中會有什麼部分在其中，Scrum Sprint 從計畫-開發-測試(Unit、Automation、Regression…)-Release，是不是跟上述其他團隊的流程也很像呢？在 LINE 工程部門內都會遵照一定的標準下開發，讓大家同樣的環境下工作，一方面增加開發效率，另一方面則可以降低大家的溝通成本。</p>
<script async class="speakerdeck-embed" data-slide="9" data-id="9902387d29304ad6af58a39852beb825" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p><img src="https://nijialin.com/images/2021/line-14/13.jpg"></p>
<blockquote>
<p>大家再跟 TRAVEL 同仁溝通時也都非常熱絡，相信在交流中也能學到不少知識～</p>
</blockquote>
<h2 id="TECH-FRESH"><a href="#TECH-FRESH" class="headerlink" title="TECH FRESH"></a><a href="https://careers.linecorp.com/jobs/83">TECH FRESH</a></h2><p><img src="https://nijialin.com/images/2021/line-14/5.jpg"></p>
<p>學生時期最快與社會接軌其中宜方法就是到企業實習啦！LINE 除了提供優良的實習環境給學生外，也讓學生朋友能實際體會到跨國企業的開發流程上的規模。</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="d30fa9ef715c40eb89e3d14be4bce5cd" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然如同上述其他團隊一樣，我們更鼓勵學生別限制自己的技能樹，勇於挑戰不同的開發環境，不管前&#x2F;後端、DevOps、Database、ML…，讓自己成為獨一無二的人才，增加自己的競爭力！</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="d30fa9ef715c40eb89e3d14be4bce5cd" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>最後講者也大方的更大家說在投遞履歷時需要注意的部分，以下這些都是能夠幫助你職涯的內容，學生朋友別忘了日常就培養一下自己的專業技能喔！</p>
<script async class="speakerdeck-embed" data-slide="7" data-id="d30fa9ef715c40eb89e3d14be4bce5cd" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2021/line-14/9.jpg"></p>
<p>分享 Evan 在交流中說過的一段話 「這場聚會可能是某個參與者畢生參與的第一次活動，也可能是改變他人生，最重要（或是最難忘）的活動。 」</p>
<p>我們在每次舉辦的活動時都希望會眾能在其中獲取新知，也盡力與每位會眾交流，並幫助每一位同學與求職者可以媒合到想要交流的同仁們，希望大家能夠享受在這個活動中。</p>
<p>最後別忘了，在四月我們還會在<strong>清華大學教育館</strong>舉辦第 15 場的線下活動喔！大家趕快手刀報名起來～</p>
<ul>
<li><a href="https://linegroup.kktix.cc/events/20210416">活動網址</a></li>
</ul>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE Dev Meetup 16 現場活動分享</title>
    <url>/2022/03/29/line-dev-meetup-16/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/ldm16/1.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我們是來自 LINE 台灣開發者關係與技術推廣部門 (Developer Relations)。從 2019 LINE 啟動了「開發社群計畫」之後，已經有三年的時間。期間舉辦了許多的校園招募，技術社群聚會活動與 LINE 平台開發分享活動。</p>
<p>本次 LINE Developer Meetup 開發者小聚，邀請到 <code>CTO</code> 以及<code>六位實習生</code>講者來代表各自所屬團隊的介紹、開發經驗、實習經驗。話不多說，接著一起往下看</p>
<blockquote>
<p>KKTIX 活動網頁: <a href="https://linegroup.kktix.cc/events/20220324">活動網址</a></p>
</blockquote>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><img src="https://nijialin.com/images/2022/ldm16/3.jpg"></p>
<p>首先由 CTO - Marco 為此次活動開場，除了介紹工程部門的文化以及願景，讓現場的各位開場可以更熟知大型軟體公司的工作內容，並且介紹了屬於 LINE 的實習生計畫 - TECH FRESH，當然更細節的內容歡迎大家往下看：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
</ul>
<h2 id="上半場-產品團隊"><a href="#上半場-產品團隊" class="headerlink" title="上半場 - 產品團隊"></a>上半場 - 產品團隊</h2><script async class="speakerdeck-embed" data-slide="14" data-id="2491297819514115aa098a87656cc05c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著有 LINE TODAY 的 Ming 開頭介紹服務以及實習上的經驗，分享了近兩年的實習心得，並藉由期間學習到技術內容來帶到更多在實習期間的所學，並踴躍參加技術社群、研討會、以及內部的黑客松來增加自己的技術實力。</p>
<script async class="speakerdeck-embed" data-slide="7" data-id="a0e43037724a462481ab0d3b0362b826" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>下一位來自 EC 的 Carolyn 透過不同的角度分享每位同學很好奇部分，從為什麼待了三年、學習到的內容、福利、以及如何分配上課以及實習的時間，由於 EC 所涵蓋的範圍非常大， Carolyn 把涵蓋的內容鉅細靡遺的解釋，並且分享自己加入 LINE 之後做的專案所帶來的成就感，畢竟在 LINE 上線的任何服務，都是隨時隨地要接受流量的考驗。</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="a0e43037724a462481ab0d3b0362b826" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>能在實習中做到像是鬼月貼圖這類的活動就相當值得呢！</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="4" data-id="2ca0ce07777a44368b36b49e3432caa5" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>上半場最後一個介紹由 Frontend &amp; LINE SPOT 團隊的 Steve 介紹兩個部門，作為一個前端成員，任何都畫面都可能會是需要接觸的地方，當然團隊的分工上就會分配到不同的專案上面，協助服務把美美的畫面給上線。</p>
<script async class="speakerdeck-embed" data-slide="17" data-id="2ca0ce07777a44368b36b49e3432caa5" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在 LINE SPOT 團隊中有專職的 Scrum Master 帶領，讓團隊的同仁可以更有效的進行工作，讓功能可以更快速的迭代上去，這邊 Steve 也分享了以 TECH FRESH 在一個 Scrum team 裡面的經驗談，學習到許多在學校之外更難得可貴的業界經驗，相信還在觀望實習或是正職機會的你，來 LINE 工程團隊絕對會是個好選擇！</p>
<h2 id="下半場工程團隊"><a href="#下半場工程團隊" class="headerlink" title="下半場工程團隊"></a>下半場工程團隊</h2><script async class="speakerdeck-embed" data-slide="9" data-id="692497baf9fb4377a09db3c267ac5457" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>下半場由 QA 的 Yi Han 打頭陣，帶大家認識在 LINE 裡面 QA 究竟做哪了哪些事，是不是只有產品開發出來才測試？還是跟著團隊從頭到尾計畫與規劃整個產品，最大化的確保品質呢？如這次演講中介紹了身為一個 QA 是如何在 Scrum team 中有效的執行關於測試時所需要關注的大小事，透過各種工具以及實踐方法來達到品質最大化。</p>
<blockquote>
<p>之後現場更有許多同學實際來了解 QA 更細節的日常工作有接觸到什麼，更多歡迎大家看看以下的文章嚕！</p>
</blockquote>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/qa-interview-2021/">【訪談】QA 工作老實說</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="7" data-id="81321f7529744a6ba363373ffb379b9b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>以通訊軟體聞名，當然不能少了 Client 端的工程師來分享啦！這次 Client team 的介紹由 TU 來分享，當中介紹的這些功能，每天在使用 LINE 的你用了幾個呢？上述的這些功能都是台灣團隊親手研發，讓大家不管在對話過程可以更直覺地使用功能(Mini Player、長訊息截圖、自動播放…)。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="81321f7529744a6ba363373ffb379b9b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然因應市場需求許多時候也需要更快速迭代產品，在 LINE SHOPPING APP 中套用 Flutter 來加速 iOS、Android 陣營的上限速度，讓使用者可以更快速想用新的功能！</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="9749afe002424683afd13256bc7d34c1" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>最後壓軸由 Data Dev team 的 Alice 為大家分享她在資料工程團隊中的實習心得，其中不免分享了許多在資料工程領域從學生到職場的一些看法，從中了解原來在大流量的平台上建構出有效的模型是多麽有挑戰的事情。</p>
<script async class="speakerdeck-embed" data-slide="13" data-id="9749afe002424683afd13256bc7d34c1" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>上圖可能就是大家每天在思考的問題，當然更多 Data Dev 工程團隊的細節內容也可以參考以下</p>
</blockquote>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/data-dev-interview-1/">【訪談】 – Data Dev 工作老實說分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/dac-sharing-2022/">台大資料分析與決策社 – 職涯分享</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2022/ldm16/2.jpg"></p>
<p>這次的活動是 LINE 首次以 CTO+全實習生分享的陣容出來與大家見面，講者們非常用心的準備這次的演講，希望讓現場的聽眾朋友可以更加感同身受，有參加到的開發者是否也覺得同學們分享的內容非常精彩呢？如果你這次沒參加到，趕快空出 4&#x2F;21 的時間，參加 LINE 的第十七場 Developers Meetup！</p>
<blockquote>
<p><a href="https://linegroup.kktix.cc/events/20220421">LINE Developers Meetup 開發者小聚系列活動 #17 LINE NEXT 台灣工程團隊招募會</a></p>
</blockquote>
<p>最後不免俗的，想加入 LINE 大家庭的同學，趕快送出你的履歷到以下<a href="https://careers.linecorp.com/jobs/83">連結</a>，下一個實習生可能就是你！</p>
<blockquote>
<p><a href="https://careers.linecorp.com/jobs/83">投遞通道</a></p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>TECH FRESH</tag>
      </tags>
  </entry>
  <entry>
    <title>回顧 LINE Developers Meetup 第 15 場現場活動</title>
    <url>/2021/04/27/line-dev-meetup-15/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/line-15/0.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>每年 LINE 都會安排許多活動讓每一位對 LINE 工程團隊有興趣開發者可以在<strong>線上</strong>或是<strong>線下</strong>直接詢問負責不同領域的同仁們，藉由交流不僅分享在企業中使用的技術細節，也拉近企業與開發者的距離，讓大家感受在 LINE 工作的幸福感指數 😊，希望可以透過本篇活動紀錄讓大家更認識 LINE 的工程團隊！</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="前端團隊"><a href="#前端團隊" class="headerlink" title="前端團隊"></a>前端團隊</h2><p><img src="https://nijialin.com/images/2021/line-15/2.jpeg"></p>
<p>本次開場由負責 LINE TODAY 前端的 Liz 為大家介紹，開始前介紹一下 LINE TODAY，LINE TODAY 作為新聞網站的<strong>主要路口</strong>之一，架構裡也涵蓋了許多不同面向的功能，除了大家熟知的新聞外，也有影音、天氣、留言元件、甚至到泰國的樂透…等等，因此在這麼大的平台下就擁有許多不同單元的服務，同時這些服務都需要專業的前端同仁處理才能讓用戶可以使用到更流暢的服務。</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="76931cf6c2aa474ab12185ac509c5768" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>既然 LINE TODAY 富含了豐富的功能，在流量與產品面向越來越多的情況下，為了長期提供穩定的服務，該下的功夫也是要下足，尤其優化就是很重要的一部分，開始就先列出以下兩個挑戰：</p>
<ul>
<li>巨大的流量</li>
<li>多元的產品服務</li>
</ul>
<p>為了提供穩定的服務與 UX 以外(<code>效能</code>)，在開發的過程也要注重 <code>彈性</code>，讓整個平台的架構可以乘載未來的新功能，因此有許多部分項目都是需要注意的部分。</p>
<script async class="speakerdeck-embed" data-slide="9" data-id="76931cf6c2aa474ab12185ac509c5768" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h3 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h3><p>提到效能的挑戰，莫過於該評估現在效能是否會有影響的問題，或是該把時間投資在新功能的開發時程，這邊使用 <a href="https://web.dev/fcp/">First Contentful Paint</a>(FCP) 作為其中一個指標(當然還有很多不同的指標)，FCP 簡單來說表示使用者從進入 web app 時畫面渲染出所有 DOM <strong>所需的時間</strong>，大家不妨可以使用它來測試一下自己 web 的狀態如何。</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="76931cf6c2aa474ab12185ac509c5768" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>另一個效能處理的部分，這邊選擇 Nuxt.js 做為處理前端部分的框架，在處理 web 應用程式時，會因為不同的環境條件而需要從 Server 處理好整包 HTML 再丟到前端渲染(<code>Server-Side Render</code>)，抑或是直接在前端做<code>靜態檔案處理</code>(讀者可以參考 <a href="https://nuxtjs.org/">Nuxt.js 官網說明</a>)，選擇當前環境最需要的部分做處理，讓效能能夠最大化。</p>
<p><img src="https://nijialin.com/images/2021/line-15/1.png"></p>
<h3 id="Scalable"><a href="#Scalable" class="headerlink" title="Scalable"></a>Scalable</h3><p>而因為 Nuxt.js 在處理兩個部分時能夠讓整個專案共用同一個邏輯，且在初始化時就已經幫大家分類好架構，只要依循官方所提供的架構下實作，就不用因為使用的渲染方式不同而將同個操作邏輯分開導致專案使用各種方法處理(例如: Class、Function、Interface)，Nuxt.js 在這部分提供很好的開發者體驗，讓開發者可以更專心的實作其他的邏輯。</p>
<p>講者另外提到可以參考  <a href="https://classic.yarnpkg.com/blog/2017/08/02/introducing-workspaces/">Workspaces in Yarn</a> 的規範，來 Reuseable 不同的 SDK。</p>
<script async class="speakerdeck-embed" data-slide="18" data-id="76931cf6c2aa474ab12185ac509c5768" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>此外也可以使用 async 的方式來降低主要<code>檔案的大小</code>，並且可以切分商業邏輯，讓可以先處理的部分先去處理，除了讓更多的東西可以達到共用外，也可以同步增加效能。</p>
<p>在結合了上述提到的功能，大幅增加效率，或許大家在處理前端領域的專案時不妨也使用看看以上的技能吧！</p>
<script async class="speakerdeck-embed" data-slide="21" data-id="76931cf6c2aa474ab12185ac509c5768" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>對 TODAY 有興趣可以參考其架構</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="8" data-id="52067d63f1814086824fdec298e3f1e7" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>持續優化現有架構，因此需要優秀的人才加入，一起處理台灣的新聞入口服務！職缺的部分可以參考以下：</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/7">Frontend Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/250">Server-Side Developer</a></li>
<li><a href="https://careers.linecorp.com/jobs/19">QA Engineer</a></li>
</ul>
<h2 id="資料工程團隊"><a href="#資料工程團隊" class="headerlink" title="資料工程團隊"></a>資料工程團隊</h2><p><img src="https://nijialin.com/images/2021/line-15/3.jpg"></p>
<p>MarTech &#x3D; Marketing + Technology，簡單來說運用科技與量化技術來解決行銷上痛點，任何幫助行銷達成目的的科技手段。以下圖來說，從用戶的獲取、培養到最後的成功轉化或流失，其中每一個環節都是行銷所在意的點，這也就是 MarTech 被分為六大領域應用的原因。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="113fe6d7a3294eb58de8532e4a9ededc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了資料收集、整合、分析、應用之外，在這部分與行銷人合作也需要許多的考量，不同技能領域的了解程度、運算資源、資安考量…</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="113fe6d7a3294eb58de8532e4a9ededc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在資料工程團隊中主要有四個主要的應用:</p>
<ul>
<li>視覺化系統</li>
<li>推薦系統</li>
<li>廣告</li>
<li>Chatbot</li>
</ul>
<p>透過分享上述的一些使用案例，並實際帶入平常專案有使用到的技術來把握每次曝光的機會，如透過 Related Search、Smart POI、User Tagging、Uplift Modeling 來處理個人化需求以及優化廣告的成效表現(例如：ROI)，將廣告優惠提供給對的人身上，將效益發揮到最大化。</p>
<blockquote>
<p>相關文章： <a href="https://engineering.linecorp.com/zh-hant/blog/lets-play-in-data-park/">LINE 資料工程團隊如何透過專業分工與 MLOps 打造不同服務 | 以 MarTech &amp; NLP 為例</a></p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="13" data-id="113fe6d7a3294eb58de8532e4a9ededc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在講者的經驗中，使用 MarTech 相關工具都會有三種特性，透過自動化與平台來降低成本與共用資源外，也讓 Marketing 更能有效地使用科技來解決實務上的痛點。</p>
<script async class="speakerdeck-embed" data-slide="16" data-id="113fe6d7a3294eb58de8532e4a9ededc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在傾聽 Marketing 同仁對於商業上應用的影響範圍同時，我們也需要將訊息收斂並使用模型所量化出來指標告知同仁，已達到 MarTech 的極致目標。</p>
<script async class="speakerdeck-embed" data-slide="17" data-id="113fe6d7a3294eb58de8532e4a9ededc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/how-ml-powers-line-services/">「How ML Powers LINE Services」機器學習如何的讓 LINE 的服務能更貼近使用者</a></li>
</ul>
<h2 id="團隊介紹"><a href="#團隊介紹" class="headerlink" title="團隊介紹"></a>團隊介紹</h2><h3 id="LINE-SHOPPING-「先-LINE-購物，再購物」"><a href="#LINE-SHOPPING-「先-LINE-購物，再購物」" class="headerlink" title="LINE SHOPPING - 「先 LINE 購物，再購物」"></a>LINE SHOPPING - 「先 LINE 購物，再購物」</h3><p>LINE SHOPPING 是我們的主要服務之一，由 <a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-taiwan-developers-recruitment-day/#id-2021recruitmentday%E6%8B%9B%E5%8B%9F%E6%97%A5%E6%96%87%E7%AB%A0-#LINE%E9%9B%BB%E5%95%86">LINE 電商團隊</a>負責開發，提供相似商品比價功能，用戶可搜尋上千萬筆的商品，讓用戶在 LINE 購物消費之後，將收到 LINE 回饋的 LINE Points。除此之外，也需要串接 LINE 其他國家的平台，同時也需要與本地各個廠商合作。</p>
<script async class="speakerdeck-embed" data-slide="2" data-id="d054b33acca24eec8005828a255fc47f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>本次則由 LINE SHOPPING 團隊 Machine Learning Engineer - Vila 從 ML 的角度來分享在服務中所應用日常的技能。在如此巨量的資料下，如何有效存好並使用資料也是一門學問，並且要處理<strong>分析</strong>、<strong>監控</strong>、<strong>模組化</strong>、<strong>展示</strong>…等等相關功能，除了在有限的時間內詳細的講解資料處理的部分，也透過範例向大家展示 SHOPPING 裡頭有使用到的相關功能(類別推薦、資料分析展示網站、個人化推薦…)，更多內容請參考簡報。</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="d054b33acca24eec8005828a255fc47f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>因為 LINE 在各種節日時常會有大流量的問題，因此在日常開發上講者就快速整理了一些較大方向所需面對的挑戰，讓大家了解到在一個平台上處理問題時的思考方向。</p>
<script async class="speakerdeck-embed" data-slide="12" data-id="d054b33acca24eec8005828a255fc47f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如果你是學生且對於 ML 與資料有興趣的話，不妨直接寄送履歷(<a href="https://careers.linecorp.com/jobs/83">連結</a>)，除了挑戰超高流量平台外，還有機會與不同國家的工程師合作！</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="d054b33acca24eec8005828a255fc47f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>以下也有許多與 SHOPPING 團隊同仁的分享：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-developer-meetup-14/#LINE-SHOPPING-%E8%B3%BC%E7%89%A9">第 14 場 LINE Developers Meetup 活動分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-jcconf-2020/">LINE Taiwan x Java 年度盛會：JCConf 2020</a></li>
</ul>
<h3 id="LINE-Pay"><a href="#LINE-Pay" class="headerlink" title="LINE Pay"></a>LINE Pay</h3><p><img src="https://nijialin.com/images/2021/line-15/6.jpg"></p>
<p>打開 LINE 之後點選最右邊的 tab，不僅有錢包，包含了付款、贊助、金融、我的會員卡…等等許多功能</p>
<script async class="speakerdeck-embed" data-slide="2" data-id="3298c104de1646e89c202f575f04fc4f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE Pay 運用密碼學的原理，使用公、私鑰讓用戶可以在很短的時間內完成付款又兼具安全性，讓大家清楚的知道上課時所學的密碼學是相當重要的，畢竟若是透過持續的呼叫 API，除了增加 Server loading 以外，在使用體驗上也會非常痛苦(e.g. 付款需要三秒)。</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="3298c104de1646e89c202f575f04fc4f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>作為 LINE Ecosystem 的一員，LINE Pay 也是不同小覷的，如合作商家的數量也是相當驚人</p>
<script async class="speakerdeck-embed" data-slide="7" data-id="3298c104de1646e89c202f575f04fc4f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然，若您對於加入 LINE 大家庭一起打造 WoW 的服務，歡迎參考職缺：</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/76">Front-end Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/75">Server-side Engineer</a></li>
</ul>
<h3 id="LINE-SPOT-熱點"><a href="#LINE-SPOT-熱點" class="headerlink" title="LINE SPOT(熱點)"></a><a href="https://spot.line.me/">LINE SPOT</a>(熱點)</h3><p>LINE SPOT 團隊是主要是開發 O2O (Online to Offline) 及活動相關的服務，LINE SPOT 是一個以您所在的位置為起點，讓您可以在上面看到各式店家的優惠資訊，把線下的資訊整合到線上的一個全新的服務。此外 SPOT 團隊也很熱衷於使用新技術，包含 Docker、kubernetes、Kafka，各類程式語言 (Java、Scala、Go、Node.js) 等，提供使用者更多創新的功能。</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="22a9ae41b3154def9d21fc2001ec5415" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在團隊中有幾項被歸類出來的挑戰：</p>
<ul>
<li>彈性與可用性: 有許多需要運算的資源，如最近地點</li>
<li>整合不同來源的資料集</li>
<li>管理 Kubernetes 中的微服務們</li>
</ul>
<p>除了要克服上述的挑戰之外，LINE SPOT 團隊也很享受使用新的技術，讓對的工具放在對的地方。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="22a9ae41b3154def9d21fc2001ec5415" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>更多過往的分享可以參考：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/serving-location-based-data/">在 「LINE 熱點」服務上如何處理地理性資訊 ( Serving Location-based data)</a></li>
<li>SPOT 團隊強者同事的分享 - <a href="https://engineering.linecorp.com/zh-hant/blog/open-policy-agent-authz-in-microservice/">Open Policy Agent – 快速導入 Authz 至 Microservice 架構</a></li>
</ul>
<h3 id="Automation-Engineer-amp-SRE"><a href="#Automation-Engineer-amp-SRE" class="headerlink" title="Automation Engineer &amp; SRE"></a>Automation Engineer &amp; SRE</h3><p><img src="https://nijialin.com/images/2021/line-15/5.jpg"></p>
<p>如果讓開發人員與維運人員之前的交付過程更順暢，工程文化在其中佔了很大的比例，有好的環境才有辦法讓整體服務交付更加順暢，並且又有品質保證，是不是很棒呢？</p>
<p>Automation Engineer 致力於強化 LINE 的產品品質，了解產品需求，掌握產品開發及測試時的脈絡，分析並快速反應產品的問題，並開發相對應的自動化測試，確保產品品質信心水準，加速整個開發循環。除了使用到許多測試工具外，也遵照一定的工法執行來加速交付時間。</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="4a233e90fafd4fa3b08fb1d847cf65c8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在提供受歡迎的服務的同時，服務的可靠度一直都是一個很重要的課題。在 LINE 的 SRE 團隊，我們最重要的目標就是將可靠度轉換成可以被量化的指標，建立各種機制來持續監控這些指標，以用來協助各服務團隊進一步的提升可靠度，找出最適合的解決方案與最佳的佈署策略，並讓服務可靠的在線上運行。</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="4a233e90fafd4fa3b08fb1d847cf65c8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>講者也額外分享，隨著工具越來越多，與團隊同仁討論並挑選出最適合團隊的工具往往才會是最佳解，希望大家在導入工具時要仔細評估。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="4a233e90fafd4fa3b08fb1d847cf65c8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><a href="https://careers.linecorp.com/jobs/18">QA Automation Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/19">QA Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/83">TECH FRESH</a></li>
</ul>
<h3 id="LINE-Verda"><a href="#LINE-Verda" class="headerlink" title="LINE Verda"></a>LINE Verda</h3><p>一切的基礎都需要有 Infra 團隊才有辦法建構服務，LINE Verda 作為私有雲服務即是負責處理 LINE 裡所有的基礎設施，在 2020 的<a href="https://engineering.linecorp.com/zh-hant/blog/line-coscup-2020/#How-We-Integrate-and-Develop-Private-Cloud-in-LINE-Gene-Kuo"> COSCUP 中也有分享</a>與 Verda 相關內容，過了一年之後，Verda 的基礎設施又更加的成長了～</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="edbb323f728a40edb0541b772999b202" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了 Infra Engineer 以外，也歡迎不同領域的朋友一同前來打造 LINE 的私有雲服務</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="edbb323f728a40edb0541b772999b202" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<script async class="speakerdeck-embed" data-slide="5" data-id="edbb323f728a40edb0541b772999b202" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>參考文章：<ul>
<li><a href="https://engineering.linecorp.com/en/blog/verda-platform-team/">【Team &amp; Project】Meet the Team Developing the Verda Platform Using OpenStack and Kubernetes</a></li>
<li><a href="https://engineering.linecorp.com/en/blog/team-project-introducing-the-team-in-charge-of-site-reliability-engineering-for-the-verda-platform/">[Team &amp; Project] Introducing the team in charge of Site Reliability Engineering for the Verda platform</a></li>
</ul>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2021/line-15/LRD.png"></p>
<p>看了上述的內容是否想更了解 LINE 的工作呢？除了可以直接至 <a href="(https://careers.linecorp.com/jobs?co=Taiwan)">LINE Career</a> 上投履歷之外，LINE 也即將在 <strong>5&#x2F;22</strong> 的<a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-taiwan-developers-recruitment-day/">招募日</a>與大家見面，現場會有許多工程團隊的同仁來為大家介紹，歡迎大家來<a href="https://linegroup.kktix.cc/events/20210522-devel">報名頁面報名</a>參加本次盛會！</p>
<h3 id="【學生票申請方法】"><a href="#【學生票申請方法】" class="headerlink" title="【學生票申請方法】"></a>【學生票申請方法】</h3><p>請先翻拍或掃描學生證<br>寄送至 <a href="mailto:&#100;&#108;&#x5f;&#100;&#101;&#x76;&#95;&#x6d;&#x65;&#x65;&#116;&#117;&#112;&#x40;&#x6c;&#105;&#110;&#x65;&#x63;&#x6f;&#x72;&#112;&#46;&#x63;&#x6f;&#x6d;">&#100;&#108;&#x5f;&#100;&#101;&#x76;&#95;&#x6d;&#x65;&#x65;&#116;&#117;&#112;&#x40;&#x6c;&#105;&#110;&#x65;&#x63;&#x6f;&#x72;&#112;&#46;&#x63;&#x6f;&#x6d;</a><br>資格符合後即可獲得邀請碼</p>
<h3 id="【轉職邀請票申請方法】"><a href="#【轉職邀請票申請方法】" class="headerlink" title="【轉職邀請票申請方法】"></a>【轉職邀請票申請方法】</h3><p>寄送履歷至 <a href="mailto:&#100;&#x6c;&#x5f;&#100;&#x65;&#118;&#x5f;&#x6d;&#101;&#101;&#116;&#117;&#x70;&#64;&#x6c;&#105;&#x6e;&#101;&#99;&#x6f;&#x72;&#x70;&#x2e;&#x63;&#111;&#109;">&#100;&#x6c;&#x5f;&#100;&#x65;&#118;&#x5f;&#x6d;&#101;&#101;&#116;&#117;&#x70;&#64;&#x6c;&#105;&#x6e;&#101;&#99;&#x6f;&#x72;&#x70;&#x2e;&#x63;&#111;&#109;</a><br>資格符合後即可獲得邀請碼</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>DevRel</tag>
      </tags>
  </entry>
  <entry>
    <title>AI For The New Normal - LINE Taiwan Internal Hackathon</title>
    <url>/2021/11/22/line-internal-hackathon-2021/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2021/internal_hack/zoom.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>LINE 經過了十年的進化，已經在日常生活中都有我們的影子(Life on LINE)，而在這舉辦的時間點，台灣正面臨疫情爆發，全台的人都處於警戒的狀態，任何人都不敢掉以輕心，並待在家裡防疫同時也無法出去與親朋好友相聚，但是我們總想著要如何做出怎樣的產品才可以讓大家在面對新型態(New Normal)的生活時，可以透過 LINE 來緊密的聯繫彼此，並搭配 LINE 持續發展的 AI&#x2F;ML 領域，讓使用服務的各位可以更方便的透過 LINE 這個生活平台的入口，拉近彼此間的熱度不減。</p>
<p>透過本次的黑客松，我們希望每一位同仁，思考一下在家裡 WFH 或是三級警戒的狀況下，是否有一直困擾著大家的問題，抑或是發想出新的創意點子，並結合既有的 AI&#x2F;ML - CLOVA，來緊密串連每一個使用者，這也就是為什麼今年的黑客松主題是 「AI For The New Normal」。</p>
<p>隨著大家一同努力防疫了許久，終於在 11 月可以展開一年一度的 Internal Hackathon，並以線上結合線下的方式執行，讓在家工作許久且能量滿點的同事們可以在現場，同時也在最安全的情況下參加今年 LINE 的大型內部黑客松活動！</p>
<p>這邊大家可能會好奇，到底在 <strong>LINE 新辦公室</strong>內部舉辦黑客松到底是會怎樣呢？以下讓小編帶你用文章走一遍～</p>
<blockquote>
<p>延伸閱讀：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-internal-hackathon-2020/">LINE Taiwan Internal Hackathon 2020 活動紀錄</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/covid19-hackathon-osaka/">透過 LINE 平台來開發解決 COVID-19 問題的黑客松</a></li>
</ul>
</blockquote>
<span id="more"></span>

<h1 id="行前討論"><a href="#行前討論" class="headerlink" title="行前討論"></a>行前討論</h1><p><img src="https://nijialin.com/images/2021/internal_hack/1.JPG"></p>
<ul>
<li>如何安排空間人數？</li>
<li>空間如何利用？會不會很空虛？</li>
<li>直播設備該如何擺設？</li>
<li>評審、報告組別、觀眾需要在哪？</li>
<li>到底要線上？還是線下？</li>
</ul>
<p>相信在這幾個月內有舉辦活動的朋友，應該對上述這些疑問雨勢非常的苦惱，當然這些都是當前我們遇到的挑戰，也是在接下來我們克服的部分。</p>
<p>11&#x2F;05 是個很特別的日子，活動一直在持續準備，同仁們也都在努力準備相關的競賽內容，在當時因為疫情關係原本活動需要走全線上的方式，只能讓少少的人(組別)至攝影棚直播給線上的 LINER 們看展示，並確保同仁們的健康安全。</p>
<p>而隨著室內人數放寬之後，事前也須一直與直播團隊討論不同的方案，來因應整個活動所會遇到的問題與流程，也因此有了這次線上整合線下的 Internal Hackathon 的活動，讓參賽隊伍與評審可以在線下互動，現場的氣氛也更加的活躍！</p>
<blockquote>
<p>甚至有同仁線上看到一半就跑來現場看</p>
</blockquote>
<h2 id="過去兩屆黑客松的回饋"><a href="#過去兩屆黑客松的回饋" class="headerlink" title="過去兩屆黑客松的回饋"></a>過去兩屆黑客松的回饋</h2><p>在舉辦時當然得想想看是否有些內容是在當前的環境相所需要的：</p>
<ul>
<li>非工程團隊能有否參與的機會？</li>
<li>有發想的點子但是沒認識的工程師來一起組隊</li>
<li>有沒有更多的時間能讓參賽隊伍完成這個專案？</li>
<li>想要面對面溝通</li>
</ul>
<p>隨著疫情緩和後，我們也盡可能地提供多點空間讓同仁們可以<strong>面對面</strong>的討論問題，因此也安排了一個空間，讓同仁們可以來空間上討論相關內容，抑或是可以領取下午茶至自己組別的會議室裡面討論(避免群聚)，讓這麼久沒見面的同仁們可以邊吃下午茶邊討論黑色松的主題 🤩</p>
<p><img src="https://nijialin.com/images/2021/internal_hack/7.png"></p>
<h2 id="內部工作坊-組隊媒合"><a href="#內部工作坊-組隊媒合" class="headerlink" title="內部工作坊 + 組隊媒合"></a>內部工作坊 + 組隊媒合</h2><p>而這次的主題是「AI for the New Normal」，且 LINE 是一家注重 AI 的公司，希望每一位員工都能透過機器學習為出發點，因此這次內部也舉辦 CLOVA 工作坊，讓每個單位的新同仁除了都了解 CLOVA 之外，也讓每個參賽組別可以更靈活運用 CLOVA 來打造 AI 服務，來面對新常態的生活。</p>
<p>同時提案入選的隊伍，能夠有三次的 Hacking Space (黑客工作坊) 的機會。在週五下午有特定的空間與餐點（下午茶）提供讓每個參賽隊伍能極盡可能得提高產品的完成度。</p>
<p>另一方面因為公司人員越來越多，許多時候有點子也不一定有認識到跨部門的同仁，在這次的黑客松中也舉辦了線上媒合會，讓大家可以在家工作之餘，有個地方分享自己的黑客松點子，找到更多跨部門且志同道合的同仁來一起完成這次的黑客松競賽。</p>
<h1 id="總決賽"><a href="#總決賽" class="headerlink" title="總決賽"></a>總決賽</h1><p><img src="https://nijialin.com/images/2021/internal_hack/root.jpg"></p>
<p>開場由 Evan 說明延續前兩年的黑客松精神，時至今日即使遇到了疫情，在大家一同為防疫努力這麼久，我們當然要舉辦活動讓同仁們有舞台發揮自己的點子。</p>
<p><img src="https://nijialin.com/images/2021/internal_hack/3.JPG"></p>
<p>每個組別輪流展示自己的創意發想，讓工程師同仁守著電腦，希望別再實際展示時出現任何一點差池(Live Demo 魔咒)。</p>
<blockquote>
<p>現場也有一些必要的佈置，並且也替每一位同仁訂制了專屬的紀念 T-shirt 。提供給每一個參賽的同仁可以拍照，讓本次的活動不留白。</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/internal_hack/6.jpg"></p>
<p>經過整個下午的比拼之後，當然是到最精彩的頒獎環節，同仁們在會議室中也安耐不住了，希望自己的點子可以獲得評審們的青睞。</p>
<blockquote>
<p>緊張！緊張！</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/internal_hack/4.jpg"></p>
<p>有專業的同仁在現場場控整個體驗就非常棒，除了現場的氣氛之外，線上的觀眾也可以看到即時合成好的畫面，讓大家在看黑客松競賽上可以有最佳的體驗，感受到真正直撥團隊的專業度！🤟</p>
<h1 id="結論-「AI-for-the-New-Normal」"><a href="#結論-「AI-for-the-New-Normal」" class="headerlink" title="結論 - 「AI for the New Normal」"></a>結論 - 「AI for the New Normal」</h1><p><img src="https://nijialin.com/images/2021/internal_hack/5.JPG"></p>
<p>雖然因為是內部專案，不方便於文章中透露給大家，但在過程中大家發揮黑客精神透過各種機器學習的輔助與開發手段來讓產品的點子可以真正被實行出來，並提出許多在實務上是真的做得到的相關資訊，讓所有評審在評比的過程中眼睛都為之一亮，感受到同仁們滿滿的能量。</p>
<p>時至今日我們已經舉辦了第三屆的 Internal Hackathon，並且內部也有滿滿的能量，包含讀書會、工作坊、線上課程等等的內容，未來我們也會盡可能分享一些資訊讓關注我們的朋友可以了解到跨國企業裡的氛圍，當然若你也對於這樣的環境非常嚮往，很歡迎大家接下來<a href="https://careers.linecorp.com/jobs?ca=All&ci=Taipei&co=East%20Asia">加入我們</a>，一起來打造 WoW 的產品，讓大家更加 「Closing The Distance」。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Internal Hackathon</tag>
        <tag>Hackathon</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE FRESH 2021 校園競賽 - 活動總結</title>
    <url>/2021/12/06/line-fresh-2021/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2021/fresh-2021/11.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今年，台灣本土疫情加劇，各行各業面臨了更嚴峻的衝擊與挑戰，迫切需要進行數位轉型，才能在消費市場中逆勢突圍。從疫情三級警戒以來，民眾減少外出、實體消費大幅降低。在全球疫情持續發展的情況下，許多台灣在地的中小型店家同時面臨防疫規範與人流流失的困境，卻也因此意識到轉型的急迫性，積極導入數位平台資源和多元行銷工具。</p>
<p>為了讓數位轉型的推動更規模化、系統化，本屆以台灣北、中、南、東的地區四大各具特色在地商圈為主題，包含台北<strong>師大龍泉商圈</strong>、雲林<strong>虎尾魅力商圈</strong>、高雄<strong>六龜商圈</strong>與台東<strong>鐵花商圈</strong>。讓同學們針對所選擇的商圈主題之發展現況、同時結合 LINE 的數位生活服務與開放平台技術，了解商圈所需要的內容以及應用相關的技術來解決面臨到的問題，協助商圈朝數位化全速前進，創造疫情後的數位商機。</p>
<p>除了四大商圈外，也讓同學們可以透過 LINE SPOT 、LINE 社群以及更多的 LINE 平台技術來展示，依照各商圈的面臨問題，制定屬於你們的最佳商業解決方案。</p>
<blockquote>
<p>活動新聞稿：<a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2021/4031">https://linecorp.com/zh-hant/pr/news/zh-hant/2021/4031</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/fresh-2021/10.png"></p>
<p>本次大會提供同學許多管道可以了解第一手競賽資訊，相關連結:</p>
<ul>
<li><a href="https://tw-fresh.line.me/">本次活動連結</a><span id="more"></span></li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/vBJ50m14dw0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h1 id="初選"><a href="#初選" class="headerlink" title="初選"></a>初選</h1><p>在大家報名結束之後，大家正如火如荼的準備企劃書，在這邊大會還準備了各種工作坊讓同學們有途徑可以更清楚的了解 LINE 的平台上的服務究竟要如何使用，如「LINE Bot 基礎實作課程」中，藉由完整的說明建立起大家對於 LINE 平台技術有初階了解，對於後續的企劃應用更得心應手</p>
<script async class="speakerdeck-embed" data-slide="24" data-id="0ec99040fbed4ad592fcf1c40dfa1f4e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>LINE Bot 的運作流程</li>
<li>各種訊息格式的彈性組合應用</li>
<li>Provider 的重要性</li>
</ul>
<script async class="speakerdeck-embed" data-slide="6" data-id="0ec99040fbed4ad592fcf1c40dfa1f4e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>其中工作坊也提到了許多業界常用的 API，讓初賽的每組除了可以應用創意以及所學之外，還能夠讓作品的呈現可以更加專業。</p>
<script async class="speakerdeck-embed" data-slide="41" data-id="0ec99040fbed4ad592fcf1c40dfa1f4e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然可能在實作的過程中才會遇到問題，大會這邊還有提供相關的社群讓同學們可以在上面發問啦：</p>
<ul>
<li><a href="https://line.me/ti/g2/5HE7p2ZJqSWVmRhK0yf-yvulbn-ruJRM3cYVcw?utm_source=invitation&utm_medium=link_copy&utm_campaign=default">LINE FRESH 官方社群</a></li>
<li><a href="https://www.facebook.com/LINEFRESHTW">粉絲團</a></li>
<li><a href="https://www.facebook.com/groups/1088588318552834">媒合社團</a></li>
</ul>
<blockquote>
<p>以上的地方提供給各位能夠快速了解與詢問大會的相關問題，其中許多小幫手一直在裡面替大家解大一些大會上的問題</p>
</blockquote>
<h1 id="導師面談-amp-面試"><a href="#導師面談-amp-面試" class="headerlink" title="導師面談 &amp; 面試"></a>導師面談 &amp; 面試</h1><p>本次安排了兩場<strong>導師面談</strong>，為了讓同學們的提案可以接觸到不同的面相，進入到複賽的隊伍可以藉由提問讓各領域的導師們，其中包含到： </p>
<ul>
<li>Engineering</li>
<li>Service Planning</li>
<li>Marketing</li>
<li>Commerce Business</li>
<li>Sticker</li>
<li>Customer Care</li>
<li>News</li>
<li>Corporate Strategy</li>
<li>Game</li>
</ul>
<p>…各種團隊來給予各組的提案有不同面向的建議。而透過同學的不同階段提案內容，給予不同的建議及執導，針對現有的技術環境架構及產業知識協助優化提案，並透過練習與對答，將同學們的表達及作品都準備到最好的狀態，除了成為同學完成作品的強大後盾，也讓大家加足馬力力拼最後進入總決賽的資格！</p>
<h1 id="總決賽"><a href="#總決賽" class="headerlink" title="總決賽"></a>總決賽</h1><p><img src="https://nijialin.com/images/2021/fresh-2021/1.JPG"></p>
<p>看到同學們為了解決每個商圈所遇到的問題，渾身解數的透過各種分析、統計方法，並結合開發技術應用來解決每個區域所遇到的問題，讓小編在聽完每組同學的報告，都很想去立即起身直接去這四大商圈去看看，這麼有吸引力的地方小編居然過去都不知道 :P</p>
<p><img src="https://nijialin.com/images/2021/fresh-2021/3.JPG"></p>
<p>在聽每一組的報告之後，我們當然有準備美味的點心讓同學的可以放下緊張的心情，在享受美味的點心之餘可以認識不同組別的同學，即便在競賽的當下也可以廣結善緣，說不定大家未來都會是好同事呢！</p>
<p>因為是競賽，一定會分出前三名，每組成績真的都非常相近，或許這次沒有得名，但每位同學可以從茫茫人海中入選到總決賽的十組已經是非常棒了！且每組的內容都相當有吸引力，每位評審與現場同仁也都聽得津津有味，希望每位同學可以藉由這次競賽的動力幫助社會解決更多需要被關注的議題，把活力注入到社會中，讓大家的未來能夠更加美好！</p>
<blockquote>
<p>以下前三名資訊皆引用至新聞稿：<a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2021/4031">https://linecorp.com/zh-hant/pr/news/zh-hant/2021/4031</a></p>
</blockquote>
<h2 id="冠軍隊伍「雙管齊下」"><a href="#冠軍隊伍「雙管齊下」" class="headerlink" title="冠軍隊伍「雙管齊下」"></a>冠軍隊伍「雙管齊下」</h2><p>為了有效提升台東鐵花商圈的曝光度，「雙管齊下」特別整合 LINE 多項數位服務，並以串流音樂 LINE MUSIC 為核心，把獨具特色的在地音樂帶進年輕世代生活中，並嘗試將流量變現，轉化為人流以及商機，同時更藉由 LINE 官方帳號整併商圈商家資訊與表演節目，善用 LINE 熱點設立活動專區與街頭藝人熱點地圖，以 LINE 社群集結、串聯擁有相同興趣的用戶，提升鐵花商圈的討論熱度。</p>
<p><img src="https://nijialin.com/images/2021/fresh-2021/first.png"></p>
<h2 id="亞軍隊伍「頑伴」"><a href="#亞軍隊伍「頑伴」" class="headerlink" title="亞軍隊伍「頑伴」"></a>亞軍隊伍「頑伴」</h2><p>「頑伴」團隊觀察雲林虎尾魅力商圈的遊客量因疫情而驟減，且行程規劃對許多遊客而言相當困擾，為降低台灣民眾出遊的門檻，特別運用 LINE 平台技術開發兼具社群與評價兩大功能的智慧嚮導服務。以 LINE Bot 聊天機器人為基礎，透過問答方式進一步掌握用戶旅遊偏好，同時再搭配 LINE 社群創造更多關於在地商家的討論，也能透過旅客於 LINE 熱點自主撰寫旅遊心得文章，打造更具效益的行銷模式。</p>
<p><img src="https://nijialin.com/images/2021/fresh-2021/second.png"></p>
<h2 id="季軍隊伍「Eureka」"><a href="#季軍隊伍「Eureka」" class="headerlink" title="季軍隊伍「Eureka」"></a>季軍隊伍「Eureka」</h2><p>根據同學們所執行的調查指出，台北師大龍泉商圈因疫情等因素減少遊客造訪，而熱門店家需排隊久候等痛點，「Eureka」團隊以「師大龍泉數位轉型活水計畫」為核心，由師大龍泉商圈的 LINE 官方帳號出發，透過「行程推薦小幫手」串聯 LINE 熱點，有效提升民眾實際走訪的店家數並意願深入探訪巷弄裡的商家。此外，亦運用「數位號碼牌」解決排隊時間較長的問題以及創新功能「卡路里飯後散步」延長消費者在商圈的停留時間，盼能獲得更多商機。</p>
<p><img src="https://nijialin.com/images/2021/fresh-2021/third.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>LINE FRESH 這兩屆轉型成競賽讓同學們在競賽中發想出許多非常棒的主題內容，除了尋找出優秀的人才外，也讓同學們在競賽中真實累積相關的實戰經驗，透過整合既有的工具發想出更特別的解決方案，藉此來解決社會中所面臨到的問題，協助不同產業朝數位化前進，創造出屬於下一個世代的最佳解決方案。</p>
<script async class="speakerdeck-embed" data-slide="52" data-id="0ec99040fbed4ad592fcf1c40dfa1f4e" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如果你也身懷絕技，想透過技術解決大家生活中所會遇到的事情，歡迎持續關注我們的 TECH FRESH 的實習計畫，過去有許多學長姐分享各種經驗，歡迎大家參考以下的文章，相信對你未來加入 LINE 大家庭都會有幫助喔！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/from-line-tech-fresh-to-liner/">LINE TECH FRESH: 從實習到成為正職的經歷</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/what-is-tech-fresh-interview/">【訪談】TECH FRESH 工作老實說 – 後續花絮與相關資訊整理</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2020-graduate/">TECH FRESH 實習的一年間，除了開發還有什麼內部活動呢？</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
</ul>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>Hackathon</tag>
        <tag>LINE FRESH</tag>
        <tag>黑客松</tag>
      </tags>
  </entry>
  <entry>
    <title>透過 Vue + FastAPI 完成 LINE Login 一鍵式登入</title>
    <url>/2021/09/21/line-login-vue-fastapi/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>碰巧最近有個<strong>日文五十音消除遊戲</strong>的 Side Project 正在實作中，參考之前鐵人賽文章，實作上發現有些內容可能是年久失修，導致實作上不太順利，碰巧近期 <a href="https://developers.line.biz/zh-hant/docs/line-login/integrate-line-login/#verify-id-token">LINE Login 的官方文件</a>也有更新，並且搭配之前實作的範例是使用 (<a href="https://github.com/louis70109/Screen-LINE-Bullets">Screen-LINE-Bullets</a>)，來延伸 Side Project，以下就為各位介紹一下其中使用 LINE Login 的一些過程。</p>
<h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><ul>
<li>LINE Login 範例從 Flask 轉到 Vue+FastAPI</li>
<li>前後端分離<ul>
<li>前端用兩個頁面清楚展示 LINE Login SSO 步驟</li>
<li>後端兩個 API<ul>
<li>取得認證導向網址</li>
<li>認證 JWT 中的使用者參數</li>
<li>環境變數都放後端(較安全)</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://github.com/louis70109/WordsGame">LINE Login 事主專案</a></li>
</ul>
</blockquote>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="LINE-Login-綁定步驟"><a href="#LINE-Login-綁定步驟" class="headerlink" title="LINE Login 綁定步驟"></a>LINE Login 綁定步驟</h2><ul>
<li>進入 <a href="https://developers.line.biz/console/">LINE Developer Console</a></li>
<li>建立 Provider</li>
<li>建立 LINE Login channel</li>
</ul>
<p><img src="https://nijialin.com/images/2021/login/2.png"></p>
<ul>
<li>點選最右面選項把 LINE Login channel 設定為 <code>published</code></li>
</ul>
<p><img src="https://nijialin.com/images/2021/login/3.png"></p>
<ul>
<li>啟動 <code>Web App</code> 選項並設定 Callback URL 為 <code>http://localhost:8080/line/auth</code><ul>
<li>LINE Login 開發時不用 SSL+Domain，但上線後記得改成自家 Domain + SSL</li>
</ul>
</li>
</ul>
<p><img src="https://nijialin.com/images/2021/login/4.png"></p>
<ul>
<li>把 client_id、client_secret、Callback URL 複製到後端 FastAPI 的環境變數中</li>
<li>開始以下文章內容</li>
</ul>
<h2 id="用戶看見的頁面"><a href="#用戶看見的頁面" class="headerlink" title="用戶看見的頁面"></a>用戶看見的頁面</h2><p><img src="https://nijialin.com/images/2021/login/1.png"></p>
<p>首先先參考<a href="https://github.com/louis70109/WordsGame/blob/master/src/router/index.js">前端的路由</a>(後續實作上可能有差)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">  path: <span class="string">&#x27;/line&#x27;</span>,</span><br><span class="line">  component: Setting,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  path: <span class="string">&#x27;/line/auth&#x27;</span>,</span><br><span class="line">  component: Line,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="將用戶導向-Login-頁面-前端路由-line"><a href="#將用戶導向-Login-頁面-前端路由-line" class="headerlink" title="將用戶導向 Login 頁面 - 前端路由 /line"></a>將用戶導向 Login 頁面 - 前端路由 <code>/line</code></h2><p><img src="https://developers.line.biz/assets/img/login-with-new-session.7620fe6f.png"></p>
<ul>
<li>【前端】用戶透過訪問 <code>/line</code> 按下登入鈕 (Setting.vue)<ul>
<li>取得後端需要導向至 LINE Login 的網址</li>
<li>透過 window.location 把用戶轉去 Login 頁面</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> url = <span class="string">&#x27;http://localhost:8000&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">login</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    fetch(url+<span class="string">&#x27;/login/uri&#x27;</span>).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">      res.json().then(<span class="function"><span class="params">el</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">window</span>.location.replace(el.result)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>【後端】 <a href="https://github.com/louis70109/WordsGame/blob/master/fastapi-backend/routers/login.py#L55">FastAPI API 路由位置</a><ul>
<li>r_uri &#x3D; os.environ.get(“LINE_LOGIN_URI”)</li>
<li>client &#x3D; os.environ.get(“LINE_LOGIN_CLIENT_ID”)</li>
<li>取得兩個環境變數並放入 OAuth2 網址中回傳給前端導向</li>
<li><pre><code>uri = f&quot;https://access.line.me/oauth2/v2.1/authorize?response_type=code&amp;client_id=&#123;client&#125;&amp;redirect_uri=&#123;r_uri&#125;&amp;scope=profile%20openid%20email&amp;state=&#123;state&#125;&amp;initial_amr_display=lineqr&quot;
</code></pre>
</li>
</ul>
</li>
</ul>
<p>參數 r_uri 以及網址中的 redirect_uri 為 LINE Login 用戶輸入正確登入後會導向的網址，網址就存放在後端 FastAPI 的環境變數中，數值則填上前端頁面的路由，也就是 <code>line/auth</code> 上</p>
<blockquote>
<p>網址組成方式請<a href="https://developers.line.biz/zh-hant/docs/line-login/integrate-line-login/#making-an-authorization-request">參考文件</a></p>
</blockquote>
<h2 id="LINE-認證用戶後回到-redirect-uri-的頁面中-前端路由-x2F-line-x2F-auth"><a href="#LINE-認證用戶後回到-redirect-uri-的頁面中-前端路由-x2F-line-x2F-auth" class="headerlink" title="LINE 認證用戶後回到 redirect_uri 的頁面中 - 前端路由 &#x2F;line&#x2F;auth"></a>LINE 認證用戶後回到 redirect_uri 的頁面中 - 前端路由 &#x2F;line&#x2F;auth</h2><p>當用戶輸入完帳密(QR Code)後 LINE 會重新導向 <code>/line/auth</code>，導回來的網址會有兩個 Query parameter，範例如下(<a href="https://developers.line.biz/zh-hant/docs/line-login/integrate-line-login/#receiving-the-authorization-code">官方文件說明</a>)：</p>
<figure class="highlight pf"><table><tr><td class="code"><pre><span class="line">http://localhost:<span class="number">8000</span>/?code=xxx&amp;<span class="keyword">state</span>=ooo</span><br></pre></td></tr></table></figure>

<p>參考<a href="https://developers.line.biz/zh-hant/docs/line-login/integrate-line-login/#get-access-token">官方文件</a>，拿到 code 之後要再拿著 <code>redirect_uri</code>、<code>client_id</code>、<code>client_secret</code> 去換用戶資訊，但三個參數安全性問題因此需要放後端，因此由後端 call LINE API 來取得用戶的 JWT 資訊，Query parameter 放置的方式<a href="https://fastapi.tiangolo.com/tutorial/query-params/">參考 FastAPI 文件</a>，Python code 如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@router.post(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_users</span>(<span class="params">code: <span class="built_in">str</span>, state: <span class="built_in">str</span></span>):</span></span><br><span class="line">    client_id = os.environ.get(<span class="string">&#x27;LINE_LOGIN_CLIENT_ID&#x27;</span>)</span><br><span class="line">    secret = os.environ.get(<span class="string">&#x27;LINE_LOGIN_SECRET&#x27;</span>)</span><br><span class="line">    r = requests.post(</span><br><span class="line">        <span class="string">&quot;https://api.line.me/oauth2/v2.1/token&quot;</span>,</span><br><span class="line">        data=&#123;</span><br><span class="line">            <span class="string">&quot;grant_type&quot;</span>: <span class="string">&quot;authorization_code&quot;</span>,</span><br><span class="line">            <span class="string">&quot;code&quot;</span>: code,</span><br><span class="line">            <span class="string">&quot;redirect_uri&quot;</span>: os.environ.get(<span class="string">&#x27;LINE_LOGIN_URI&#x27;</span>),</span><br><span class="line">            <span class="string">&quot;client_id&quot;</span>: client_id,</span><br><span class="line">            <span class="string">&quot;client_secret&quot;</span>: secret,</span><br><span class="line">        &#125;, headers=&#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>&#125;)</span><br><span class="line">    payload = json.loads(r.text)</span><br></pre></td></tr></table></figure>

<h3 id="離奇事蹟：JWT-解不開"><a href="#離奇事蹟：JWT-解不開" class="headerlink" title="離奇事蹟：JWT 解不開"></a>離奇事蹟：JWT 解不開</h3><p>我參考 <a href="https://nijialin.com/2019/10/05/Day21-LINE-Login-%E5%AF%A6%E4%BD%9C/">18 年寫的鐵人賽文章</a>中的 LINE Login 範例程式碼，當我到了 <code>token = token.encode()</code> 步驟時一直顯示 algorithms 有問題</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">TypeError</span>: encode() got multiple values <span class="keyword">for</span> argument <span class="string">&#x27;algorithm&#x27;</span></span><br></pre></td></tr></table></figure>

<p>當初寫的文章中要透過這步驟會把 token 換成 binary 的形式 -&gt; b’xxxxx’，再丟到 <code>decode()</code> 去解密，但即便把 encode 移除後把 id_token 丟進去也是出錯。</p>
<p>在百思不得起解的狀態下，決定先不用 JWT 相關的函示庫，<a href="https://developers.line.biz/zh-hant/docs/line-login/integrate-line-login/#decode-and-validate-id-token">參考官方文件</a>最下方的驗證程式來<strong>將 ID Token 解碼並進行驗證</strong>，如此一來就成功可以解出 JWT 並把使用者的資訊存到 DB 中並回傳給前端頁面使用了。</p>
<p>解開範例：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;iss&quot;</span>: <span class="string">&quot;https://access.line.me&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;sub&quot;</span>: <span class="string">&quot;U1234567890abcdef1234567890abcdef&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;aud&quot;</span>: <span class="string">&quot;1234567890&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;exp&quot;</span>: <span class="number">1504169092</span>,</span><br><span class="line">  <span class="attr">&quot;iat&quot;</span>: <span class="number">1504263657</span>,</span><br><span class="line">  <span class="attr">&quot;nonce&quot;</span>: <span class="string">&quot;0987654asdf&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;amr&quot;</span>: [<span class="string">&quot;pwd&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Taro Line&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;picture&quot;</span>: <span class="string">&quot;https://sample_line.me/aBcdefg123456&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>有些日子沒回來寫 LINE Login 的相關操作步驟，伴隨著 LINE Login 文件有更改後，過往一些自己寫的文章程式碼可能有點年久失修，導致再回來看文章寫程式時出了些錯誤。</p>
<p>過程中除了修程式碼外還有個收穫，就是可以透過 <strong><a href="https://developers.line.biz/zh-hant/docs/line-login/integrate-line-login/#use-endpoint">使用 LINE Login API 的 Endpoint</a></strong> 來取得用戶的資訊，只要透過 Client_id + id_token 即可取得，甚至不用透過 JWT 解密就可以拿到上述的用戶資訊，實在是很方便(嘗試過很讚)，只是我個人還是比較信任透過 channel_secret 換到的用戶資訊，因此大家在選擇上時可以依照自己的需求去選用喔！</p>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>LINE</tag>
        <tag>FastAPI</tag>
        <tag>SSO</tag>
      </tags>
  </entry>
  <entry>
    <title>如何建置與使用 GitHub Actions 市集的 LINE Notify 套件</title>
    <url>/2021/02/17/line-notify-in-github-actions/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/line-notify-github-actions/result.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>以前不管在<strong>單元&#x2F;整合測試</strong>、<strong>部署</strong>或是一些<strong>週期性</strong>的工作，有點經驗的工程師通常會很習慣寫個 Script 去跑相關指令集。而隨著寫的服務越來越多，許多部分也微服務化後，同一個指令集可能會服務到對象也越來越多，因此就開始有了像是 Jenkins、Drone、Travis 以及本篇會介紹 GitHub Actions 這類的 CI 工具，但既然是工程師當然要把指令集內的耦合性盡可能的降到最低，因此就有像是 <a href="https://github.com/marketplace">GitHub Marketplace</a> 的套件市集，讓大家可以在上面選擇不同功能的工具套入於自己的 CI 中，接下來就讓我帶你來了解一下平時會遇到什麼問題，以及如何建立與使用 LINE Notify 於 GitHub Actions 上吧！</p>
<h1 id="以前如何知道結果？"><a href="#以前如何知道結果？" class="headerlink" title="以前如何知道結果？"></a>以前如何知道結果？</h1><ul>
<li>寫 Script 並用 Linux 的排程(Crontab)在固定時間跑測試案例、爬資料、部署…等狀態</li>
<li>CI&#x2F;CD 過了之後自己上網站看 log (沒通知)</li>
<li>即便寫通知程式在 Script 裡，未來的可用性極低(不好管控金鑰、換程式語言…)</li>
</ul>
<h1 id="Why-GitHub-Actions"><a href="#Why-GitHub-Actions" class="headerlink" title="Why GitHub Actions?"></a>Why GitHub Actions?</h1><ul>
<li>GitHub 自家出的 CI 工具</li>
<li>專案大多放在 GitHub 上的情況<ul>
<li>可達到資源 Single Source of Truth</li>
</ul>
</li>
<li>市集(Marketplace)已經有許多工具可以合併使用<ul>
<li><a href="https://nijialin.com/2021/02/11/how-to-use-github-action/">之前的文章中</a>使用過 Python 自動打包與自動測試的工具</li>
</ul>
</li>
</ul>
<h1 id="Why-LINE-Notify"><a href="#Why-LINE-Notify" class="headerlink" title="Why LINE Notify?"></a>Why LINE Notify?</h1><span id="more"></span>

<p>在台灣訊息入口首選一定是使用大家都有的 LINE，而若只是單純要接收訊息，則使用單向型推播型服務的 LINE Notify，它提供了 <strong>文字</strong>、<strong>貼圖</strong>、<strong>圖片</strong>(包含網址與檔案) 的訊息推送方式，常用情境 <strong>天氣通知</strong>、<strong>服務健康狀態</strong>、<strong>GitHub Event</strong> 等等(可<a href="https://notify-bot.line.me/zh_TW/">參考官網</a>)，既然當中提到應用於 GitHub Event，那本篇當然也要將 LINE Notify 的應用情境整合進為 GitHub Actions，讓讀者們的專案執行完的狀態(自動測試、部署、上版…)透過 LINE Notify 通知！</p>
<blockquote>
<p>本次的作品 - <a href="https://github.com/louis70109/line-notify-action">louis70109&#x2F;line-notify-action</a></p>
</blockquote>
<ul>
<li><a href="https://nijialin.com/2019/09/18/Day3-LINE-Notify-%E4%BB%8B%E7%B4%B9/">LINE Notify 介紹文章</a></li>
</ul>
<h2 id="Why-not-LINE-Messaging-API-ChatBot"><a href="#Why-not-LINE-Messaging-API-ChatBot" class="headerlink" title="Why not LINE Messaging API(ChatBot)?"></a>Why not LINE Messaging API(ChatBot)?</h2><ul>
<li>Chatbot 有 Reply 以及 Push 兩種模式，大多使用情境是以 Reply 模式執行，因此不適合</li>
<li>將 Push 的訊息量留在使用者身上以換取流量</li>
<li>劃分服務職責<ul>
<li>僅推播的功能交給 LINE Notify</li>
<li>更多使用者互動交給 Chatbot</li>
</ul>
</li>
</ul>
<h1 id="1-取得-LINE-Notify-的-access-token"><a href="#1-取得-LINE-Notify-的-access-token" class="headerlink" title="1. 取得 LINE Notify 的 access_token"></a>1. 取得 LINE Notify 的 access_token</h1><ol>
<li><p>使用筆者過往寫過的專案 - <a href="https://github.com/louis70109/flask-line-notify">louis70109&#x2F;flask-line-notify</a> 當中文件的<strong>一鍵部署</strong>，將專案直接部署於 Heroku 上，當然讀者們也可以參考說明文件將之於本地端建立。</p>
</li>
<li><p>接著將 LINE Notify 當中申請的三個參數放入環境變數中才能讓服務執行</p>
</li>
</ol>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">LINE_NOTIFY_CLIENT_ID</span></span><br><span class="line"><span class="attribute">LINE_NOTIFY_CLIENT_SECRET</span></span><br><span class="line"><span class="attribute">LINE_NOTIFY_REDIRECT_URI</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>進入剛剛部署完的 Heroku 網址(<a href="https://your_heroku_url/)%EF%BC%8C%E9%80%8F%E9%81%8E%E9%BB%9E%E9%81%B8%E7%95%AB%E9%9D%A2%E4%B8%8A%E7%9A%84%E6%8C%89%E9%88%95%E5%8D%B3%E5%8F%AF%E7%B6%81%E5%AE%9A">https://YOUR_HEROKU_URL/)，透過點選畫面上的按鈕即可綁定</a> LINE Notify，結果如附圖，並將 <strong>access_token</strong> 複製起來。</li>
</ol>
<p><img src="https://nijialin.com/images/2021/line-notify-github-actions/1.png"></p>
<ol start="4">
<li>將 <strong>access_token</strong> 貼至<em>第三個紅箭頭處</em>，並將變數名稱命名為 <strong>LINE_NOTIFY_TOKEN</strong>。</li>
</ol>
<p><img src="https://nijialin.com/images/2021/action/env1.png"></p>
<h1 id="2-GitHub-Actions-套件運作流程"><a href="#2-GitHub-Actions-套件運作流程" class="headerlink" title="2. GitHub Actions 套件運作流程"></a>2. GitHub Actions 套件運作流程</h1><p>可以使用<a href="https://docs.github.com/en/actions/creating-actions/about-actions#types-of-actions">三種模式</a>建立，分別為 Docker、JavaScript、Composite run steps(把 Bash 寫在 yaml 裡)，本篇則使用 Docker 做範例。</p>
<p>既然是第一次使用，就參考<a href="https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action#creating-a-dockerfile">官方文件</a>開始整個建立流程(Action)，依照文件上的敘述，我們需要 <strong>Dockerfile</strong>、<strong>entrypoint.sh</strong> 以及 <strong>action.yml</strong> 三個檔案。</p>
<h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><script src="https://gist.github.com/louis70109/b37ac87d91ed033769bfa8c18c5827b0.js"></script>

<ul>
<li>引入 Python3.7 映像檔</li>
<li>將相依套件的 requirements.txt 複製進去容器內並執行安裝</li>
<li>將入口檔案 entrypoint.sh 以及主要執行 LINE Notify 的檔案 line_notify.py 複製進去容器內</li>
<li>設定 entrypoint.sh 為 ENTRYPOINT</li>
</ul>
<h2 id="line-notify-py"><a href="#line-notify-py" class="headerlink" title="line_notify.py"></a>line_notify.py</h2><script src="https://gist.github.com/louis70109/b1f59762d4cc6378351f2daf393838ea.js"></script>

<p>在 <strong>9~14</strong> 行中主要是設定在終端機(Command Line)上執行的參數名稱，接著的運作部分則是使用過往筆者寫的套件 - <a href="https://github.com/louis70109/lotify">lotify</a> 來執行。</p>
<blockquote>
<p>註：image_file 需要給指定路徑才會幫忙開檔案。</p>
</blockquote>
<h2 id="entrypoint-sh"><a href="#entrypoint-sh" class="headerlink" title="entrypoint.sh"></a>entrypoint.sh</h2><script src="https://gist.github.com/louis70109/2e20d6172a31376fb82f0fb5f45a196e.js"></script>

<p>GitHub Actions 中預設會將輸入的參數加上 <strong>INPUT_</strong> 的前綴(prefix)符號，因此在上述的參數中將 Actions 環境參數轉譯成 line_notify.py 看得懂的參數。</p>
<blockquote>
<p>可以查看這頁最下面的 <a href="https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action">Actions example</a>，在 Docker 環境中會使用 -e INPUT_xxx 來放入參數。</p>
</blockquote>
<h2 id="action-yml"><a href="#action-yml" class="headerlink" title="action.yml"></a>action.yml</h2><script src="https://gist.github.com/louis70109/3145a52355236017d5510e0c1fd7a509.js"></script>

<ul>
<li>name: 在 Marketplace 上搜尋的名稱</li>
<li>input: 所有會使用到的參數</li>
<li>runs: 三種模式選一種執行，這邊我選擇使用 Docker。</li>
</ul>
<h1 id="3-如何上-Marketplace"><a href="#3-如何上-Marketplace" class="headerlink" title="3. 如何上 Marketplace"></a>3. 如何上 Marketplace</h1><p>參考<a href="https://github.com/louis70109/line-notify-action">line-notify-action</a>，在建立上述必要的檔案後，需要下 Release Note 才後就會被自動上架到 GitHub Actions Marketplace(市集)，若不清楚怎麼手動加入可以參考<a href="https://nijialin.com/2021/02/11/how-to-use-github-action/#Testing">這個環節</a>，抑或是透過 <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">Command Line 的方式</a>也行。</p>
<h1 id="4-如何使用在-GitHub-專案上"><a href="#4-如何使用在-GitHub-專案上" class="headerlink" title="4. 如何使用在 GitHub 專案上"></a>4. 如何使用在 GitHub 專案上</h1><script src="https://gist.github.com/louis70109/05edb76a3556e0ea7d67a5f2057251f5.js"></script>

<p>若你第一次使用 Actions，可以參考上方 Gist，在 <strong>.github&#x2F;workflow&#x2F;</strong> 資料夾下建立一個 <strong>ci.yml</strong> 並放入之。</p>
<p>在 Gist 中設定是 Git push 時觸發，要測試時可先修改 README 來觸發看看。</p>
<p>可參考 <a href="https://github.com/louis70109/line-notify-action/blob/master/.github/workflows/ci.yml">line-notify-action 的範例 yaml</a></p>
<blockquote>
<p>讀者可能會注意到範例 yaml 當中是使用 <strong>uses: .&#x2F;</strong> 的方式，是因為在自身專案底下僅需使用 .&#x2F; 即可引入。</p>
</blockquote>
<p>若已經使用過，在 Marketplace 上<a href="https://github.com/marketplace/actions/line-notify-actions">看到此專案</a>旁按鈕後按下後會告知如何引入。</p>
<p><img src="https://nijialin.com/images/2021/line-notify-github-actions/2.png"></p>
<h2 id="行前說明"><a href="#行前說明" class="headerlink" title="行前說明"></a>行前說明</h2><ul>
<li>${ { } } 為 GitHub Actions 取得參數的用法<ul>
<li><strong>secrets.ＯＯＯ</strong> 為分頁(tab) Setting ➡️ Secrets 裡所設定的參數(ＯＯＯ為參數名稱)</li>
<li><strong>github.</strong> 為預設的環境變數，相關參數使用請<a href="https://docs.github.com/en/actions/reference/environment-variables#default-environment-variables">參考官方文件</a></li>
</ul>
</li>
<li>需設定 <strong>LINE_NOTIFY_TOKEN</strong> 於 Secrets</li>
</ul>
<h2 id="僅送純文字"><a href="#僅送純文字" class="headerlink" title="僅送純文字"></a>僅送純文字</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">send</span> <span class="string">default</span> <span class="string">message</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">louis70109/line-notify-action@master</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.LINE_NOTIFY_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">message:</span> <span class="string">&#x27;LINE Notify test message&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="文字-貼圖"><a href="#文字-貼圖" class="headerlink" title="文字+貼圖"></a>文字+貼圖</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">send</span> <span class="string">message</span> <span class="string">with</span> <span class="string">sticker</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">louis70109/line-notify-action@master</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.LINE_NOTIFY_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">sticker_id:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">package_id:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="文字-圖片-透過網址方式"><a href="#文字-圖片-透過網址方式" class="headerlink" title="文字+圖片(透過網址方式)"></a>文字+圖片(透過網址方式)</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">send</span> <span class="string">message</span> <span class="string">with</span> <span class="string">image</span> <span class="string">url</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">louis70109/line-notify-action@master</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.LINE_NOTIFY_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">message:</span> <span class="string">|</span></span><br><span class="line">      <span class="string">$&#123;&#123;github.repository&#125;&#125;</span> <span class="string">send</span> <span class="string">image</span> <span class="string">test.</span></span><br><span class="line">    <span class="attr">image_url:</span> <span class="string">&#x27;https://raw.githubusercontent.com/louis70109/line-notify-action/master/tests/image1.png&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="文字-圖片-本地端路徑"><a href="#文字-圖片-本地端路徑" class="headerlink" title="文字+圖片(本地端路徑)"></a>文字+圖片(本地端路徑)</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">send</span> <span class="string">message</span> <span class="string">with</span> <span class="string">image</span> <span class="string">file</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">louis70109/line-notify-action@master</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.LINE_NOTIFY_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">message:</span> <span class="string">|</span></span><br><span class="line">      <span class="string">$&#123;&#123;github.repository&#125;&#125;</span> <span class="string">send</span> <span class="string">image</span> <span class="string">file.</span></span><br><span class="line">    <span class="attr">image_file:</span> <span class="string">tests/sally.png</span></span><br></pre></td></tr></table></figure>

<ul>
<li>image_file 為路徑，以<a href="https://github.com/louis70109/line-notify-action">本專案</a>為例則是在 <strong>tests 資料夾</strong>下的 <strong>sally.png</strong> 圖片。</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在過年前寫了<a href="https://nijialin.com/2021/02/11/how-to-use-github-action/">【Python】在 GitHub Actions 上建立自動測試並打包至 PyPi</a>，讓我自己寫的專案可以自動化推上 PyPi(成就感十足)，並設定了此篇為過年期間的寒假作業，讓自己對於 GitHub Actions 的操作與流程更加熟悉，希望透過<a href="https://nijialin.com/2021/02/11/how-to-use-github-action/">上一篇</a>與此篇可以讓讀者們可以更加熟悉 GitHub Actions 這套工具，透過熟悉它也能讓讀者們未來在使用其他工具時更加快上手喔！</p>
<ul>
<li>使用上也要注意自己的使用狀態，雖然是免費的服務但也別超過人家提供的上限喔！(<a href="https://docs.github.com/en/actions/reference/usage-limits-billing-and-administration#usage-limits">參考網址</a>)<ul>
<li>Job execution time: 所有的 job 加總執行時間為: <strong>6 個小時</strong>，超過則會變成 fails 狀態</li>
<li>Workflow run time: 所有的 workflow 加總執行時間為: <strong>72 個小時</strong> ，超過則會被取消</li>
<li>API requests: 一個專案的 Actions 可以在<strong>一個小時內</strong>最多執行 <strong>1000 次 API requests</strong>，超過則 job 會變成 fails 狀態</li>
<li>Concurrent jobs - 如果有很多專案會同時跑 jobs，請參考下面的表格對應你的方案，如果超過則會被 queue 住喔</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>GitHub plan</th>
<th>Total concurrent jobs</th>
<th>Maximum concurrent macOS jobs</th>
</tr>
</thead>
<tbody><tr>
<td>Free</td>
<td>20</td>
<td>5</td>
</tr>
<tr>
<td>Pro</td>
<td>40</td>
<td>5</td>
</tr>
<tr>
<td>Team</td>
<td>60</td>
<td>5</td>
</tr>
<tr>
<td>Enterprise</td>
<td>180</td>
<td>50</td>
</tr>
</tbody></table>
<ul>
<li><p>LINE Notify API 上限注意：</p>
<ul>
<li>單一 <strong>access_token</strong> 一個小時不可超過 1000 則(訊息 與 圖片).</li>
<li>上限狀態可以查看 response 的 Header (<a href="https://notify-bot.line.me/doc/en/">文件</a>)</li>
</ul>
</li>
<li><p>或許會需要定期執行<strong>部署</strong>或<strong>測試</strong>，可以參考<a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows#scheduled-events">GitHub 排程頁面</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>CI/CD</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LINE Notify</tag>
        <tag>GitHub Actions</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>藉由 Flex Message Simulator 實現並發送測試用 Flex Message</title>
    <url>/2021/06/09/line-flex-message-simulator/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>


<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>平時開發 LINE Bot 相關功能時，我們都會使用許多的文字、貼圖、圖片…來實現一個服務所需要的對話流程，而在開發許久之後，總想為自己的 LINE Bot 添加更多有特色的內容，不論是在文字中加入特殊符號、發送對應情境的貼圖、影片..等等。而在 LINE Bot 中有個可以讓開發者自由添加各種特色的訊息選單 - <a href="https://developers.line.biz/en/docs/messaging-api/using-flex-messages/">Flex Message</a>，那這個功能有什麼特別的呢？以及我可以如何快速測試使用這功能呢？以下就讓我為各位介紹介紹。</p>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><ul>
<li><a href="https://nijialin.com/2021/06/09/line-flex-message-simulator/#Flex-Message-%E7%B0%A1%E4%BB%8B">Flex Message 簡介</a></li>
<li><a href="https://nijialin.com/2021/06/09/line-flex-message-simulator/#%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E6%B8%AC%E8%A9%A6-Flex-Message%EF%BC%9F%E4%BD%BF%E7%94%A8-Flex-Message-Simulator">如何設計與測試 Flex Message？使用 Flex Message Simulator</a></li>
<li><a href="https://nijialin.com/2021/06/09/line-flex-message-simulator/#%E5%85%B6%E4%BB%96%E7%AF%84%E4%BE%8B%E6%8F%90%E4%BE%9B">其他範例提供</a></li>
<li><a href="https://nijialin.com/2021/06/09/line-flex-message-simulator/#%E6%B4%BB%E5%8B%95%E5%B0%8F%E7%B5%90">活動小結</a></li>
<li><a href="https://nijialin.com/2021/06/09/line-flex-message-simulator/#%E9%97%9C%E6%96%BC%E3%80%8CLINE-%E9%96%8B%E7%99%BC%E7%A4%BE%E7%BE%A4%E8%A8%88%E7%95%AB%E3%80%8D">關於「LINE-開發社群計畫」</a><span id="more"></span></li>
</ul>
<h1 id="Flex-Message-簡介"><a href="#Flex-Message-簡介" class="headerlink" title="Flex Message 簡介"></a><a href="https://developers.line.biz/en/docs/messaging-api/using-flex-messages/">Flex Message</a> 簡介</h1><p>Flex Message 是什麼？它是一個 LINE 很強大的訊息圖文選單，能夠讓開發者透過 JSON 的方式建立起漂亮的選單(如下)，讓 LINE 官方帳號(Official Account)的擁有者(Provider)可以使用設計過的訊息選單與用戶做更多的互動。</p>
<p>當中的許多設計概念與 CSS 的 <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox">Flex Box</a> 相似，如果有開發過前端的朋友也歡迎來試試看 LINE 的 Flex Message。</p>
<p><img src="https://nijialin.com/images/2021/line-simulator/sample1.png" alt="範例"></p>
<p>延伸閱讀：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-flex-message-10-reason/">使用 2020 Flex Message 的 10 個新功能 – 讓您在 LINE 的訊息設計更有彈性</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/how-to-use-liff-in-vue3/">在 Vue3 中引入 LIFF 的 ShareTargetPicker 分享 FlexMessage 訊息給 LINE 好友</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/flex-message-update1/">Flex Message 的 Update 1 已公開</a></li>
<li><a href="https://developers.line.biz/en/news/2020/10/08/flex-message-update-2-released/">2020&#x2F;10 Flex Message Update 2 released</a></li>
</ul>
<h1 id="如何設計與測試-Flex-Message？使用-Flex-Message-Simulator"><a href="#如何設計與測試-Flex-Message？使用-Flex-Message-Simulator" class="headerlink" title="如何設計與測試 Flex Message？使用 Flex Message Simulator"></a>如何設計與測試 Flex Message？使用 Flex Message Simulator</h1><p>許多開發者在開發 Flex Message 給 Chatbot 或是 ShareTargetPicker (<a href="https://engineering.linecorp.com/zh-hant/blog/share-target-picker-liff/">參考文章</a>)時經常會透過 <a href="https://developers.line.biz/flex-simulator">LINE Simulator</a> 來將想要的訊息格式透過介面上的操作選項來處理想發送在 LINE 平台上的內容，如下圖所示，為一開始進入 Simulator 頁面的初始狀態。</p>
<p><img src="https://nijialin.com/images/2021/line-simulator/send.png"></p>
<p>相信有在開發 Chatbot 的朋友對這個功能鐵定不陌生，而今天要介紹的部分則是近期在<a href="https://developers.line.biz/en/news/2021/05/20/send-test-message-flex-message-simulator/">官方新聞稿</a>中釋出在介面上的新功能 - <strong>發送測試訊息</strong>，那這個功能有什麼特別？以及他解決了什麼問題呢？以下說明一個之前開發的範例流程：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI2NDFweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjMwNnB4O2hlaWdodDo2NDFweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMDYgNjQxIiB3aWR0aD0iMzA2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48ZyBpZD0iZWxlbV9TaW11bGF0b3IgJiMyMDAxMzsmIzM1MzczOyYjMzUzMzY7IEZsZXggTWVzc2FnZSI+PGVsbGlwc2UgY3g9IjE3OC4xNTAyIiBjeT0iMzIuOTMiIGZpbGw9IiNGMUYxRjEiIHJ4PSIxMjIuNjUwMiIgcnk9IjI2LjkzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTMiIHg9IjcxLjY1MDIiIHk9IjM1Ljc3NjciPlNpbXVsYXRvciAmIzIwMDEzOyYjMzUzNzM7JiMzNTMzNjsgRmxleCBNZXNzYWdlPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9KU09OICYjMzYwMjg7JiMyMTA0MDsmIzIzNTYwOyYjMjY2OTY7JiMyMDAxMzsiPjxlbGxpcHNlIGN4PSI4MS43NzU0IiBjeT0iMTM4LjU1NTEiIGZpbGw9IiNGMUYxRjEiIHJ4PSI3NS43NzU0IiByeT0iMTcuNTU1MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4IiB4PSIyNC43NzU0IiB5PSIxNDIuMzAyNiI+SlNPTiAmIzM2MDI4OyYjMjEwNDA7JiMyMzU2MDsmIzI2Njk2OyYjMjAwMTM7PC90ZXh0PjwvZz48ZyBpZD0iZWxlbV8mIzM1MzczOyYjMjM0NTA7JiMzODM2NDsmIzM3NzQ5OyYjMjMzODM7Ij48ZWxsaXBzZSBjeD0iODYuMDg2OCIgY3k9IjIzMS44MTc0IiBmaWxsPSIjRjFGMUYxIiByeD0iNjIuMDg2OCIgcnk9IjE0LjgxNzQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwIiB4PSI0OC4wODY4IiB5PSIyMzUuNTY0OSI+JiMzNTM3MzsmIzIzNDUwOyYjMzgzNjQ7JiMzNzc0OTsmIzIzMzgzOzwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fJiMyMTg1NTsmIzIxMjA1OyYjMjM1NjA7JiMyNjY5NjsiPjxlbGxpcHNlIGN4PSI4OC44NTQzIiBjeT0iMzM4LjcwODQiIGZpbGw9IiNGMUYxRjEiIHJ4PSI1MS44NTQzIiByeT0iMTQuNzA4NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTYiIHg9IjU3Ljg1NDMiIHk9IjM0Mi40NTYiPiYjMjE4NTU7JiMyMTIwNTsmIzIzNTYwOyYjMjY2OTY7PC90ZXh0PjwvZz48ZyBpZD0iZWxlbV8mIzIyNjM1OyYjMjA4Mzc7IFNTTCAmIzMyMTc4OyYjMjIzMzY7Ij48ZWxsaXBzZSBjeD0iODguOTY0IiBjeT0iNDMwLjE5MjgiIGZpbGw9IiNGMUYxRjEiIHJ4PSI2OC45NjQiIHJ5PSIxNi4xOTI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MCIgeD0iNDAuOTY0IiB5PSI0MzMuOTQwNCI+JiMyMjYzNTsmIzIwODM3OyBTU0wgJiMzMjE3ODsmIzIyMzM2OzwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fJiMyMjMxMjsgQ2hhdGJvdCAmIzIwMDEzOyYjMjgyMDQ7JiMzNTQzMDsiPjxlbGxpcHNlIGN4PSIxNjkuNzg4IiBjeT0iNTI1Ljg1NzYiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4Mi4yODgiIHJ5PSIxOC44NTc2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjQiIHg9IjEwNi45NTA1IiB5PSI1MjguOTgzOCI+JiMyMjMxMjsgQ2hhdGJvdCAmIzIwMDEzOyYjMjgyMDQ7JiMzNTQzMDs8L3RleHQ+PC9nPjxnIGlkPSJlbGVtXyYjMzIwODA7JiMyNjQ2MzsiPjxlbGxpcHNlIGN4PSIxNjkuNzg0MyIgY3k9IjYyMC41MjM2IiBmaWxsPSIjRjFGMUYxIiByeD0iMzEuMjg0MyIgcnk9IjE0LjUyMzYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIxNTUuNzg0MyIgeT0iNjIzLjM3MDMiPiYjMzIwODA7JiMyNjQ2Mzs8L3RleHQ+PC9nPjwhLS1saW5rIFNpbXVsYXRvciA/Pz8gRmxleCBNZXNzYWdlIHRvIEpTT04gPz8/Pz8tLT48ZyBpZD0ibGlua19TaW11bGF0b3IgJiMyMDAxMzsmIzM1MzczOyYjMzUzMzY7IEZsZXggTWVzc2FnZV9KU09OICYjMzYwMjg7JiMyMTA0MDsmIzIzNTYwOyYjMjY2OTY7JiMyMDAxMzsiPjxwYXRoIGQ9Ik0xNTQuMjcsNTkuNTg0IEMxMzcuNzg4LDc3LjM1NCAxMTYuMTI1LDEwMC43MDkgMTAwLjgyODgsMTE3LjIgIiBmaWxsPSJub25lIiBpZD0iU2ltdWxhdG9yICYjMjAwMTM7JiMzNTM3MzsmIzM1MzM2OyBGbGV4IE1lc3NhZ2UtdG8tSlNPTiAmIzM2MDI4OyYjMjEwNDA7JiMyMzU2MDsmIzI2Njk2OyYjMjAwMTM7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijk3LjA4NDEsMTIxLjIzNywxMDYuMTM3OSwxMTcuMzYwMiwxMDAuNDg1LDExNy41NzE3LDEwMC4yNzM1LDExMS45MTg4LDk3LjA4NDEsMTIxLjIzNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1saW5rIEpTT04gPz8/Pz8gdG8gPz8/Pz8tLT48ZyBpZD0ibGlua19KU09OICYjMzYwMjg7JiMyMTA0MDsmIzIzNTYwOyYjMjY2OTY7JiMyMDAxMztfJiMzNTM3MzsmIzIzNDUwOyYjMzgzNjQ7JiMzNzc0OTsmIzIzMzgzOyI+PHBhdGggZD0iTTgyLjczMzcsMTU2LjI4MyBDODMuNDE0NSwxNzEuODU3IDg0LjQyOCwxOTUuMDQgODUuMTQ1MSwyMTEuNDQ1ICIgZmlsbD0ibm9uZSIgaWQ9IkpTT04gJiMzNjAyODsmIzIxMDQwOyYjMjM1NjA7JiMyNjY5NjsmIzIwMDEzOy10by0mIzM1MzczOyYjMjM0NTA7JiMzODM2NDsmIzM3NzQ5OyYjMjMzODM7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijg1LjM3NjEsMjE2LjcyOCw4OC45ODE1LDIwNy41NjI4LDg1LjE1OSwyMTEuNzMyNyw4MC45ODksMjA3LjkxMDIsODUuMzc2MSwyMTYuNzI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Py0tPjxnIGlkPSJsaW5rXyYjMzUzNzM7JiMyMzQ1MDsmIzM4MzY0OyYjMzc3NDk7JiMyMzM4MztfJiMyMTg1NTsmIzIxMjA1OyYjMjM1NjA7JiMyNjY5NjsiPjxwYXRoIGQ9Ik04Ni40MDQ2LDI0Ny4wOTMgQzg2LjkzNjEsMjY1LjYwNiA4Ny44NzEsMjk4LjE3MSA4OC40NjE3LDMxOC43NSAiIGZpbGw9Im5vbmUiIGlkPSImIzM1MzczOyYjMjM0NTA7JiMzODM2NDsmIzM3NzQ5OyYjMjMzODM7LXRvLSYjMjE4NTU7JiMyMTIwNTsmIzIzNTYwOyYjMjY2OTY7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijg4LjYxMTMsMzIzLjk2MSw5Mi4zNDk5LDMxNC44NDkzLDg4LjQ2NywzMTguOTYzMSw4NC4zNTMyLDMxNS4wODAyLDg4LjYxMTMsMzIzLjk2MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1saW5rID8/Pz8gdG8gPz8gU1NMID8/LS0+PGcgaWQ9ImxpbmtfJiMyMTg1NTsmIzIxMjA1OyYjMjM1NjA7JiMyNjY5NjtfJiMyMjYzNTsmIzIwODM3OyBTU0wgJiMzMjE3ODsmIzIyMzM2OyI+PHBhdGggZD0iTTg5LDM1My4wOTMgQzg5LDM2Ny44OTUgODksMzkxLjcyNSA4OSw0MDguNzM1ICIgZmlsbD0ibm9uZSIgaWQ9IiYjMjE4NTU7JiMyMTIwNTsmIzIzNTYwOyYjMjY2OTY7LXRvLSYjMjI2MzU7JiMyMDgzNzsgU1NMICYjMzIxNzg7JiMyMjMzNjsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iODksNDEzLjc3OCw5Myw0MDQuNzc4LDg5LDQwOC43NzgsODUsNDA0Ljc3OCw4OSw0MTMuNzc4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLWxpbmsgPz8gU1NMID8/IHRvID8gQ2hhdGJvdCA/Pz8tLT48ZyBpZD0ibGlua18mIzIyNjM1OyYjMjA4Mzc7IFNTTCAmIzMyMTc4OyYjMjIzMzY7XyYjMjIzMTI7IENoYXRib3QgJiMyMDAxMzsmIzI4MjA0OyYjMzU0MzA7Ij48cGF0aCBkPSJNMTAyLjAxNDEsNDQ2LjEwMyBDMTE1LjMxOCw0NjEuNTQyIDEzNi4xMTUsNDg1LjY3NyAxNTEuMjA2LDUwMy4xODkgIiBmaWxsPSJub25lIiBpZD0iJiMyMjYzNTsmIzIwODM3OyBTU0wgJiMzMjE3ODsmIzIyMzM2Oy10by0mIzIyMzEyOyBDaGF0Ym90ICYjMjAwMTM7JiMyODIwNDsmIzM1NDMwOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNTQuNTI2LDUwNy4wNDMsMTUxLjY4MTYsNDk3LjYxMzgsMTUxLjI2MjMsNTAzLjI1NTEsMTQ1LjYyMSw1MDIuODM1NywxNTQuNTI2LDUwNy4wNDMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayA/IENoYXRib3QgPz8/IHRvIFNpbXVsYXRvciA/Pz8gRmxleCBNZXNzYWdlLS0+PGcgaWQ9ImxpbmtfJiMyMjMxMjsgQ2hhdGJvdCAmIzIwMDEzOyYjMjgyMDQ7JiMzNTQzMDtfU2ltdWxhdG9yICYjMjAwMTM7JiMzNTM3MzsmIzM1MzM2OyBGbGV4IE1lc3NhZ2UiPjxwYXRoIGQ9Ik0xODMuMTk4LDUwNi45MzMgQzE5NS4xODQsNDg4LjcxNCAyMTEsNDU5LjMwOSAyMTEsNDMxIEMyMTEsMTM3LjUgMjExLDEzNy41IDIxMSwxMzcuNSBDMjExLDExMi4xODMgMjAxLjkyNiw4NC45NTggMTkzLjI5NSw2NC43ODggIiBmaWxsPSJub25lIiBpZD0iJiMyMjMxMjsgQ2hhdGJvdCAmIzIwMDEzOyYjMjgyMDQ7JiMzNTQzMDstdG8tU2ltdWxhdG9yICYjMjAwMTM7JiMzNTM3MzsmIzM1MzM2OyBGbGV4IE1lc3NhZ2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTkxLjIzMiw2MC4wNzcsMTkxLjE3ODMsNjkuOTI1NywxOTMuMjM3Nyw2NC42NTcxLDE5OC41MDY0LDY2LjcxNjUsMTkxLjIzMiw2MC4wNzciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSIyMTIiIHk9IjI5MC4wNjY5Ij4mIzI3Mjk4OyYjMjY1OTc7JiMzNTM3MzsmIzM1MzM2OzwvdGV4dD48L2c+PCEtLWxpbmsgPyBDaGF0Ym90ID8/PyB0byA/Py0tPjxnIGlkPSJsaW5rXyYjMjIzMTI7IENoYXRib3QgJiMyMDAxMzsmIzI4MjA0OyYjMzU0MzA7XyYjMzIwODA7JiMyNjQ2MzsiPjxwYXRoIGQ9Ik0xNzAsNTQ1LjI3NSBDMTcwLDU2MS4yNjM3IDE3MCw1ODQuMzk3IDE3MCw2MDAuNTc1NSAiIGZpbGw9Im5vbmUiIGlkPSImIzIyMzEyOyBDaGF0Ym90ICYjMjAwMTM7JiMyODIwNDsmIzM1NDMwOy10by0mIzMyMDgwOyYjMjY0NjM7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE3MCw2MDUuNzc1MSwxNzQsNTk2Ljc3NTEsMTcwLDYwMC43NzUxLDE2Niw1OTYuNzc1MSwxNzAsNjA1Ljc3NTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tU1JDPVtxbVpFcDJ0RElJcDlCcjl1aWNGalluTDByQTdXYmZEUWVVMlJNYm9TYzl3Z2dQa0lOdndkUXdWWDVVcGxmXzFZcXZ3ZDdIa1VSa1h1amgwM2c1d0oyeGltSjBfR2xBVmhQaHNTRmtUYnh6UWRRd1MzYlFFQm01Ry1kSmhfUVZUS1kwYjBQSVhTazlnNWd2LXNCYks4M2xQSFVCdmpxekV2M0kyNTY2OW1yTkRNQTNYZDk5T2F2UFUwbEZQaW52ZU5BdlUxVDYwTFgtYVk2MW5NMml6TUJOZXNWb2I0WmYxbnB4VEVVM1B0bFlPMF0tLT48L2c+PC9zdmc+'>

<p>光是在過程中只為了測試 Flex Message 在 LINE 中的表現是如何，可能就需要以上的步驟，以下就來介紹一下這次加入內<strong>發送測試訊息</strong>更新。</p>
<blockquote>
<p>官方文件： <a href="https://developers.line.biz/en/docs/messaging-api/using-flex-message-simulator/">Using Flex Message Simulator to create a digital business card</a></p>
</blockquote>
<p>首先進入 <a href="https://developers.line.biz/flex-simulator/">Flex Message Simulator</a> 後，會看到樣式(左邊)、內容對照格式(中間)、以及右上角四個選項功能</p>
<p><img src="https://nijialin.com/images/2021/line-simulator/send0.png"></p>
<p>從左至右本別是<code>新建(New)樣式</code>(Bubble、Carousel)、<code>展示案例</code>(Showcase)、<code>Send...</code>、<code>查看 JSON 樣式(View as JSON)</code>，這邊我們選擇 <code>Send...</code><br><img src="https://nijialin.com/images/2021/line-simulator/send1.png"></p>
<p>點下去後會看到以下畫面，但<strong>首次使用</strong>時需要在 Simulator 上<code>綁定(註冊)</code> LINE 帳號，讓系統可以知道要發送給那個使用者的 Simulator 的測試帳號中。<br><img src="https://nijialin.com/images/2021/line-simulator/r2.png"></p>
<p>點選<code>綁定(註冊)</code>後，掃描 QR Code 後即可在 LINE App 中收到驗證碼(以下為範例)<br><img src="https://nijialin.com/images/2021/line-simulator/r3.png"></p>
<p>當綁定後讓 Simulator 認識你後，再次進入 <a href="https://developers.line.biz/flex-simulator/">Flex Message Simulator</a>，將你想要的 Flex Message 的樣式(JSON)貼進去<code>View as JSON</code>中(或<strong>自行建立</strong>)，點選 <code>Send...</code> 之後出現<strong>彈出視窗</strong>後點選帳號旁的 <strong>Radio box</strong> (欲發送支帳號)並按下 <strong>Send</strong> 來發送測試訊息。<br><img src="https://nijialin.com/images/2021/line-simulator/send1.png"></p>
<p>發送後即可看到視窗中會有以下的結果啦！帳號名稱為 <strong>Flex Message Sim</strong>，並且為一個<strong>綠色盾牌</strong>的帳號(<a href="https://tw.linebiz.com/service/account-solutions/line-official-account/">盾牌功能請參考</a>)，進入後即可看到剛剛所發送的測試訊息囉！</p>
<p><img src="https://nijialin.com/images/2021/line-simulator/result.png"></p>
<h1 id="其他範例提供"><a href="#其他範例提供" class="headerlink" title="其他範例提供"></a>其他範例提供</h1><p>以下是我在開發 Side Project 時所使用的樣式，歡迎大家取用並開發出更多更吸睛的 Flex Message!</p>
<p>對戰範例一：</p>
<p><img src="https://nijialin.com/images/2021/line-simulator/sample1.png" alt="範例2"></p>
<script src="https://gist.github.com/louis70109/9a6f3b742b603e298a321a3e96a8b9e9.js"></script>

<p>疊層範例二：</p>
<p><img src="https://nijialin.com/images/2021/line-simulator/sample2.png" alt="範例2"></p>
<script src="https://gist.github.com/louis70109/4cf6eda9a4267b24041435cebfe6b333.js"></script>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在這次的更新此功能後幫助到許多持續在開發 Flex Message 的朋友(包括我)，讓我們可以用最少的流程來試試看自己在 Simulator 模擬器上所建立的 Flex Message 是否在手機、桌機上的表現與我們的想像一致，希望透過此功能可以讓各位開發相關功能時更加順暢，未來有新功能也會持續透過文章讓大家認識新功能。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
        <tag>FlexMessage</tag>
        <tag>Simulator</tag>
      </tags>
  </entry>
  <entry>
    <title>客製 QR Code 就用 LINE Bot</title>
    <url>/2023/03/06/line-qr-code-generator-bot/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>延續上一篇「<a href="https://nijialin.com/2023/02/05/nodejs-custom-qrcode-background/">幫 QR Code 加上背景圖，別只留下黑白！</a>」，因為只需要一個輸入框輸入網址、以及上傳一張圖片，想了想感覺就很適合透過 LINE Bot 來幫忙產生，以下就來跟大家介紹一下這次開發時的一些註解～</p>
<blockquote>
<p>NodeJS repository: <a href="https://github.com/louis70109/qrcode-background-generator">https://github.com/louis70109/qrcode-background-generator</a></p>
</blockquote>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzODJweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjYwNXB4O2hlaWdodDozODJweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2MDUgMzgyIiB3aWR0aD0iNjA1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMjciIHgyPSIyNyIgeTE9IjM2LjI5NjkiIHkyPSIzNDcuNjI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjE2OC41IiB4Mj0iMTY4LjUiIHkxPSIzNi4yOTY5IiB5Mj0iMzQ3LjYyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIzNDEiIHgyPSIzNDEiIHkxPSIzNi4yOTY5IiB5Mj0iMzQ3LjYyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI1NjcuNSIgeDI9IjU2Ny41IiB5MT0iMzYuMjk2OSIgeTI9IjM0Ny42MjUiLz48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQ1IiB4PSI1IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzEiIHg9IjEyIiB5PSIyNC45OTUxIj5Vc2VyPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDUiIHg9IjUiIHk9IjM0Ni42MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iMTIiIHk9IjM2Ni42MjAxIj5Vc2VyPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzgiIHg9IjEyOS41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQiIHg9IjEzNi41IiB5PSIyNC45OTUxIj5MSU5FX0JvdDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc4IiB4PSIxMjkuNSIgeT0iMzQ2LjYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0IiB4PSIxMzYuNSIgeT0iMzY2LjYyMDEiPkxJTkVfQm90PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjEiIHg9IjMxMSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3IiB4PSIzMTgiIHk9IjI0Ljk5NTEiPlNlcnZlcjwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxIiB4PSIzMTEiIHk9IjM0Ni42MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iMzE4IiB5PSIzNjYuNjIwMSI+U2VydmVyPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjQiIHg9IjUzNS41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTAiIHg9IjU0Mi41IiB5PSIyNC45OTUxIj5HaXRIdWI8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2NCIgeD0iNTM1LjUiIHk9IjM0Ni42MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MCIgeD0iNTQyLjUiIHk9IjM2Ni42MjAxIj5HaXRIdWI8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNTYuNSw2My40Mjk3LDE2Ni41LDY3LjQyOTcsMTU2LjUsNzEuNDI5NywxNjAuNSw2Ny40Mjk3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNy41IiB4Mj0iMTYyLjUiIHkxPSI2Ny40Mjk3IiB5Mj0iNjcuNDI5NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSIzNC41IiB5PSI2Mi4zNjM4Ij4mIzIwNjU5OyYjMzY4NjU7JiMyNTk5MTsmIzIzMzgzOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyOS41LDkyLjU2MjUsMzM5LjUsOTYuNTYyNSwzMjkuNSwxMDAuNTYyNSwzMzMuNSw5Ni41NjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNjguNSIgeDI9IjMzNS41IiB5MT0iOTYuNTYyNSIgeTI9Ijk2LjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYiIHg9IjE3NS41IiB5PSI5MS40OTY2Ij5XZWJob29rICYjMjA2NTk7JiMzNjg2NTsmIzM2MDM5OyYjMzUzMzg7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTc5LjUsMTIxLjY5NTMsMTY5LjUsMTI1LjY5NTMsMTc5LjUsMTI5LjY5NTMsMTc1LjUsMTI1LjY5NTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE3My41IiB4Mj0iMzQwLjUiIHkxPSIxMjUuNjk1MyIgeTI9IjEyNS42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ5IiB4PSIxODUuNSIgeT0iMTIwLjYyOTQiPiYjMjUyMjY7JiMyNTk5MTsmIzIzMzgzOyYjMjMzODQ7JiMyMDgzNzsmIzM1MzUyOyYjMjUwMTQ7JiMzOTYzNjsoU3FsaXRlKTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM4LjUsMTUwLjgyODEsMjguNSwxNTQuODI4MSwzOC41LDE1OC44MjgxLDM0LjUsMTU0LjgyODEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMyLjUiIHgyPSIxNjcuNSIgeTE9IjE1NC44MjgxIiB5Mj0iMTU0LjgyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTciIHg9IjQ0LjUiIHk9IjE0OS43NjIyIj4mIzIyMjM4OyYjMjA2NTk7JiMyNTk5MTsmIzIzMzgzOyYjMjAzNzk7JiMyOTk5MjsmIzI1MTQyOyYjMzA5MDY7JiMzNTQ2OTs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNTYuNSwxNzkuOTYwOSwxNjYuNSwxODMuOTYwOSwxNTYuNSwxODcuOTYwOSwxNjAuNSwxODMuOTYwOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjcuNSIgeDI9IjE2Mi41IiB5MT0iMTgzLjk2MDkiIHkyPSIxODMuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxIiB4PSIzNC41IiB5PSIxNzguODk1Ij4mIzIwNjU5OyYjMzY4NjU7JiMyNzQ5MTsmIzI2MDQxOyYjMjQ0MTg7JiMyMjI5NDsmIzI5MjU1OzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyOS41LDIwOS4wOTM4LDMzOS41LDIxMy4wOTM4LDMyOS41LDIxNy4wOTM4LDMzMy41LDIxMy4wOTM4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNjguNSIgeDI9IjMzNS41IiB5MT0iMjEzLjA5MzgiIHkyPSIyMTMuMDkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMSIgeD0iMTc1LjUiIHk9IjIwOC4wMjc4Ij4mIzIwNjU5OyYjMzY4NjU7IE1lc3NhZ2UgSWQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NTUuNSwyMzguMjI2Niw1NjUuNSwyNDIuMjI2Niw1NTUuNSwyNDYuMjI2Niw1NTkuNSwyNDIuMjI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzQxLjUiIHgyPSI1NjEuNSIgeTE9IjI0Mi4yMjY2IiB5Mj0iMjQyLjIyNjYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDIiIHg9IjM0OC41IiB5PSIyMzcuMTYwNiI+JiMxOTk3OTsmIzM2NjE3OyBCdWZmZXIgJiMyMDAwNjsmIzE5OTc4OyYjMjA2NTk7IFFSIENvZGUgJiMyMjI5NDsmIzI5MjU1OzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM1Mi41LDI2Ny4zNTk0LDM0Mi41LDI3MS4zNTk0LDM1Mi41LDI3NS4zNTk0LDM0OC41LDI3MS4zNTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzNDYuNSIgeDI9IjU2Ni41IiB5MT0iMjcxLjM1OTQiIHkyPSIyNzEuMzU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSIzNTguNSIgeT0iMjY2LjI5MzUiPiYjMjIyMzg7JiMyMDY1OTsmIzMyMTc4OyYjMjIzMzY7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTc5LjUsMjk2LjQ5MjIsMTY5LjUsMzAwLjQ5MjIsMTc5LjUsMzA0LjQ5MjIsMTc1LjUsMzAwLjQ5MjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE3My41IiB4Mj0iMzQwLjUiIHkxPSIzMDAuNDkyMiIgeTI9IjMwMC40OTIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjE4NS41IiB5PSIyOTUuNDI2MyI+JiMyMjIzODsmIzIwNjU5OyYjMzIxNzg7JiMyMjMzNjsmIzI1OTkxOyYjMjMzODM7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzguNSwzMjUuNjI1LDI4LjUsMzI5LjYyNSwzOC41LDMzMy42MjUsMzQuNSwzMjkuNjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMi41IiB4Mj0iMTY3LjUiIHkxPSIzMjkuNjI1IiB5Mj0iMzI5LjYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNCIgeD0iNDQuNSIgeT0iMzI0LjU1OTEiPiYjMjU1NTI7JiMyMDM3OTsmIzI5OTkyOyYjMjUxNDI7JiMxOTk3OTsmIzM2NjE3OyYjMjE0MDc7JiMyMjI5NDs8L3RleHQ+PCEtLVNSQz1bMm9yRUJMQkdqVkZuejdFRFR5ZWxpTDl1c2hKdlBLRlppc2RqSnpURXZ1ODkwcktlMUFTTWJRS01NSWM0Zm9QYnZFVGRHbk0tc0RwLU9hS041cUdJZjBuWHFoRWtCZVduSnpWRVVEZ3d6Q01BNlNfUWpoclNGS0taazMwZGlvSEw0eU5xcTZBR3NLemRwbUNRMno3clBEX2l2ckRNRkVsT3pkcEhoWFVoVWhjdUc0Z21rN0pqdWNWSlRaeFRrLVpmZDZkRkV6bFhYa2hRR0hxQ0tRUldjcmZTZDlZVWdrMlAwZE1paGZyeFBlYjdRUEFMbWZDVHRJX3NUMmV1YlFRYjBWdG1QQ1VvOXBrd1dCZUswZUNLZEZESktYTVc5YUVLbXlzNUVsUnZqYXJGdnBSMHBLSG83ZjhxTWQzZ3NhNnktd25fMGpvTjQ0U3l4UGlGajBxMF0tLT48L2c+PC9zdmc+'>

<h2 id="為什麼用-LINE-Bot"><a href="#為什麼用-LINE-Bot" class="headerlink" title="為什麼用 LINE Bot?"></a>為什麼用 LINE Bot?</h2><p>對我來說，因為我時常會手機跟電腦頻繁切換，因此即便在電腦上有存在書籤，但在手機上則可能會弄丟網址，而做成 Bot 就不容易弄丟，只要打開 LINE 即可。</p>
<p>因為這次的<code>流程</code>只需要兩步驟，因此就不用勞煩前端或 LIFF，也讓我這後端工程師少寫點不熟悉的 HTML … XD</p>
<h3 id="圖片存哪好？"><a href="#圖片存哪好？" class="headerlink" title="圖片存哪好？"></a>圖片存哪好？</h3><p>我自己是透過 GitHub 的方式來儲存圖片(畢竟公有雲之類的放太多還是會需要儲存費)，詳細可參考「<a href="https://nijialin.com/2022/10/02/upload-image-get-url-ways/">在 GCS || GitHub 上傳圖片並取得網址</a>」。</p>
<blockquote>
<p><a href="https://raw.githubusercontent.com/%E5%B8%B3%E8%99%9F/%E5%B0%88%E6%A1%88/master/%E6%AA%94%E6%A1%88.png">https://raw.githubusercontent.com/帳號/專案/master/檔案.png</a></p>
</blockquote>
<p>但若串接 LINE Bot 上放入該檔案連結，在桌機版(v7.13)上目前會顯示不出來，但手機顯示的出來，目前還不確定實際原因。另外考量下載傳輸過程是會<code>壓縮圖片</code>(增加性能)，因此在實作上還是以傳連結的方式，讓使用者可以抓到原檔的大小，不會被平台壓縮。</p>
<blockquote>
<p>良心建議: 上傳到 GitHub 專案上只是暫時解，建議還是放在自己的 S3 || Cloud Storage 比較好喔！😁</p>
</blockquote>
<h2 id="Talk-too-more-show-me-video"><a href="#Talk-too-more-show-me-video" class="headerlink" title="Talk too more, show me video!!"></a>Talk too more, show me video!!</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/V8Q0b6ZFmbE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<p>歡迎大家搬去自己的地方使用：<a href="https://github.com/louis70109/qrcode-background-generator">GitHub URL</a></p>
<h2 id="環境變數說明"><a href="#環境變數說明" class="headerlink" title="環境變數說明"></a><a href="https://github.com/louis70109/qrcode-background-generator/blob/main/.env.sample">環境變數說明</a></h2><ul>
<li>CHANNEL_ACCESS_TOKEN&#x3D;<ul>
<li>LINE Bot 使用</li>
</ul>
</li>
<li>CHANNEL_SECRET&#x3D;<ul>
<li>LINE Bot 驗證使用</li>
</ul>
</li>
<li>NODE_ENV&#x3D;developer<ul>
<li>Developer 模式會讀取 .env 檔</li>
</ul>
</li>
<li>BASE_URL&#x3D;<ul>
<li>當時哪來建立 ngrok 使用，不用管它</li>
</ul>
</li>
<li>NGROK_TOKEN&#x3D;<ul>
<li>跟上面一樣，不用管它</li>
</ul>
</li>
<li>GITHUB&#x3D;<ul>
<li>請放上 GitHub developer token，並修改<a href="https://github.com/louis70109/qrcode-background-generator/blob/main/utils/github.js#L17">程式碼中 repo 的名稱</a></li>
</ul>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>現在工具百百種，如果能運用這些技術解決日常生活中的問題就在好不過了！以上內容推薦給大家，如果看完本篇你也有相關的想法，歡迎以下留言給我知道唷！那我們下期見，西Ｕ～🥷</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>LINE</tag>
      </tags>
  </entry>
  <entry>
    <title>2022 LINE Taiwan On Job Training(OJT) 花絮</title>
    <url>/2022/11/01/line-on-job-traaining-2022/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/OJT/all.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>LINE 台灣每年會定期舉辦 On Job Training，提供新進同仁可以在上班時間有個完整的訓練，了解研發工程部門過去與現在，以及在跟每個團隊中合作需要注意的項目，當然在活動過程中也有些有趣的互動，到底當天活動發生了哪些事情呢？讓我們一同往下看看吧！</p>
<span id="more"></span>

<h1 id="訓練環節"><a href="#訓練環節" class="headerlink" title="訓練環節"></a>訓練環節</h1><h2 id="研發工程部門介紹"><a href="#研發工程部門介紹" class="headerlink" title="研發工程部門介紹"></a>研發工程部門介紹</h2><p><img src="https://nijialin.com/images/2022/OJT/whatisline.jpeg"></p>
<p>開場由 CTO - Marco 為大家介紹 LINE 的由來與經過，雖然大家日常都使用 LINE 做許多的事情，但在 APP 成長過程中是如何演進，以及因應長大後的各種組織架構由來，都透過開場的議程帶每位到職的同仁一次滿滿的認識!</p>
<blockquote>
<p>讀者們知道 LINE APP 以前也是黑克松的作品嗎?</p>
</blockquote>
<h2 id="開發規範-amp-DevOps"><a href="#開發規範-amp-DevOps" class="headerlink" title="開發規範 &amp; DevOps"></a>開發規範 &amp; DevOps</h2><p>團隊因應各種商業場景會有不同的開發需求，而隨著服務與產品越來越多，許多開發上都需要有相關規範，除了讓大家的開發上的使用手冊能盡可能統一外，也是要預防軟體災害發生時的規範，因此在這部分來…。</p>
<p>另一方面，LINE 台灣很注重 DevOps 的實踐，在 DevOps 中文化 (culture) 與流程 (process) 佔了一大部份，需要透過每位同仁在日常中逐步實踐 CI&#x2F;CD，讓軟體開發可以更快、品質更好、更穩定等，而更多的 DevOps 細節大家可以參考下文:</p>
<blockquote>
<p><a href="https://engineering.linecorp.com/zh-hant/blog/tech-sharing-devops/">DevOps 十年了，你，想改變了嗎?</a></p>
</blockquote>
<h2 id="資料應用規範"><a href="#資料應用規範" class="headerlink" title="資料應用規範"></a>資料應用規範</h2><p>在每個服務中，因應各種商業場景會有許多的資料在日常生活中流動，舉凡 LINE TODAY 的新聞標籤、LINE 購物的搜尋、LINE 貼圖的推薦購買…等等，除了有許多資料流，也會有許多的 AI&#x2F;ML<br>的應用在其中，其中每位開發者同仁也會在每個開發階段處理到對應的內容。</p>
<p>也因為 LINE 相當注重資安相關規範，尤其在日常的資料中就會有許多的規範需要遵守，因此在這次的訓練中就有一場專門講解內部作業中，是如何透過現有的工具，安全且有效地打造適合用戶的平台，且能妥善的保存相關的資訊。</p>
<blockquote>
<p><a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2022/4085">LINE 台灣榮獲英國標準協會「資安管理及個資管理」雙項證書 強化資安技術與企業治理　全方位打造安心數位環境</a> &gt; <a href="https://linecorp.com/en/security/transparency/top">透明度報告</a></p>
</blockquote>
<h2 id="開發者關係-Developer-Relations"><a href="#開發者關係-Developer-Relations" class="headerlink" title="開發者關係(Developer Relations)"></a>開發者關係(Developer Relations)</h2><p>隨著組織的成長，建立屬於團隊的文化是相當重要的項目之一，也透過這次的訓練讓大家了解<strong>開發者關係</strong>中注重以及跟大家日常生活有關係的內容為哪些，以下透過三點跟大家分享：</p>
<ul>
<li>Take Ownership：我們注重讓每位開發人員的自主權，從規劃、開發、參與討論，讓大家決定該做什麼、該怎麼做。</li>
<li>Be Open：鼓勵每位同仁踴躍參加研討會或是當講者，除了分享自己在專案上學到的東西外，也能學習成果不同領域的講者所使用的技能，回饋平台上應用的新技術與新知於社群上，讓自己更進步外也能更多瞭解其他地方是如何應用相關技術。</li>
<li>Trust and Respect：團隊間成員彼此互相信任且尊重彼此的意見，當團隊裡的成員提出不同角度的想法時，能夠藉由彼此的討論，進而增加產品的創新性與提升團隊的化學效應。</li>
</ul>
<blockquote>
<ul>
<li>LINE Developer Relations 所寫的<a href="https://engineering.linecorp.com/en/blog/introducing-developer-relations-team/">介紹文章 (Introducing Developer Relations team)</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-devrel-campus/">關於 LINE 台灣開發者關係與技術推廣部門的校園相關資源</a></li>
</ul>
</blockquote>
<p>開發者關係 ( Developer Relations ) 從來都不是一條輕鬆的路，開發者由於自身對於技術交流的渴望，即便再辛苦上完一天的班之後，仍然願意利用下班過後的空閒時間來參加技術社群認識更多的同好，砥礪彼此的技術。</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/t_WhOd9XVMA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="基礎設施介紹"><a href="#基礎設施介紹" class="headerlink" title="基礎設施介紹"></a>基礎設施介紹</h2><p>LINE 除了擁有一座私有雲 Verda，員工們都需要透過相關平台操作相關資源，並到 VKS(Verda Kubernetes Service)中建立不同團隊的雲服務。但剛加入的同仁一定會有許多操作上的疑慮，因此也請到 SRE 同仁介紹內部是如何操作相關資源。</p>
<p>而在 LINE 台灣當中，也有架設<strong>可觀測性平台</strong>，讓不同的產品團隊可以透過平台去監控每個服務的狀況，在問題即將發生時，可以快速的找到相關問題，透過 Metric、Log、Trace 來達到監控服務狀態，幫助每個產品服務在日常的維運中可以增家服務可靠性！</p>
<p>相關新聞請看: <a href="https://www.ithome.com.tw/news/149317">8 大關鍵服務維運監控得靠它，LINE 臺灣百億筆遙測數據的可觀察性平臺架構大公開</a></p>
<h2 id="Agile-basic"><a href="#Agile-basic" class="headerlink" title="Agile basic"></a>Agile basic</h2><p>在軟體開發世界中，相信大家一定都聽過敏捷開發，但實際在執行上有什麼需要遵守、有哪些內部管理工具是我們日常在跑 Scrum 時需要使用，透過這場訓練，讓同仁更了解在研發工程團隊裡在交付內容時的心法於實戰經驗。</p>
<p>相關參考：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/mMF_cwGGze0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="互動環節-認識同組的同事！"><a href="#互動環節-認識同組的同事！" class="headerlink" title="互動環節 - 認識同組的同事！"></a>互動環節 - 認識同組的同事！</h2><p><img src="https://nijialin.com/images/2022/OJT/game1.JPG"></p>
<p>大家當網友久了，看到隔壁同事腦袋中可能浮現非常多的問號，這次的互動中要求每組需要推派一位同仁，在三分鐘背出同組同仁的部門、名字，這環節很考驗大家腦袋中的「快閃記憶體」，也需要每一位同仁開口說出自己的部門以及名字，在這環節非常有趣，大家用盡各種方式來認識彼此，相信這次的互動可以讓大家更加了解彼此！</p>
<h2 id="中場遊戲"><a href="#中場遊戲" class="headerlink" title="中場遊戲"></a>中場遊戲</h2><p>經過了整天的訓練，透過中場遊戲讓大家可以在遊戲中彼此合作認識對方，而本次分成三個部分遊戲:</p>
<h3 id="再夾一下下就好"><a href="#再夾一下下就好" class="headerlink" title="再夾一下下就好"></a>再夾一下下就好</h3><p>藉由合作的方式，透過拿到的不同工具(牙籤、棉花棒…)雙人合作把紙張夾到指定的地點，因為過程中只能使用道具執行，相當考驗了大家平常拿筷子的能力！</p>
<h3 id="支援前線"><a href="#支援前線" class="headerlink" title="支援前線"></a>支援前線</h3><p>第二關支援前線相信許多地方都有玩過，而在人手都有筆電的情況下，取得滑鼠就是一件非常難的事情，以及像是各種產品規格(Mac 16’ 非 M1)、指定姓氏的同仁等等，都是非常考驗大家能否拉下臉跟同事互動的環節，透過這部分相信也讓很多同仁彼此也有個認識了呢～</p>
<h3 id="用英文解釋日常開發的內容"><a href="#用英文解釋日常開發的內容" class="headerlink" title="用英文解釋日常開發的內容"></a>用英文解釋日常開發的內容</h3><p><img src="https://nijialin.com/images/2022/OJT/game2.jpeg"></p>
<p>英文是我們日常跟跨國同仁溝通以及文件撰寫的基本技能，但在遊戲中的猜題，讀者們是否可以在不講出關鍵字的情況下，解釋 ArgoCD、Docker、React 等等日常的技能呢？</p>
<p>在這環節中同仁們使用渾身解數想辦法讓猜題選手可以在最短時間內達出來，甚至有一題是「江南街」，同仁甚至開始唱歌表示，讓效果都非常的足夠！</p>
<h2 id="午餐時間"><a href="#午餐時間" class="headerlink" title="午餐時間"></a>午餐時間</h2><p><img src="https://nijialin.com/images/2022/OJT/lunch.jpeg"></p>
<p>當然經過了大量的資訊交換後腦細胞需要補充能量，我們也準備了許多餐點，讓同仁們可以在年度難得的聚會上，透過餐敘時間彼此交流，認識不同部門同仁，也或許未來他就是你合作的同仁也說不定呢！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>藉由年度的 On Joh Training，讓 LINER 再加入工程大家庭時可以更了解部門日常規範並認識周遭的同仁，相信每次的實體活動都是個非常棒的經驗，透過活動拉近大家彼此之間的距離，說不定在未來的工作中彼此也有機會互相合作。</p>
<p>如果你也想加入 LINE 研發工程團隊，歡迎大家前來<a href="https://careers.linecorp.com/jobs?ca=Engineering&ci=Taipei&co=East%20Asia">投遞履歷</a>，讓我們能一同打造大家日常在使用的服務，拉近彼此間的距離，小編期待可以在 LINE 中看到大家！</p>
<blockquote>
<p>不同團隊介紹，歡迎大家參閱這篇文章 - <a href="https://engineering.linecorp.com/zh-hant/blog/line-dev-recruitment-day-2022/">LINE Taiwan Developers Recruitment Day 2022 招募資訊懶人包</a></p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Culture</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE Recruitment Day 2021 活動紀錄</title>
    <url>/2021/05/26/line-recruitment-day-2021/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/LRD.png" alt="LRD"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>由於疫情突然的加溫，LINE 工程團隊緊急將活動改為線上的方式呈現給大家，在避免群聚的情況下盡可能地呈現最好的方式給大家，同時也讓大家了解 LINE 工程部門裡每個團隊所負責的內容，以下就整理出當天的所有內容給各位囉！</p>
<h1 id="議程列表"><a href="#議程列表" class="headerlink" title="議程列表"></a>議程列表</h1><ul>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#Internal-Developer-Relations">Internal Developer Relations</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#LINE-Pay-%E5%9C%98%E9%9A%8A">LINE Pay 團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#LINE-TECH-FRESH-%E6%8A%80%E8%A1%93%E6%96%B0%E6%98%9F%E4%BA%BA%E6%89%8D%E8%A8%88%E7%95%AB">LINE TECH FRESH 技術新星人才計畫</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#LINE-TODAY-%E5%9C%98%E9%9A%8A">LINE TODAY 團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#LINE-%E9%9B%BB%E5%95%86%E5%9C%98%E9%9A%8A">LINE 電商團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#QA-%E5%B7%A5%E7%A8%8B%E5%9C%98%E9%9A%8A">QA 工程團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#Frontend-%E5%B7%A5%E7%A8%8B%E5%9C%98%E9%9A%8A">Frontend 工程團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#Client-%E5%B7%A5%E7%A8%8B%E5%9C%98%E9%9A%8A">Client 團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#SRE-%E5%9C%98%E9%9A%8A">SRE 團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#LINE-CLOVA-AI-%E5%9C%98%E9%9A%8A">LINE CLOVA AI 團隊</a></li>
<li><a href="https://nijialin.com/2021/05/26/line-recruitment-day-2021/#%E8%B3%87%E6%96%99%E5%B7%A5%E7%A8%8B%E5%9C%98%E9%9A%8A">資料工程團隊</a></li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><blockquote>
<p>本次<a href="https://linegroup.kktix.cc/events/20210522-devel">活動頁面</a>: <a href="https://linegroup.kktix.cc/events/20210522-devel">https://linegroup.kktix.cc/events/20210522-devel</a></p>
</blockquote>
<p>開場由 LINE Taiwan CTO - Marco 為大家介紹，因為大環境的關係，觀察到許多人使用網路的方式改變了，同時也看到線上線下整合(Online Merge Offline)的趨勢，而在 LINE 的生態系服務當中有許多都是使用 Online Merge Offline 的方式，如 LINE SHOPPING、LINE SPOT、LINE Taxi…等等。現在也人手一隻手機，並且裡頭也都安裝著 LINE，為了提供用戶在這數位生態圈中生活更加便利，因此我們也就打造了各式各樣的服務來提供給大家。</p>
<p>除了打造服務外，由於人員越來越多，當然也就需要 Developer Relations 這樣的部門角色來建立起優良的內部文化，讓大家除了在打造生態系服務的同時，也可以透過各式各樣的內部活動來互相學習與交流，讓每位工程師可以將自身努力的經驗分享給大家。那到底做了些什麼呢？以下就由 Developer Relations 部門的資深技術推廣工程師 - Evan Lin 為大家介紹這個角色日常都在做些什麼。</p>
<span id="more"></span>

<h2 id="Internal-Developer-Relations"><a href="#Internal-Developer-Relations" class="headerlink" title="Internal Developer Relations"></a>Internal Developer Relations</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/t_WhOd9XVMA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>LINE 的工程文化中，分為以下三點</p>
<ul>
<li><p>Take Ownership</p>
<ul>
<li>我們注重讓每位開發人員的自主權，從規劃、開發、參與討論，讓大家決定該做什麼、該怎麼做。這邊講者首先以 Antman 這個專案為開場介紹，透過工程師們自主提出問題，與不同團隊協同開發，讓壓縮的方式來節省圖片儲存空間(<a href="https://engineering.linecorp.com/en/blog/developing-the-antman-project/">詳細參考此篇</a>)。</li>
<li>接著是去年的 <a href="https://spot.line.me/">LINE SPOT</a> 口罩地圖，因為疫情的關係，剛好搭配 location-based 的 LINE SPOT，在短短的幾天內迅速打造出口罩地圖，讓各位可以在線上就可以查詢還有哪邊還可以買到口罩，在嚴峻的疫情下效率最大化讓大家可以以最有效的方式找到需要的東西。</li>
</ul>
</li>
<li><p>Be Open：我們鼓勵每位同仁多參加研討會或是當講者，除了分享自己在專案上學到的東西外，也能學習不同領域的講者所使用的技能，在以下也會有片段介紹相關內容。</p>
</li>
<li><p>Trust and Respect：因為疫情，我們需要透過 Work From Home 的機制來避免相關問題，透過此案例也驗證了這個文化的精髓。</p>
</li>
</ul>
<script async class="speakerdeck-embed" data-slide="13" data-id="a2866e7dc0a34af7b2f1a15e71b422c4" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<script async class="speakerdeck-embed" data-slide="16" data-id="a2866e7dc0a34af7b2f1a15e71b422c4" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了上述的內容之外，我們也舉辦了舉多官方的 Meetup(如上)並參加<strong>研討會</strong>以及<strong>社群</strong>，不管是透過<strong>實體</strong>&#x2F;<strong>線上</strong>的方式呈現，希望透過這些內容除了讓大家更了解運用的技術之外，也可以更了解究竟要如何才有辦法加入 LINE 的工程團隊當中。</p>
<script async class="speakerdeck-embed" data-slide="27" data-id="a2866e7dc0a34af7b2f1a15e71b422c4" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然除了對外的活動之外，也有許多內部活動，如寫作日、On Job Training、Internal Hackathon…當然還有一年一度的盛會 - TECHPULSE，如果對於這些內部活動相當有興趣的朋友，千萬要多關注以下的內容唷！</p>
<h2 id="LINE-Pay-團隊"><a href="#LINE-Pay-團隊" class="headerlink" title="LINE Pay 團隊"></a>LINE Pay 團隊</h2><script async class="speakerdeck-embed" data-slide="4" data-id="3298c104de1646e89c202f575f04fc4f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了大家平常所使用且熟悉的支付服務以外，其實日常也需要處理<strong>金融相關</strong>、<strong>信用卡回饋</strong>等等的專案內容，而從 <a href="https://www.youtube.com/watch?v=K9ZHOdjZyug">TECHPUSE 2020</a> 之後，LINE Pay 陸續提供了 Extra Service 來達到在地化服務，像是 <strong>我的會員卡</strong>、<strong>廣告投放</strong>與透過<strong>LINE Pay 地圖</strong>讓大家知道到底有哪些商家支援 LINE Pay，不用出門就可以知道可去哪邊使用 LINE Point 回饋點數了。</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rndT5K8isww?start=336" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>在日常處理不同的專案之外，LINE Pay 也含有許多內部 PoC 專案，身為工程師一定會有很多想法想用，想實驗很多新學的東西，透過這些專案去驗證想法的可行性，讓想法有機會進入產品之中。</p>
<p>若認同 LINE Pay 文化，歡迎加入 LINE Pay：</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/76">Front-end Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/75">Server-side Engineer</a></li>
</ul>
<blockquote>
<p>Q: 請問不熟 Java 可以投 LINE Pay backend 嗎? 例如: Python, Go。<br>A: 都歡迎來面試，不過可以多花一點時間準備 JAVA 會比較好。</p>
</blockquote>
<blockquote>
<p>Q: 請問專案開發，包括 planner, dev, security, qa 總共有多少人執行一個專案？<br>A: 實際上人數沒辦法透露，但參與人數會跟專案大小有關。</p>
</blockquote>
<h2 id="LINE-TECH-FRESH-技術新星人才計畫"><a href="#LINE-TECH-FRESH-技術新星人才計畫" class="headerlink" title="LINE TECH FRESH 技術新星人才計畫"></a>LINE TECH FRESH 技術新星人才計畫</h2><script async class="speakerdeck-embed" data-slide="3" data-id="865916ecea2a421587fe956fff64b23d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過去在公開活動中，同仁們時常會被詢問：「實習生再加入後是否只能在特定團隊內工作？」，過往有許多同學透過特定專業能力進到實習生計畫中，而我們都很鼓勵每位同學勇於挑戰不同的領域，持續強化不同的專業能力，找尋出自己的想走的道路。</p>
<script async class="speakerdeck-embed" data-slide="7" data-id="865916ecea2a421587fe956fff64b23d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了日常專案與累積技術能力之外，我們很鼓勵透過文章的方式呈現來記錄自己的學習成果，同時也將自己的學習成果分享給未來的學弟妹們，讓大家可以參考學長姐們的結晶，有興趣可以參考以下內容：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/20210226-golang-event-driven/">輕鬆「Go」建事件驅動應用 @ Golang Taipei Gathering #55</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-dev-day-2020-the-past-and-future-of-machine-learning-research/">LINE Developer Day 2020 – The past and future of machine learning research 議程回顧</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="8" data-id="865916ecea2a421587fe956fff64b23d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>此外，我們每個月皆會舉辦月會讓實習生可以在固定的時間中與不同專業領域的 Mentor 們聊聊，除了了解前輩們過往的經驗之外，透過交流也可以了解到新興人才們所思考以及顧慮的部分，也讓我們能夠更持續的優化這個計畫的內容。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="865916ecea2a421587fe956fff64b23d" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在經過一年的磨練過後，我們也希望菁英同學們有機會加入 LINE 工程部門的大家庭中，一同為 LINE 打造 WoW 的產品給社會大眾，讓你所寫的每一行程式碼都成為大家日常生活的一部份！</p>
<h2 id="LINE-TODAY-團隊"><a href="#LINE-TODAY-團隊" class="headerlink" title="LINE TODAY 團隊"></a>LINE TODAY 團隊</h2><script async class="speakerdeck-embed" data-slide="4" data-id="0e5a937f3ac24af2a3e0c34ddced2ed6" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>作為大家天天會用的主流新聞平台，除了日常提供大家許多新聞相關題材外，其實裡面也含有許多不同的內容，如：<strong>賽事直播</strong>(近期很火紅的 NBA 季後賽也有轉播)、<br><strong>電影訂票</strong>、<strong>選情專區</strong>、<strong>泰國限定的樂透</strong>、<strong>電影</strong>…等等，擁有這麼多功能都是為了讓用戶可以在 LINE TODAY 中看到大家最新、最值得關注的內容。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="0e5a937f3ac24af2a3e0c34ddced2ed6" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>擁有這麼多功能的平台，同時也是一個跨國的產品，同時也提供給泰國、印尼以及香港，為了服務這麼廣大的用戶，在開發流程上也採取了 Large Scale Scrum 的方式(<a href="https://www.youtube.com/watch?v=mMF_cwGGze0">這部分可參考 TECHPULSE 議程</a>)來管理這麼龐大的團隊，目前也正積極找 <a href="https://careers.linecorp.com/jobs/7">Frontend</a>、<a href="https://careers.linecorp.com/jobs/250">Server-Side</a>、<a href="https://careers.linecorp.com/jobs/18">QA Automation</a>、<a href="https://careers.linecorp.com/jobs/19">QA</a> 的工程師，若您對於更詳細的介紹大家可以參考 Recruitment Day 的影片喔！</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jlevziTzues" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="LINE-電商團隊"><a href="#LINE-電商團隊" class="headerlink" title="LINE 電商團隊"></a>LINE 電商團隊</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/Gf8c4Atkmt0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>電商已成為現代人不可或缺的一部份，在本次的議程中很詳細地透過不同的例子(母親節、送禮優惠…)來解釋在 LINE 電商服務中的不同使用情境，讓大家可以更快速的了解透過 LINE 來購買相關東西時的好處以及可用性。</p>
<script async class="speakerdeck-embed" data-slide="5" data-id="1cfe6d52cca148ff96fc555e41ad1f53" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著再透過大家常見的 LINE Point 點數回饋來解釋從 LINE SHOPPING 導購服務中所延伸的整體架構流程，讓大家了解到為了整體的延展性與維護性需要透過怎樣的設計才能夠達到。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="1cfe6d52cca148ff96fc555e41ad1f53" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在電商這麼大的團隊中也與其他團隊一樣，是透過 Scrum 的方式來管理與交付產品，除了有效管理交付內容之外，也可以讓團隊成員以最有效的方式來完成產品內容。</p>
<p>當然團隊裡不可少的 code review 與內部分享會都會有，透過這些流程讓大家在更了解不同成員的思路之外，也能讓團隊中有更多的交流來有效的促進產品的活力！</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/250">Server-Side Engineer</a></li>
</ul>
<h2 id="QA-工程團隊"><a href="#QA-工程團隊" class="headerlink" title="QA 工程團隊"></a>QA 工程團隊</h2><script async class="speakerdeck-embed" data-slide="2" data-id="9b2a340848894e58bc109bd6f19ab992" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>開場 Richard 帶大家了解 Quality Assurance(QA) 以及 Quality Control(QC) 的差別，很多時候會覺得當產品(服務)要上線前只要讓 QA 測完後就可以上線，而若在上線前的階段才做測試，往往所遇到的問題以及付出的代價都會相對高許多。</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="9b2a340848894e58bc109bd6f19ab992" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在 LINE Taiwan QA 部門這邊為了確保整體服務的品質，會在專案早期就參與計劃定製，與 Developer、Design、Planner..等等不同部門的角色一起討論整個流程，協助訂定不同的 Scenario 讓初期的討論可以更加完整。</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="9b2a340848894e58bc109bd6f19ab992" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在開發階段時，QA 同仁則會開始建立許多不同情境的測試案例，同時也與 developer 討論相關情境與測試自動化的相關問題，讓 QA 的同仁可以有更好的切入點找出問題，同時也透過自動化讓整體作業更加順暢。</p>
<script async class="speakerdeck-embed" data-slide="7" data-id="9b2a340848894e58bc109bd6f19ab992" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>同時 QA 團隊除了建置自動化流程外，也會打造 CI&#x2F;CD 輔助優化整體流程。我們透過自動化讓我們獲得了不少的好處。更多精彩內容也歡迎各位參閱影片內容。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="9b2a340848894e58bc109bd6f19ab992" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>若您對於優化提升品質與以及自動化工程等等的工作內容有興趣的話歡迎參考以下職缺，目前也正如火如荼地找尋優秀人才！</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/18">QA Automation Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/19">QA Engineer</a></li>
</ul>
<blockquote>
<p>Q: 請問您們用 cypress 自動化測試工具時，有遇到什麼困難點嗎？</p>
</blockquote>
<ol>
<li>Cypress 是 Javascript based, 大部分的 QA 需要學習了解 JS 的特性</li>
<li>Cypress 不支援 mobile app solution</li>
<li>目前 Cypress 未支援 iframe，官方已經在開發中</li>
<li>Cypress 無法進行垮 domain 測試</li>
<li>團隊從 Python &#x2F; Selenium &#x2F; Robot Framework 體系切換過來，對 JS 開發生態 &#x2F; 語法的不熟悉。這個是透過團隊內部的 study group，以及直接找前端同事請益的方式解決</li>
</ol>
<blockquote>
<p>Q: 當有測試的情境是無法用 cypress 測試時，是如何克服呢</p>
</blockquote>
<ol>
<li>就技術上而言，如果夠了解 JS 相關語言，可以解決蠻多 Cypress 本身的限制。例如上方提到 iframe 的問題，可以運用 jQuery 寫一個 Cypress comment 來處理，抑或是請教前端工程師來協助一同開發 Cypress。</li>
<li>如果是 UX 相關的情境，不得不手動測，自動化的幫助就是把小工具準備好，讓測試執行順暢。</li>
<li>就測試情境上來說，應該蠻多機會會遇到 E2E 需要 cross domain 的 situation．LINE QA 團隊其實會把 test case 維持一個主軸來測試，test case 不會過於複雜，遇到 crosses domain 會運用 mock, stub 等相關 SUT 概念來完成整合測試。</li>
</ol>
<h2 id="Frontend-工程團隊"><a href="#Frontend-工程團隊" class="headerlink" title="Frontend 工程團隊"></a>Frontend 工程團隊</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/HGu7jUmxXJA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>LINE 裡有許多服務都是使用 Web 相關技術打造而成的，而作為前端的一份子，就是要讓用戶可以在 Client 端與 Web 端使用起來的體驗一致，以下這些服務你使用時是否也覺得跟 APP 差不多呢？</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="3448a654c505429ba38fb8c1a7f24a65" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>且由於前端產品線很多，許多時候需要打造共用的工具來讓不同服務可以使用共同的元件，把已有成效的解決方案有計畫的打造出來，除了品質統一與避免重造輪子之外，也讓往後新進來的人員能夠有個標準化的內容參閱來維護既有的產品。</p>
<script async class="speakerdeck-embed" data-slide="9" data-id="3448a654c505429ba38fb8c1a7f24a65" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而接下來公司的方向將會漸漸將重心轉換到自然流量上，因此 Frontend 團隊就會更多處理 <strong>SEO</strong> 與 <strong>Web 效能優化</strong> 相關的工作內容，同時也引入 SSR 以及 AMP 來對齊公司的目標。</p>
<script async class="speakerdeck-embed" data-slide="12" data-id="3448a654c505429ba38fb8c1a7f24a65" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然在裡面也會與不同團隊的成員合作，讓產品可以更快速地交付、維護、更安全以外，內部也會透過分享來讓更多團隊了解不同的解決方案的優點。</p>
<p>最後，Frontend 團隊由於成員會持續協助不同專案以及產品的開發，在大家學習到不同的經驗之後也會透過許多的讀書會來分享不同專案間的差異與經驗，藉由交流也讓彼此可以更快速的上手且了解不同專案的屬性。</p>
<p>今年 <a href="https://careers.linecorp.com/jobs/7">Front-end Engineer</a> 正在擴大招募，尋找在前端領域的高手們來一同來打造驚艷的產品於 LINE 生態系中。</p>
<h2 id="Client-工程團隊"><a href="#Client-工程團隊" class="headerlink" title="Client 工程團隊"></a>Client 工程團隊</h2><p>近期也在打造很火紅的電商直播，讓 LINE 購物可以有效整合直播，優化用戶的邊看邊買的體驗。</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="6d356966131c4673b1f9da890f84754a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了這部分當然也有負責許多其他的在 LINE 中的功能</p>
<ul>
<li>LINE TODAY</li>
<li>影片自動播放</li>
<li>邊看影片邊回訊息的功能(Picture-in-Picture)</li>
<li>訊息長截圖</li>
<li>LINE MUSIC mini player</li>
</ul>
<script async class="speakerdeck-embed" data-slide="5" data-id="6d356966131c4673b1f9da890f84754a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>團隊中除了負責既有產品之外，也會貢獻 Open Source 以及重構以前的程式碼至較新的語言上，除了降低編譯時間外，同時也讓往後進來的人員加入時可以更好的維護程式碼。</p>
<script async class="speakerdeck-embed" data-slide="13" data-id="6d356966131c4673b1f9da890f84754a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>更多職缺請參考<a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-taiwan-developers-recruitment-day/#id-2021recruitmentday%E6%8B%9B%E5%8B%9F%E6%97%A5%E6%96%87%E7%AB%A0-#LINEClientTeam">招募日文章</a></p>
</blockquote>
<h2 id="SRE-團隊"><a href="#SRE-團隊" class="headerlink" title="SRE 團隊"></a>SRE 團隊</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/30kC1wru8Z4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<script async class="speakerdeck-embed" data-slide="3" data-id="23468040be034fd395884b7ab0455ffb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在 SRE 團隊中，<strong>量化指標</strong> 以及 <strong>Data-Driven</strong> 是很重要的兩個部分，接著才會透過工具增加<strong>監測指標</strong>以及<strong>服務的可靠度</strong>，最後若有需要時才會開發<em>標準化</em>的工具給所有團隊使用，也透過提供這些標準化的工具，讓開發者們可以更專注在 application 上。</p>
<script async class="speakerdeck-embed" data-slide="4" data-id="23468040be034fd395884b7ab0455ffb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然為了上述這些事情，SRE 團隊使用許多工具來處理，並藉由一些自動化 alerting 來找尋問題的所在點。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="23468040be034fd395884b7ab0455ffb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>由於服務眾多，且由於服務們皆需面對大量的用戶，因此都需要迅速且系統化的部署應用程式，所以每個團隊的服務都要以 container 的方式呈現，接著會透過 CI&#x2F;CD 的工具整合並部署於 Kubernetes 上，同時也讓服務可以獲得水平擴展的能力來處理大量的請求。</p>
<ul>
<li>延伸閱讀：<a href="https://www.youtube.com/watch?v=jk8nBXb74sQ">How GitOps Helps Kubernete Adoption</a></li>
</ul>
<p>除了上述提到的事情之外，LINE 裡面有許多 PoC 在被實踐之後，避免浪費資源同時也注重開發者體驗，因此在這邊有建立一個內部 <a href="https://www.openfaas.com/">OpenFaaS</a> 的平台提供給需要部署 PoC 的開發者使用，讓大家在最短的時間內部署應用程式測試可行性。</p>
<blockquote>
<p>Q: SRE 要有什麼相關技能呢？<br>A: 這邊提出幾個相關技能，詳細還是以日後 LINE Career 上面開出來的職缺為主喔！<br>Application observability, Public cloud experience (AWS, GCP, Azure), Web application&#x2F;technology stack, CI&#x2F;CD tooling, Linux Operating System,Networking…</p>
</blockquote>
<h2 id="LINE-CLOVA-AI-團隊"><a href="#LINE-CLOVA-AI-團隊" class="headerlink" title="LINE CLOVA AI 團隊"></a>LINE CLOVA AI 團隊</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/kVPn3aPNeWY?start=336" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<hr>
<script async class="speakerdeck-embed" data-slide="4" data-id="155d7a3a5d774d66b6076da5ce516fbc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>許多人第一次認識 CLOVA 時應該都是智慧喇叭，其實在打造產品時也同時打造了 AI 技術平台 - LINE BRAIN，經過了一些時日，將兩個產品名稱合併並稱為 - LINE CLOVA，合併的過程這邊就不贅述，請大家參考影片中的內容。</p>
<blockquote>
<p>更多產品細節可以參考 TECHPULSE 2020 的 <a href="https://www.youtube.com/watch?v=C8j-tZEbMaQ">LINE CLOVA 主議程</a></p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="24" data-id="155d7a3a5d774d66b6076da5ce516fbc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在 LINE Taiwan 團隊這邊，主要以 NLU、FACE、STT、OCR 去打造不同產品的應用，而 LINE Clova <a href="https://careers.linecorp.com/jobs/494">Technical Project Manager</a> 與 <a href="https://careers.linecorp.com/jobs/495">Product Engineer</a> 主要會與總部的核心團隊合作，並利用相關技術在台灣團隊打造本地端 AI 相關應用服務。</p>
<p>大家可能會好奇這兩個職位分別要做什麼(除了看以下內容外也可以參考 LINE Career 上面):</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/494">Technical Project Manager</a>: 系統分析、系統架構規劃、開發與管理 LINE CLOVA 專案</li>
<li><a href="https://careers.linecorp.com/jobs/495">Product Engineer</a>: 設計 DevOps 解決方案、系統整合與實現、PoC、技術支援</li>
</ul>
<h2 id="資料工程團隊"><a href="#資料工程團隊" class="headerlink" title="資料工程團隊"></a>資料工程團隊</h2><script async class="speakerdeck-embed" data-slide="4" data-id="daa6ed1d390a487e8b163a1f9feb4cc3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>資料工程團隊有兩個最主要的目標，一是透過 AI 提升在地化的服務的價值，另一個則是透過資料科學與機器學習的方式讓資料可以洞見在商業上的價值。在兩個目標的支持下，就打造了<strong>POI 推薦系統</strong>、<strong>NLP</strong>、<strong>知識圖譜(Knowledge Graph)<strong>、</strong>增益模型(Uplift Modeling)</strong>…等等相關的服務來提供給不同服務使用，讓大家更了解使用者的輪廓與偏好，更精準的讓使用者收到自己想要的內容。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="daa6ed1d390a487e8b163a1f9feb4cc3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過程中除了很詳細的介紹每個系統背後的運作內容外，也強調了 MLOps 所帶來的好處，透過 MLOps 也讓整體的交付速度更加快速。</p>
<blockquote>
<p>延伸閱讀：</p>
<ul>
<li>LINE TECHPULSE 2020 <a href="https://www.youtube.com/watch?v=YCKYwfGY-Rc">Scaling Machine Learning at LINE</a></li>
<li><a href="https://www.ithome.com.tw/news/143594">LINE 臺灣 AI 團隊現身說法，如何從零開始實作 MLOps</a></li>
</ul>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/W2GwevVxiJM?start=427" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>最後也透過範例來解釋每位角色成員間所會負責到的內容以及工作項目，讓成員在合作中更有效地發揮自己的專業能力。</p>
<script async class="speakerdeck-embed" data-slide="13" data-id="daa6ed1d390a487e8b163a1f9feb4cc3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>相信 AI、ML 這麼熱門的話題與職缺大家一定都很有興趣，大家不妨看看以下的職缺內容吧！</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/334">Data Scientist</a></li>
<li><a href="https://careers.linecorp.com/jobs/333">Data Engineer</a></li>
<li><a href="https://careers.linecorp.com/jobs/83">TECH FRESH Program</a></li>
</ul>
<h1 id="其他問題回覆"><a href="#其他問題回覆" class="headerlink" title="其他問題回覆"></a>其他問題回覆</h1><blockquote>
<p>Q: 使用其他技術為自己主要技能樹，是否也能加入 LINE 呢？<br>A: 我們重視基礎觀念與實際解決問題的能力，若您有把握也歡迎來聊聊！</p>
</blockquote>
<blockquote>
<p>Q: 是否提供新加坡職缺呢？<br>A: 地區與職缺部分以 <a href="https://careers.linecorp.com/jobs?co=Taiwan">LINE Career</a> 上面為主。</p>
</blockquote>
<blockquote>
<p>Q: 是否有曾在專案開發時，同時收到許多 Production Issue 導致需要花額外的人力解決，而影響專案的時程呢？<br>A: QA 團隊在專案開始時就訂定許多 scenario 來降低服務上線時所會遇到的 issue。如上線時遇到了其他的 issue，我們會在最短時間內評估問題與訂定處理流程，盡可能地降低其他專案被影響的時間。</p>
</blockquote>
<blockquote>
<p>Q: 開發時的技術選用及架構方式，是由 tech lead 決定亦或是由成員們討論而產生呢？<br>A: 由每個成員們討論來選用技術架構(lead 也會參與其中)，也藉由討論來找尋不同專案中所會遇到的問題。</p>
</blockquote>
<blockquote>
<p>Q: “<a href="https://careers.linecorp.com/jobs/250">Server-Side Developer - Common Platform</a>“ 職缺所負責的內容是？<br>A: 工作內容會以 Global 的產品為主，歡迎對於跨國產品有興趣的大家前來投遞履歷喔！</p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
      </tags>
  </entry>
  <entry>
    <title>加入 LINE TECH FRESH，開啟你的職場新鮮人生！</title>
    <url>/2023/03/03/line-tech-fresh-2023-spring/</url>
    <content><![CDATA[<p><img src="https://vos.line-scdn.net/landpress-content-v2_954/1661485421372.png?updatedAt=1661485422000"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>LINE TECH FRESH 是 LINE 技術新星人才計畫，旨在培養年輕人扎實的技術實力和軟實力，並提供全方位的職涯發展支援。</p>
<p>該計畫主要針對具備程式設計、資訊工程、電機電子等相關科系背景的大學畢業生，提供一年的專業訓練課程和實習機會，並且與 LINE 內部各部門的專業人才進行交流和學習。</p>
<p>此外，LINE TECH FRESH 也提供完善的職涯發展支援，包括個人職涯規劃、內部培訓課程、專業技能提升、實習薪資、轉正機會等，讓年輕人能夠在 LINE 中發揮潛力，實現個人職業目標。</p>
<span id="more"></span>

<h1 id="2023-TECH-FRESH-Summer-Class-介紹"><a href="#2023-TECH-FRESH-Summer-Class-介紹" class="headerlink" title="2023 TECH FRESH Summer Class 介紹"></a>2023 TECH FRESH Summer Class 介紹</h1><h2 id="Android-Dev-amp-iOS-Dev"><a href="#Android-Dev-amp-iOS-Dev" class="headerlink" title="Android Dev &amp; iOS Dev"></a><a href="https://careers.linecorp.com/jobs/1993">Android Dev</a> &amp; <a href="https://careers.linecorp.com/jobs/1997">iOS Dev</a></h2><p>LINE 是台灣和東亞最大的通訊服務供應商，也提供了包括電子商務、物聯網、金融科技、人工智慧、區塊鏈等全方位的服務。現在，我們正在尋找對於 mobile development 有濃厚興趣且具備創意的年輕人才，來豐富 LINE 平台的可能性。</p>
<p>在這個充實的實習中，你們將有機會與 Mobile 專家合作，一起創造新功能，讓 LINE App 和 LINE SHOPPING App 更加完美，並讓你和你的朋友每天使用更便利！</p>
<h3 id="職責"><a href="#職責" class="headerlink" title="職責"></a>職責</h3><ul>
<li>創新和優化 LINE App、LINE SHOPPING App 和新產品。</li>
<li>與跨團隊 Scrum 團隊合作，持續改進用戶體驗。</li>
<li>與各國和領域的同事合作。</li>
<li>參與新產品開發和技術研究。</li>
</ul>
<h3 id="基本資格"><a href="#基本資格" class="headerlink" title="基本資格"></a>基本資格</h3><ul>
<li>有一個或多個專案可供展示。</li>
<li>強大的問題解決能力。</li>
<li>熱愛產品開發。</li>
<li>(Android)具有移動開發經驗，Android 或 Flutter（優先）。</li>
<li>(iOS)具有移動開發經驗，iOS 或 Flutter（優先）。</li>
<li>參與開源開發（優先）。</li>
</ul>
<h2 id="Sticker-x2F-FactChecker"><a href="#Sticker-x2F-FactChecker" class="headerlink" title="Sticker&#x2F;FactChecker"></a><a href="https://careers.linecorp.com/jobs/2000">Sticker&#x2F;FactChecker</a></h2><p>這是一個絕佳的機會，你將有機會參與網站開發和活動網站建置，進而提升數百萬人的使用體驗。</p>
<p>責任包括參與開發網路服務和活動網站，實踐良好的軟體服務。</p>
<p>基本資格為快速學習軟體相關領域、熟悉至少一種程式語言、問題解決能力、團隊合作和溝通能力。</p>
<p>優先考量有一個或多個應用程式展示、獨立研究或論文研究表現良好、熟悉 Git、CI 和 CD，以及網路應用程式開發。</p>
<p>如果你熱衷於開發並且渴望讓更多人使用你的作品，歡迎加入我們！</p>
<h2 id="LINE-TODAY-Content-Data-Dev"><a href="#LINE-TODAY-Content-Data-Dev" class="headerlink" title="LINE TODAY Content Data Dev"></a><a href="https://careers.linecorp.com/jobs/2002">LINE TODAY Content Data Dev</a></h2><p>這是一個加入 LINE TODAY Data 團隊的機會，透過開發創新的機器學習模型，增強我們的內容產品並改善用戶體驗。<br>我們正在尋找熱愛挑戰並熱衷於在 LINE TODAY 創造實質影響的人才。您的責任是開發 ML 模型 prototypes 並用於 recommendation scenario、評估模型表現，並與合作同事進行必要的改進與溝通。</p>
<h2 id="QA-Dev"><a href="#QA-Dev" class="headerlink" title="QA Dev"></a><a href="https://careers.linecorp.com/jobs/2003">QA Dev</a></h2><p>在 LINE Taiwan 工程團隊裡，開發人員與 QA 工程師密切合作以達成相同目標。開發人員負責應用程式開發，而 QA 工程師則建立測試自動化流程和工具，以確保產品符合客戶和其他利益相關者的需求。</p>
<p>為了減少手動測試的工作量並保持高品質的服務，我們利用工具建立自動化測試腳本，以加速手動測試。此外，作為一個工程師，我們會持續鼓勵各位繼續學習並分享所學。</p>
<p>職責：</p>
<ul>
<li>建立自動化測試腳本以加速產品回歸測試</li>
<li>執行負載測試以保證產品容量</li>
<li>建立健康檢查監控以確保產品品質和可靠性</li>
<li>維護和改進 CI&#x2F;CD (Jenkins&#x2F;K8S) 框架</li>
<li>開發工具以便於測試活動並解決測試限制</li>
<li>識別品質問題，推動解決相應的措施</li>
</ul>
<h2 id="Content-Dev"><a href="#Content-Dev" class="headerlink" title="Content Dev"></a><a href="https://careers.linecorp.com/jobs/2004">Content Dev</a></h2><p>這個職位主要負責建構並維護使用者數百萬人次的網站。工作內容包含參與網站開發、實施良好的軟體實務以及建立有用的內容來擴大 LINE 生態系統，例如製作手機鈴聲的音樂、景點介紹、口袋名單以及線上演唱會等等。</p>
<p>我們正在尋找熱愛挑戰、對自動化及軟體開發有熱情的人才。為了降低手動測試的負擔及保持高品質的服務，我們利用自動化測試腳本的工具，加速手動測試流程。另外，身為工程師，你也被鼓勵繼續學習並分享所學。</p>
<p>基本要求包含對軟體領域的快速學習能力、至少熟悉一種程式語言、強大的解決問題能力以及團隊合作與溝通的能力。加分條件則包括具有應用程式開發展示、獨立研究或論文研究表現良好、熟悉 Git、CI 和 CD、以及熟悉網路應用程式開發。</p>
<p>如果你對這個職位有興趣，歡迎投遞履歷。</p>
<h2 id="EC-Backend-Dev"><a href="#EC-Backend-Dev" class="headerlink" title="EC Backend Dev"></a><a href="https://careers.linecorp.com/jobs/1994">EC Backend Dev</a></h2><p>我們想找台灣優秀的青年才俊，專精於 Web Server、Application 和平台開發。你將有機會和經驗豐富的工程師們合作，加入世界一流的應用程式開發團隊。</p>
<p>工作內容包括為台灣和全球市場建立新服務元件，設計和建立電子商務微服務的核心後端軟體元件，例如付款、出貨和結算。你還可以建立 API 和服務，讓內部服務和第三方整合並使用 LINE 服務。我們希望你能與 LINE 全球開發團隊緊密合作，一起開發優秀的產品。</p>
<h2 id="Frontend-Engineer-amp-LINE-TODAY-Content-Server-Side-Dev"><a href="#Frontend-Engineer-amp-LINE-TODAY-Content-Server-Side-Dev" class="headerlink" title="Frontend Engineer &amp; LINE TODAY Content Server-Side Dev"></a><a href="https://careers.linecorp.com/jobs/1995">Frontend Engineer</a> &amp; <a href="https://careers.linecorp.com/jobs/1996">LINE TODAY Content Server-Side Dev</a></h2><p>LINE TODAY 是一個新聞內容服務，涵蓋台灣和東亞地區，不僅提供最新的新聞，還提供各種服務和資訊。</p>
<p>在這個角色中，您將有機會作為開發人員與多個利益相關者互動。您將學習驗證業務需求，並將其轉化為技術實現，並服務於數百萬用戶。</p>
<p>責任：</p>
<ul>
<li>參與 Web 開發，包括實現新的需求，解決路由問題，監控統計數據。</li>
<li>參與實施製作強健軟體服務的良好實踐。</li>
</ul>
<h2 id="Data-Dev"><a href="#Data-Dev" class="headerlink" title="Data Dev"></a><a href="https://careers.linecorp.com/jobs/1998">Data Dev</a></h2><p>我們正在尋找一位機器學習工程師實習生！如果你對機器學習的開發和優化感到興趣，那你就可以加入我們的資料團隊，一起開發世界級的資料應用程式！在這個職位中，你將有機會與我們的資料專家一起工作，學習如何運用機器學習技術和高級分析來提高 LINE 服務的品質。</p>
<p>你的主要職責是運用機器學習技術和高級分析方法，提升 LINE 服務的品質，如 regression, classification, clustering, time series, gradient boosting tree 等。你需要根據業務需求，收集 Log、提取特徵和建立機器學習模型，為 LINE TODAY、LINE STICKER、LINE 購物等 LINE 台灣服務進行特徵工程和機器學習算法 prototypes 開發，並撰寫 API，如 RESTful API、gRPC 等。如果你對這些工作感興趣，請立即加入我們的團隊！</p>
<h2 id="Full-Stack-Dev"><a href="#Full-Stack-Dev" class="headerlink" title="Full Stack Dev"></a><a href="https://careers.linecorp.com/jobs/1999">Full Stack Dev</a></h2><p>在 LINE 這份 full stack 實習工作中，你將有機會參與開發網頁服務和&#x2F;或活動網站，並實現優質軟體服務的最佳實踐。基本資格包括快速學習軟體領域、熟悉至少一種程式設計語言、解決問題能力、團隊合作和溝通能力。首選條件包括具備一個或多個可展示的應用程式、獨立研究或論文研究、熟悉 Git、CI 和 CD 以及熟悉網頁應用程式開發。在這份實習中，你將有機會建立和維護數百萬人使用的網站。</p>
<h1 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://qr-official.line.me/gs/M_908lugfe_BW.png">@line_tw_dev</a></p>
<img src="https://qr-official.line.me/gs/M_908lugfe_BW.png" width="200" height="200">

<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>TECH FRESH</tag>
        <tag>Intern</tag>
      </tags>
  </entry>
  <entry>
    <title>【LINE TECH FRESH】2021 屆畢業囉！這一年來又有什麼新鮮事呢？</title>
    <url>/2022/07/12/line-tech-fresh-graduate-2022/</url>
    <content><![CDATA[<p>2021 屆的 <a href="https://careers.linecorp.com/jobs/83">TECH FRESH</a> 在六月底時已經畢業囉！不管是繼續留下，抑或是生涯另有規劃，相信在 LINE 研發工程團隊中經歷的一切都會讓大家印象深刻。而除了日常的開發工作外，究竟在其他的工作時間 <a href="https://careers.linecorp.com/jobs/83">TECH FRESH</a> 會經歷哪些活動呢？讓我們一探究竟！</p>
<span id="more"></span>

<h1 id="把握每次的曝光機會"><a href="#把握每次的曝光機會" class="headerlink" title="把握每次的曝光機會"></a>把握每次的曝光機會</h1><p>我們日常在工作中，有許多的研討會&#x2F;讀書會&#x2F;社群&#x2F;訓練&#x2F;社團…可以參加，一直以來我們都很鼓勵每位同仁多分享自己在日常生活的經驗(不僅限工作)，當然同學們也不例外啦！以下讓大家看看這一年來有參加哪些活動吧！</p>
<h2 id="發揮你的創意！內部黑客松競賽"><a href="#發揮你的創意！內部黑客松競賽" class="headerlink" title="發揮你的創意！內部黑客松競賽"></a>發揮你的創意！<a href="(https://engineering.linecorp.com/zh-hant/blog/internal-hackathon-2021/)">內部黑客松競賽</a></h2><p><img src="https://engineering.linecorp.com/wp-content/uploads/2022/04/1-1024x768.jpeg"></p>
<p>在 2021 十一月，舉辦了<a href="https://engineering.linecorp.com/zh-hant/blog/internal-hackathon-2021/">【AI For The New Normal】 LINE Taiwan Internal Hackathon 2021</a>，雖然當時因為疫情的關係有大多隊伍都於線上組隊&#x2F;討論，在十一月時也順利舉辦，以跨部門組隊為核心，讓每個隊伍可以在黑客松期間，認識到平時可能不會接觸到的同事！</p>
<p>而這場活動當然也都有不同屆的 TECH FRESH 參與其中，不管最後成績如何，相信在過程中與跨部門同仁合作、各種應用發想的討論經驗都會是非常寶貴的！</p>
<h2 id="年度研討會-登壇-TECHPULSE-2022"><a href="#年度研討會-登壇-TECHPULSE-2022" class="headerlink" title="年度研討會 - 登壇 TECHPULSE 2022"></a>年度研討會 - 登壇 <a href="https://techpulse.line.me/">TECHPULSE 2022</a></h2><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/techpulse.png"></p>
<p>過去在 2020 年時，大家還能線下聽精彩議程與交流，而在這次雖然只能透過線上直播的方式進行，而在這一年一度研討會當下則是大多同事&#x2F;同學初體驗，從 <mark>投稿-審核&#x2F;入選-簡報製作-講者訓練-行前演練-化妝-錄製</mark> 經過重重關卡，讓講者們可以表現最好的一面給螢幕前的各位，相信經過這次的經驗，同學們也體驗到研討會等級的準備過程，未來在各種分享會上都能借鏡這次的經驗，讓表現更上一層！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-techpluse-2022-session-throw-back/#line-tech-fresh-programhttpsmusic-twlinemeliveplayer73d6151e-159f-4435-a3ec-82481b27b6d6">【LINE TECHPLUSE 2022】議程回顧</a></li>
</ul>
<blockquote>
<p>TECHPULSE 2022 - TECH FRESH session</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-c26eLPUuOI?start=240" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="社群活動-拉近同學與-LINE-的距離"><a href="#社群活動-拉近同學與-LINE-的距離" class="headerlink" title="社群活動 - 拉近同學與 LINE 的距離"></a>社群活動 - 拉近同學與 LINE 的距離</h2><p><img src="https://nijialin.com/images/2022/ldm16/1.jpg"></p>
<p>日常大家會在各種技術社團看到 LINE 的相關同仁到處分享工作上開發的經驗，就連我們在公司內部也有大量的讀書會&#x2F;工作坊運作著，因此我們也會鼓勵所有的同學，進來 LINE 之後，要試著找到機會分享自己所學，別覺得自己只是新人就不敢分享，畢竟大家工作一陣子後，也需要不同角度的想法來碰撞出新的方向，因此不管在內部或外部，也希望大家踴躍分享！</p>
<p>而以下則為 2021 同學們參加各種活動累積的內容，如果你也關注 <a href="https://careers.linecorp.com/jobs/83">TECH FRESH</a> 日常能做什麼，歡迎參考看看學長姐的經驗吧！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/show-you-my-wisdom-test-corner-32/">我的聰明，讓你知道 @ Test Corner 32</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/data-dev-team-tech-fresh-life-1/">資料工程團隊 TECH FRESH 實習生活分享</a></li>
<li><a href="http://ㄍhttps//engineering.linecorp.com/zh-hant/blog/data-dev-team-tech-fresh-life-2/">Data Dev Team 實習生在做什麼？LINE TECH FRESH 生活心得分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/qa-automation-engineer-line-shopping/">QA — Automation Engineer 日常都在做什麼？以 LINE SHOPPING 為例</a></li>
</ul>
<h1 id="我們畢業囉！TECH-FRESH-畢業分享會"><a href="#我們畢業囉！TECH-FRESH-畢業分享會" class="headerlink" title="我們畢業囉！TECH FRESH 畢業分享會"></a>我們畢業囉！TECH FRESH 畢業分享會</h1><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/fb_blog.png"></p>
<blockquote>
<p>古人常說:「如果不曝光分享讓更多知道你，沒有人知道你到底做了多少事。」</p>
</blockquote>
<p>最後，在大家在實習旅途的最後，內部舉辦了一年一度的 TECH FRESH 畢業分享，藉由這個內部公開活動，讓同學可以整理這一年來在工程部門的經驗，也因為 TA 來自大大小小的部門，在準備上就需要思考更多的面相，以下就分享一些畢業展上的內容給大家～</p>
<h2 id="關於開發，可能會讓你很驚訝的-POINTS"><a href="#關於開發，可能會讓你很驚訝的-POINTS" class="headerlink" title="關於開發，可能會讓你很驚訝的 POINTS"></a>關於開發，可能會讓你很驚訝的 POINTS</h2><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/1.png"></p>
<p>這組同學手氣非常好，抽組別時開抽就到了第一組，開場就由 Yi Han 打先鋒，介紹了 QA TECH FRESH 在 LINE SHOPPING 擔任的腳色與定位，分享了許多測試相關的機制與自動化的撇步，讓大家了解到實習生來到 QA 團隊其實也是可以學到非常多精實的內容！</p>
<p><img src="https://nijialin.com/images/2022/tech-fresh-2022/1-1.png"></p>
<p>另一方面由 Euni 介紹了如何研究開源 feature flagging 工具：Flagr 的一些技巧，並且分享如何文件化讓內部同仁未來可以更有效率地從文件中找到更多有用的資訊。而最後兩位透過對談的形式來分享一下實習中的一些甘苦談，讓 Yi Han 在畢業之餘也可以把更多的經驗傳承給 Euni，讓接下來實習的過程有個借鏡，學到更多更不宜樣的經驗！</p>
<h2 id="歸剛欸！前端開發經驗談"><a href="#歸剛欸！前端開發經驗談" class="headerlink" title="歸剛欸！前端開發經驗談"></a>歸剛欸！前端開發經驗談</h2><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/2-1.png"></p>
<p>接下來由 Jerry、JunBin 分享在做一些活動上的專案時，需要注意哪些細節，才能讓更多的用戶達到更好的體驗，這邊就以前陣子「澎湖花火節」來當作範例跟大家分享用到的前端小撇步，因為有許多支援性的問題(各種手機支援、瀏覽器)，當中也用到許多原生 JS 的作法，讓專案在上線之餘也可以增加未來的可維護性。</p>
<p><img src="https://nijialin.com/images/2022/tech-fresh-2022/2-2.png"></p>
<p>也因為跟上不同的專案，了解到除了與開發者們溝通之外，與不同團隊也需要有很多的技能，在這邊也學到不同的內容呢！</p>
<h2 id="EC-叢林開始的異世界生活"><a href="#EC-叢林開始的異世界生活" class="headerlink" title="EC: 叢林開始的異世界生活"></a>EC: 叢林開始的異世界生活</h2><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/3.png"></p>
<p>一開始由 TU 分享從再 iOS &amp; Android team 中所學的內容，在團隊中除了有各種讀書會分享不同精實的開發技巧(Clean architecture、DDD…)，也參與許多不同的內部專案，協助許多運作流程的改善，並精簡的描述在團隊中擔任的角色與團隊屬性；此外 TU 也參加公司不同的對外活動，如 TECHPULSE、Developer Meetup，學習把實習之間的資訊整理出去，不僅在專業上有顯著進步，在口條上也能有明顯進展！</p>
<blockquote>
<p>參考團隊分享的影片</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/NqqjX7sdCD0?start=34" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p><img src="https://nijialin.com/images/2022/tech-fresh-2022/3-1.png"></p>
<p>接著輪到 Frank 分享，開發<a href="https://sme.linebiz.com/tw">SMB Website</a>時，需要從 VM 的方式搬到 Container-Based 的架構上，初期因為不太熟悉，需要花較多的時間鑽研，卡關時也需要整理自己遇到的問題，清楚的列出自己的問題詢問 Mentor，降低雙方的溝通成本，也加速問題的排解，從中不僅學到參與開發的專案從 0 到上線，也學習到許多的軟實力。</p>
<blockquote>
<p>雖然初期看到問題都頭很痛，不過隨著學習越來越多就更能收斂問題！</p>
</blockquote>
<h2 id="「資料多的是你不知道的事」-一起變成資料管理大師"><a href="#「資料多的是你不知道的事」-一起變成資料管理大師" class="headerlink" title="「資料多的是你不知道的事」- 一起變成資料管理大師"></a>「資料多的是你不知道的事」- 一起變成資料管理大師</h2><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/4.png"></p>
<p>來到了第四組，由 Data Dev team 三位女孩組成，分享在裡面做到的工作內容，由身為 Data Analyst, Data Scientist 及 Data Engineer 三個面向去帶到，從跟隨正職一起分析 Voom 的一些內容、Knowledge Graph、推薦系統、及許多 NLP 上的開發，當中的內容大綱也非常有趣，分享給大家：</p>
<ul>
<li>如果是實習生看到 - Voom，不喜歡他的話，那就不是實習生</li>
<li>做不到一人的寵愛，那就做萬人的喜歡</li>
<li>我不渣，只想給每個 service 一個家</li>
<li>寶貝，你聽我解釋</li>
</ul>
<blockquote>
<p>其中一位同學分享的文章： <a href="https://engineering.linecorp.com/zh-hant/blog/data-dev-team-tech-fresh-life-2/">Data Dev Team 實習生在做什麼？LINE TECH FRESH 生活心得分享</a></p>
</blockquote>
<h2 id="降肉！降肉！在實習地圖中找到你的熱點"><a href="#降肉！降肉！在實習地圖中找到你的熱點" class="headerlink" title="降肉！降肉！在實習地圖中找到你的熱點"></a>降肉！降肉！在實習地圖中找到你的熱點</h2><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/5.png"></p>
<p>最後由 Steve 帶來在 <a href="https://spot.line.me/">LINE SPOT</a> 團隊中的實習生活，作為一個前端的 TECH FRESH，除了了解瀏覽器、效能及語言特性外，時常也會做到 UI 上的改良，讓各種用戶&#x2F;小編的體驗可以更棒，下圖則是 Steve 其中負責的一個部分。</p>
<p><img src="https://nijialin.com/images/2022/tech-fresh-2022/steve.gif"></p>
<p>而在 LINE SPOT 團隊中因為有專職的 Scrum Master 帶領，讓團隊的同仁可以更有效的進行工作，讓功能可以更快速的迭代上去。Steve 也分享了以 <a href="https://careers.linecorp.com/jobs/83">TECH FRESH</a> 在一個 Scrum team 裡面的經驗談，學習到許多在學校之外更難得可貴的業界經驗，了解到分工的重要性，</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/2ca0ce07777a44368b36b49e3432caa5?slide=17" title="LINE Dev Meetup 16 - Frontend &amp; LINE SPOT" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>最後也分享 Steve 在工作上的一些個人經驗分享：</p>
<ul>
<li>嘗試自己解決問題<ul>
<li>試著了解問題的本質，順利解決後也會更有印象；即便解不出來，也能有條理的整理問題詢問 Mentor。</li>
</ul>
</li>
<li>尋找最佳的解決方案<ul>
<li>原生好？套件好？這在現實工作中沒有一定的解答，在每個環境下尋找最佳解都是個有挑戰的解法！</li>
</ul>
</li>
<li>注重質與量<ul>
<li>太過注重「質」，時程會變很長，甚至耽誤到其他的 task；反之太注重「量」，則會犧牲很多品質，如何在當中取捨也是在團隊中學習到的一個課題。</li>
</ul>
</li>
<li>挑戰新事物<ul>
<li>LINE 裡面很鼓勵每位實習生勇敢挑戰不同的專案，累積專業能力的同時，也能增廣見聞！</li>
</ul>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2022/tech-fresh-2022/TECH_FRESH.png"></p>
<p>感謝每一位同學的加入，因為各位的加入，許多內&#x2F;外部專案才能順利完成，雖然在這畢業的季節許多同學因為規劃而離開，希望在這一年裡所學的每個技能都讓同學們未來的道路更加順遂！</p>
<blockquote>
<p>如果有學校&#x2F;系學會&#x2F;社團想與我們合作，以下的部落格提供給大家，更多校園資訊都在其中，歡迎大家與我們聯絡<br><a href="https://engineering.linecorp.com/zh-hant/blog/line-devrel-campus/">https://engineering.linecorp.com/zh-hant/blog/line-devrel-campus/</a></p>
</blockquote>
<h4 id="如何申請校園企業參訪"><a href="#如何申請校園企業參訪" class="headerlink" title="如何申請校園企業參訪"></a>如何申請校園企業參訪</h4><p>想知道如何申請校園企業參訪嗎？ 歡迎各個系學會與相關社團發送各位的需求到這個連絡信箱： <a href="mailto:&#x64;&#108;&#x5f;&#x74;&#119;&#x6e;&#x5f;&#x64;&#x65;&#x76;&#114;&#101;&#108;&#64;&#108;&#x69;&#110;&#101;&#99;&#x6f;&#x72;&#x70;&#46;&#x63;&#111;&#109;">&#x64;&#108;&#x5f;&#x74;&#119;&#x6e;&#x5f;&#x64;&#x65;&#x76;&#114;&#101;&#108;&#64;&#108;&#x69;&#110;&#101;&#99;&#x6f;&#x72;&#x70;&#46;&#x63;&#111;&#109;</a></p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LINE TECH FRESH</tag>
      </tags>
  </entry>
  <entry>
    <title>TECH FRESH 實習的一年間，除了開發還有什麼內部活動呢？</title>
    <url>/2021/06/30/line-tech-fresh-graduate/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/fresh-gradute/3.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>LINE 首次在 2020 以<strong>技術新星人才計畫</strong>來大舉招募眾多優秀的同學加入 LINE 的大家庭，更多 TECH FRESH 實習計畫的內容在先前的文章中都有介紹，請參考以下：</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
</ul>
<p>而本次的文章會介紹今年度從加入 LINE 大家庭之後 LINE 究竟提供了些什麼內容讓每位同學在實習的期間可以收穫滿滿，是不是內部有著各式各樣的活動等著同學們報名參加呢？大家就緊接著往下看吧！</p>
<span id="more"></span>

<h1 id="On-Job-Training"><a href="#On-Job-Training" class="headerlink" title="On Job Training"></a>On Job Training</h1><p><img src="https://nijialin.com/images/2021/fresh-gradute/2.jpeg"></p>
<p>如字面上所表示，加入 LINE 大家庭中，除了與部門 Mentor 了解部門工作內容與開發環境外，<strong>開發者關係與技術推廣部門</strong>(Developer Relations, 以下簡稱 <strong>DevRel</strong>)會為每位新進同仁舉辦了新人的 On Job Training，可以在上班日了解整個 Engineering Office 的交戰守則與相關規定，讓每位同仁在進入時能夠以最精實的方式認識接下來所工作的環境。</p>
<p>除了聽各種講題瞭解不同部門所負責的內容，當中也透過互動遊戲帶大家認識同梯(桌)的同仁，促進同仁間的交流也讓大家可以在茶水間時可以互相聊聊～</p>
<blockquote>
<p>更多 On Job Training 內容請看這邊 - <a href="https://engineering.linecorp.com/zh-hant/blog/2020-new-employee-traning/">【LINE】新進員工的內部訓練花絮</a></p>
</blockquote>
<h1 id="Internal-Hackathon-2020"><a href="#Internal-Hackathon-2020" class="headerlink" title="Internal Hackathon 2020"></a>Internal Hackathon 2020</h1><p><img src="https://nijialin.com/images/2021/fresh-gradute/5.png"></p>
<p>加入 LINE 一陣子後，大家也開始加入各個專案的開發工作中，逐步熟悉每個技術的使用環節。接著每年這個時候 DevRel 會為所有人舉辦 Internal Hackathon，除了讓各位可以跨部門尋找夥伴發揮創意拚獎金外，在這場黑客松中也是有許多開發能量超高的實習生加入發想出許多創新的功能，甚至題目在茫茫人海比賽中脫穎而出，還被排進內部專案開發流程上，進一步讓團隊的內容可以被更多人看見！</p>
<h1 id="TECH-FRESH-Monthly"><a href="#TECH-FRESH-Monthly" class="headerlink" title="TECH FRESH Monthly"></a>TECH FRESH Monthly</h1><p><img src="https://nijialin.com/images/2021/fresh-gradute/4.png"></p>
<p>時常不管在哪個場合都會有許多朋友會有類似的問題，「前端都在做什麼呢？」、「SRE 是什麼」、「資料工程如何運作？」..等等的問題。</p>
<p>在 Engineering 這邊，DevRel 會定期在內部邀請不同部門的 Leader&#x2F;Mentor 來與同學介紹部門、過往經歷以及互動，在這活動中 DevRel 也期許每位同學在進入職場之前能夠了解&#x2F;學習到不同前輩們的經驗，除了在專業知識的累積之外，也讓同學們了解到 Engineering Office 的多元性。</p>
<p>當然在活動中 Leader&#x2F;Mentor 們與同學們互動時也是從中受益良多啦！</p>
<h1 id="TECHPULSE-的舞台上分享實習經驗"><a href="#TECHPULSE-的舞台上分享實習經驗" class="headerlink" title="TECHPULSE 的舞台上分享實習經驗"></a>TECHPULSE 的舞台上分享實習經驗</h1><p><img src="https://nijialin.com/images/2021/fresh-gradute/7.png"></p>
<p>在 TECHPULSE 2020 首次開放讓同學們可以爭取在千人舞台的機會，讓同學可以在大型活動中在舞台上與觀眾們分享自己在 LINE 實習這段時間所汲取的經驗與各種環境分享。同學們雖然事前準備時都表示非常緊張，上台很容易忘詞等等的緊張感，但實際上台時發現根本超乎想像～～每一位同學都發揮 200% 讓大家聽的津津有味，真的是很出戶意料！</p>
<p><img src="https://nijialin.com/images/2021/fresh-gradute/6.jpeg"></p>
<p>當然我們還有 TECH FRESH 攤位啦！除了有 HR 與各位仔細解說每個工作的細節與各種流程外，同學們也都有安排時段在攤位當中與大家分享自己的經驗談，包括如何加入實習、跨團隊&#x2F;國合作、工作環境…等等，在後續同學們表示：「有這麼棒的機會與每位聽眾分享真的很難得，且在交流與回答的過程中為了表現最好的一面給人家看，大家都會用盡渾身解術」</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020-event/">LINE TAIWAN TECHPULSE 2020 活動安排幕後祕辛</a></li>
</ul>
<h1 id="日常的內部工作坊"><a href="#日常的內部工作坊" class="headerlink" title="日常的內部工作坊"></a>日常的內部工作坊</h1><p>Engineering Office 非常注重每位同仁對於基礎知識的掌握，時常會有不同部門開設不同的工作坊讓大家參加，當然不例外我們也都開放給 FRESH 們一起參加，有好康大家一起學！一同讓資深的同事透過工作坊把各位的開發經驗繼續 up up ～</p>
<ul>
<li>Docker&#x2F;Kubernetes</li>
<li>Data Science&#x2F;Machine Learning</li>
<li>其他專案的內部工作坊</li>
</ul>
<blockquote>
<p>當然除了以下的也是我有參加的之外，每個部門也會依照不同性質與工作內容去開設工作坊，讓大家去參加。</p>
</blockquote>
<h1 id="參與開源社群"><a href="#參與開源社群" class="headerlink" title="參與開源社群"></a>參與開源社群</h1><p>平時我們也很鼓勵每位同學分享自身的經驗(實習、技術)給別人知道，在分享的過程中也是同步讓同學可以經過這次經驗增進舞台表現，除了讓更多人一同學習經驗外，也幫助自己整理學習過程的紀錄！</p>
<ul>
<li>TWJUG - <a href="https://engineering.linecorp.com/zh-hant/blog/2020-10-21-twjug/#line-%E5%AF%A6%E7%BF%92%E7%B6%93%E9%A9%97%E5%88%86%E4%BA%AB--wayne-wu">LINE 實習經驗分享 &#x2F; Wayne Wu</a></li>
<li>Golang - <a href="https://engineering.linecorp.com/zh-hant/blog/20210226-golang-event-driven/">輕鬆「Go」建事件驅動應用 @ Golang Taipei Gathering #55</a></li>
</ul>
<blockquote>
<p>今年更有 LINE 實習生在 COSCUP 2021 - Cloud Native&#x2F;Chatbot 分享噢！</p>
</blockquote>
<h1 id="TECH-FRESH-畢業展"><a href="#TECH-FRESH-畢業展" class="headerlink" title="TECH FRESH 畢業展"></a>TECH FRESH 畢業展</h1><p><img src="https://nijialin.com/images/2021/fresh-gradute/1.JPG"></p>
<p>最後在大家實習屆滿之時，DevRel 舉辦了 TECH FRESH 畢業展讓同學可以完整的整理過去這一年的實習內容，讓公司裡的每位同仁可以透過此次活動了解 TECH FRESH 們在日常是如何扮演個小螺絲釘幫助每個專案的開發&#x2F;研究，雖然同時間因為疫情關係從線下的方式轉為線上，但大家在線上還是很熱烈的參加與互動，讓同學們可以在最後一場專場活動中與來自不同部門的同仁互動～</p>
<p>當然除了 Present 並與同仁們討論專業技術之外，同學們報名的隊伍名稱也相當具有創意，以下分享給大家：</p>
<ul>
<li>一袋資料要扛幾樓</li>
<li>在 Datapark 七坐八爬九發牙</li>
<li>HR onLINE 改變你的上班生活</li>
<li>today 我想來點文章群聚</li>
</ul>
<p>除了參加人數眾多外，大家為了在投票環節時拉票來獲取精美的獎項，同學們不惜準備了各種專有技能感謝每位投票給他們團隊的同仁們，讓整個場面又再度超級熱絡！</p>
<p><img src="https://nijialin.com/images/2021/fresh-gradute/9.JPG"></p>
<p>最後也準備了每一位 Mentor 特別錄製花絮給每一位同學給大家一個驚喜，並感謝同學們這一年來的辛勤工作，為團隊付出的時間與精力，希望透過錄製花絮影片讓同學們在實習生活的最後階段可以帶走滿滿的回憶並與朋友們分享在 LINE 實習的點點滴滴。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2021/fresh-gradute/8.jpeg"></p>
<p>最後，感謝每一位同學在實習期間以不同的專業知識與熱情，陪著 LINE 一同成長並邁入十週年，相信在國城中不止 Mentor，每位同仁也都有看到同學們的貢獻。<br>不管接下來每位同學的計畫是如何，希望在 LINE 當中的每個回憶能可以繼續陪各位走到下個旅程，一起 TO THE NEXT！</p>
<p>看到這裡的各位若有親朋好友(或是自己)，對於 <a href="https://careers.linecorp.com/jobs/83">TECH FRESH 計畫</a>有興趣並想了解內容，歡迎大家參考 <a href="https://careers.linecorp.com/jobs/83">LINE Career 中的細節</a>。</p>
<p>此為 2021 LINE TECH FRESH 實習計畫招募，請確保具備至少半年、一週可參與 3 天以上工作時間，以利相關專案開發與參與，實習的類別項目包括 Mobile App, Web, DevOps 以及 Data 等等，最後加開收件日從 <strong>即日起</strong> ~ <strong>7&#x2F;14</strong> 是 TECH FRESH 計畫最後加開日，希望積極且熱情的你把握機會！錯過就要等明年囉！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>TECH FRESH</tag>
      </tags>
  </entry>
  <entry>
    <title>【TECHPULSE 2022】活動資訊一把抓</title>
    <url>/2022/01/11/line-techpulse-2022-introduction/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/techpulse/0.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>相信大家從 12 月時應該會跟小編有同樣的狀態，「總覺得有個活動沒參加到」、「好像少報名了什麼？」，沒錯，就是這次要介紹的 TECHPULSE 2022！經過了 <a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2021/3943">LINE DevDay 2021</a> 精彩議程之後，應該想聽台灣這邊本地的發展到底是如何，以下就詳細為各位介紹一下！</p>
<h2 id="LINE-TAIWAN-TECHPULSE-2022－活動資訊簡介"><a href="#LINE-TAIWAN-TECHPULSE-2022－活動資訊簡介" class="headerlink" title="LINE TAIWAN TECHPULSE 2022－活動資訊簡介"></a>LINE TAIWAN TECHPULSE 2022－活動資訊簡介</h2><ul>
<li>活動日期：2022 年 1 月 19 日（三）至 1 月 20 日（四）</li>
<li>活動時間：兩天早上 10 點活動開始</li>
<li>活動形式：線上議程</li>
<li>活動費用：免費於 LINE MUSIC LIVE 取票觀看。</li>
</ul>
<blockquote>
<p>官方新聞稿：<a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2022/4074">https://linecorp.com/zh-hant/pr/news/zh-hant/2022/4074</a></p>
</blockquote>
<span id="more"></span>

<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020-review/">LINE TAIWAN TECHPULSE 2020 議程內容分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020/">您不能錯過的 LINE TAIWAN TECHPULSE 2020 年度盛會</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2018/">LINE Taiwan TECHPULSE 2018</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2019-arrangement/">LINE TAIWAN TECHPULSE 2019 活動安排幕後秘辛</a></li>
</ul>
<h1 id="大會特色"><a href="#大會特色" class="headerlink" title="大會特色"></a>大會特色</h1><p>本次活動分為兩天的議程內容，第一天讓關注 LINE 台灣技術發展與趨勢的各位可以第一手了解新資訊，相關議程資訊就跟著小編一起往下看吧！</p>
<h1 id="DAY-1-LINE-技術分享日"><a href="#DAY-1-LINE-技術分享日" class="headerlink" title="DAY 1 : LINE 技術分享日"></a>DAY 1 : LINE 技術分享日</h1><p>由 LINE 台灣、LINE Bank 與 LINE TAXI 的重量級講者除了分享 2021 年度發展重點，並將揭露未來技術發展的策略與目標，而其他服務團隊也將介紹最新的開發經驗，包含近年最夯的 MarTech、Kubernetes、Data-Driven Testing、共用平台開發、O2O 平台開發…諸多精彩內容以及由現役實習生所分享的實習生活，讓大家可以一探究竟 LINE 所應用的新技術。</p>
<h2 id="議程"><a href="#議程" class="headerlink" title="議程"></a>議程</h2><p>第一天的議程都是 LINE 內部經過層層關卡選拔、精心挑選的題目，想了解 LINE 都是如何應用新技術在平台服務上，議定要把時間留下來喔！</p>
<table>
<thead>
<tr>
<th>時間</th>
<th>講者</th>
<th>題目</th>
<th>簡述</th>
</tr>
</thead>
<tbody><tr>
<td>10:00 ~ 10:10</td>
<td>Roger</td>
<td><strong>Opening</strong></td>
<td>「 LINE TAIWAN TECHPULSE 2022 」是 LINE 台灣年度最大科技盛會，將為台灣開發者整理 LINE 總部的第一手技術資訊。今年首次在 LINE MUSIC LIVE 平台上直播，兩天滿滿的線上議程，充分展現「 開發工程 ( Engineering ) 」、「 產品開發 ( Production ) 」的願景</td>
</tr>
<tr>
<td>10:10 ~ 10:50</td>
<td>LTL CTO - Marco Chen</td>
<td><strong>Keynote</strong></td>
<td>為了面對新型態的挑戰(New Normal)，LINE 強化了許多服務，並從全球與在地兩種角度，讓大家了解 LINE 的技術策略佈局；理解 LINE 台灣 的工程團隊如何與總部及其他國家的團隊分工合作，培養自我職能，貢獻價值。</td>
</tr>
<tr>
<td>10:50 ~ 11:30</td>
<td>LINE Bank CTO - Leo Weng</td>
<td><strong>LINE Bank, the Future and Beyond</strong></td>
<td>乘著數位浪潮而至，LINE Bank 將與大家分享開業以來的重要里程碑，接著以四大重點說明 LINE Bank 獨有的差異化特質，讓大家瞭解 LINE Bank 挾其全數位化的服務獨特性，成為創新金融的最前鋒，打造更貼近用戶日常生活的新金融服務。</td>
</tr>
<tr>
<td>11:30 ~ 12:00</td>
<td>LINE TAXI CTO - Huang Hayden</td>
<td><strong>Pandemic Pivot: transformation from ride-hailing to vegetable box and food delivery</strong></td>
<td>疫情升溫時，計程車搭車量銳減。不到一週，LINE TAXI 在原本的叫車平台迅速推出「安心快送」服務，讓乘客在疫情中即使不搭車，也能點購蔬菜箱甚至星級餐點，再由駕駛送到乘客手中。本次分享將首度公開當時面臨哪些挑戰，以及如何在極短的時間，以技術支援緊急應變計畫。</td>
</tr>
<tr>
<td>13:00 ~ 13:30</td>
<td>Tsai Luther</td>
<td>How We Build Up O2O Platform to Our Partner Corporation Service</td>
<td>身處數位時代的我們，在食衣住行育樂方面，LINE Pay 是大家的好幫手，更是合作夥伴的最佳拍檔。我們提供夥伴線上與線下間的雙向機制平台，進行數位支付生態的整合。我們將介紹 LINE Pay 是如何打造 O2O 平台與其系統架構來幫助合作夥伴與使用者創造雙贏的機會！</td>
</tr>
<tr>
<td>13:30 ~ 14:00</td>
<td>Charlie, Johnson, Nina</td>
<td>AI solutions of MarTech in LINE</td>
<td>LINE 台灣的行銷科技目標是應用機器學習技術來幫助解決行銷難題。我們碰到來自許多服務的難題：如何尋找新用戶？如何判斷客戶價值？如何透過差異化行銷來衡量廣告增益？我們將介紹如何透過機器學習技術、建構可重複使用的解決方案來快速處理各種行銷問題。</td>
</tr>
<tr>
<td>14:00 ~ 14:30</td>
<td>John Lin, Wan Wei</td>
<td>Implementing Observability Practices on Kubernetes</td>
<td>LINE 台灣 SRE 團隊致力於提供測量應用程序可靠性的工具和平台， 我們將從台灣應用團隊各種監控實踐的背景開始，簡要地概述我們的可觀察性平台，並介紹我們在 Kubernetes 上監控應用程式的組件，以及我們如何引入新的實踐來增強可觀察性。</td>
</tr>
<tr>
<td>14:30 ~ 15:00</td>
<td>Winter</td>
<td>Data-Driven Testing for LINE SHOPPING</td>
<td>在元宇宙時代，數據就是一切，大數據和機器學習當然不能否認這事實，測試當然也一樣，我們將介紹 LINE 購物團隊如何涵蓋測試中更多的場景，並選擇真實數據，在測試過程中如何進行處理，才能將潛在缺陷風險降至最低。</td>
</tr>
<tr>
<td>15:00 ~ 15:30</td>
<td>Li QC</td>
<td>Reduce iOS app binary size by analyzing source code with SourceKit</td>
<td>最佳化 App 大小的過程就如同幫 App 增肌減脂一般，除了增肌之外減脂也相當重要，我們將介紹如何使用工具如 SourceKit，幫助我們分析程式原始碼，找到冗余的程式碼片段並去蕪存菁已達到減少 App 大小的目的。</td>
</tr>
<tr>
<td>15:30 ~ 16:00</td>
<td>Edward</td>
<td>How Do We Assess Our Tests to Measure and Monitor Their Reliability?</td>
<td>想要準確判斷測試結果是否存在錯誤，而不是 flaky 的情況，LINE TODAY QA 團隊開發了一個框架 - Test Analysis Dashboard，該工具在每次自動化測試後會即時監控測試結果，並立刻計算和識別是否找到真正的錯誤。</td>
</tr>
<tr>
<td>16:00 ~ 16:30</td>
<td>Li Willy</td>
<td>Utility Platform - how we use Safeframe to display content from 3rd party</td>
<td>想知道 LINE TODAY 是如何面對排山倒海的跨國需求，以及多樣化的服務串接？讓我為你介紹 Utility Platform，一個輕量化以及快速的上架串接測試的開發模式，幫助你的產品擴充開發量能，以及分享集團內部的資源。</td>
</tr>
<tr>
<td>16:30 ~ 16:40</td>
<td>TU Lin</td>
<td>LINE TECH FRESH Program</td>
<td>1. 同樣對資訊技術抱有研究熱情的你，還在學校裡埋沒自己的未來嗎？透過這場短講，我將與你分享關於我大三就加入 LINE 台灣成為 TECHFRESH 的那檔事，從最基本的心態層面出發，藉由在 LINE 台灣實習的過程，探討「選擇」跟「環境」對於自我發展的重要性跟影響力，除此之外，也會一併探討在學校的高壓統治以及公司的階段性任務之下，還可以怎樣精進自己的實力，讓每天過得更加充實、更有希望。</td>
</tr>
<tr>
<td>16:40 ~ 16:50</td>
<td>Hsiao Yi Han</td>
<td>LINE TECH FRESH Program</td>
<td>「_科技始終來自於人性_」，資訊科技的出現就是為了要幫人們解決問題，我在大學的最後一年來到 LINE 台灣實習，希望能夠將所學之技術運用在實務之中。在這次的演講，將會圍繞在學校與實習生活的平衡、如何學以致用，將學校所學運用在實習中，以及實習帶給我的豐富經驗。</td>
</tr>
<tr>
<td>16:50 ~ 17:00</td>
<td>Chen Kevin</td>
<td>LINE TECH FRESH Program</td>
<td>作為一週上班三天的 TECHFRESH，在 LINE 台灣的開發團隊中扮演什麼角色？原本的專長跟實習工作關聯不高，究竟是如何在不同領域的環境存活下來、並好好成長的呢？「夠用」～「厲害」的距離還有多遠？看似沒有盡頭的彼岸，我能抵達嗎？關於實習的種種疑惑，LINE TECHFRESH 的神秘面紗將一一揭開…</td>
</tr>
<tr>
<td>17:00</td>
<td></td>
<td>Closing</td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2020-graduate/">TECH FRESH 實習的一年間，除了開發還有什麼內部活動呢？</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
</ul>
<blockquote>
<p>看完是否也很心動呢？趕快加入 <a href="https://line.me/R/ti/p/@908lugfe?from=page">LINE 開發者官方帳號</a>吧！</p>
</blockquote>
<h1 id="DAY-2-LINE-平台推廣日"><a href="#DAY-2-LINE-平台推廣日" class="headerlink" title="DAY 2 : LINE 平台推廣日"></a>DAY 2 : LINE 平台推廣日</h1><p>除了早上年度平台更新(Platform Opening)作為開場之外，將第一手公布 LINE 在人工智慧領域開發的大型語言模型 HyperCLOVA 最新產品，並且邀請 LINE API Expert(LINE 官方認證專家) 與 LINE PROTOSTAR 新星計劃的傑出新創團隊分享，為各位分享平台上各種特別且想不到的應用場景，若想看各種有趣的實作經驗分享，相信一定能讓您滿載而歸！</p>
<h2 id="議程-1"><a href="#議程-1" class="headerlink" title="議程"></a>議程</h2><table>
<thead>
<tr>
<th>時間</th>
<th>講者</th>
<th>題目</th>
<th>簡述</th>
</tr>
</thead>
<tbody><tr>
<td>10:00 ~ 10:30</td>
<td>Evan Lin &#x2F; Nijia Lin</td>
<td>Platform Opening</td>
<td>LINE 致力於提供與開放更多 API 功能，幫助開發者更有效的連結使用者，與開發更多元的互動方式。此段分享將介紹最新的平台功能及實際應用，幫助你的服務與使用者連結更深且互動體驗更佳。</td>
</tr>
<tr>
<td>10:30 ~ 11:10</td>
<td>Aaron Wu</td>
<td>CLOVA Keynote</td>
<td>自從三年前 LINE 宣布要成為一家 AI 公司，到推出 LINE BRAIN，之後整合成 LINE CLOVA 的單一產品線，LINE 持續在 AI 的產品以及技術上努力著，希望帶給使用者更好的生活，更人性化的體驗。LINE CLOVA 的未來展望，以及在台灣的持續發展以及落地的計畫，將在今天的議程與大家分享。</td>
</tr>
<tr>
<td>11:10 ~ 11:30</td>
<td>Chen James &#x2F; Chan Yedda</td>
<td>Marketplace Review and Chat-Plugin</td>
<td>Marketplace 網羅了由 Module Channel 架構開發的模組，於今年正式上線，我們將分享目前的營運狀況，並介紹最新的擴充功能 Chat Plugin，能更方便地在官方帳號一對一聊天功能中，連動模組的後台資訊，快速回應客戶的詢問或需求。</td>
</tr>
<tr>
<td>11:30 ~ 12:00</td>
<td>Cid Chang</td>
<td>How we build TECHPULSE Bot</td>
<td>使用 LINE Bot 自由的串接多種其他服務，依據所需的場景，輕鬆打造機器人</td>
</tr>
<tr>
<td>13:00 ~ 13:45</td>
<td>Chia-Ning, Kuo</td>
<td>Rapid development using LINE Bot framework Kamigo</td>
<td>使用基於 Rails 的 MVC LINE Bot 框架 Kamigo 快速開發整合 LINE 登入的網站後台以及具高維護性的 Flex Message 和 LIFF 表單 的 LINE Bot。</td>
</tr>
<tr>
<td>13:45 ~ 14:30</td>
<td>Jia-Sin, Chen</td>
<td>Playing real escape games in LINE, a RPG metaverse</td>
<td>LINE 作為通訊軟體，在聊天視窗裡除了聊天之外，還能夠做些什麼呢？事實上，LINE 聊天視窗可以打造一個角色扮演的虛擬遊戲世界，化身成為實境解謎的故事場景，在訊息對話來回之間，讓多位玩家一起破關、一起獲得樂趣。</td>
</tr>
<tr>
<td>14:30 ~ 16:40 (130 mins)</td>
<td>Kevin Chen</td>
<td>LINE Protostar Program Introduction &amp; Startup Demo</td>
<td>LINE 新星計劃歡迎開發者及新創公司一同加入，藉由提供免費 LINE 官方帳號、平台資源、技術支援，戰略夥伴諮詢輔導、提高您在 LINE 平台上開發的速度，並確保推出服務的成功。</td>
</tr>
<tr>
<td>16:40 ~ 16:45</td>
<td>Marco Chen</td>
<td>Closing</td>
<td></td>
</tr>
<tr>
<td>16:45 ~ 17:10</td>
<td>歌手演場</td>
<td>Special Event</td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>第二天的應用內容小編光看到簡述就覺得內容一定滿滿！除了看看大神們日常 LINE Bot 開發相關的點子發想與尋找以外，在開發上也可以關注 Marketplace Review and Chat-Plugin，有效地使用有可以讓大家產品開發效率倍增喔！</p>
</blockquote>
<h2 id="LINE-Avatar"><a href="#LINE-Avatar" class="headerlink" title="LINE Avatar"></a>LINE Avatar</h2><p><img src="https://nijialin.com/images/2022/techpulse/1.gif"></p>
<p>本次結合了 LINE 的虛擬人像(Avatar)，在許多空間以及地方上皆有使用到，你是否也有建立屬於個人化的虛擬人像呢？歡迎大家參考<a href="https://official-blog-tw.line.me/archives/84018904.html">部落格的步驟</a>來建立獨一無二的 Avatar 喔！</p>
<h2 id="全球限定版「黑貓蟲」-NFT-amp-amp-Special-Event"><a href="#全球限定版「黑貓蟲」-NFT-amp-amp-Special-Event" class="headerlink" title="全球限定版「黑貓蟲」 NFT &amp;&amp; Special Event"></a>全球限定版「黑貓蟲」 NFT &amp;&amp; Special Event</h2><p>本屆 TECHPULSE 與知名貼圖創作者亞拉共創<strong>全球限定版 NFT</strong>，讓大家在聽完議程之後有機會跟上新潮流獲取限定款 NFT，並且在領完的同時也可以獲得期間限定的「<strong>黑貓蟲</strong>」貼圖！人家說發文要附圖，不過容小編在這邊賣個關子。</p>
<p>而最重要的當然就是在 MUSIC LIVE 頁面推出後，大家一定要進去<strong>購票</strong>、<strong>購票</strong>、<strong>購票</strong>！並在活動 1&#x2F;19、1&#x2F;20 當天準時收看內容，就有機會獲得喔！</p>
<p>相關的內容請大家持續追蹤我們的官方帳號，讓各位第一手接收到最新資訊(絕不漏接)，參考以下資訊：</p>
<h1 id="掌握官方帳號資訊"><a href="#掌握官方帳號資訊" class="headerlink" title="掌握官方帳號資訊"></a>掌握官方帳號資訊</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<p>加入之後可透過手機版上的 Rich menu 快速點選進入各種 TECHPULSE 活動與相關資訊。</p>
<ul>
<li>進入官方網站查看相關資訊</li>
<li>收看即時直播(1&#x2F;19, 1&#x2F;20 播出)</li>
<li>活動辦法，保障自身權益</li>
<li>NFT 集點活動(1&#x2F;19, 1&#x2F;20 請記得收看直播)</li>
</ul>
<p><img src="https://nijialin.com/images/2022/techpulse/3.PNG"></p>
<ul>
<li>議程資訊，可一次看到兩天的精彩議程內容，在每個議程中皆會放上當天 MUSIC LIVE 播出連結，播出當天敬請期待！</li>
</ul>
<p><img src="https://nijialin.com/images/2022/techpulse/2.png"></p>
<h1 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h1><blockquote>
<p>Q: 議程要如何才能看到？</p>
</blockquote>
<p><img src="https://nijialin.com/images/2022/techpulse/4.png"></p>
<p>點選 <strong>免費取票</strong> 後，會在 <strong>LINE MUSIC 通知</strong> 的官方帳號中收到以下的推播資訊，在活動要開始前一個小時也會推播通知。</p>
<p><img src="https://nijialin.com/images/2022/techpulse/5.png"></p>
<blockquote>
<p>Q: 要怎麼樣才能取票呢？</p>
</blockquote>
<p>只要您有 LINE 的帳號並登入 LINE MUSIC，即可於活動頁面中免費取得票卷。</p>
<blockquote>
<p>Q: 我來不及聽議程，請問之後還有機會回看嗎？</p>
</blockquote>
<p>活動期間～ 4&#x2F;20 前都可以回放觀看影片，後續也會上傳至 <a href="https://www.youtube.com/c/LINEDevelopersTaiwan">Youtube</a> 上供大家觀看。因有集點活動，大家把握時間聆聽喔！</p>
<blockquote>
<p>Avatar 要怎麼設定呢？</p>
</blockquote>
<p>手機進入 LINE 主頁 -&gt; 點選大頭貼 -&gt; 虛擬人像，即可開始建立屬於自己的虛擬人像喔！</p>
<blockquote>
<p>貼圖何時之前要使用與領取呢？</p>
</blockquote>
<p>且必須於 2022 年 04 月 20 日（星期三）23:59 前領取與使用。期間過後，將無法領取與使用專屬活動任務貼圖。</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>TECHPULSE 2022</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE TAIWAN TECHPULSE 2020 議程內容分享</title>
    <url>/2021/01/11/line-techpulse-2020-review/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2020/techpulse/1.JPG"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>各位好，我是 LINE TAIWAN 的技術推廣工程師 - NiJia Lin，很開心這次能以不同的身份(LINER)來參加於南港展覽館二館舉辦的一年一度 LINE 技術大會 - TECHPULSE，雖然今年很可惜的因為疫情關係無法邀請海外講者來台灣與各位分享，但同時也讓大家了解到 LINE Taiwan 工程團隊實力也是深不可測，這次我也將透過這篇文章讓你了解 LINE 所帶來的魔力吧！</p>
<blockquote>
<p>在此之前也有分享一篇詳細的文章 - 歡迎大家參考 <a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020/">您不能錯過的 LINE TAIWAN TECHPULSE 2020 年度盛會</a></p>
</blockquote>
<span id="more"></span>

<h1 id="焦點回顧-1-Keynote-x2F-Marco-Chen"><a href="#焦點回顧-1-Keynote-x2F-Marco-Chen" class="headerlink" title="焦點回顧 1 - Keynote &#x2F; Marco Chen"></a>焦點回顧 1 - <a href="https://speakerdeck.com/line_developers_tw/line-techpulse-2020-keynote">Keynote</a> &#x2F; Marco Chen</h1><p><img src="https://nijialin.com/images/2020/techpulse/keynote-4.jpg"></p>
<h2 id="New-Norma-新常態"><a href="#New-Norma-新常態" class="headerlink" title="New Norma(新常態)"></a>New Norma(新常態)</h2><script async class="speakerdeck-embed" data-slide="7" data-id="e69b000e4fe6410e9d062f1f5584c276" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>今年因為疫情，從全球、地區、公司、甚至到你我的生活中皆被影響。而 LINE 是以網路服務為基礎的通訊軟體也因為大家使用網路的需求量變多，在平台上也獲得了成長，整理如下：</p>
<ul>
<li>官方帳號上<code>三月與四月</code>相比成長了 <code>140%</code></li>
<li>視訊電話<code>二月到五月</code>上漲 <code>235%</code></li>
<li>LINE TODAY 的<code>中華職棒(CPBL)</code>一度閉門比賽，讓線上直播成長了 <code>74%</code></li>
<li>因為藝人們紛紛尋找線上直播的解決方案，因此直播的人數也是大大的提升</li>
<li>國內旅遊一度被影響到相當嚴重，但適逢疫情舒緩以及連假，LINE TRAVEL 一度成長了 <code>24 倍</code>之多！</li>
</ul>
<h2 id="台灣工程團隊的考量點"><a href="#台灣工程團隊的考量點" class="headerlink" title="台灣工程團隊的考量點"></a>台灣工程團隊的考量點</h2><script async class="speakerdeck-embed" data-slide="9" data-id="e69b000e4fe6410e9d062f1f5584c276" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>雖然 LINE 時常應付大流量在各服務間均已經有相對應的策略，但隨著公司的成長同時 LINE 工程團隊也需要優化基礎設施，讓平台在接受這麼大的流量可以更<code>有效地使用資源</code>，並且提供更穩定的基礎設施來增加<code>彈性</code>與<code>可用性</code>。</p>
<p>過往大多以<code>虛擬主機(VM)</code>為基礎設施去部署服務，但今年在策略上開發團隊需要更著重於<code>使用效率</code>與<code>維護性</code>，而在每個服務為了應付<code>流量高峰</code>而事先準備了許多資源(機器)，並會相依不同的技術元件，導致無法經驗交流分享。在這之後我們意識到只有<code>作業系統虛擬化平台</code>還不夠，我們需要一個<code>執行環境虛擬化平台</code>，把應用程式與其相依性資源封裝起來。才能完全解決應用層與執行環境的區隔，讓應用程式可以任意的被部署在不同地方，而不會有資源相依性與版本衝突的問題。</p>
<script async class="speakerdeck-embed" data-slide="12" data-id="e69b000e4fe6410e9d062f1f5584c276" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>與此同時，LINE 總部正在著手建立 <code>Verda Kubernetes Service</code>(<code>VKS</code>)，提供一個平台讓全球服務能夠使用，雖然這時 Container-based 的架構熱度非常高，但要建立一個平台絕對是有所考量，在開發時則考量以下三個部分：</p>
<ul>
<li><code>靈活性</code>: 需要能夠自由擴充管理功能。</li>
<li><code>易用性</code>: 擁有許多生態系資源與 Open Source Software 可以使用。</li>
<li><code>維護成本</code>: 開發社群的活躍度，如果有 Bug 需要能很快被修復。</li>
</ul>
<script async class="speakerdeck-embed" data-slide="13" data-id="e69b000e4fe6410e9d062f1f5584c276" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在總部建置 VKS 時，台灣的工程部門團隊因為流量上升而收到很多新專案的開發需求，為了有效利用人力資源，我們正在研究如何強化開發與部署的效率，並在研究如果更好運用 Kubernetes。</p>
<p>當給台灣工程團隊有二個中長期目標：</p>
<ul>
<li>部署效率</li>
<li>自動擴展(Auto-Scaling)</li>
</ul>
<h2 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h2><script async class="speakerdeck-embed" data-slide="15" data-id="e69b000e4fe6410e9d062f1f5584c276" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在有一定規模下要引入一個新技術，許多東西需要持續優化改進，因此在這次的引入中組成了專案小組(Task Force)，讓原本服務間無法有效共用元件的問題逐一排除。首先，須先讓各個團隊對於 Kubernetes 有一定的認知，因此從<code>讀書會</code>-<code>準備教材</code>-<code>課程訓練</code>，經由一個這樣的週期讓學員可以對於技術有一定的掌握度，與此之後並成立了 SRE 團隊，協助排除日後專案中所遇到的問題，記錄下來讓經驗得以傳承，並與海外同事一同合作讓這平台更穩定。</p>
<h2 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h2><script async class="speakerdeck-embed" data-slide="18" data-id="e69b000e4fe6410e9d062f1f5584c276" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了原先預定的兩個方向<code>部署效率</code>以及<code>Auto-Scaling</code>以外，我們又額外獲得了兩個好處，不僅擁有更多的監控、追查問題工具，也讓系統微服務化，協同開發時相互影響的問題也降低了。</p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>在有規模的企業中導入任何技術都不容易，需要制定一定的策略才有辦法應付過程中的挑戰，如果讀者們也在嘗試導入的話，不如參考看看吧！</p>
<blockquote>
<p>如果你對於 DevOps 或容器化相關技術有興趣可以前往這兩個社團：</p>
</blockquote>
<ul>
<li><a href="https://www.facebook.com/groups/cloudnative.tw">Cloud Native Taiwan User Group</a></li>
<li><a href="https://www.facebook.com/groups/DevOpsTaiwan/">DevOps Taiwan</a></li>
</ul>
<h1 id="焦點回顧-2-Life-on-LINE-CLOVA-Aaron-Wu-x2F-Cid-Chang"><a href="#焦點回顧-2-Life-on-LINE-CLOVA-Aaron-Wu-x2F-Cid-Chang" class="headerlink" title="焦點回顧 2 - Life on LINE CLOVA - Aaron Wu &#x2F; Cid Chang"></a>焦點回顧 2 - <a href="https://speakerdeck.com/line_developers_tw/line-techpulse-2020-life-on-line-clova">Life on LINE CLOVA</a> - Aaron Wu &#x2F; Cid Chang</h1><p><img src="https://nijialin.com/images/2020/techpulse/clova-aaron.jpg"></p>
<script async class="speakerdeck-embed" data-slide="8" data-id="0280751f2565451c9c8c920208fec132" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>經過了一年的努力，將旗下兩大 AI 主力的品牌 LINE BRAIN 與 LINE Clova 整合成 LINE CLOVA，統整出 AI 產品與兩大解決方案：</p>
<h2 id="三大產品"><a href="#三大產品" class="headerlink" title="三大產品"></a>三大產品</h2><ol>
<li>Chatbot</li>
</ol>
<p>讓用戶可以在很短的時間內建造出一隻 LINE AI Bot，除了有基礎的樣板之外，還能夠客製化調整調整內容格式，並同時支援六種以上的功能。</p>
<p>在 2019 的 TECHPULSE 中也有提到這部分，想了解更多可以參考以下簡報：</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="20a06fe07ac74222ac6aa754110b0043" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ol start="2">
<li>Face(臉部辨識)</li>
</ol>
<script async class="speakerdeck-embed" data-slide="25" data-id="0280751f2565451c9c8c920208fec132" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>相信在大家於報到時，在報到處櫃檯就已經有體驗到<code>臉部辨識</code>的技術，讓有註冊的朋友可以在<strong>非常短</strong>的時間內就能入場，在研討會中有這個功能是不是很讚呢？</p>
<p><img src="https://nijialin.com/images/2020/techpulse/face-sign-3.jpg"></p>
<ol start="3">
<li>OCR(Optical Character Recognition)</li>
</ol>
<p>OCR 能用在什麼地方呢？透過這張簡報應該就有想法了：</p>
<script async class="speakerdeck-embed" data-slide="19" data-id="0280751f2565451c9c8c920208fec132" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這次大會中各個攤位都有一個錦旗讓大家上傳體驗 CLOVA OCR 的技術。</p>
<p><img src="https://nijialin.com/images/2020/techpulse/lae_ocr.jpg"></p>
<h2 id="兩大解決方案"><a href="#兩大解決方案" class="headerlink" title="兩大解決方案"></a>兩大解決方案</h2><ol>
<li>eKYC</li>
</ol>
<p>結合 Face 與 OCR 打造的解決方案，例如：用戶持有健保卡想看診，透過此解決方案可以讓系統自動填入一些基本資訊，減低手動輸入的成本</p>
<script async class="speakerdeck-embed" data-slide="22" data-id="0280751f2565451c9c8c920208fec132" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ol start="2">
<li>AiCall 可以看以下影片，會讓你更有感喔！</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/x5gt2sjnfh4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="使用-CLOVA-技術開發活動頁面分享-Cid"><a href="#使用-CLOVA-技術開發活動頁面分享-Cid" class="headerlink" title="使用 CLOVA 技術開發活動頁面分享 - Cid"></a>使用 CLOVA 技術開發活動頁面分享 - Cid</h2><p><img src="https://nijialin.com/images/2020/techpulse/clova-cid.jpg"></p>
<script async class="speakerdeck-embed" data-slide="28" data-id="0280751f2565451c9c8c920208fec132" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這部分就由 Cid 說明這次 TECHPULSE 2020 的報到流程究竟是怎麼快速實現的。在大會前相信大家都有收到資訊並上傳自己的人臉，Server 這邊則會將資訊轉交給 CLOVA 做訓練，並於大會當天讓大家可以在櫃檯掃描並達到快速入場的效果。</p>
<script async class="speakerdeck-embed" data-slide="33" data-id="0280751f2565451c9c8c920208fec132" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>由於 LINE 有許多相關的活動有入場的需求，當我們只要開發一個即可使用到各個場域，降低開發成本同時也提升使用者入場的消化速度。</p>
<blockquote>
<p>若讀者對於成為「合作夥伴」的話，可以使用<a href="https://tw.linebiz.com/contact-us/inquiry-partner">這個表單</a>來申請。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="41" data-id="0280751f2565451c9c8c920208fec132" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="小結-1"><a href="#小結-1" class="headerlink" title="小結"></a>小結</h2><p><img src="https://nijialin.com/images/2020/techpulse/photowall.JPG"></p>
<p>其實在現場中的相片牆也有使用到 LINE CLOVA 的辨識技術，更多活動內容可以參考:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020/">您不能錯過的 LINE TAIWAN TECHPULSE 2020 年度盛會</a></li>
</ul>
<h1 id="Platform-API-Update-Evan-Lin"><a href="#Platform-API-Update-Evan-Lin" class="headerlink" title="Platform API Update - Evan Lin"></a><a href="https://speakerdeck.com/line_developers_tw/line-techpulse-2020-platform-api-update">Platform API Update</a> - Evan Lin</h1><p>今年的這部分則使用與以往不同的風格來講解 2020 平台更新的資訊</p>
<h2 id="Narrowcast"><a href="#Narrowcast" class="headerlink" title="Narrowcast"></a>Narrowcast</h2><script async class="speakerdeck-embed" data-slide="5" data-id="73943b1c8b0f4dde9a81fd856cf4ab24" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>「我們不是不喜歡廣告…… 我們只是不喜歡與我們無關的廣告。」</p>
</blockquote>
<p>許多使用者在使用官方帳號時，經常會忽略用戶的感受，因此可以藉由 Narrowcast 將可以讓你收斂用戶的條件，選出更加適合此封訊息內容的用戶並推送給他，說不定還可以藉此降低官方帳號的封鎖率喔！</p>
<blockquote>
<p>Narrowcast 相關文章請參閱<a href="https://engineering.linecorp.com/zh-hant/blog/narrowcast-api-on-line-chatbot/">透過 Narrowcast API 在 LINE Chatbot 上發送 “精準” 且 “討喜” 的訊息</a></p>
</blockquote>
<h2 id="Icon-Switch"><a href="#Icon-Switch" class="headerlink" title="Icon Switch"></a>Icon Switch</h2><script async class="speakerdeck-embed" data-slide="6" data-id="73943b1c8b0f4dde9a81fd856cf4ab24" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而今年初 LINE 開放了這個強大的 API 給各位開發者，讓大家可以更靈活地使用它來讓你的 Chatbot 更生動！</p>
<p>講者在這部分使用一個例子來說明用途：「經常大家在經營許多店家官方帳號的時候，在一些程式中條件無法正確判斷時，就需要讓客服人員透過官方帳號來回覆使用者的問題，此時使用 Icon Switch 這個 API 即可快速切換身份也同時讓使用者能夠在視窗內快速辨別身份。」</p>
<blockquote>
<p>「藉由這個 API 也讓使用者可以感覺到 chatbot 不再是個冷冰冰的機器，而是有溫度的互動。」</p>
</blockquote>
<p>你可以透過以下範例程式快速實踐 Icon Switch：</p>
<ul>
<li>Golang: <a href="https://github.com/kkdai/line-bot-icon-switch">https://github.com/kkdai/line-bot-icon-switch</a></li>
<li>Python: <a href="https://github.com/louis70109/line-icon-switch-python">https://github.com/louis70109/line-icon-switch-python</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/chatbot-icon-switch/">使用 Icon Switch 來變更聊天機器人的暱稱與圖示</a></li>
</ul>
<h2 id="其他-Messaging-API-更新"><a href="#其他-Messaging-API-更新" class="headerlink" title="其他 Messaging API 更新"></a>其他 Messaging API 更新</h2><ul>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#wh-text">Emojis</a>: 讓你可以使用 API 的方式使用 LINE 的表情符號<ul>
<li><a href="https://d.line-scdn.net/r/devcenter/sendable_line_emoji_list.pdf">表情符號清單</a></li>
</ul>
</li>
<li>取得使用者語系(<a href="https://developers.line.biz/en/reference/messaging-api/#get-profile">get user profile</a>): 除了讓你能取得使用者的基本資訊以外，今年更增加了語系的欄位，讓你可以依照所屬區域去對應前端語系喔！</li>
</ul>
<blockquote>
<p>上述兩項的相關文章介紹:</p>
<ol>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-04-21-chatbots18/">LINE 開發社群計畫: 2020&#x2F;04&#x2F;21 Chatbots#18 online</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-emoji-with-golang/">關於 LINE Emoji 的一些細節（以 Golang 為例)</a></li>
</ol>
</blockquote>
<ul>
<li><p>Group&#x2F;Chatroom API</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-june-update/">2020 六月 LINE 平台更新整理與 LINE Group&#x2F;Room Chatbot 的展示</a></li>
</ul>
<table>
<thead>
<tr>
<th>Event</th>
<th>Group</th>
<th>Chatroom</th>
</tr>
</thead>
<tbody><tr>
<td>取得資訊</td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#get-group-summary">Link</a></td>
<td></td>
</tr>
<tr>
<td>人數</td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#get-members-group-count">Link</a></td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#get-members-room-count">Link</a></td>
</tr>
<tr>
<td>用戶 IDs</td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#get-group-member-user-ids">Link</a></td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#get-room-member-user-ids">Link</a></td>
</tr>
<tr>
<td>取得人員資訊</td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#get-group-member-profile">Link</a></td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#get-room-member-profile">Link</a></td>
</tr>
<tr>
<td>離開</td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#leave-group">Link</a></td>
<td><a href="https://developers.line.biz/en/reference/messaging-api/#leave-room">Link</a></td>
</tr>
</tbody></table>
</li>
<li><p><a href="https://developers.line.biz/en/reference/messaging-api/#message-event">Unsend Event</a>: Chatbot 可收到使用者回收訊息的 Event，並作出對應的回饋(但目前僅限於<code>群組</code>以及<code>聊天室</code>)</p>
</li>
<li><p><a href="https://developers.line.biz/en/reference/messaging-api/#video-viewing-complete">Video viewing complete</a>: 感官接受度普遍來說會是 影片 ➡️ 圖片 ➡️ 文字，但使用者看完影片若沒有回饋是否少了點什麼呢？你可以使用這個 API 讓 Chatbot 發送的訊息</p>
</li>
</ul>
<h2 id="LIFF-Share-Target-Picker"><a href="#LIFF-Share-Target-Picker" class="headerlink" title="LIFF - Share Target Picker"></a>LIFF - <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">Share Target Picker</a></h2><script async class="speakerdeck-embed" data-slide="14" data-id="73943b1c8b0f4dde9a81fd856cf4ab24" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>過往在開發 Chatbot 可以使用漂亮的 <a href="https://developers.line.biz/en/docs/messaging-api/using-flex-messages/">Flex Message</a> 讓回覆內容更活潑有特色，而在去年約三月左右釋出的強大功能 - <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker</a>，讓使用者可以透過 LIFF 發送屬於自己的 Flex Message，不管<strong>個人名片</strong>、<strong>揪團</strong>、<strong>公布訊息</strong>都很適合用喔！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/liff-share-target-picker/">Share Target Picker 已經公開，透過 LIFF 來分享訊息將更加的便利</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/share-target-picker-liff/">Share Target Picker: LIFF（LINE Frontend Framework）中的新功能</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/start-liff-v2-sharetargetpicker-power/">開啟 LINE LIFF v2 的無限潛力 — liff.shareTargetPicker</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-api-platform-update-202009/">LINE 開發社群計畫: 2020 九月 LINE 平台更新整理與 LIFF ShareTargetPicker 案例分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/how-to-use-liff-in-vue3/">在 Vue3 中引入 LIFF 的 ShareTargetPicker 分享 FlexMessage 訊息給 LINE 好友</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/meichu-liff-share-target-picker-workshop/">梅竹黑客松賽前企業工作坊 – LIFF shareTargetPicker</a></li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li><p>LIFF endpoint 可以放上 subpath(子路徑)以及各種 parameters，增加使用</p>
</li>
<li><p>LIFF Concatenate 模式</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/new-liff-url-infomation/">您需要了解有關新 LIFF URL 的所有資訊</a></li>
</ul>
</li>
<li><p>Channel Access Token v2.1</p>
<ul>
<li>參考由 LINE API Expert - CL Sung 所寫的: <a href="https://dev.clsung.tw/?p=247">Helper module to generate JWT for LINE OAuth2 v2.1</a></li>
</ul>
</li>
<li><p>Safety Retry API: 有時在群發訊息時會因為網路卡住，導致發送人員以為沒有成功而重發導致成本上升，透過此 API 可以設定 <code>Retry 機制</code>，如此一來若發生相關問題時也不會導致成本上升囉！</p>
<script async class="speakerdeck-embed" data-slide="18" data-id="73943b1c8b0f4dde9a81fd856cf4ab24" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>
</li>
<li><p><code>Webhook</code> 相關設定與 <code>Flex Message Update 2</code> 的部分可以參考筆者我於 <a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot Developers Taiwan</a> 所<a href="https://engineering.linecorp.com/zh-hant/blog/line-api-platform-update-202010/#webhook-settings">分享的文章</a></p>
</li>
</ul>
<h2 id="Messaging-API-LINE-Bot-2020-更新時序圖"><a href="#Messaging-API-LINE-Bot-2020-更新時序圖" class="headerlink" title="Messaging API(LINE Bot) 2020 更新時序圖"></a>Messaging API(LINE Bot) 2020 更新時序圖</h2><script async class="speakerdeck-embed" data-slide="30" data-id="73943b1c8b0f4dde9a81fd856cf4ab24" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="LIFF-2020-更新時序圖"><a href="#LIFF-2020-更新時序圖" class="headerlink" title="LIFF 2020 更新時序圖"></a>LIFF 2020 更新時序圖</h2><script async class="speakerdeck-embed" data-slide="31" data-id="73943b1c8b0f4dde9a81fd856cf4ab24" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>其他參考：</p>
<ul>
<li><a href="https://medium.com/@EtrexKuo/the-best-practice-of-liff-fd89f2e612fc">The Best Practice Of LIFF - 卡米哥</a></li>
</ul>
<h1 id="Scaling-Machine-Learning-at-LINE-Shawn-Tsai-amp-Penny-Sun"><a href="#Scaling-Machine-Learning-at-LINE-Shawn-Tsai-amp-Penny-Sun" class="headerlink" title="Scaling Machine Learning at LINE - Shawn Tsai &amp; Penny Sun"></a>Scaling Machine Learning at LINE - Shawn Tsai &amp; Penny Sun</h1><script async class="speakerdeck-embed" data-slide="6" data-id="822ff17fcd0b4a468ee1f275711b14f3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在 LINE Developers Meetups 中的<a href="https://engineering.linecorp.com/zh-hant/blog/how-ml-powers-line-services/">How ML Powers LINE Services</a>有稍微提到類似人員分工的概念。隨著當團隊與專案規模要擴大時，在職責中也都需要劃分清楚並有效的運用人力，並會遇到許多挑戰，這部分也從團隊建立初期一人須擔任多重角色、開始需要商業專業的角色加入(機器學習服務工程師、資料分析師)、到進入到第四階段讓各個專業角色可以投入更多心力在對的題目上，讓資料驅動的決策方式深入組織中提升高品質機器學習的品質。</p>
<script async class="speakerdeck-embed" data-slide="14" data-id="822ff17fcd0b4a468ee1f275711b14f3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<iframe width="560" height="315" src="https://www.youtube.com/embed/YCKYwfGY-Rc?start=634" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>我們有完備的資料平台來實現跨服務的資料基礎建設，叫做 <code>Information Universe</code> (<code>IU</code>)。透過單一的自助式資料平台上，讓各角色遵守統一的規範，符合一致的隱私權政策，作為資料科學與機器學習應用發展的基礎。</p>
<script async class="speakerdeck-embed" data-slide="17" data-id="822ff17fcd0b4a468ee1f275711b14f3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<iframe width="560" height="315" src="https://www.youtube.com/embed/YCKYwfGY-Rc?start=725" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>了解了 IU 這個資料來源，接著就需要有 <code>MLOps</code> 讓各領域的角色可以更專注於自己的領域上，參考影片</p>
<script async class="speakerdeck-embed" data-slide="20" data-id="822ff17fcd0b4a468ee1f275711b14f3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<iframe width="560" height="315" src="https://www.youtube.com/embed/YCKYwfGY-Rc?start=897" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>接著這部分就更詳細的講解我們如何透過 Machine Learning Universe (MLU) 來建立一個 ML Platform，詳細可以參考影片時間軸。</p>
<script async class="speakerdeck-embed" data-slide="39" data-id="822ff17fcd0b4a468ee1f275711b14f3" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如何讓人力有效被運用一直都是個大議題，會因應不同情境而調整方式，希望能透過上述的內容以及影片讓大家可以有個參考的對象。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>從「LINE TAIWAN TECHPULSE 2020」大會除了分享 LINE Platform 上的技術外，也從與大家交流中學習到不少寶貴的知識與建議，LINE 致力於打造一個優良的平台給每位使用者，並持續挑戰不同的新技術。而在有規模的企業中要導入任何技術技術實屬不易，希望透過這篇文章分享我們的經驗給讀者們，若對於一同打造 WoW 產品有興趣的讀者，不妨來<a href="https://careers.linecorp.com/jobs?co=Taiwan">加入我們</a>吧！期待於 <strong>LINE TAIWAN TECHPULSE 2021</strong> 可以再與大家見面！</p>
<ul>
<li><a href="https://youtu.be/XE7-xpTCCTM">Keynote: Marco</a></li>
<li><a href="https://youtu.be/C8j-tZEbMaQ">Life on LINE CLOVA: Aaron Wu &amp; Cid Chang</a></li>
<li><a href="https://youtu.be/6_I4kEt8LS8">LINE Platform API Update: Evan Lin</a></li>
<li><a href="https://youtu.be/YCKYwfGY-Rc">Scaling Machine Learning at LINE: Shawn Tsai &amp; Penny Sun</a></li>
</ul>
<p><img src="https://nijialin.com/images/2020/techpulse/see-you-next-year.jpg"></p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
  </entry>
  <entry>
    <title>【LINE TECHPULSE 2023】精彩回顧與議程資訊</title>
    <url>/2023/02/22/line-techpulse-2023-report/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2023/techpulse/%E7%A9%BA%E6%99%AF1.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>台灣最具指標之一的年度科技盛會－LINE 台灣第七屆開發者大會「LINE TAIWAN TECHPULSE 2023」，於 2&#x2F;17 日正式登場，以「開發與創新」為主軸，著重於「流程再造、創新應用」等各式技術議題，更匯聚 26 個議程與 32 位講者，精彩豐富的內容超過千人報名！現場也容納高達七百位的參加者，讓這次活動能夠圓滿落幕，以下小編就跟大家分享一下這次大會上的內容！</p>
<blockquote>
<ul>
<li>大會新聞稿：<a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2023/4493">LINE TAIWAN TECHPULSE 2023 年度開發者大會重磅登場 開發治理再升級 3 大優化重點與 4 大管理關鍵打造高效開發團隊 迎向 AI 創作時代 首度發表自研 SmartText 自然語言處理平台 2.0</a></li>
<li><a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2023/4494">【其他議程亮點】LINE TAIWAN TECHPULSE 2023 年度開發者大會重磅登場</a></li>
</ul>
</blockquote>
<span id="more"></span>

<h1 id="議程介紹"><a href="#議程介紹" class="headerlink" title="議程介紹"></a>議程介紹</h1><p><img src="https://nijialin.com/images/2023/techpulse/%E7%A9%BA%E6%99%AF.jpeg"></p>
<blockquote>
<p><a href="https://speakerdeck.com/line_developers_tw/collections/techpulse2023">所有議程簡報</a></p>
</blockquote>
<h2 id="A-廳-「在地化技術分享廳」"><a href="#A-廳-「在地化技術分享廳」" class="headerlink" title="A 廳 - 「在地化技術分享廳」"></a>A 廳 - 「在地化技術分享廳」</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/afbf9700a5c04511a7069dc00096ceb0?slide=2" title="Engineering Keynote @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/engineering-keynote-at-techpulse-2023">Engineering Keynote</a><ul>
<li>為了面對新型態的挑戰(New Normal)，LINE 強化了許多服務，並從全球與在地兩種角度，讓大家了解 LINE 的技術策略佈局；理解 LINE 台灣 的工程團隊如何與總部及其他國家的團隊分工合作，培養自我職能，貢獻價值。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/afbf9700a5c04511a7069dc00096ceb0?slide=34" title="Engineering Keynote @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li>Implement Development Governance with DevOps Mindset<ul>
<li>為了確保資料使用安全與服務穩定性，總部定義了許多政策與規範，讓用戶更安心的使用更多功能。而在導入規範的過程中，究竟要如何管理與調整，讓各團隊在符合規範的同時更有彈性的開發，並透過 LINE 台灣 SRE 團隊所提供的平台，了解服務在每個細節中的狀態，更快速地發現當中的變化。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/afbf9700a5c04511a7069dc00096ceb0?slide=54" title="Engineering Keynote @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><p>SmartText: Build a NLP Platform to Drive AI-Enabled Applications</p>
<ul>
<li>LINE 台灣應用自然語言技術來幫助許多服務解決海量文字內容上的難題，並透過自助式平台 - SmartText 讓各種角色協作，享有 NLP 帶來的好處。而打造的過程中要如何透過 MLOps，讓 SmartText 能夠普及並給非工程背景的人操作與驗證呢？本次將一步步帶各位認識其中工法，讓各位也能一同享有 NLP 所帶來的好處！</li>
</ul>
</li>
<li><p><a href="https://speakerdeck.com/line_developers_tw/api-in-practice-the-enabler-of-banking-ecosystem-at-techpulse">API in practice - the enabler of banking ecosystem</a></p>
</li>
<li><p><a href="https://speakerdeck.com/line_developers_tw/how-we-foster-rapid-development-workflows-with-a-performant-and-extensible-build-system-at-techpulse-2023">How We Foster Rapid Development Workflows with a Performant and Extensible Build System</a></p>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/2738b3f4ecc94b188f3528fde8c9f5f7?slide=6" title="How to use SLOs to understand user experience and find out how to make them happy @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/how-to-use-slos-to-understand-user-experience-and-find-out-how-to-make-them-happy-at-techpulse-2023">How to use SLOs to understand user experience and find out how to make them happy?</a></li>
</ul>
<p>過去在服務發生異常時，商業團隊只能確認服務狀態，但因不了解用戶狀態，團隊將很難做出正確的決策以改善服務。</p>
<p>另一方面，研發和商業團隊對於服務的定義可能有所不同，也會導致團隊之間無法清楚溝通，無法決定是否投入成本。</p>
<p>為了克服這些挑戰，與大家分享如何從觀察指標到理解用戶體驗的方法，分享如何衡量和定義服務水平，讓團隊能夠做出更好的決策並改善服務品質。</p>
<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/feature-toggle-makes-development-faster-and-safer-at-techpulse-2023">Feature Toggle Makes Development Faster and Safer</a><ul>
<li>Feature toggle 是一種無需調整程式碼來更改系統行為的方法，幫助團隊快速且安全地向用戶提供新功能。本次將案例分享如何使用 Feature toggle 讓團隊可以在主分支上開發並且持續交付，以及介紹 Flagr 開源工具當中的架構與演算法。</li>
</ul>
</li>
<li><a href="https://speakerdeck.com/line_developers_tw/number-meme-equals-high-traffic-guarantee-cracking-the-code-to-line-voom-virality-at-techpulse-2023">#meme &#x3D; high traffic guarantee? — Cracking the Code to LINE VOOM Virality</a><ul>
<li>作為一個 TECH FRESH，如何在 LINE VOOM 這個短影音平台中穿針引線，協助平台的推進呢？<ul>
<li>(1)如何建立 Hashtag Dashboard?</li>
<li>(2)與團隊合作時往往會對於同一個工具背後衍伸出來的詳細資訊定義不同，要如何有效定義才能降低落差呢？</li>
<li>(3)Pipeline 設計: 每日在 VOOM 產生的新趨勢、發燒話題間相當錯綜複雜，如何透過 pipeline 減少彼此之間的依賴性。</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://speakerdeck.com/line_developers_tw/how-to-develop-merchant-browsing-history-feature-in-line-shopping-app-using-clean-architecture-at-techpulse-2023">How to develop merchant browsing history feature in LINE SHOPPING App using Clean Architecture</a><ul>
<li>作為一個 TECH FRESH，如何運用有限的時間要，透過 Clean Architecture 和 Flutter Bloc 等技術來重新設計 LINE SHOPPING App 內部 Webview 的 Appbar，以及分享在開發階段如何將任務分散成多個 Sub-task 來跟團隊合作並減輕團隊成員在 Code Review 時的負擔。</li>
</ul>
</li>
<li><a href="https://speakerdeck.com/line_developers_tw/use-test-automation-tool-to-improve-quality-of-line-shopping-at-techpulse-2023">Use test automation tool to improve quality of LINE SHOPPING</a><ul>
<li>此議程將分享 TECH FRESH 在 LINE SHOPPING 中 QA 團隊的職責和角色。以及如何利用 Cypress 自動化測試、Jenkins pipeline 與 QA mock server 等技術協助實現目標，確保 API 的可使用性和資料的正確性，並且分享在實習期間的各種經驗給現場的各位！</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/474ad9303ab449a7bac5114a88e51f3c?slide=9" title="How LINE Invoice handle millions of transactions under limited 3rd party API? @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><p><a href="https://speakerdeck.com/line_developers_tw/how-line-invoice-handle-millions-of-transactions-under-limited-3rd-party-api-at-techpulse-2023">How LINE Invoice handle millions of transactions under limited 3rd party API?</a></p>
<ul>
<li>隨著每月兌獎日來臨時，究竟要透過何種系統架構才能順利消化掉大量用戶的需求呢？另一方面，在開源工具的盛行下，如何妥善運用各式開源工具，讓研發效率最大化呢？對於 LINE 發票管家 有興趣的大家，千萬別錯過這次的議程！</li>
</ul>
</li>
<li><p><a href="https://speakerdeck.com/line_developers_tw/fast-rendering-and-more-configurable-settings-in-line-today-at-techpulse-2023">Fast rendering and More configurable settings in LINE TODAY</a></p>
<ul>
<li>LINE TODAY 作為數一數二的內容媒介平台，為了簡化與自動化文章編輯工作，開發許多 Module 使文章各區塊設定能夠架構化。而 LINE TODAY 中有許多因應各種節慶所開發的在地化功能，其中泰國的樂透為最高流量需求功能之一，在這些功能中有哪些細節需要注意呢？讓我們一起來看看吧！</li>
</ul>
</li>
<li><p><a href="https://speakerdeck.com/line_developers_tw/efficient-automation-regression-testing-using-historical-testing-data-at-techpulse-2023">Efficient automation regression testing using historical testing data</a></p>
<ul>
<li>泰國作為 LINE TODAY 第二大市場，坐擁許多各式各樣的在地化功能。隨著功能越來越多，許多功能都需要透過回歸測試來確保功能完整。在此議程中，將會分享如何透過各式工具與手法，與跨國 QA 團隊合作，提高回歸測試的穩定性，若您重視測試品質與穩定性，此議程絕對是您不可錯過的一場！</li>
</ul>
</li>
<li><p><a href="https://speakerdeck.com/line_developers_tw/how-to-fast-verify-data-backups-for-iso-certification-review-at-techpulse-2023">How to Fast Verify Data Backups for ISO certification review</a></p>
<ul>
<li>備份就像保險一樣，有效備份可以減少停機時間與節省災難期間所帶來的隱藏成本。為達到快速恢復，必須有良好的配置文件，本次將介紹 LINE SHOPPING 如何透過 GORM 和 simple bash testing framework 來確保與驗證在數據備份的正確性。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/5ae26f24c8ed470db91587cb721d5722?slide=17" title="Brickmaster: Scenario-Wise Recommender Engine @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/brickmaster-scenario-wise-recommender-engine-at-techpulse-2023">Brickmaster: Scenario-Wise Recommender Engine</a></li>
</ul>
<p>Brickmaster 是 LINE 購物於 2022 年推出的情境感知深度學習推薦系統。本系統將解決傳統推薦系統常遇到的三個問題：推薦商品過時、無法跟上使用者喜好以及與組織 KPI 脫鉤。系統架構也提供可再用性與知識共享，將大幅減少所需開發人力與時間。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/340c104a7a7a4a49acfd6ba217f3fe08?slide=9" title="Opening the Black Box of NLP Models: A Self-Service NLP Platform for Content Moderation @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/opening-the-black-box-of-nlp-models-a-self-service-nlp-platform-for-content-moderation-at-techpulse-2023">Opening the Black Box of NLP Models: A Self-Service NLP Platform for Content Moderation</a></li>
</ul>
<p>本次議程將分享如何透過 NLP 的技術減少不同服務在內容審核時的時間。透過我們提供的平台 - SmartText，讓內部用戶能夠建立各服務服務的 NLP 模型，讓 AI 能夠存在於各位日常生活中。然而，由於機器學習的可解釋性較弱，因此我們透過 XAI 和 EDA，讓用戶除了能夠了解模型是如何預測，並進一步進行故障排除和改進模型，提高模型性能和預測結果。</p>
<h2 id="B-廳-「創新、技術分享廳」"><a href="#B-廳-「創新、技術分享廳」" class="headerlink" title="B 廳 - 「創新、技術分享廳」"></a>B 廳 - 「創新、技術分享廳」</h2><p><img src="https://nijialin.com/images/2023/techpulse/%E6%BB%BF%E5%A0%B4b.jpeg"></p>
<ul>
<li>Devtools for Flex Message<ul>
<li>「Flex 開發人員工具」是講者為了輔助開發 LINE chatbot 而製作的小工具，它主打的功能是在收到 Messaging API 的 Event 時會直接回傳 JSON，如果傳送 Message JSON 或是 Flex Message Simulator 複製的 JSON 給它，你還能直接看到這個 JSON 的呈現結果！在這個議程內將會詳細介紹這個小工具的使用方法。</li>
</ul>
</li>
<li>As an Engineer, let’s build the CRM system via LINE Official Account 2.0<ul>
<li>面對越來越複雜的應用，系統面對許多客製化與多種不同串接，我們要如何透過 LINE 官方帳號 2.0 打造出屬於自己的 CRM 系統，這邊將採用 Rocket chat 為串接標地，透過 LINE Webhook &#x2F; LINE API 同時與 LIFF 進行搭配，打造出可轉接窗口，多重狀態的 CRM 系統。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/10fa2046a5304b0585db7eb1c138c552?slide=3" title="Introduce to LINE MINI App @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/introduce-to-line-mini-app-at-techpulse-2023">Introduce to LINE MINI App</a><ul>
<li>LINE MINI App 是基於 LIFF 框架實作的服務，讓用戶的網站能夠透過 Web 的整合其服務，並讓服務能夠釘選在 LINE 首頁。此議程將會帶大家透過許多案例，了解整合 LINE 服務間的許多差異與變化。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/acf9394909d5492d8b8ba0eb10145df2?slide=14" title="Our approach to New Year's traffic of LINE STICKER @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/our-approach-to-new-years-traffic-of-line-sticker-at-techpulse-2023">Our approach to New Year’s traffic of LINE STICKER</a></li>
<li>在過年的期間，大家是否有透過貼圖與親朋好友拜年呢？本次議程將透過各種視角，帶大家了解我們是如何設計與規劃系統架構，因應不同時區的新年流量，並了解在新年期間是如何透過監控與營運機制，讓服務被有效運用。</li>
</ul>
 <iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/bc3268996e8a45d2a5d1d5118e18d090?slide=5" title="A/B Testing in LINE TODAY – Recommendation Tab Case @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/b-testing-in-line-today-recommendation-tab-case-at-techpulse-2023">A&#x2F;B Testing in LINE TODAY – Recommendation Tab Case</a><ul>
<li>好的推薦功能讓用戶在看 LINE TODAY 時能夠看到關注的內容。本次將以 LINE TODAY 的推薦頁面為案例，帶大家了解 LINE TODAY 是如何透過 A&#x2F;B Testing ，分析用戶對於不同功能的接受度，進一步了解用戶需求與體驗。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/bfc0df64ac164f7eb37296c023d0bdd3?slide=15" title="How JS task-force improve the quality of projects in LINE Taiwan @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/how-js-task-force-improve-the-quality-of-projects-in-line-taiwan-at-techpulse-2023">How JS task-force improve the quality of projects in LINE Taiwan</a><ul>
<li>隨著組織與產品線的擴大，長期的維護與經營就相當重要。因此 LINE 台灣成立了 Frontend Infra 團隊，Infra 團隊整合總部的規範與在地的開發經驗，讓前端團隊在開發初期或現有產線上能夠符合規範並增進開發品質。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/4746d462ff2c4a7aae5ca63adc170285?slide=5" title="SwiftUI with TCA in LINE LIVE Commerce Assistant App @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/swiftui-with-tca-in-line-live-commerce-assistant-app-at-techpulse-2023">SwiftUI with TCA in LINE LIVE Commerce Assistant App</a><ul>
<li>隨著電商直播的需求越來越高，因此今年上半年將推出 LINE LIVE Commerce Assistant App，讓直播主能夠更快速地開啟直播。本次議程將透過 swiftUI 與 TCA，帶大家走訪在 App 開發時所會遇到的各種眉角，了解框架與測試所帶來的好處。</li>
</ul>
</li>
<li><a href="https://speakerdeck.com/line_developers_tw/global-common-platform-introduction-at-techpulse-2023">Global Common Platform - Introduction</a><ul>
<li>在各式各樣的行銷需求之中，如何透過共用的平台，讓不同地區的操作人員，藉由平台的整合，把各種行銷內容透過抽獎、官方帳號、集點卡…功能交付給使用者。</li>
</ul>
</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/bb6c50048ff14c959786bab0073034e9?slide=10" title="LINE PROTOSTAR Introduction @ TECHPULSE 2023" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/line-protostar-introduction-at-techpulse-2023">LINE PROTOSTAR Introduction</a><ul>
<li>LINE 新星計劃歡迎開發者及新創公司一同加入，藉由提供免費 LINE 官方帳號、平台資源、技術支援，戰略夥伴諮詢輔導、提高您在 LINE 平台上開發的速度，並確保推出服務的成功。</li>
<li>自由食間 ＠freezone<ul>
<li>「自由食間」 是一個小小的無人商店，座落在城市的各個角落，努力的開在離您最近的地方滿足您最及時的需求，採用信用卡&#x2F; LINE Pay 支付、自助購餐、自動結帳的消費方式，讓您隨時從容購餐。官網︰<a href="https://www.freezone.com.tw/">https://www.freezone.com.tw/</a></li>
</ul>
</li>
<li>Care724 @care724<ul>
<li>CARE724 主要滿足家庭中的照顧服務需求，經由提供資訊平台管道，讓不論是醫院看護、居家照護、陪伴就醫 等都能找到適合人選，價格均由服務者自訂，時間彈性，服務費用由第三方價金保管，更有保障。官網：<a href="https://www.care724.com/">https://www.care724.com/</a></li>
</ul>
</li>
<li>PackAge+配客嘉 @packageplus<ul>
<li>PackAge+配客嘉是網購循環包裝系統，讓包裝在消費者與電商間可以不斷重複循環再使用，來降低台灣網購的一次性包裝問題。PackAge+目前歸還點約有 500 家，包括非連鎖的街邊店如餐廳、早餐店，近期會再增加家樂福、爭鮮等連鎖品牌。官網：<a href="https://www.packageplus-tw.com/">https://www.packageplus-tw.com/</a></li>
</ul>
</li>
<li>TWODAY 就 GO @twoday<ul>
<li>TWODAY 就 GO 是一個美業專屬的媒合平台，提供消費者即時預約自己喜歡的設計師，不需要等待商家確認即可完成預約服務！官網：<a href="https://twoday.beauty/">https://twoday.beauty/</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="攤位系列"><a href="#攤位系列" class="headerlink" title="攤位系列"></a>攤位系列</h1><p><img src="https://nijialin.com/images/2023/techpulse/%E6%94%A4%E4%BD%8D.jpeg"></p>
<p>這屆 TECHPULSE 首次結合攤位以及演講的形式，促進交流的效益，小編在現場也是看到人滿為患(如圖)，出乎意料的大家非常喜歡 B 廳攤位與演講，據現場同仁回饋都非常棒，每位開發者都很積極的來了解每個服務背後的架構與實作邏輯，一度還因為太踴躍希望大家控制音量(小編真抱歉)…但也因為每位開發者的熱情，把整個場館擠得水泄不通，這才是疫情前的研討會盛況啊！！希望大家在未來參加任何活動都能更踴躍的去參加各種實體活動，實體跟任何團隊成員交流也是學習的途徑之一唷：）</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2023/techpulse/all.jpg"></p>
<p>因為有各位開發者的加入，才有辦法讓這次的活動圓滿結束，透過這次的 LINE TECHPULSE，希望在後疫情時代，大家更能夠跨出門與各個領域開發者實體交流，讓整個軟體開發圈能夠回復盛況，讓我們能夠在每場活動中，發想出更多更有創意的點子！</p>
<p>最後，希望這次的 LINE TECHPULSE 2023 能夠讓每位開發者滿載而歸，學習到最先進的軟體開發技術！謝謝大家的參與，我們未來活動見：）</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://qr-official.line.me/gs/M_908lugfe_BW.png">@line_tw_dev</a></p>
<img src="https://qr-official.line.me/gs/M_908lugfe_BW.png" width="200" height="200">

<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>技術研討會</tag>
        <tag>議程</tag>
      </tags>
  </entry>
  <entry>
    <title>【LINE TECHPLUSE 2022】議程回顧</title>
    <url>/2022/01/26/line-techpulse-2022-session/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/techpulse/session/0.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>作為 LINE 一年一度的技術研討會，本質還是以技術為主出發，讓大家了解除了 LINE 工程團隊這一年來的努力之外，也要讓彼此可以透過分享技術來處理不同情境下所能解決的方式，在 LINE TECHPULSE 2022 中並將活動分為<strong>技術分享日</strong>、<strong>平台推廣日</strong>兩天，讓大家可以在線上可以聽到不同團隊來分享的經驗、技術、工具…，讓大家在不同的空間下，也可以與 LINER 們互相學習，以下就讓小編帶大家快速了解一下議程內容吧！</p>
<span id="more"></span>

<h1 id="目錄"><a href="#目錄" class="headerlink" title="目錄"></a>目錄</h1><ul>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#KEYNOTE">KEYNOTE</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#LINE-Bank-the-Future-and-Beyond">LINE Bank, the Future and Beyond</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#Pandemic-Pivot-transformation-from-ride-hailing-to-vegetable-box-and-food-delivery">Pandemic Pivot: transformation from ride-hailing to vegetable box and food delivery</a></li>
<li><a href="https://nijialin.com/2022/01/26/techpulse-2022-session/#How-We-Build-Up-O2O-Platform-to-Our-Partner-Corporation-Service">How We Build Up O2O Platform to Our Partner Corporation Service</a></li>
<li><a href="https://nijialin.com/2022/01/26/techpulse-2022-session/#AI-solutions-of-MarTech-in-LINE">AI solutions of MarTech in LINE</a></li>
<li><a href="https://nijialin.com/2022/01/26/techpulse-2022-session/#Implementing-Observability-Practices-on-Kubernetes">Implementing Observability Practices on Kubernetes</a></li>
<li><a href="https://nijialin.com/2022/01/26/techpulse-2022-session/#Data-Driven-Testing-for-LINE-SHOPPING">Data-Driven Testing for LINE SHOPPING</a></li>
<li><a href="https://nijialin.com/2022/01/26/techpulse-2022-session/#Reduce-iOS-app-binary-size-by-analyzing-source-code-with-SourceKit">Reduce iOS app binary size by analyzing source code with SourceKit</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">How Do We Assess Our Tests to Measure and Monitor Their Reliability?</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">Utility Platform - how we use Safeframe to display content from 3rd party</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">LINE TECH FRESH Program</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">Platform Opening</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">CLOVA Keynote</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">Marketplace Review and Chat-Plugin</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">How we build TECHPULSE Bot</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">Rapid development using LINE Bot framework Kamigo</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#">Playing real escape games in LINE, a RPG metaverse</a></li>
<li><a href="https://nijialin.com/2022/01/26/line-techpulse-2022-session/#LINE-PROTOSTAR-Program-Introduction-amp-Startup-Demo">LINE PROTOSTAR Program Introduction &amp; Startup Demo</a></li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="KEYNOTE"><a href="#KEYNOTE" class="headerlink" title="KEYNOTE"></a><a href="https://music-tw.line.me/live/player/24e45a1b-aa46-44e4-8ac5-c24cf11f902d">KEYNOTE</a></h2><script async class="speakerdeck-embed" data-slide="6" data-id="e5b8aba8f9384cd9836cc2db79e7b777" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE 作為大家日常生活的入口，這十週年擁有許多服務來乘載用戶每天生活之所需，圖上的內容大家用過幾個呢？</p>
<script async class="speakerdeck-embed" data-slide="17" data-id="e5b8aba8f9384cd9836cc2db79e7b777" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>基於一個人數持續上升的組織、專案也提升的狀態，隨著資料量越來越大，同時有許多工程知識與開發技巧都會需要更大質量的提升，除了需要按造流程，避免在開發上重複造輪子、沒照 spec 導致錯誤發生，因此 LINE TAIWAN 工程團隊除了以自身經驗規劃流程外，也參考了許多 Open Source 的規範流程，打造出屬於我們的的文化，並透過內外的宣導，讓持續擴張的組織可以更加的瞭解相關規範，有讓工程上的內容可以更符合作業規範。</p>
<blockquote>
<p>當然還有像是 DOSI 這大家關注的內容，趕快點下標題的連結進去聽聽看有什麼吧！</p>
</blockquote>
<h2 id="LINE-Bank-the-Future-and-Beyond"><a href="#LINE-Bank-the-Future-and-Beyond" class="headerlink" title="LINE Bank, the Future and Beyond"></a><a href="https://music-tw.line.me/live/player/9914ff22-f810-4f23-a750-74940b799cf9">LINE Bank, the Future and Beyond</a></h2><script async class="speakerdeck-embed" data-slide="3" data-id="a099c9719c7641fba3b9191efdc4b183" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>乘著數位浪潮而至，LINE Bank 將與大家分享開業以來的重要里程碑，接著以四大重點說明 LINE Bank 獨有的差異化特質，讓大家瞭解 LINE Bank 挾其全數位化的服務獨特性，成為創新金融的最前鋒，打造更貼近用戶日常生活的新金融服務。</p>
<h2 id="Pandemic-Pivot-transformation-from-ride-hailing-to-vegetable-box-and-food-delivery"><a href="#Pandemic-Pivot-transformation-from-ride-hailing-to-vegetable-box-and-food-delivery" class="headerlink" title="Pandemic Pivot: transformation from ride-hailing to vegetable box and food delivery"></a><a href="https://music-tw.line.me/live/player/1cf06ebf-4934-4012-a9c3-b654b2da00d6">Pandemic Pivot: transformation from ride-hailing to vegetable box and food delivery</a></h2><script async class="speakerdeck-embed" data-slide="21" data-id="40cfe68ed2f5443da33a2f7e30e278ee" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在疫情的衝擊下，各個產業所面臨的問題接踵而來，而如何在受影響時，逆勢成長呢？ LINE TAXI 在不到一週的時間，在原本的叫車平台迅速推出「安心快送」服務，讓乘客在疫情中即使不搭車，也能點購蔬菜箱甚至星級餐點，再由駕駛送到乘客手中。本次分享將首度公開當時面臨哪些挑戰，以及如何在極短的時間，以技術支援緊急應變計畫。</p>
<script async class="speakerdeck-embed" data-slide="27" data-id="40cfe68ed2f5443da33a2f7e30e278ee" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在系統架構上也跟原先的架構類似，讓開發的系統能夠間接讓使用者很快速地在原先的系統介面上使用，不僅僅增加了效率，大家也可以在疫情期間買到新鮮的食物。</p>
<p>但往往系統上線後總會遇到一些挑戰，想知道遇到什麼挑戰呢？請看 <a href="(https://music-tw.line.me/live/player/1cf06ebf-4934-4012-a9c3-b654b2da00d6)">影片</a>。</p>
<h2 id="How-We-Build-Up-O2O-Platform-to-Our-Partner-Corporation-Service"><a href="#How-We-Build-Up-O2O-Platform-to-Our-Partner-Corporation-Service" class="headerlink" title="How We Build Up O2O Platform to Our Partner Corporation Service"></a><a href="https://music-tw.line.me/live/player/3d89c1ea-f387-42be-802f-9c2da8f2fb4c">How We Build Up O2O Platform to Our Partner Corporation Service</a></h2><script async class="speakerdeck-embed" data-slide="15" data-id="fc5c1c5b577f4f6fa15a3dc34a487eea" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE Pay 深根台灣許久，上面的服務照顧了許多人的生活起居，從日常花費、繳費、會員卡管理、以及這次分享的星意禮的服務開發，以下為架構圖</p>
<script async class="speakerdeck-embed" data-slide="20" data-id="fc5c1c5b577f4f6fa15a3dc34a487eea" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>除了架構須清楚劃分以外，支付上也有許多加解密的細節在其中，來支援每個用戶在支付時的資訊安全，付得安心也用得安心</p>
<p>當然若你也想擔任 <a href="https://pay.line.me/merchant-apply/tw/contact-request?dm=1641975167088&locale=zh_TW">LINE Pay 合作夥伴</a>。我們提供夥伴線上與線下間的雙向機制平台，進行數位支付生態的整合，打造 O2O 平台與其系統架構來幫助合作夥伴與使用者創造雙贏的機會！</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=rndT5K8isww&list=PL4u2gEb6gu2tsdFiw8ziuc6hTJJA5Y8q8&index=2">LINE Pay 招募日介紹</a></li>
<li><a href="https://www.youtube.com/watch?v=K9ZHOdjZyug&list=PL4u2gEb6gu2ta2oMhDmq1pZwXGzu_hGug&index=8">LINE TAIWAN TECHPULSE 2020_LINE Pay New Service-我的會員卡_Hugo Huang</a></li>
</ul>
<h2 id="AI-solutions-of-MarTech-in-LINE"><a href="#AI-solutions-of-MarTech-in-LINE" class="headerlink" title="AI solutions of MarTech in LINE"></a><a href="https://music-tw.line.me/live/player/5436a819-d296-448b-91cf-2f5e1b0b560e">AI solutions of MarTech in LINE</a></h2><ul>
<li><a href="">新聞稿</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="5" data-id="d8a20a4a1ece4f8c8d492b45237c55cb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>隨著 AI 的應用越來越廣泛，各式各樣服務都看得到人工智慧的身影，而當今使用者的需求也千變萬化，大家應該會很好奇，LINE 台灣資料工程團隊如何應用機器學習技術來幫助解決行銷難題。而當中碰到來自許多服務的難題，像是「如何尋找新用戶？」、「如何判斷客戶價值？」、「如何透過差異化行銷來衡量廣告增益？」，如果你們的行銷團隊也有相關的困擾，趕快點擊標題的連結來看我們如何透過機器學習技術、建構可重複使用的解決方案來快速處理各種行銷問題。</p>
<script async class="speakerdeck-embed" data-slide="21" data-id="d8a20a4a1ece4f8c8d492b45237c55cb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/lets-play-in-data-park/">LINE 資料工程團隊如何透過專業分工與 MLOps 打造不同服務 | 以 MarTech &amp; NLP 為例</a></li>
<li><a href="https://www.youtube.com/watch?v=YCKYwfGY-Rc&list=PL4u2gEb6gu2ta2oMhDmq1pZwXGzu_hGug&index=4">LINE TAIWAN TECHPULSE 2020_Scaling Machine Learning at LINE</a></li>
</ul>
<h2 id="Implementing-Observability-Practices-on-Kubernetes"><a href="#Implementing-Observability-Practices-on-Kubernetes" class="headerlink" title="Implementing Observability Practices on Kubernetes"></a><a href="https://music-tw.line.me/live/player/b0fed22c-88cd-44f4-9c02-6ff87477f165">Implementing Observability Practices on Kubernetes</a></h2><ul>
<li><a href="">新聞稿</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="23" data-id="a092eb115abe43649755692eb519a9de" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在 2020 年的 TECHPULSE 中，LINE 台灣 SRE 團隊有分享如何<a href="https://www.youtube.com/watch?v=jk8nBXb74sQ&list=PL4u2gEb6gu2ta2oMhDmq1pZwXGzu_hGug&index=9">透過 GitOps 來協助 Kubernetes</a> 相關的流程，經過了一年之後，SRE 團隊提供更多測量<strong>應用程序可靠性</strong>的工具和平台，並從我們將從台灣應用團隊各種監控實踐的背景開始，簡要地概述我們的可觀察性平台，並介紹我們在 Kubernetes 上監控應用程式的各種組件，以及我們如何引入新的實踐來增強可觀察性。</p>
<p>在引入的過程中也會遇到相對應的挑戰，如 LogQL、PromQL、以及導入到現有的各種基礎設施上面，都會是導入過程中所需要注意的部分。</p>
<p>當然，想了解 LINE 台灣 SRE 都是如何實作以及導入到各個團隊中的實作，歡迎參考簡報內容以及<a href="https://music-tw.line.me/live/player/b0fed22c-88cd-44f4-9c02-6ff87477f165">影片</a>喔！</p>
<script async class="speakerdeck-embed" data-slide="38" data-id="a092eb115abe43649755692eb519a9de" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li><a href="https://www.youtube.com/watch?v=jk8nBXb74sQ&list=PL4u2gEb6gu2ta2oMhDmq1pZwXGzu_hGug&index=9">LINE TAIWAN TECHPULSE 2020_How GitOps Helps Kubernete Adoption_Denny Tsai</a></li>
</ul>
<h2 id="Data-Driven-Testing-for-LINE-SHOPPING"><a href="#Data-Driven-Testing-for-LINE-SHOPPING" class="headerlink" title="Data-Driven Testing for LINE SHOPPING"></a><a href="https://music-tw.line.me/live/player/9967e832-6446-4fb2-9096-50bd8c126373">Data-Driven Testing for LINE SHOPPING</a></h2><p>資料量一直都是每個服務所需要的材料，而 LINE SHOPPING 是一個導購型的服務，介接各大電商平台的內容，自然就有許多資料是需要彙整處理且重要性相當大。而在測試的過程中，除了一般的測試手法之外，也借助 Machine Learning 的方式協助測試。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="80ebfc08d2bc4f28a14349aca2012a4b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>各式搜尋區塊</li>
<li>Mock Server</li>
<li>資料儲存位置</li>
<li>利用 GORM 來加速撰寫與測試相關的任務</li>
</ul>
<script async class="speakerdeck-embed" data-slide="22" data-id="80ebfc08d2bc4f28a14349aca2012a4b" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然在其中也獲得了許多好處，歡迎大家查看講者的影片內容喔！</p>
<h2 id="Reduce-iOS-app-binary-size-by-analyzing-source-code-with-SourceKit"><a href="#Reduce-iOS-app-binary-size-by-analyzing-source-code-with-SourceKit" class="headerlink" title="Reduce iOS app binary size by analyzing source code with SourceKit"></a><a href="https://music-tw.line.me/live/player/d5c91b62-aba2-424f-beb8-f69090e95993">Reduce iOS app binary size by analyzing source code with SourceKit</a></h2><p>隨著程式以及服務越來越多，有些程式碼可能在功能開發迭代的過程中逐漸被棄用，但這些程式碼透過肉眼檢查的方式開發者也不一定敢動它，因此本次的 QC 就與大家分享最佳化 App 大小的過程，介紹如何使用工具如 SourceKit，幫助我們分析程式原始碼，找到冗余的程式碼片段並去蕪存菁已達到減少 App 大小的目的。</p>
<script async class="speakerdeck-embed" data-slide="25" data-id="f4354357f0bb41ba9bd34eaada8247cf" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<ul>
<li>Link map<ul>
<li>Object file, Sections, Symbols, Mangling</li>
</ul>
</li>
<li>sourcekitd</li>
<li>SourceKit C API</li>
</ul>
<p>如果你也是 iOS 的開發者，不妨參考這次影片的內容來學習一下如何幫自家的 app 瘦身吧！</p>
<script async class="speakerdeck-embed" data-slide="40" data-id="f4354357f0bb41ba9bd34eaada8247cf" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="How-Do-We-Assess-Our-Tests-to-Measure-and-Monitor-Their-Reliability"><a href="#How-Do-We-Assess-Our-Tests-to-Measure-and-Monitor-Their-Reliability" class="headerlink" title="How Do We Assess Our Tests to Measure and Monitor Their Reliability?"></a><a href="https://music-tw.line.me/live/player/7cb2845d-e85c-4328-a51a-90d78aceec6b">How Do We Assess Our Tests to Measure and Monitor Their Reliability?</a></h2><script async class="speakerdeck-embed" data-slide="5" data-id="969771d182e547a4be1f5b39b40cf9ad" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>Flaky test 一直是測試中常被拿出來探討的問題，也就是測試過程中有時成功有時失敗，而你可能毫無頭緒到底發生在哪邊的問題。</p>
<script async class="speakerdeck-embed" data-slide="9" data-id="969771d182e547a4be1f5b39b40cf9ad" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而在 LINE TODAY 中，裡面的服務量非常大，相對為了確保服務品質，測試案例也一定非常多，因此跑一次可能都會花費非常多建立、Retry、修復的時間…，因此在這邊就要先整理一下自己的測試內容到底會花費多少的精力，避免再重複測試時，浪費過多同仁的時間。</p>
<p>LINE TODAY QA 團隊開發了一個框架 – Test Analysis Dashboard，該工具在每次自動化測試後會即時監控測試結果，並立刻計算和識別是否找到真正的錯誤。</p>
<script async class="speakerdeck-embed" data-slide="15" data-id="969771d182e547a4be1f5b39b40cf9ad" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當然過程中講者有分享出許多經驗，歡迎大家來參考看看。</p>
<h2 id="Utility-Platform-how-we-use-Safeframe-to-display-content-from-3rd-party"><a href="#Utility-Platform-how-we-use-Safeframe-to-display-content-from-3rd-party" class="headerlink" title="Utility Platform - how we use Safeframe to display content from 3rd party"></a><a href="https://music-tw.line.me/live/player/ad46428e-dcdd-4a0a-a204-f058305ea10c">Utility Platform - how we use Safeframe to display content from 3rd party</a></h2><p>LINE TODAY 為一個跨國專案，但功能需要在地話，而在開發功能上要如何面對排山倒海的跨國需求，以及多樣化的服務串接？</p>
<script async class="speakerdeck-embed" data-slide="3" data-id="ce92f7e9237c4673a46c1b66aad8083f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>因此這次就由 Willy 為大家介紹 Utility Platform，一個由 LINE TODAY 開發輕量化以及快速的上架串接測試的開發模式，幫助產品透過 Safeframe 的方式擴充開發量能，以及有效分享集團內部的資源。</p>
<script async class="speakerdeck-embed" data-slide="10" data-id="ce92f7e9237c4673a46c1b66aad8083f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>大家在看完這場之後，不妨到你們的 LINE TODAY 頁面找找，到底哪邊是 Utility Platform 製作的東西呢～</p>
</blockquote>
<h2 id="LINE-TECH-FRESH-Program"><a href="#LINE-TECH-FRESH-Program" class="headerlink" title="LINE TECH FRESH Program"></a><a href="https://music-tw.line.me/live/player/73d6151e-159f-4435-a3ec-82481b27b6d6">LINE TECH FRESH Program</a></h2><script async class="speakerdeck-embed" data-slide="6" data-id="a3a2283e8f9745ec88a5971b3c228e00" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在學校時，不論考慮是繼續在學鑽研知識，抑或是出來實習，都要瞭解自身所想要的、動機，清楚知道自己想要的是什麼，來 LINE 實習之後才會更加事半功倍。</p>
<script async class="speakerdeck-embed" data-slide="16" data-id="560a5208b1d84e57a26d693cd49f9bc7" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而此場由三位現役實習生 TU Lin、Yi-Han, Hsiao、Kevin Chen 輪番上正跟大家分享自身從學校到實習的經驗談，讓還在觀望實習計畫的各位可以先了解學長姐們所遇到的問題與挑戰，讓大家可以有更多的參考。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="c0cf66a8537e4cf69a7328a9ac68847c" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>因此在準備進入寒假之餘，大家不妨來聽聽看分享，也歡迎大家參考下列文章，讓你對於來 LINE 實習有更多的了解喔！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2020-graduate/">TECH FRESH 實習的一年間，除了開發還有什麼內部活動呢？</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
</ul>
<blockquote>
<p>投遞投起來，<a href="https://careers.linecorp.com/jobs/83">LINE TECH FRESH</a></p>
</blockquote>
<h2 id="Platform-Opening"><a href="#Platform-Opening" class="headerlink" title="Platform Opening"></a><a href="https://music-tw.line.me/live/player/47d5bac5-0f07-45cd-acce-4cc96e1ea774">Platform Opening</a></h2><script async class="speakerdeck-embed" data-slide="6" data-id="1b800bf7086e48cfa6f184da2ce08122" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>每年大家應該都跟忍編一樣，都很期待 LINE 平台一年來究竟往前走了多少，以下為大家快速整理一下這些內容</p>
<ul>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#message-event">Mention API</a><ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/chatbot-meetups-202101/#%E7%94%A8-mention-api-%E5%BE%97%E7%9F%A5%E8%AA%B0-tag-%E8%AA%B0">文章</a></li>
</ul>
</li>
<li><a href="https://developers.line.biz/en/reference/messaging-api/#uri-action">Quick Reply 中支援 URI action</a></li>
<li>Rich Menu switch Action<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/rich-menu-alias-switch-action/">透過 Rich Menu Switch Action 快速地切換 LINE 的個人化的 Rich Menu</a></li>
</ul>
</li>
<li>ImageSet</li>
<li><a href="https://developers.line.biz/en/news/2021/11/#messaging-api-202111-01">在 Webhook 中收到隨你填貼圖的文字</a></li>
</ul>
<script async class="speakerdeck-embed" data-slide="14" data-id="1b800bf7086e48cfa6f184da2ce08122" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>而大家在開發 LIFF 時會先如何測試與評估呢？直接開發？尋找網路上的程式？</p>
<p>LIFF 團隊有為大家準備一個 playground (開發者應該不陌生這詞)，透過在桌機版、手機版上開啟此 LIFF，可以快速驗證當前的功能是否有滿足該大家專案上的需求。</p>
<script async class="speakerdeck-embed" data-slide="16" data-id="1b800bf7086e48cfa6f184da2ce08122" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>經過了一段時間，LIFF 也重新支援了 QR Code 的掃描，<a href="https://developers.line.biz/en/reference/liff/#scan-code-v2">稱之為 ScanCodeV2</a>，大家開發應用上有相關的需求，請切記 <strong>LINE 版本號碼</strong>以及 <strong>LIFF SDK</strong> 的版本喔!</p>
<script async class="speakerdeck-embed" data-slide="18" data-id="1b800bf7086e48cfa6f184da2ce08122" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LIFF 團隊在接下來的開發上，會開始邁向以 plugin-based 的方式開發，讓大家在使用 LIFF 時，能夠更輕巧地引入自己想用的模組，兼具擴充性讓你的 LIFF 可以組合出更多更不一樣的應用。</p>
<h2 id="CLOVA-Keynote"><a href="#CLOVA-Keynote" class="headerlink" title="CLOVA Keynote"></a><a href="https://music-tw.line.me/live/player/cff8c12d-a887-4067-93e4-2dd46e393925">CLOVA Keynote</a></h2><p>自從三年前 LINE 宣布要成為一家 AI 公司，到推出 LINE BRAIN，之後整合成 LINE CLOVA 的單一產品線，LINE 持續在 AI 的產品以及技術上努力著，希望帶給使用者更好的生活，更人性化的體驗。LINE CLOVA 的未來展望，以及在台灣的持續發展以及落地的計畫，歡迎大家透過上方影片連結，來看看這次 CLOVA 與大家分享的內容。</p>
<script async class="speakerdeck-embed" data-slide="44" data-id="dac94bd01c7746128eedaf7af423d4c8" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<blockquote>
<p>如果你也關注 LINE CLOVA 許久，想與我們合作的話歡迎參考上方 QR Code</p>
</blockquote>
<h2 id="Marketplace-Review-and-Chat-Plugin"><a href="#Marketplace-Review-and-Chat-Plugin" class="headerlink" title="Marketplace Review and Chat-Plugin"></a><a href="https://music-tw.line.me/live/player/b9017840-2036-43c2-96df-200755dc58ed">Marketplace Review and Chat-Plugin</a></h2><script async class="speakerdeck-embed" data-slide="11" data-id="b5938f4e2d5040b8875a571753d92e3a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>LINE OA Marketplace 是一個能夠讓各式想整合 LINE 官方帳號的商家，透過外掛模組的方式，快速地引入所需採用的模組。並介紹最新的擴充功能 Chat Plugin，能更方便地在官方帳號一對一聊天功能中，連動模組的後台資訊，快速回應客戶的詢問或需求。</p>
<script async class="speakerdeck-embed" data-slide="30" data-id="b5938f4e2d5040b8875a571753d92e3a" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如果聽完後覺得你們也很適合申請的話，歡迎參考簡報中的 QR Code 與我們聯繫！</p>
<h2 id="How-we-build-TECHPULSE-Bot"><a href="#How-we-build-TECHPULSE-Bot" class="headerlink" title="How we build TECHPULSE Bot"></a><a href="https://music-tw.line.me/live/player/8bec255f-83f3-46d3-a1f0-62aa711da9b6">How we build TECHPULSE Bot</a></h2><script async class="speakerdeck-embed" data-slide="9" data-id="6d79b253713b499db376506d5dd1336f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>首先將者先為各位科普一下 LINE 開發者常見的問題，Provider、Channel 以及 Developer Console 與 OA Manager 間的愛恨情仇。</p>
<script async class="speakerdeck-embed" data-slide="30" data-id="6d79b253713b499db376506d5dd1336f" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>且由於本次大會回洞是在 LINE MUSIC 上播放，因此講者在這部分詳細解釋了當中系統是如何串接以及有什麼需要注意的事項，帶大家了解在影音撥方相關所會遇到的挑戰。</p>
<h2 id="Rapid-development-using-LINE-Bot-framework-Kamigo"><a href="#Rapid-development-using-LINE-Bot-framework-Kamigo" class="headerlink" title="Rapid development using LINE Bot framework Kamigo"></a><a href="https://music-tw.line.me/live/player/fed61687-4e9f-45af-a1f9-e59c5cca354d">Rapid development using LINE Bot framework Kamigo</a></h2><p>Kamigo 是使用基於 Rails 的 MVC LINE Bot 框架，目的是讓開發者能夠快速開發整合 LINE 登入的網站後台以及具高維護性的 Flex Message 和 LIFF 表單 的 LINE Bot。</p>
<p>這次的演講中，LINE API Expert 卡米哥很詳細地為大家介紹在 Rails 這個完整的框架中，如何與 LINE Bot 的開發做整合，讓開發 LINE Bot 的各位可以達到人跡一體的開發效率！</p>
<h2 id="Playing-real-escape-games-in-LINE-a-RPG-metaverse"><a href="#Playing-real-escape-games-in-LINE-a-RPG-metaverse" class="headerlink" title="Playing real escape games in LINE, a RPG metaverse"></a><a href="https://music-tw.line.me/live/player/959f3074-3ec2-4d5f-8bd3-213fa3561fed">Playing real escape games in LINE, a RPG metaverse</a></h2><p>實境解謎是這幾年來非常火紅的主題，讓玩家在實體上可以與同伴合作解出謎題之外，也須在移動裝置作出相關的應對才能順利通關。本次由 LINE API Expert 佳新為大家介紹他們是如何在 LINE 聊天視窗可以打造一個角色扮演的虛擬遊戲世界，化身成為實境解謎的故事場景，在訊息對話來回之間，讓多位玩家一起破關、一起獲得樂趣，讓作為通訊軟體的 LINE，在聊天視窗裡除了聊天之外，也能夠與每位玩家做虛實整合的應用。</p>
<h2 id="LINE-PROTOSTAR-Program-Introduction-amp-Startup-Demo"><a href="#LINE-PROTOSTAR-Program-Introduction-amp-Startup-Demo" class="headerlink" title="LINE PROTOSTAR Program Introduction &amp; Startup Demo"></a><a href="https://music-tw.line.me/live/player/435677af-f577-4396-a117-d8f6eaf8b05f">LINE PROTOSTAR Program Introduction &amp; Startup Demo</a></h2><p><img src="https://nijialin.com/images/2022/techpulse/session/1.png"></p>
<p>每年 TECHPULSE 不管在實體或是此次的線上，都是社群上大家關注的焦點之一，本次 LINE PROTOSTAR 團隊邀請了七隻不同的團隊為大家帶來分享，讓大家了解 LINE 官方帳號上究竟有什麼樣的應用方式，與真正商業上的內容做整合，想知道每個團隊是怎麼打造這樣子的服務，趕快點選標題中的影片觀看吧！</p>
<blockquote>
<p>LINE 新星計劃歡迎開發者及新創公司一同加入，藉由提供免費 LINE 官方帳號、平台資源、技術支援，戰略夥伴諮詢輔導、提高您在 LINE 平台上開發的速度，並確保推出服務的成功。</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>每年的 LINE TECHPULSE 都希望帶給大家最純粹的技術資訊，讓大家在軟體技術的這條路上不會寂寞，有大家的鼓勵才是我們持續辦下去的動力，希望兩天的技術與平台分享內容各位會喜歡！敬請期待我們接下來的活動內容，謝謝大家的支持，讓我們接下來的活動見！</p>
<blockquote>
<p>加入以下的官方帳號，絕對不讓你錯過任何第一手的資訊！</p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手活動資訊，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>TECHPULSE</tag>
      </tags>
  </entry>
  <entry>
    <title>【LINE TECHPULSE 2023】久違實體活動消息一把抓</title>
    <url>/2023/02/13/line-techpulse2023-introduction/</url>
    <content><![CDATA[<p><img src="https://vos.line-scdn.net/techpulse2023/speakers/agenda/morning.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>過完農曆年，是否也跟小編一樣，覺得好久沒有實體吸收研討會的精華呢？本篇文章將跟大家透露本週五實體舉辦的 LINE TECHPULSE 2023 中的一些細節，讓大家在活動前可以了解一下這次的一些內容！</p>
<span id="more"></span>

<h1 id="LINE-TECHPULSE-2023-介紹"><a href="#LINE-TECHPULSE-2023-介紹" class="headerlink" title="LINE TECHPULSE 2023 介紹"></a><a href="https://techpulse.line.me/">LINE TECHPULSE 2023</a> 介紹</h1><p>LINE TAIWAN TECHPULSE 2023 是 LINE 台灣年度的最大科技盛會，依據 LINE 總部的策略，打造專屬台灣的在地服務，除了向與會開發者展現 LINE 生態系中的策略布局與技術亮點，更將分享流程再造、創新應用等各式技術議題。</p>
<p>今年，我們著重開發本質，以實務觀點探究服務、產品開發內涵，更回到線下與大家面對面交流，期待與開發者共同激盪出更多創新觀點與技術，敬邀您蒞臨參加！</p>
<p>上午的場次將發表 LINE 台灣研發工程團隊今年度整體重點策略布局；下午場次則以雙廳制進行，分別帶大家了解由 LINE 台灣 研發工程團隊今年度最新的技術與在地化的應用，更邀請各界好手與 LINE 台灣 Internal Hackathon 前三名獲獎團隊展示多個服務的創新技術架構。 LINE 台灣研發工程團隊將帶來各種有趣的實作經驗，相信一定能讓您滿載而歸。</p>
<h1 id="🔜-活動資訊"><a href="#🔜-活動資訊" class="headerlink" title="🔜 活動資訊"></a>🔜 活動資訊</h1><p>🟢 日期：2023.02.17（Fri.）<br>🟢 地點：微風 Mega Studio（當天無直播）<br>🟢 活動地址：台北市松山區復興南路一段 39 號 9 樓<br>🟢 活動官網：<a href="https://techpulse.line.me/">https://techpulse.line.me</a><br>🟢 官方帳號報名：<a href="https://lin.ee/M4vzvfW/yltz">https://lin.ee/M4vzvfW/yltz</a></p>
<blockquote>
<p>官方新聞稿：<a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2023/4483">https://linecorp.com/zh-hant/pr/news/zh-hant/2023/4483</a></p>
</blockquote>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/techpulse-2022-introduction">【TECHPULSE 2022】活動資訊一把抓</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020-review/">LINE TAIWAN TECHPULSE 2020 議程內容分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2020/">您不能錯過的 LINE TAIWAN TECHPULSE 2020 年度盛會</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2019-arrangement/">LINE TAIWAN TECHPULSE 2019 活動安排幕後秘辛</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-techpulse-2018/">LINE Taiwan TECHPULSE 2018</a></li>
</ul>
<h2 id="上午場-Keynote"><a href="#上午場-Keynote" class="headerlink" title="上午場 Keynote"></a>上午場 Keynote</h2><ul>
<li><h4 id="10-00-10-10"><a href="#10-00-10-10" class="headerlink" title="10:00 ~ 10:10"></a>10:00 ~ 10:10</h4>Opening</li>
<li><h4 id="10-10-11-20"><a href="#10-10-11-20" class="headerlink" title="10:10 ~ 11:20"></a>10:10 ~ 11:20</h4>Engineering Keynote<ul>
<li>Implement Development Governance with DevOps Mindsets</li>
<li>SmartText: Build a NLP Platform to Drive AI-Enabled Applications</li>
</ul>
</li>
<li><h4 id="11-20-11-40"><a href="#11-20-11-40" class="headerlink" title="11:20 ~ 11:40"></a>11:20 ~ 11:40</h4>API in practice - the enabler of banking ecosystem</li>
<li><h4 id="11-40-12-00"><a href="#11-40-12-00" class="headerlink" title="11:40 ~ 12:00"></a>11:40 ~ 12:00</h4>How We Foster Rapid Development Workflows with a Performant and Extensible Build System</li>
</ul>
<blockquote>
<p>12:00 ~ 13:00 將會換場，預計 12:30 開放 A 廳 「在地化技術分享廳」</p>
</blockquote>
<h2 id="A-廳-「在地化技術分享廳」"><a href="#A-廳-「在地化技術分享廳」" class="headerlink" title="A 廳 - 「在地化技術分享廳」"></a>A 廳 - 「在地化技術分享廳」</h2><p>由 LINE 台灣研發工程團隊為您介紹最新技術與在地化應用，帶大家深入基礎設施、自然語言處理、推薦引擎、回歸測試等相關技術議題。透過技術讓您更了解 LINE 服務背後的運作，請千萬別錯過！</p>
<blockquote>
<p>欲了解詳細內容，請至「<a href="(https://qr-official.line.me/gs/M_908lugfe_BW.png)">LINE 開發者官方社群</a>」中輸入「<strong>全部議程</strong>」</p>
</blockquote>
<ul>
<li><h4 id="13-00-–-13-25"><a href="#13-00-–-13-25" class="headerlink" title="13 : 00 – 13 : 25"></a>13 : 00 – 13 : 25</h4><p>How to use SLOs to understand user experience and find out how to make them happy?</p>
</li>
<li><h4 id="13-25-–-14-05"><a href="#13-25-–-14-05" class="headerlink" title="13 : 25 – 14 : 05"></a>13 : 25 – 14 : 05</h4><p>TECH FRESH Lightning Talk</p>
<ul>
<li>Feature Toggle Makes Development Faster and Safer</li>
<li>#meme &#x3D; high traffic guarantee? — Cracking the Code to LINE VOOM Virality</li>
<li>How to develop merchant browsing history feature in LINE SHOPPING App using Clean Architecture</li>
<li>Use test automation tool to improve quality of LINE SHOPPING</li>
</ul>
</li>
<li><h4 id="14-05-–-14-30"><a href="#14-05-–-14-30" class="headerlink" title="14 : 05 – 14 : 30"></a>14 : 05 – 14 : 30</h4><p>How LINE Invoice handle millions of transactions under limited 3rd party API?</p>
</li>
<li><h4 id="14-30-–-14-55"><a href="#14-30-–-14-55" class="headerlink" title="14 : 30 – 14 : 55"></a>14 : 30 – 14 : 55</h4><p>Fast rendering and More configurable settings in LINE TODAY</p>
</li>
<li><h4 id="15-05-–-15-30"><a href="#15-05-–-15-30" class="headerlink" title="15 : 05 – 15 : 30"></a>15 : 05 – 15 : 30</h4><p>Efficient automation regression testing using historical testing data</p>
</li>
<li><h4 id="15-30-–-15-55"><a href="#15-30-–-15-55" class="headerlink" title="15 : 30 – 15 : 55"></a>15 : 30 – 15 : 55</h4><p>How to Fast Verify Data Backups for ISO certification review</p>
</li>
<li><h4 id="15-55-–-16-20"><a href="#15-55-–-16-20" class="headerlink" title="15 : 55 – 16 : 20"></a>15 : 55 – 16 : 20</h4><p>Brickmaster: Scenario-Wise Recommender Engine</p>
</li>
<li><h4 id="16-20-–-16-45"><a href="#16-20-–-16-45" class="headerlink" title="16 : 20 – 16 : 45"></a>16 : 20 – 16 : 45</h4><p>Opening the Black Box of NLP Models: A Self-Service NLP Platform for Content Moderation</p>
</li>
</ul>
<h2 id="B-廳-「創新、技術分享廳」"><a href="#B-廳-「創新、技術分享廳」" class="headerlink" title="B 廳 - 「創新、技術分享廳」"></a>B 廳 - 「創新、技術分享廳」</h2><p>邀請 LINE API Expert、LINE PROTOSTAR 新星計劃的傑出新創團隊分享，也邀請 LINE 台灣 Internal Hackathon 前三名獲獎團隊，現場與各位分享、展示各種創新技術架構。</p>
<blockquote>
<p>欲了解詳細內容，請至「<a href="(https://qr-official.line.me/gs/M_908lugfe_BW.png)">LINE 開發者官方社群</a>」中輸入「<strong>全部議程</strong>」</p>
</blockquote>
<ul>
<li><h4 id="13-00-–-13-25-1"><a href="#13-00-–-13-25-1" class="headerlink" title="13 : 00 – 13 : 25"></a>13 : 00 – 13 : 25</h4><p>Devtools for Flex Message</p>
</li>
<li><h4 id="13-25-–-13-50"><a href="#13-25-–-13-50" class="headerlink" title="13 : 25 – 13 : 50"></a>13 : 25 – 13 : 50</h4><p>As an Engineer, let’s build the CRM system via LINE Official Account 2.0</p>
</li>
<li><h4 id="14-00-–-14-25"><a href="#14-00-–-14-25" class="headerlink" title="14 : 00 – 14 : 25"></a>14 : 00 – 14 : 25</h4><p>Introduce to LINE MINI App</p>
</li>
<li><h4 id="14-25-–-14-50"><a href="#14-25-–-14-50" class="headerlink" title="14 : 25 – 14 : 50"></a>14 : 25 – 14 : 50</h4><p>Our approach to New Year’s traffic of LINE STICKER</p>
</li>
<li><h4 id="15-00-–-15-30"><a href="#15-00-–-15-30" class="headerlink" title="15 : 00 – 15 : 30"></a>15 : 00 – 15 : 30</h4><p>Lightning Speech 1</p>
<ul>
<li>A&#x2F;B Testing in LINE TODAY – Recommendation Tab Case</li>
<li>How JS task-force improve the quality of projects in LINE Taiwan</li>
</ul>
</li>
<li><h4 id="15-30-–-16-00"><a href="#15-30-–-16-00" class="headerlink" title="15 : 30 – 16 : 00"></a>15 : 30 – 16 : 00</h4><p>Lightning Speech 2</p>
<ul>
<li>SwiftUI with TCA in LINE LIVE Commerce Assistant App</li>
<li>Global Common Platform - Introduction</li>
</ul>
</li>
<li><h4 id="16-00-–-17-00"><a href="#16-00-–-17-00" class="headerlink" title="16 : 00 – 17 : 00"></a>16 : 00 – 17 : 00</h4><p>LINE PROTOSTAR Introduction</p>
<ul>
<li>自由食間</li>
<li>Care724</li>
<li>配客嘉</li>
<li>TWODAY 夯客</li>
</ul>
</li>
</ul>
<h2 id="議程詳細資訊"><a href="#議程詳細資訊" class="headerlink" title="議程詳細資訊"></a>議程詳細資訊</h2><p><img src="https://nijialin.com/images/2023/techpulse/session.png"></p>
<p>本次議程全日合計共有 26 個議程、32 位講者，實體與各位交流，議程詳細資訊可至「<a href="(https://qr-official.line.me/gs/M_908lugfe_BW.png)">LINE 開發者官方社群</a>」中輸入「<strong>全部議程</strong>」，即可透過官方帳號了解所有議程資訊！</p>
<h2 id="如何報名"><a href="#如何報名" class="headerlink" title="如何報名"></a>如何報名</h2><p><img src="https://nijialin.com/images/2023/techpulse/done.png"></p>
<p>至「<a href="(https://qr-official.line.me/gs/M_908lugfe_BW.png)">LINE 開發者官方社群</a>」中，手機版用戶請可點選 Rich Menu 上的按鈕，電腦版用戶可直接在官方帳號中輸入「<strong>我要報名</strong>」，即可獲得上圖的 Flex Message。</p>
<p>活動當天請出示上圖 Flex Message 畫面，待工作人員確認後，即可獲得現場 Badge 一枚，活動當天需配戴此 Badge，即可自由於 A, B 兩廳移動。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://qr-official.line.me/gs/M_908lugfe_BW.png">@line_tw_dev</a></p>
<img src="https://qr-official.line.me/gs/M_908lugfe_BW.png" width="200" height="200">

<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>TECHPULSE</tag>
        <tag>實體活動</tag>
      </tags>
  </entry>
  <entry>
    <title>LINE Thailand Developer Conference 現場全都錄 | 一同體會現場活動氛圍！</title>
    <url>/2022/09/13/line-thailand-developer-conference-2022/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/th-1/all.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>這次小編非常高興有機會參加泰國辦公室年度開發者大會，這場活動也是泰國開發者非常指標性的一場活動，現場交流氣氛是真的非常熱絡的！稍候的內容將會有戰地記者的方式帶大家一起走訪研討會當天，讓我們一起看下去吧！</p>
<span id="more"></span>

<h1 id="泰國辦公室"><a href="#泰國辦公室" class="headerlink" title="泰國辦公室"></a>泰國辦公室</h1><p><img src="https://nijialin.com/images/2022/th-1/brown2.JPG"></p>
<p>身為 LINER 的小編，來到泰國辦公室除了跟許久不見的同事交流不同地區的文化外，一定也要拜訪一下當地的熊大兔兔，都很有當地的特色呢！甚至有泰拳熊大 🤩</p>
<h1 id="LINE-Thailand-Developer-Conference-現場"><a href="#LINE-Thailand-Developer-Conference-現場" class="headerlink" title="LINE Thailand Developer Conference 現場"></a>LINE Thailand Developer Conference 現場</h1><h2 id="平台推廣-The-Power-of-LINE-API-in-2022"><a href="#平台推廣-The-Power-of-LINE-API-in-2022" class="headerlink" title="平台推廣 - The Power of LINE API in 2022"></a>平台推廣 - The Power of LINE API in 2022</h2><p><img src="https://nijialin.com/images/2022/th-1/evangelist1.JPG"></p>
<p>在泰國這邊，Messaging API 與 LIFF 深受許多當地開發者喜愛，因此上半天的 Keynote 中就有<strong>平台推廣</strong>的議程，這場中分享了 <a href="https://engineering.linecorp.com/zh-hant/blog/messaging-api-2022-new-features/#20220513-new-richmenu-actions">Rich Menu Actions</a>、<a href="https://developers.line.biz/en/news/2022/04/19/webhook-redelivery/#add-webhook-redelivery-2022-04-19">Webhook Redelivery</a>、<a href="https://developers.line.biz/en/news/2022/03/11/flex-message-update-3-released/">Flex Message 3</a> 等等的新功能，泰國的開發者都非常熱情，除了驚呼原來還可以這樣實作，也都紛紛拿出電腦跟手機瘋狂做筆記討論(<del>也讓小編憶當年</del>)，整個場次的感覺都非常棒！</p>
<p><img src="https://nijialin.com/images/2022/th-1/evangelist2.png"></p>
<p>除了平台更新內容之外，在這次的會場中也有許多 LINE Beacon 相關應用，甚至在此次還新增了 <a href="https://skooldio.com/courses/deep-dive-into-line-beacon">Deep Dive into LINE Beacon</a> 的課程，讓對於 Beacon 有興趣的開發者在初期可以先透過線上課程的方式學習相關應用，後續在整合進自己的系統中！</p>
<h2 id="台灣-LINE-TODAY-分享"><a href="#台灣-LINE-TODAY-分享" class="headerlink" title="台灣 LINE TODAY 分享"></a>台灣 LINE TODAY 分享</h2><p><img src="https://nijialin.com/images/2022/th-1/rex1.jpeg"></p>
<p>泰國 LINE TODAY 已經運行許久，此次也是首次在泰國分享 LINE TODAY 背後的架構，LINE 當中許多服務都需要依照在地化需求去實作，因此架構上就要考慮台灣、香港、泰國三方的使用習慣以及當地民情調整，是透過哪些技術來處理高流量的需求，並盡可能的減少讓文章內容被發布的時間。</p>
<p>最後，樂透日當地是非常泰國國民非常重視的日子(全場都在驚聲連連)，Rex 則是分享 LINE TODAY 是如何處理泰國的樂透日的高流量，讓泰國當地的開發者了解技術架構上在處理大流量時要已何種架構才可以順利消化掉這些流量。</p>
<h2 id="攤位"><a href="#攤位" class="headerlink" title="攤位"></a>攤位</h2><p><img src="https://nijialin.com/images/2022/th-1/booth1.JPG"></p>
<p>泰國的攤位非常酷，製作上用了許多大會元素在其中，在跟會眾交流上也更加寬敞，甚至 API Expert 想要 LIVE DEMO 旁邊也有螢幕可以馬上使用呢！</p>
<p><img src="https://nijialin.com/images/2022/th-1/lucky1.JPG"></p>
<p>泰國當地很喜歡占卜、抽幸運色之類的內容，當天攤位上也有提供大家抽幸運色，雖然在照片上看起來只有一位，但實際上後面幾乎是人山人海呢！</p>
<p><img src="https://nijialin.com/images/2022/th-1/beacon1.JPG"></p>
<p>小編跟攤位的夥伴有聊到，泰國人當地不太排斥廣告，因此當地在使用 Beacon 上非常活躍，很多店家周遭都會有 Beacon 可以發放相關優惠券，藉此讓商店周遭的用戶可以進去消費。</p>
<h2 id="Workshop"><a href="#Workshop" class="headerlink" title="Workshop"></a>Workshop</h2><p><img src="https://nijialin.com/images/2022/th-1/workshop.JPG"></p>
<p>這次大會中有安排一個會議廳，讓 LINER 可以在當中實際帶大家實作，小編這次跟到的這場實作 <a href="https://tailwindcss.com/">tailwindcss</a>，許多開發者在當中看起來都是第一次使用這 CSS 框架，礙於小編實在是聽不懂泰文，不然就抽出包包中的電腦跟著時做了！</p>
<h2 id="LIVE-Demo"><a href="#LIVE-Demo" class="headerlink" title="LIVE Demo"></a>LIVE Demo</h2><p><img src="https://nijialin.com/images/2022/th-1/tee1.jpeg"></p>
<p>過去在總是有聽說泰國同事會在研討會中 Live Demo，只要你是位開發者，都應該會覺得這很了不起！甚至有很多都市傳說流傳著…而在這次 Demo 的部分是從頭開始整合 LINE Beacon 的應用，提供大家一個發想點子拋磚引玉～</p>
<blockquote>
<p>實在是很佩服同事敢在研討會中 Live Coding，除了程式本身需要注意外，還要扛住現場所有目光的壓力呢…</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p><img src="https://nijialin.com/images/2022/th-1/gift1.JPG"></p>
<p>DevCon 是泰國睽違已久的線下研討會，在這次的活動中小編看到泰國開發者都都非常雀躍的參加這次的活動，讓整個場子的氣氛非常棒！期待接下來台灣這邊舉辦的活動！</p>
<blockquote>
<p>更多當天的分享可以查看 <a href="https://www.facebook.com/hashtag/linedevconf2022">#LINEDEVCONF2022</a></p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Thailand</tag>
        <tag>開發者</tag>
        <tag>Conference</tag>
        <tag>Developer</tag>
      </tags>
  </entry>
  <entry>
    <title>如何只使用一台 Mac 進行直播 feat. SoundFlower, OBS, Youtube</title>
    <url>/2020/11/29/mac-stream-soundflower/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>一般來說直播都會有擷取卡(盒)、各式硬體轉接器…但因為在年初時急需又沒安排時間研究(節儉)導致我想用各種軟體解決方案來處理，因此就誕生這篇啦 🎉</p>
<p>若你跟我一樣手上只有一台 Mac 加一台手機但又有直播需求的朋友，這篇就很適合你，本篇接下來將已 MAC OS 為例，搭配 SoundeFlower 這個軟體來解決 Mac 只有獨立音效的問題，並使用 Youtube 來測試直播是否成功。(由於 MAC 沒有額外的音效卡可以輸出，因此需要用軟體來解決)</p>
<p><img src="https://nijialin.com/images/2020/OBS/os-version.png"></p>
<ul>
<li>作業系統 MacOS(Big Sur)</li>
<li>軟體: Soundflower</li>
<li>直播平台: Youtube</li>
</ul>
<blockquote>
<p>在此之前記得安裝 Open Broadcaster Software(OBS): <a href="https://obsproject.com/download">https://obsproject.com/download</a></p>
</blockquote>
<blockquote>
<p>[2021&#x2F;05&#x2F;28 更新]： 目前並不支援 M1 晶片喔！ <a href="https://github.com/mattingalls/Soundflower/releases/tag/2.0b2">M1 chip-based Macs are NOT YET SUPPORTED</a></p>
</blockquote>
<span id="more"></span>

<h1 id="SoundFlower"><a href="#SoundFlower" class="headerlink" title="SoundFlower"></a><a href="https://github.com/mattingalls/Soundflower/releases">SoundFlower</a></h1><p>首先透過<a href="https://github.com/mattingalls/Soundflower/releases">連結</a>下載 Mac 版的安裝檔， 下載完後接著安裝，但此時會發現<code>安裝失敗</code>，但別緊張，因為 Mac 系統設定權限問題在第一次安裝會擋來路不明的軟體，在上述下載的連結中 release 說明有提到第一次安裝因為有權限問題而導致失敗，此時就按造以下步驟進行解鎖</p>
<blockquote>
<p><code>系統偏好設定</code> -&gt; <code>安全性與隱私</code> -&gt; <code>允許安裝</code></p>
</blockquote>
<p>通過隱私權後接著按下剛剛下載好的 <code>Soundflower-2.0b2.dmg</code>，再安裝一次就可以看到安裝成功的畫面。</p>
<p><img src="https://nijialin.com/images/2020/OBS/sound-install-success.png"></p>
<blockquote>
<p>雖然最後一版 release 是 2014 年 12 月底，但截至目前為止都還能用，若有任何不同的解法歡迎 mail 我！</p>
</blockquote>
<h1 id="多重輸出裝置"><a href="#多重輸出裝置" class="headerlink" title="多重輸出裝置"></a>多重輸出裝置</h1><p>會需要這個部分是因為不希望當聲音只能輸出卻不能同步監聽，因此需要 Mac 的內建軟體幫忙脫重輸出。</p>
<blockquote>
<p>首先先進 <code>啟動台</code> -&gt; 點選<code>其他</code> -&gt; 選擇 <code>音訊 MIDI 設定</code></p>
</blockquote>
<p><img src="https://nijialin.com/images/2020/OBS/media-midi.png"><br>點選左下角的 <code>＋</code>，選擇 <code>製作多重輸出裝置</code><br><img src="https://nijialin.com/images/2020/OBS/add-milti-output.png"><br>出來之後將主裝置設定成<code>揚聲器</code>(或你的耳機)，並同步勾選 SoundFlower64，如此一來就可以做到同時輸出兩邊聲音的方法了。<br><img src="https://nijialin.com/images/2020/OBS/multi-output.png"><br>最後點選聲音選項，將輸出聲音選擇<code>多重輸出裝置</code>的選項。<br><img src="https://nijialin.com/images/2020/OBS/select-output.png"></p>
<blockquote>
<p>重要：藍芽耳機(Airpods)目前測試起來是不行的！</p>
</blockquote>
<h1 id="輸入裝置"><a href="#輸入裝置" class="headerlink" title="輸入裝置"></a>輸入裝置</h1><p><img src="https://nijialin.com/images/2020/OBS/input.png.png"><br>一般來說若是要擷取的話輸入輸出皆會選擇 <code>SoundFlower64</code>，而因為有稍後介紹的 OBS 幫忙，因此這邊輸入裝置選擇<code>內建麥克風</code>來收自己講話的聲音即可。</p>
<h1 id="OBS-輸出設定"><a href="#OBS-輸出設定" class="headerlink" title="OBS 輸出設定"></a>OBS 輸出設定</h1><p><img src="https://nijialin.com/images/2020/OBS/obs-media-config.png"></p>
<p>從 OBS 的主界面右下角點選 <code>設定</code> 進入後，左側欄選擇 <code>音效</code>，接著按造以下項目實作：</p>
<ul>
<li>桌面音效選擇： SoundFlower64</li>
<li>麥克風&#x2F;輔助音: SoundFlower64</li>
<li>麥克風&#x2F;輔助音 2: Macbook Pro 內建麥克風 <mark>(重要！否則在直播時你只能聽人家講話！)</mark></li>
</ul>
<p>為何會有上述這樣的設定呢？<code>桌面音效</code>與第一個<code>輔助音</code>一定都是選擇 SoundFlower64，讓軟體幫你把音效收音轉打出去(因為 Mac 只有一個介面卡)，而 OBS 的好處就是它可以整合兩個麥克風收到的音訊一起打出去(最多<code>4</code>隻)，由於第一個麥克風已經去收電腦的聲音了，接著就是用<code>輔助音2</code>來收你講話的聲音，如此一來就可以邊直播邊聽邊說話啦，不用再用其他設備(手機、iPad)在旁邊監聽了。</p>
<h2 id="告訴-OBS-要擷取誰輸出"><a href="#告訴-OBS-要擷取誰輸出" class="headerlink" title="告訴 OBS 要擷取誰輸出"></a>告訴 OBS 要擷取誰輸出</h2><p>雖然上述已經告訴 OBS 有哪些設備，但 OBS 還是不知道輸出誰好，因此就要按造以下步驟告訴他。</p>
<ul>
<li>點選右下角的<code>＋</code></li>
</ul>
<p><img src="https://nijialin.com/images/2020/OBS/obs-select.png"></p>
<ul>
<li>選擇<code>擷取音效輸出</code>，下拉式選單選擇 <code>SoundFlower(64ch)</code></li>
</ul>
<p><img src="https://nijialin.com/images/2020/OBS/obs-select-output.png"></p>
<h1 id="如何看結果有沒有成功？"><a href="#如何看結果有沒有成功？" class="headerlink" title="如何看結果有沒有成功？"></a>如何看結果有沒有成功？</h1><p><img src="https://nijialin.com/images/2020/OBS/obs-output.png"><br>可以先隨意播放音樂測試，基本上看到上圖的音軌有正在動就代表成功了，以下就使用 Youtube 來進行直播測試。</p>
<p><img src="https://nijialin.com/images/2020/OBS/yt-stream.png"><br>進入 Youtube 之後點選右上角<code>進行直播</code>，當進入後通常都需要等一段時間。</p>
<p><img src="https://nijialin.com/images/2020/OBS/yt-monitor.png"><br>看到此畫面之後將金鑰複製起來，右上角的分享按鈕可以複製網址，原則上我都會先複製起來丟在 LINE 的任意視窗中，方便使用手機測試直播狀態。</p>
<p><img src="https://nijialin.com/images/2020/OBS/obs-yt-key-set.png"><br>將 Youtube 的金鑰複製到這邊，即可讓 OBS 與 Youtube 串接，按下確定後就可以按 <code>開始串流</code> 測試直播啦！(建議先用<code>不公開</code>測試)</p>
<p>最後就是調整看希望收哪邊的音要多一點，看是桌面來的聲音(第三方通訊軟體)或是自己的外接的麥克風，就調整<code>輔助音1</code>或是<code>輔助音2</code>來控制大小聲。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>一般遊戲實況主因為都是自組電腦，音效卡都會另外在加裝(不用主機板內建)，因此使用桌機進行直播是相當方便的。但因為蘋果的電腦是一體成型，可以想像就只有電腦的主機板功能這樣，其他任何東西都需要透過 USB 來外接，但因為我的工作習慣就是使用 Mac，也沒考慮到會有直播上的需求，前一陣子因為疫情關係需要轉向線上，但在最近因為使用者習慣擁有線上的形式，因此許多社群即便再有線下聚會還是會搭配線上直播，並且有一些是遠端講者，因此就希望這篇能幫助到跟我同有一樣困擾的朋友～</p>
]]></content>
      <categories>
        <category>直播</category>
      </categories>
      <tags>
        <tag>Youtube</tag>
        <tag>Mac</tag>
        <tag>OBS</tag>
        <tag>SoundFlower</tag>
        <tag>Streaming</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Slack 做訊息管理 | 要怎麼跟 Email 一樣呢？</title>
    <url>/2022/11/12/manage-your-slack-message-as-email/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>當各位開始有接觸到跨部門的合作&#x2F;專案、對外合作，或是加入通訊軟體為本的公司，通常信箱或是訊息都會跟海嘯一般每天席捲而來 🌊</p>
<p>大部分 Email 系統也相當成熟，也因為信件是有法律效應，在大家日常工作中扮演很重要的一部分，而在我的工作日常中，很常使用 Email 的以下功能：</p>
<span id="more"></span>

<ul>
<li>提醒功能：已讀了但避免忘記，需要後續在提醒。</li>
<li>排程發信：回信的對象上班時間可能不一樣，除了不晚上干擾別人外，也是間接讓對方知道你大部分處理信件的時間。</li>
<li>重要事項：目前平常像是<strong>財務關帳時間</strong>、專案時程信、合作信…都會放在重點事項內，必須儘快安排空檔把相關資訊當看完的。</li>
</ul>
<p>但除了使用信件外，在現代工作的大家怎麼可能不使用通訊軟體呢？而 Slack 有相當棒的訊息管理功能，跟 Email 大同小異，以下就跟大家介紹一下如何使用 Slack 做訊息管理吧！</p>
<h1 id="Slack-介紹"><a href="#Slack-介紹" class="headerlink" title="Slack 介紹"></a>Slack 介紹</h1><h2 id="排程訊息-⏰"><a href="#排程訊息-⏰" class="headerlink" title="排程訊息 ⏰"></a>排程訊息 ⏰</h2><p>一般我使用排程訊息有幾個原因：</p>
<ul>
<li>不是特急的訊息盡量別在下班後時間傳給同事。</li>
<li>公告訊息，在大家剛上班或休息時間時發放。</li>
</ul>
<p>除了這幾個原因外，排程還有一個好處，就是當訊息上面是有錯誤資訊(錯字、漏打)，可以在發出前再調整，讓錯誤率降低。</p>
<p>以下就代大家實際操作一次：</p>
<p><img src="https://nijialin.com/images/2022/slack/schedule.png"></p>
<ol>
<li>訊息的右下角，有個 <code>V</code> 可以點選(<strong>手機常按</strong>)，可以點選排程。</li>
</ol>
<p><img src="https://nijialin.com/images/2022/slack/schedule2.png"></p>
<ol start="2">
<li>選擇再通知的時間，一般我會設定一兩個小時之後再通知一次。</li>
</ol>
<p><img src="https://nijialin.com/images/2022/slack/schedule3.png"></p>
<ol start="3">
<li>可以在左上角看到目前排成的訊息則數，在時間到之前，可以在進去調整文字，讓文字已更完整的姿態出現在大家的眼前。🤝</li>
</ol>
<h2 id="書籤-🔖"><a href="#書籤-🔖" class="headerlink" title="書籤 🔖"></a>書籤 🔖</h2><p><img src="https://nijialin.com/images/2022/slack/mark.png"></p>
<p>有時候我們收到重要的訊息(老闆、公告、跟錢有關的…etc)，這些訊息不一定有時效性，但是是需要儘快處理的訊息。</p>
<p>但在馬上已讀之後，通知就會消失(Slack 沒有預覽功能)，忙了一段時間之後就會忘了還有這重要訊息等我…因此這邊可以透過訊息旁的<strong>書籤</strong>的功能先把訊息暫存起來，稍候處理。</p>
<p><img src="https://nijialin.com/images/2022/slack/mark2.png"></p>
<p>在 Slack 的左上方有個書籤的圖示，可以在 <code>已儲存項目</code> 中找到剛剛存的訊息。</p>
<blockquote>
<p>通常放在這的訊息都是相當重要的訊息，因此這邊的數量我會盡量控制在五個左右，避免過於雜亂導致失控。</p>
</blockquote>
<h2 id="提醒事項-💬"><a href="#提醒事項-💬" class="headerlink" title="提醒事項 💬"></a>提醒事項 💬</h2><p>除了放入書籤的待辦事項之外，Slack 另一個功能也可以像 Email 一樣設定提醒時間，讓系統可以在提醒你一次，避免訊息沉入訊息海中。</p>
<p><img src="https://nijialin.com/images/2022/slack/remind.png"></p>
<ol>
<li>在想提醒的訊息中右鍵，會看到 <strong>提醒我此事</strong> 的選項，點下去之後有固定的時段，也可以客製化提醒的時間。</li>
</ol>
<p><img src="https://nijialin.com/images/2022/slack/remind2.png"></p>
<ol start="2">
<li>進入客製化時間的部分，一般會議時間會以半小時為單位設定，最後可在新增備註，多增加備註這則訊息的重要性。</li>
</ol>
<p><img src="https://nijialin.com/images/2022/slack/remind3.png"></p>
<ol start="3">
<li>設定完之後，Slackbot 會告知你相關訊息，到這邊就代表設定成功嚕！</li>
</ol>
<p><img src="https://nijialin.com/images/2022/slack/remind4.png"></p>
<ol start="4">
<li>時間到點之後，Slackbot 會提醒你訊息到了，可從當中按下按鈕確定已經處理完這個訊息，如果還是一樣沒空處理這則訊息的內容，即可到訊息中在設定一次。</li>
</ol>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>因為平常處理訊息跟信件的時間有限，做好訊息管理也是一門很重要的學問，不過若很重要的訊息、或是請對方儘快回的訊息，大家還是要儘快回覆才是 😂，希望這篇內容對大家也有幫助，那我們下篇文章見囉！</p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Slack</tag>
      </tags>
  </entry>
  <entry>
    <title>【梅竹黑客松 2022】活動分享</title>
    <url>/2022/10/27/meichu-hackathon-2022/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/Meichu/DJI_20221022_091535_231.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>經歷過疫情期間，梅竹黑客松在 2022 回歸清大體育館舉辦，透過兩天一夜的活動集合一群志同道合的朋友，以過人的毅力和耐力，在有限的時間內，將腦海中的構想或專案實現。</p>
<blockquote>
<p>參考過去文章 - <a href="https://engineering.linecorp.com/zh-hant/blog/meichu-2020-liff/">LINE 開發社群計畫: 2020&#x2F;10&#x2F;24 新竹 x 梅竹黑客松決賽 - LINE 競賽組別活動紀錄</a></p>
</blockquote>
<ul>
<li>時間：10&#x2F;22 ~ 10&#x2F;23</li>
<li>地點：清華大學新體育管</li>
</ul>
<span id="more"></span>

<h1 id="什麼是梅竹黑客松"><a href="#什麼是梅竹黑客松" class="headerlink" title="什麼是梅竹黑客松"></a>什麼是<a href="https://2022.meichuhackathon.org/">梅竹黑客松</a></h1><p>2022，在強調與病毒共存、恢復正常生活的後疫情時代，人們努力撥開近兩年的陰霾，而我們亦持續推動資訊與科技的交流，希冀能夠促進跨領域的合作。</p>
<p>除了在「黑客組」持續強化企業與學生之間的連結，2022 新竹 X 梅竹黑客松攜手新竹市政府，將創客思維加入「交流組」之中，轉變成為「創客交流組」。我們相信，在科技日新月異的今日，每個人都可以藉由更多的交流與數位應用，將奇思妙想付諸實現。</p>
<p>另外，今年我們首度推出 賽前媒合平台，除了提供參賽者找尋隊友的管道之外，也期待大家能夠在更多互動中，激發出不一樣的可能性。而在梅竹黑客松邁向十週年之際，我們不忘來時初衷與精神，希望在歷年奠定的基礎之上，激盪創新的想法並實踐，透過構建 十週年紀念網站 ，紀錄每年的活動精華之外，也向歷屆參賽者徵集作品，讓這個網站成為成果存放平台，未來的參賽者將能夠在此找尋靈感與創意。</p>
<p>我們將持續推動參與者之間的溝通與交流，希望在幾乎沒有限制的活動裡，每個人都能勇於跳脫固有框架並大膽實踐，並在有限時間內，和合作夥伴一同打造出獨特的最小可行性產品，實現屬於自己的創意構想。</p>
<h1 id="攤位"><a href="#攤位" class="headerlink" title="攤位"></a>攤位</h1><p><img src="https://nijialin.com/images/2022/Meichu/IMG_2766.jpeg"></p>
<p>在這次攤位中有技術諮詢時間，讓許多同學在黑客松期間來諮詢 LINE Bot 相關應用，結合不同的大會題目發想出新的想法！！</p>
<p>另一方面，在第一天攤位上有提供「<strong>履歷健檢</strong>」的服務，除了在黑客松建立產品的過程之外，也能來攤位看看不同的實習、正職工作所需要的技能。</p>
<p><img src="https://nijialin.com/images/2022/Meichu/resume.jpeg"></p>
<p>過程中許多同學有在洽詢在軟體業界的相關問題，透過資深技術推廣工程師 - Evan 跟同學們分享業界的一些資訊，也分享如果想進來 LINE 實習時，履歷內容上需要提供、修改的細節，讓同學們可以在求學期間找實習時，可以更加順暢。</p>
<blockquote>
<p>如果想了解實習生活，歡迎查看這篇文章：<a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021-gradute/">【LINE TECH FRESH】2021 屆畢業囉！這一年來又有什麼新鮮事呢？</a></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>透過贊助能夠實體與同學們面對面交流，感受現場同學的黑客松的熱情，LINER 也能將許多業界的知識分享給同學，讓未來大家在找工作時可以更加順遂。</p>
<p>最後，想知道如何申請校園企業參訪或是贊助嗎？ 歡迎各個系學會與相關社團發送各位的需求到這個連絡信箱： <a href="mailto:&#x64;&#108;&#x5f;&#116;&#x77;&#x6e;&#x5f;&#x64;&#x65;&#118;&#114;&#101;&#x6c;&#x40;&#x6c;&#x69;&#110;&#101;&#x63;&#111;&#114;&#x70;&#46;&#x63;&#x6f;&#109;">&#x64;&#108;&#x5f;&#116;&#x77;&#x6e;&#x5f;&#x64;&#x65;&#118;&#114;&#101;&#x6c;&#x40;&#x6c;&#x69;&#110;&#101;&#x63;&#111;&#114;&#x70;&#46;&#x63;&#x6f;&#109;</a></p>
<p>那我們就下次見囉！</p>
<blockquote>
<p>如果想到 LINE 實習，歡迎大家持續關注 -&gt; <a href="https://careers.linecorp.com/jobs/83">TECH FRESH program</a></p>
</blockquote>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>研討會</tag>
      </tags>
  </entry>
  <entry>
    <title>到了資工領域，你想前往軟體世界的副本嗎？</title>
    <url>/2022/06/14/nijia-career-sharing-1/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<p>本篇內容為筆者到朝陽資工所分享的內容，分享工作以來的一些經驗，讓同學們在踏入社會之前可以提早做準備，那到底有什麼需要注意的呢？讓我們一起看下去！</p>
<ul>
<li><a href="https://speakerdeck.com/line_developers_tw/nijia-career-sharing">簡報內容</a><span id="more"></span></li>
</ul>
<h1 id="歡迎來到「軟體世界」副本-遊戲前先看看人家都怎麼玩"><a href="#歡迎來到「軟體世界」副本-遊戲前先看看人家都怎麼玩" class="headerlink" title="歡迎來到「軟體世界」副本 - 遊戲前先看看人家都怎麼玩"></a>歡迎來到「軟體世界」副本 - 遊戲前先看看人家都怎麼玩</h1><script async class="speakerdeck-embed" data-slide="4" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>如我們熟悉的一些射擊遊戲，我們確定好進入「軟體世界」後，就會一起集合在一個飛機上，看準底下資源不錯的地方，選擇好的時機跳傘，找看看這領域是否是我喜歡的地方，跳之前，我們需要考量以下三點：</p>
<h3 id="擅長的武器"><a href="#擅長的武器" class="headerlink" title="擅長的武器"></a>擅長的武器</h3><p>你適合什麼武器？狙擊槍？步槍？還是近戰勇者散彈槍？同樣對應到你喜歡什麼方向的軟體內容，前端？後端？底層？行動裝置開發？</p>
<p>我們在進入遊戲前總會去<strong>訓練模式</strong>玩玩，每把武器(程式語言)都挑看看，看哪把跟自己的屬性比較合。在遊戲中也可能發現另一把武器在當前地圖比較適用，選軟體工具也一樣的道理，選擇沒有對錯，就看學習能力跟場景了！</p>
<blockquote>
<p>當然如果你直接進入遊戲也沒問題，只是有很高機會會馬上出局。(碰壁、程式寫不出來)</p>
</blockquote>
<h3 id="職業-軟、韌、硬"><a href="#職業-軟、韌、硬" class="headerlink" title="職業 (軟、韌、硬)"></a>職業 (軟、韌、硬)</h3><p>資工系的各位，畢業後有極大的機率從事標題的三個職業，而筆者我不管從小打遊戲改外掛(小朋友別學)、控制自走車、碩論的雲平台架設…幾乎都是軟體成分居多，使用到硬體的部分大部分都整合使用居多(RPi, 各種單晶片裝置…)，因此我還是選擇了軟體這條道路。</p>
<blockquote>
<p>當然大家可能會有各種考量而有所不同的選擇，錢、發展性、興趣、家庭…任何的考量都沒有絕對的對錯，因此大家在選擇時請好好評估喔！</p>
</blockquote>
<h3 id="目標-短、中、長"><a href="#目標-短、中、長" class="headerlink" title="目標 (短、中、長)"></a>目標 (短、中、長)</h3><p>以我自己而言，我的目標與大多數常見的框架類似，以 30 歲為一個分水嶺，先定義快十年的時間你想成為什麼樣的人，再往前推算中期、短期想達到什麼目標。</p>
<ul>
<li><p>短(碩班～服役)：把面試、軟體方向不足的地方補足，讓相關能力別落後別人太多</p>
<ul>
<li>從 FB 加入各種技術社團看每個訊息動態，了解現在大家關注什麼方向，進而往那方面多研究</li>
<li>到 HackerNews 上看看是否有哪些是剛好自己也有興趣的東西</li>
</ul>
</li>
<li><p>中：尋找自己喜歡&amp;適合的產業，別限縮自己只在單一個領域發展</p>
<ul>
<li>開始加入社群認識朋友，甚至成為 Organizer 都是我目前很棒的經驗</li>
<li>前、後端、Cloud Native 的相關知識都會收集，讓自己涉略的領域可以更廣，對於愛聊天的我也很有幫助！</li>
</ul>
</li>
<li><p>長(30)：如果有發展順利，就繼續軟體業待著；反之轉行成到時喜歡的行業(開小吃 || 農夫)</p>
<ul>
<li>看來接下來應該軟體業繼續待著了～</li>
</ul>
</li>
</ul>
<blockquote>
<p>大家寫論文或履歷，應該都有被要求過短、中、長期應該做什麼吧？或許你也可以嘗試這麼方法</p>
</blockquote>
<h1 id="挑選裝備-x2F-武器，看看自己的技能樹"><a href="#挑選裝備-x2F-武器，看看自己的技能樹" class="headerlink" title="挑選裝備&#x2F;武器，看看自己的技能樹"></a>挑選裝備&#x2F;武器，看看自己的技能樹</h1><script async class="speakerdeck-embed" data-slide="6" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>整理自己當前技能是個<strong>很重要</strong>的能力，許多優秀的同學都能在履歷中把自己的優點給<mark>特別</mark>的，讓未來合作夥伴、主管可以更快地了解你，畢竟大家時間都很寶貴，他們可能有其他跟錢有關係的會議在等著，你是否也可以讓自己在這些利益關係中突出呢？</p>
<p>因此別害羞先把你自己的目前有的技能都先列出來，逐一排出能力的優先順序，你就能更清楚你可以往哪個方向了！</p>
<blockquote>
<p><a href="https://engineering.linecorp.com/zh-hant/blog/how-to-build-softskill">LINE 開發社群計畫: 「如何培養競爭力與軟實力」</a></p>
</blockquote>
<h1 id="跳傘啦！地區上的差異"><a href="#跳傘啦！地區上的差異" class="headerlink" title="跳傘啦！地區上的差異"></a>跳傘啦！地區上的差異</h1><script async class="speakerdeck-embed" data-slide="8" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>當你跳傘的時候，選擇區域很重要，而在這些區域中有許多東西需要考量，</p>
<ul>
<li>發展性<ul>
<li>不同區域注重的產業別不一樣，不管在當地生活或上網找，應該都會有很多相關說明</li>
<li>總不希望下分工作面試時，面試官也不知道這產業做什麼吧？</li>
</ul>
</li>
<li>機會多寡<ul>
<li>在都是製造業的環境中，堅持做純軟”可能”會吃虧，在挑選環境上也得去多看看</li>
</ul>
</li>
<li>競爭程度<ul>
<li>台北光路上的人步調就很快，如果你像我一樣很習慣，或許這裡很適合你</li>
<li>初期可以考慮加入、參加 社群&#x2F;研討會 了解一個區域的狀態，為你往後的選擇多加個選項</li>
</ul>
</li>
<li>條件考量<ul>
<li>台灣社會很棒的一點就是大家會以家庭為重，但這在工作的考量上就需要抉擇，若你的發展適合在台北，而像我一樣是中部小孩，那就要評估離家的可能性</li>
<li>這邊當然＄＄就會很重要，實際狀態因產業別不同，大家可以到網路上爬文</li>
</ul>
</li>
</ul>
<blockquote>
<p>任何的選擇沒有絕對的對錯，會因為時空環境的考量而有所不同，千萬別為了自己的選擇而氣餒！</p>
</blockquote>
<h1 id="僚機隊員-同儕間的比較"><a href="#僚機隊員-同儕間的比較" class="headerlink" title="僚機隊員 - 同儕間的比較"></a>僚機隊員 - 同儕間的比較</h1><blockquote>
<p>有看 Top Gun 的朋友應該知道挑選僚機隊員是多麽重要的事情吧？</p>
</blockquote>
<p>不管求學階段，以致於到後面開始工作，作為人類的我們都會有朋友、同學去做比較，良性的競爭、比較我一直都相信是好的，互相砥礪讓雙方都持續進步，而在比較的同時最大的影響程度通常會有<strong>家庭背景</strong>、<strong>個體差異</strong>、<strong>目前環境</strong>，大家會因為<strong>環境</strong>、<strong>做事方式</strong>、<strong>個性</strong>、擁有的<strong>資源不同</strong>而影響到，進而對某個<strong>領域的掌握度</strong>(環境耳濡目然)、<strong>適應力</strong>有所不同，而讓你在做事上對於適合做 應用型 || 核心型 的開發者很有關連。</p>
<p>因此要提醒到大家，所有的因素都會影響到最後的決策，也許某位同學非常厲害但態度輕鬆，但你可能沒看見他背後付出的努力有多少，總而言之，不同產業別所領到的東西、福利、任何制度都會不同，請勿過度比較。</p>
<blockquote>
<p>勸世一句：人情留一線，日後好相見，別因為小事打壞關係，但適時的表達情緒也是很重要！這課題是所有人都在學習的，找出適合自己的方式吧！</p>
</blockquote>
<h1 id="都決定好了，遊戲開始準備跑圖！"><a href="#都決定好了，遊戲開始準備跑圖！" class="headerlink" title="都決定好了，遊戲開始準備跑圖！"></a>都決定好了，遊戲開始準備跑圖！</h1><p>準備好開始面試了，隨之而來競爭者也跟同跟著面試中，接著會開始遇到一些問題，「是我不夠努力嗎?」「他的運氣好好哦…」「他都找到工作了呢」這些聲音可能大家也時常聽見。</p>
<p>而這邊分享一個看法，平常我們看到名校的學生，都會覺得「他們應該就順遂了吧？」「工作都不用擔心了」等等的想法，但其實他們身處於當下的環境，相對而來的競爭力也很高，需要付出的努力可能不是我們表面看得這麼簡單，他們在課餘時間的努力可能是我們沒看見的。提出這個例子是想跟大家說，如果覺得自己努力應該獲得些什麼的時候，回頭問問自己是否真的努力了？在這些高競爭力的領域中，”努力”這件事情已經是基本了。</p>
<blockquote>
<p>套用以前聽到的一句話 「當你想著贏的時候，你已經輸了」</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="18" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這邊分享一個我的方法，適不適合可以參考看看，我從大學時開始把在寫的各種程式、架設遇到的問題都寫在部落格上，不用怕寫錯而不敢寫，真的寫錯被發現了，友善的問對方，相信對方也會願意提供正確方法給你，這樣是不是一石二鳥呢?</p>
<blockquote>
<p>初期使用 Blogger，中期用到 Medium，到現在則是自架部落格在 GitHub Page 上</p>
</blockquote>
<p>總之，可以設定好找第一份工作的目標，想做什麼方向，許多網路上都有相關的資訊，提供以下的資訊給大家，大家可以從中去收斂自己想找工作面向，進而往那邊去努力！</p>
<script async class="speakerdeck-embed" data-slide="33" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="等級不夠，到哪可以練比較快？有沒有商城？-歡迎來到「軟體世界」"><a href="#等級不夠，到哪可以練比較快？有沒有商城？-歡迎來到「軟體世界」" class="headerlink" title="等級不夠，到哪可以練比較快？有沒有商城？ - 歡迎來到「軟體世界」"></a>等級不夠，到哪可以練比較快？有沒有商城？ - 歡迎來到「軟體世界」</h1><script async class="speakerdeck-embed" data-slide="21" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>這個時候在網路上各種資源都非常發達，從各家機構的線上&#x2F;下課程、各種研討會(<a href="https://engineering.linecorp.com/zh-hant/blog/line-techpluse-2022-session-throw-back">【LINE TECHPLUSE 2022】議程回顧</a>)以及各式技術社群(<a href="https://engineering.linecorp.com/zh-hant/blog/cross-country-test-corner-32">“Cross-country”專案測試心法 @ Test Corner #32</a>)都可以參加，可能會有一些場地費、課程費用產生；</p>
<p>但如果像我以前一樣在中南部，你則會需要負擔<strong>車馬費</strong>、<strong>住宿費</strong>等需要嗑金的費用，現在許多軟體領域的東西其實相較過去費用真的不高，雖然在工作前~前幾份工作這些費用可能會有一定的影響，許多遊戲雖然不一定嗑金就可以獲得很好的輸出，但嗑金總是讓你有機會翻身，玩遊戲都願意賭一把的話，現在的你想在職涯上賭一把嗎?</p>
<script async class="speakerdeck-embed" data-slide="22" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>另一方面，如果試著出去社群分享東西，除了在分享技術、整理所學的內容給大家之外，其實也是間接地幫你腦內的知識做一個總整理，也就像我們以前考試，沒有這些考試，你怎麼知道你真的學會了這些東西呢？</p>
<p>在整理完腦內的東西之後，我們就要透過一次次的分享讓自己的口條&#x2F;表達更順暢，即便是我前幾次也是緊張到爆，以為很穩的東西，一看到人講話都開始發抖了。但也透過這樣的練習，讓我在許多場合比較能穩定情緒，盡可能的表達出我要分享的內容，因此也鼓勵大家踴躍出去分享！甚至有機會認識到你未來的工作夥伴喔！</p>
<h1 id="賽後檢討-打完比賽要看回放，才知道自己在哪犯錯"><a href="#賽後檢討-打完比賽要看回放，才知道自己在哪犯錯" class="headerlink" title="賽後檢討 - 打完比賽要看回放，才知道自己在哪犯錯"></a>賽後檢討 - 打完比賽要看回放，才知道自己在哪犯錯</h1><p>隨著大家經驗值越來越多，就會越來越清楚自己&#x2F;對方要的是什麼，過程中犯錯是難免的，但請時刻保持謙虛，多聽&#x2F;想&#x2F;問，跟同儕間互相學習，找出屬於自己的方程式，也許在這過程中會找到真正屬於你的打法！(誰說補師之能補血？)</p>
<blockquote>
<p>推薦聽這集 Podcast - <a href="https://lin.ee/uDZZKQz/yltz">EP05│ 職場心聲 │ 閱人無數非 HR 莫屬！各界 HR 獨家解密新鮮人求職（上） ft. 金色三麥、Dcard</a></p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="27" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="最終篇：若發現有東西不懂，記錄下來就對了"><a href="#最終篇：若發現有東西不懂，記錄下來就對了" class="headerlink" title="最終篇：若發現有東西不懂，記錄下來就對了"></a>最終篇：若發現有東西不懂，記錄下來就對了</h1><blockquote>
<p>沒想到大學已經是八年前了…</p>
</blockquote>
<p>在大學時，可能因為年輕，想到什麼就可以很快地開始實作，遇到問題查一下馬上就過了，但隨著開發越來越多，許多遇到的問題都開始重複，一開始<strong>還可以</strong>靠印象來解問題，久了之後發現…開始想不起來這問題到底在哪，而在這個時間指導老師跟我說了一句話</p>
<blockquote>
<p>［把你遇到的問題用部落格寫下來，再小都要記錄起來］</p>
</blockquote>
<p>當時跟現在看到文章的各位應該一樣，如果我打出去的文章錯了怎麼辦？不會被出征嗎？…很多諸如此類的問題，但這邊想起很久以前的一句話［你沒紅，怎麼會有人要糾正你錯誤。］</p>
<p>想想也對，程式一直寫，今天程式沒問題，不代表明天程式就會乖乖地給你跑正確，可能記憶體炸了、cpu 不夠…try catch 抓錯…之類的，因此我就下定決心開始記錄我的這些過程。</p>
<script async class="speakerdeck-embed" data-slide="20" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>從一開始毫無章法的開始記錄，到了現在會開始有結構性的去撰寫我的文章，把內容大致分類出來，當然這樣的技能也是要隨時間累積，相信任何一個作家一定也是累積了大量的撰寫跟思考才有辦法達到，因此還沒踏出這一步的朋友，現在網路上有很多免費的部落格空間，讓大家可以很快速的上線第一篇文章，心動不如馬上行動！</p>
<h1 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h1><p>Q: 是否可以用研究所所學的內容出去找工作呢？</p>
<script async class="speakerdeck-embed" data-slide="31" data-id="8ac72fc5ee224eefb6ff76497665af26" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>A: 可以，除了熟悉以外，也建議要對這領域有一定的熱誠！這樣工作才會長久</p>
<hr>
<p>Q: 實習建議是兩個月嗎？建議是什麼時候呢？</p>
<p>A: 任何的實習機會都是最快與業界接觸的機會，學習到真正在賺錢的技能是非常重要的呢！如果是暑期實習就沒什麼限制，而如果像是 LINE TECH FRESH program 這樣一年的實習計畫，建議<strong>大二升大三之後~碩班</strong>期間來實習，一來畢竟大一大二相對必修課程會比較多，二來大家在即將畢業的年紀比較近，也能更好的銜接到未來工作。</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/data-dev-team-tech-fresh-life-1">資料工程團隊 TECH FRESH 實習生活分享</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/what-is-tech-fresh-interview/">【訪談】TECH FRESH 工作老實說 - 後續花絮與相關資訊整理</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/from-line-tech-fresh-to-liner/">LINE TECH FRESH: 從實習到成為正職的經歷</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2020-graduate/">TECH FRESH 實習的一年間，除了開發還有什麼內部活動呢？</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/life-in-line-tech-fresh-sharing/">Life in LINE – 直擊 TECH FRESH 實習內容！</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2021/">Life in LINE – 你不知道的 LINE TECH FRESH 實習日常</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">LINE TECH FRESH – 技術新星人才計劃，實習經驗大公開</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這次很榮幸可以回朝陽資工所跟所有的學弟妹們分享我工作這段期間的一些看法以及經歷，而不管你現在身處何處，希望這次文章的內容可以幫助每位即將踏入軟體世界的同學們，如果你也覺得這篇文章對你有幫助，歡迎分享給周遭的朋友！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>資工</tag>
        <tag>工作記錄</tag>
      </tags>
  </entry>
  <entry>
    <title>【Mac】忍者轉移電腦之術 | 照著步驟就回覆環境啦！</title>
    <url>/2022/11/05/nijia-mac-env-backup-2022/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近公司電腦要換了(Macbook pro 15 -&gt; Macbook air 13)，距離上次換電腦也差不多兩年前了[<a href="https://nijialin.com/2020/07/15/restore-my-mac-environment/">轉移文章</a>]，以下快速整理一些常用的軟體。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="安裝之前"><a href="#安裝之前" class="headerlink" title="安裝之前"></a>安裝之前</h2><ul>
<li>建立新使用者</li>
<li>Caplock &lt;-&gt; Control<ul>
<li>因為使用 HHKB 鍵盤，因此筆電的鍵盤也跟著習慣統一。<a href="https://nijialin.com/2022/08/20/why-you-need-hhkb/">【HHKB】為什麼要它？怎麼在二手市集挑？</a></li>
</ul>
</li>
<li>Brew<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/bin/</span>bash -c <span class="string">&quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><code>mkdir ~/Programs</code><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">cd ~<span class="regexp">/Document ; git clone https:/</span><span class="regexp">/github.com/</span>louis70109/nijia-blog-backup.git</span><br></pre></td></tr></table></figure></li>
<li>brew install jq</li>
</ul>
<h2 id="常用軟體"><a href="#常用軟體" class="headerlink" title="常用軟體"></a>常用軟體</h2><ul>
<li><a href="https://www.microsoft.com/zh-tw/edge?form=MA13FJ#evergreen">Edge</a></li>
<li><a href="https://www.alfredapp.com/">Alfred</a><ul>
<li>Option+Space</li>
</ul>
</li>
<li><a href="https://apps.apple.com/tw/app/manico/id724472954?mt=12">Manico</a><ul>
<li>Option 常按</li>
</ul>
</li>
</ul>
<p><img src="https://nijialin.com/images/2022/transfer/ma1.png"></p>
<ul>
<li><a href="https://apps.apple.com/tw/app/magnet/id441258766?mt=12">Magnet</a></li>
<li><a href="https://mcbopomofo.openvanilla.org/">McBopomofo 小麥注音輸入法</a></li>
<li><a href="https://creativecloud.adobe.com/zh-Hant/apps/download/creative-cloud">Adobe Cloud</a><ul>
<li>Premiere Pro</li>
</ul>
</li>
<li><a href="https://apps.apple.com/tw/app/imovie/id408981434">iMovie</a><ul>
<li>簡易分段剪輯使用</li>
</ul>
</li>
<li><a href="https://fonts.google.com/specimen/Roboto">Roboto</a><ul>
<li>公司常用字體</li>
</ul>
</li>
<li><a href="https://www.box.com/resources/downloads">Box client</a></li>
<li><a href="https://obsproject.com/">OBS</a></li>
<li><a href="https://www.spotify.com/us/download/other/">Spotify</a></li>
<li><a href="https://support.logi.com/hc/zh-tw/articles/360025141634">Logitech Presentation</a><ul>
<li>簡報筆</li>
</ul>
</li>
</ul>
<h2 id="通訊軟體"><a href="#通訊軟體" class="headerlink" title="通訊軟體"></a>通訊軟體</h2><ul>
<li><a href="https://apps.apple.com/tw/app/line/id539883307">LINE</a></li>
<li><a href="https://apps.apple.com/us/app/slack-for-desktop/id803453959?mt=12">Slack</a></li>
<li><a href="https://discord.com/download">Discord</a></li>
</ul>
<h2 id="開發用軟體"><a href="#開發用軟體" class="headerlink" title="開發用軟體"></a>開發用軟體</h2><ul>
<li><p><a href="https://docs.docker.com/desktop/install/mac-install/">Docker</a></p>
</li>
<li><p><a href="https://www.python.org/downloads/">Python</a></p>
</li>
<li><p><a href="https://nodejs.org/zh-tw/download/">NodeJS</a></p>
</li>
<li><p><a href="https://code.visualstudio.com/download">VS Code</a></p>
<ul>
<li>Settings sync</li>
<li>cmd+shift+p -&gt; “在PATH中安裝 ‘code’ 命令”</li>
<li><a href="https://gist.github.com/louis70109/8ea88b9b26570d521c81922572f8309d">Gist</a></li>
</ul>
</li>
<li><p><a href="https://www.jetbrains.com/pycharm/download/#section=mac">PyCharm</a></p>
</li>
<li><p><a href="https://cloud.google.com/sdk/docs/install?hl=zh-tw">gcloud cli</a></p>
</li>
<li><p><a href="https://iterm2.com/">iTerm2</a></p>
<ul>
<li>zsh</li>
</ul>
</li>
</ul>
<figure class="highlight monkey"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alias</span> <span class="title">gs</span>=<span class="string">&quot;git status&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">gl</span>=<span class="string">&quot;git pull&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">gd</span>=<span class="string">&quot;git diff&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">ga</span>=<span class="string">&quot;git add&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">gp</span>=<span class="string">&quot;git push&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">gm</span>=<span class="string">&quot;git commit -m&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">gc</span>=<span class="string">&quot;git checkout&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">k</span>=<span class="string">&quot;kubectl&quot;</span></span><br><span class="line"><span class="keyword">alias</span> <span class="title">dc</span>=<span class="string">&quot;docker-compose&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>現在大部分都滿依靠瀏覽器運行日常工作，但有許多日常使用與開發的軟體都需要安裝，以上是我使用 Mac 常用的軟體，如果你也推薦的軟體歡迎留言給我喔！</p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>Nijia Two Year Journey Review at Taipei</title>
    <url>/2022/07/21/nijia-review-year-2-at-LINE/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<p>隨著七月到來，也是我進駐台北兩周年的時間，當中跟著前輩學到的東西也是非常多且相當受用，讓我在這兩年對於許多事情的看法與處理方式都發生了很多變化，從內部活動逐步到現在能處理研討會贊助案的工作，當中收穫與付出都是相當多的！話不多說往下看吧！</p>
<span id="more"></span>


<h2 id="一場活動的重要性"><a href="#一場活動的重要性" class="headerlink" title="一場活動的重要性"></a>一場活動的重要性</h2><p><img src="https://nijialin.com/images/2022/review/6.jpg"></p>
<ul>
<li>任何人、事、物都是成本，他應該出現在這邊嗎?<ul>
<li>錢永遠擺第一位，你都規畫好了錢錢應該有著落了吧</li>
<li>各種財務系統都很複雜，能盡快解決就解決</li>
<li>月底都是報帳日，月底的活動發票一定要開<mark>下個月初</mark>, <mark>下個月初</mark>, <mark>下個月初</mark></li>
</ul>
</li>
<li>每個族群的人都會有，那麼這場活動 <mark>受眾(Target Audience)</mark>是誰?</li>
<li>活動日訂好後，往前推算的所有行程出來了嗎？<ul>
<li>主管做什麼? 講者做什麼? 工作人員做什麼? 會眾又做什麼?</li>
<li>活動前要盡量去想能多些什麼內容讓活動更好，因為這場活動可能是<mark>別人最後一次</mark>參加的活動</li>
<li>合作方的 deadline 是哪時候，盡可能給對方一個時間，雖然講出來時有點無情，但這也是保障雙方的權益<ul>
<li>你的專案能有效控管，對方也可以跟老闆說明時程</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="溝通的重要性"><a href="#溝通的重要性" class="headerlink" title="溝通的重要性"></a>溝通的重要性</h2><p><img src="https://nijialin.com/images/2022/review/9.jpg"></p>
<p>因為疫情關係，公司以 Hybrid 混合方式在作業，個人還是喜歡有升降桌+herman miller 的椅子+冷氣，因此還是會盡可能地去公司，且公司平常也不會有什麼人(離題了)。</p>
<p>因為不同團隊進辦公室的時間不同，且我的部門是最容易與不同團隊同仁開會，經常都要透過 Zoom&#x2F;Slack 內部大量溝通，因此這時列出重點的重要性就出來了。</p>
<ul>
<li>兩句話描述活動內容</li>
<li>參考文件(視覺、過往文件…)</li>
<li>列出活動日、時間、地點、模式(online&#x2F;offline)</li>
<li>列出對方(stakeholder)有關的時程</li>
<li>為什麼人家需要幫你</li>
</ul>
<blockquote>
<p>AS-IS TO-BE 大法 (參考文章)</p>
</blockquote>
<p>這些東西都是很多血跟淚累積出來的內容，也很感謝很多前輩在任何的專案中提點與幫忙，讓我在當中可以少走很多的冤望路，來到有規模的公司就是要停、看、聽，但也要適時的曝光自己!!</p>
<blockquote>
<p>這裡有很重要的一點，當訊息開始爆量出現時，要適當的管理自己與這些資訊的連結在哪，而別到了人家問時一問三不知，這樣也會顯示出自己專業程度不夠，進而影響到後續的合作。</p>
</blockquote>
<h2 id="做事的優先權"><a href="#做事的優先權" class="headerlink" title="做事的優先權"></a>做事的優先權</h2><p>最近剛好在讀「蝴蝶效應」，當中看到了「艾森豪矩陣」說的內容，當中提到說要用「<strong>四象限法則</strong>」來歸納出自己處理事情的優先權。</p>
<p>其實在這兩年的過程中，前輩一直&#x2F;不斷的提醒我任何事情都需要<strong>優先權</strong>，雖然我能手腳很快速地解決很多小事，但是常常因為時間被瓜分掉而導致有些東西沒有縝密思考而錯誤發生，隨著需要負責的東西責任越來越重大，思考的時間就很重要，這時我也才體會前輩一直提點的重要性，把東西歸類出來才知道哪些是重要的。</p>
<p>這陣子我都先把要做的事情透過 Trello 通通記錄下來，<mark>時間由近-遠</mark>，火燒程度從<mark>緊急-還能等等</mark>的程度去分類，讓自己一天的時間可以較有效的被規劃出來，雖然還有很大的進步空間，但能把東西先處理好都是相對重要的!</p>
<h2 id="對時間的掌握度"><a href="#對時間的掌握度" class="headerlink" title="對時間的掌握度"></a>對時間的掌握度</h2><p>最早會對這件事有感覺是在健身之後，因為訓練時需要注重身體狀態、各組數時間、訓練量，初期訓練時動輒都是兩小時起跳，其原因也是包含新鮮期、動作掌握度不夠、不懂課表安排…種種原因。對應到工作上則會跟<strong>專案管控</strong>、<strong>開發時程</strong>有關，以我來說，初期就是要跟著前輩邊做邊學，過程中會被指派一些小型專案，在當中推估時間，藉由討論來理解時程的重要性、為什麼要抓 Buffer，到了現在的狀態，比較不會有過去會覺得「應該哪時候開始做就可以了吧」、「這一下子應該就做完？」等等的想法，而是為更進階的估算平行時間的事情多寡、垂直路徑可能會有的阻礙，</p>
<p><img src="https://nijialin.com/images/2022/review/7.jpg"></p>
<h2 id="保持對-code-的熟悉度"><a href="#保持對-code-的熟悉度" class="headerlink" title="保持對 code 的熟悉度"></a>保持對 code 的熟悉度</h2><p>隨著到了傳教士的位置，光看上述講得這麼多，大多日常的工作內容其實都會圍繞著專案管理這個技能運行，因此程式撰寫上會逐漸被稀釋掉許多，當然在日常工作上不可能整個八小時都塞好塞滿，在空檔時也會多去注意 SDK 的狀態、最近大家在關注的 Open Source 是什麼、有沒有什麼功能是可以解決日常生活問題…雖然不再像以前日子，無法只泡在 code 裡面什麼都不用管，但每天也可以花一些時間對 code 的部分稍稍研究，一點點慢慢累積，日子久了也是很可觀呢！如果覺得在做某些事情沒辦法一次到位，不如像這樣每天累積一些試試看吧！</p>
<h2 id="住所的重要性-北漂人的心聲"><a href="#住所的重要性-北漂人的心聲" class="headerlink" title="住所的重要性(北漂人的心聲)"></a>住所的重要性(北漂人的心聲)</h2><p>真心覺得盡量住的公司近為主，通勤所花的時間成本(你的時間、交通費、現在還多了疫情風險)，畢竟一天有八小時左右在公司，降低所有成本讓你的生活更有效率比較好對吧?至少更快回家打打遊戲放鬆也很棒呀！</p>
<p>另外個人也參考朋友的做法，就是不帶交通工具上來，基本上以捷運、公車、腳踏車能到的地方為主，真的需要再租電動機車這樣，讓自己上下班可以慢慢走回家，也許很花時間，但這也是我每天能靜下心好好思考今天所做的事情，不管心情好壞都可以在這時間沉澱一下，讓自己可以平靜下來，開心就暗爽+回憶過程，傷心就好好迴響是否哪邊有出現漏洞，如果能思考出來，內化後也是讓自己成長的時候，了解自己的問題才是治本。</p>
<p>呈上段來說，雖然因為沒有交通工具很多地方都還沒去看過，但有捨才有得嘛，如果接下來的階段有需要，也是會想盡辦法去達成之間的平衡！</p>
<blockquote>
<p>當然這樣的決策不會是絕對，也許有各種考量。</p>
</blockquote>
<h2 id="目標迷失時怎辦"><a href="#目標迷失時怎辦" class="headerlink" title="目標迷失時怎辦?"></a>目標迷失時怎辦?</h2><p><img src="https://nijialin.com/images/2022/review/4.jpg"></p>
<p>不管是多好的環境上班，總是會有各種事物影響到當前，甚至是讓你懷疑自己，這時候有些人會選擇去比較寧靜的山區度假、爬山、潛水等等都是不錯的，而我自己是會喜歡進場看籃球，看看自己喜歡的運動，享受現場的氛圍，讓自己可以試著忘記一直在周旋的事情，當可以拉開自己離開迷失的環境，讓自己放鬆一下，自然也會知道自己到底是卡在什麼地方。</p>
<p><img src="https://nijialin.com/images/2022/review/11.jpg"></p>
<p>近期也加入各種攝影設備的行列(但沒玩到單眼)，我很喜歡玩各種玩具，研究他們是怎麼被弄出來，進而學習拍攝一些不同角度的相片，學點不同專業的東西，增加視野之外也多了可以跟人家聊天的話題呢!</p>
<blockquote>
<p>我也會安排睡覺前，可以翻的一些雞湯書，除了幫助睡眠外也能幫自己多沈澱一下！</p>
</blockquote>
<h2 id="生活趣事"><a href="#生活趣事" class="headerlink" title="生活趣事"></a>生活趣事</h2><p><img src="https://nijialin.com/images/2022/review/5.jpg"></p>
<ol>
<li>在舊辦公室時，大家最愛的就是免治馬桶，甚至優秀到其他公司都會跑來偷用，隨著公司搬到位置後，大家抱持著一樣的心情去使用，但發生了很多悲劇(像是被馬桶燙 🌻)，因此我都不敢開熱水 😂</li>
<li>隨著人數變多，本來以為我記人很厲害，結果開始在外面的社群遊蕩時，開始會有不認識的同事(需要補腦)，如果有認識的記得跟我說一下是誰 😭</li>
<li>因為公司放飯時間是 13:00，之前在西湖市場，現在在江南街，每次放飯時整條街都是認識的人，隨便走進一家都有認識的人在裡面，覺得這樣的場景真的很有趣 ＸＤ</li>
</ol>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p><img src="https://nijialin.com/images/2022/review/time.png"></p>
<p>這兩年間，對我而言就是個精神時光屋，各種視野都是過去的我無法想像的空間，慶幸自己有這個機會能在這邊跟大家相處，大家都說台北很可怕、競爭很激烈，明確來說沒錯，但現在公司這的大家真的都很好，在工作以外的時間都也都很願意交流各式各樣的資訊，不管是想了解執行面、流程面、還是生活相關都很能聊，也會發現大家其實都是時間管理大師，到底哪來的時間做這麼多事情啦ＸＤ</p>
<p>最後，也要告誡自己別忘了一開始進到這個環境對自己的期許是什麼，或許因為時間的關係被淡忘了，但這些東西都是刻在骨子裡的東西，有時間都把它們找出來看看，定期追蹤才知道自己是否有持續向前，希望在未來的日子裡可以讓自己變得更好，未來看到這篇文章時也能更有共鳴!</p>
<p><img src="https://nijialin.com/images/2022/review/1.jpg"></p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
  </entry>
  <entry>
    <title>解決 node-gyp rebuild error 問題</title>
    <url>/2020/02/01/node-gyp-rebuild-error/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我對這錯誤的印象是某次在練習寫測試時裝 <a href="https://jestjs.io/">jest</a> 後出現的，檢查了<code>package-lock.json</code>後看起來<code>jest-haste-map</code>這個套件有用到 <a href="https://www.npmjs.com/package/fsevents">fsevents</a>，而之後使用<code>npm install</code>或者<code>yarn install</code>皆會出現以下這個訊息：<br><img src="https://i.imgur.com/zH6Mbzo.png" alt="node-gyp rebuild error"></p>
<blockquote>
<p>環境為 Mac OS Catalina version 10.15.2</p>
</blockquote>
<p>看起來是在執行階段時<code>node-gyp</code>出了問題，接著它自己重新執行了<code>node-gyp rebuild</code>後出錯，起初我認為是套件的問題並找到了<a href="https://github.com/nodejs/node-gyp/issues/94#issuecomment-222482140">這個回答</a>並執行:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo npm uninstall node-gyp -g</span><br><span class="line">sudo npm uninstall node-gyp</span><br></pre></td></tr></table></figure>

<p>但從來沒有全域安裝<code>node-gyp</code>過，也有些網友執行<code>node-gyp configure</code>是可以的，而我執行後還是失敗，狀態跟這個 <a href="https://github.com/nodejs/node-gyp/issues/94#issuecomment-269909621">issue</a> 差不多。</p>
<p>後來看到 fsevents 在套件說明裡有寫到:</p>
<blockquote>
<p>The FSEvents API in MacOS allows applications to register for notifications of changes to a given directory tree. It is a very fast and lightweight alternative to kqueue.</p>
</blockquote>
<p>並且注意到剛剛圖裡面有訊息是跟 xcode 以及 apple 相關，最後找到了這個 <a href="https://github.com/schnerd/d3-scale-cluster/issues/7">issue</a></p>
<h1 id="我的解決方案"><a href="#我的解決方案" class="headerlink" title="我的解決方案"></a>我的解決方案</h1><p>有些人可能是有重灌或環境重設導致沒有安裝 xcode，此時只要執行 <code>xcode-select --install</code> 即可(<a href="https://github.com/schnerd/d3-scale-cluster/issues/7#issuecomment-402541605">參考說明</a>)。</p>
<p>這邊我使用的解決方案為這個 <a href="https://github.com/schnerd/d3-scale-cluster/issues/7#issuecomment-550579897">issue</a>，執行以下兩個指令來重新安裝 xcode:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo rm -rf $(xcode-select -print-path)</span><br><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure>

<p>原因可能是因為我重舊版本向上更新之後 xcode 沒有相容當前版本，所以我使用以上指令來刪除重新安裝。</p>
<blockquote>
<p>不過這個指令很暴力的使用 <code>rm -rf</code>，使用它相對危險，使用前請詳閱公開說明書 😆。</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>為了練習測試安裝了 jest 卻讓我看著一堆 warning 實在是恨得牙癢癢，所幸目前這樣解決完後是可以用的，就看接下來些新的 side project 後會不會有其他問題再來更新，</p>
<p>另一方面也可能因為我在寫 side project 時安裝了一堆有的沒的東西導致這個結果，看來也得找時間來整理一下環境了～</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><p><a href="https://blog.csdn.net/XuM222222/article/details/94976298">清除 npm 快取</a></p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>node-gyp</tag>
        <tag>MacOS</tag>
        <tag>Xcode</tag>
        <tag>jest</tag>
        <tag>npm</tag>
        <tag>yarn</tag>
      </tags>
  </entry>
  <entry>
    <title>幫 QR Code 加上背景圖，別只留下黑白！</title>
    <url>/2023/02/05/nodejs-custom-qrcode-background/</url>
    <content><![CDATA[<p><img src="https://github.com/louis70109/qrcode-background-generator/raw/main/qrcode.png?raw=true"></p>
<blockquote>
<p>來自 chatGPT 的說明：它可以生成一個帶有背景圖片的 QR code。這個 QR code 產生器可以通過 GitHub 上的項目連結 <a href="https://github.com/louis70109/qrcode-background-generator">https://github.com/louis70109/qrcode-background-generator</a> 來使用。特點是，它可以讓使用者自行選擇背景圖片，並在其上生成一個具有特殊圖案的 QR code，使 QR code 看起來更具吸引力和美感。這個 QR code 產生器可以給您的商業或個人項目帶來更多的創意和更佳的用戶體驗。</p>
</blockquote>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前幾天在 FB 社群中意外的點到<a href="https://www.facebook.com/tony.tsai/posts/pfbid063T7uwSme1k8dqqoDC2Q5RsJT9JVBBHB2n3bQiVo6LFZjPg39f8G3YSA1S7mBQQml?comment_id=1414642782639170&notif_id=1675426505084880&notif_t=feedback_reaction_generic&ref=notif">貝克菜 FB</a> 中分享的內容(範例如下)，其中寫到：「<mark>讓你的 QR Code 更符合品牌形象，而不是停留在黑白</mark>」。</p>
<p>它可以讓你自行選擇背景圖片，使 QR code 看起來更有設計感和美觀。這對於您的商業或個人項目來說，可以提高曝光率和吸引力，並提高用戶體驗。</p>
<span id="more"></span>

<p><img src="https://scontent.frmq2-1.fna.fbcdn.net/v/t39.30808-6/328689276_1224285545106496_5760418307112715847_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=730e14&_nc_ohc=eFqj_2RKTwkAX99JEtM&_nc_ht=scontent.frmq2-1.fna&oh=00_AfBbEk1FeFkUNjxA2JlYyLLl-_G9TcCBSLixwAy9SFuWHw&oe=63E4F33A"></p>
<blockquote>
<p>引用至： <a href="https://www.facebook.com/tony.tsai/posts/pfbid063T7uwSme1k8dqqoDC2Q5RsJT9JVBBHB2n3bQiVo6LFZjPg39f8G3YSA1S7mBQQml?comment_id=1414642782639170&notif_id=1675426505084880&notif_t=feedback_reaction_generic&ref=notif">貝克菜 FB</a></p>
</blockquote>
<p>剛好最近也正在準備研討會，更是被這句話深深的打中，好奇心之下找到了<a href="https://github.com/SumiMakito/Awesome-qr.js/blob/master/README.md">Awesome-qr.js</a>，以下就快速分享個實作心得。</p>
<blockquote>
<p><mark><a href="https://github.com/louis70109/qrcode-background-generator">qrcode-background-generator 專案</a></mark></p>
</blockquote>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>當時 Survey 了兩個版本：</p>
<ul>
<li>JS 版本：<a href="(https://github.com/SumiMakito/Awesome-qr.js/blob/master/README.md)">sumimakito&#x2F;Awesome-qr.js</a><ul>
<li>最後更新時間：2021&#x2F;11&#x2F;17</li>
<li>支援前&#x2F;後端，後端需先安裝 <a href="https://github.com/Automattic/node-canvas#installation">node-canvas</a> 的 Canvas 引擎來驅動。<ul>
<li>每個 OS 都有整理相依套件</li>
</ul>
</li>
<li>文件很完整，每功能都寫很詳細。</li>
</ul>
</li>
<li>Python 版本：<a href="https://github.com/x-hw/amazing-qr">x-hw&#x2F;amazing-qr</a><ul>
<li>最後更新： 2021&#x2F;05&#x2F;21</li>
<li>有簡中文件、Command line 工具</li>
</ul>
</li>
</ul>
<p>雖然平常寫 Python 居多，但為考量支援度，未來可以放入我以前寫的 <a href="https://github.com/louis70109/Announcer">Announcer</a> 中，讓 LIFF 也可以分享(想像是美好的)，之後還是選擇 NodeJS 版本。</p>
<p>在 AwesomeQR 中，現在版本可以使用 <code>dotScale</code>，但文件中建議可使用 <code>components</code> 去控制 QR code 中點點的參數。</p>
<blockquote>
<p>This option is yet to be removed. You can still use this option to control the scaling of the QR code parts in the legacy way.</p>
</blockquote>
<h2 id="透過-lt-img-gt-Base64-來顯示圖片"><a href="#透過-lt-img-gt-Base64-來顯示圖片" class="headerlink" title="透過 &lt;img&gt; + Base64 來顯示圖片"></a>透過 <code>&lt;img&gt;</code> + Base64 來顯示圖片</h2><p>大致上在 <mark><a href="https://github.com/louis70109/qrcode-background-generator">qrcode-background-generator 專案</a></mark>中都是網路上皆可找到的範例程式，而在本地開發時因為環境都很安裝許多套件，因此測試時好處理。</p>
<p>但部署上去後若沒 encode，則在 Server-side render 時 <code>res.write()</code> 裡則會變成亂碼。因此這邊就 <code>base64</code> 並透過 <code>&lt;img&gt;</code> 放上去，這樣就不會有問題了。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 把檔案的結構資料轉成 base64</span></span><br><span class="line"><span class="keyword">const</span> b64 = Buffer.from(buffer).toString(<span class="string">&#x27;base64&#x27;</span>);</span><br><span class="line"><span class="comment">// 定義圖片格式</span></span><br><span class="line"><span class="keyword">const</span> mimeType = <span class="string">&#x27;image/png&#x27;</span>; <span class="comment">// e.g., image/png</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用 &lt;img&gt; 展示 base64</span></span><br><span class="line">res.writeHead(<span class="number">200</span>, &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125;);</span><br><span class="line">res.write(<span class="string">`&lt;img src=&quot;data:<span class="subst">$&#123;mimeType&#125;</span>;base64,<span class="subst">$&#123;b64&#125;</span>&quot; /&gt;`</span>);</span><br></pre></td></tr></table></figure>

<h2 id="相依套件安裝"><a href="#相依套件安裝" class="headerlink" title="相依套件安裝"></a>相依套件安裝</h2><p>在 OS 中因為 canvas 需要相依套件，因此在 <a href="https://github.com/louis70109/qrcode-background-generator/blob/main/Dockerfile">Dockerfile</a> 上就放入相關套件的安裝。</p>
<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">apk add --update --<span class="literal">no</span>-cache <span class="string">\</span></span><br><span class="line">    make <span class="string">\</span></span><br><span class="line">    g++ <span class="string">\</span></span><br><span class="line">    jpeg-dev <span class="string">\</span></span><br><span class="line">    cairo-dev <span class="string">\</span></span><br><span class="line">    giflib-dev <span class="string">\</span></span><br><span class="line">    pango-dev <span class="string">\</span></span><br><span class="line">    libtool <span class="string">\</span></span><br><span class="line">    autoconf <span class="string">\</span></span><br><span class="line">    automake</span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><ul>
<li>圖片建議 QR Code 建議用黑的，在 iPhone 13 掃描情況下<code>黑色</code>還是辨識度高，<code>autoColor</code> 建議設定成 <code>False</code>，避免接收到背景顏色改變。</li>
</ul>
<p><img src="https://github.com/louis70109/qrcode-background-generator/raw/main/qrcode.png?raw=true"></p>
<ul>
<li>畢竟處理畫面上用 Canvas 還是前端支援度比較高(瀏覽器)，因為 NodeJS 是使用 V8 引擎去實作的，因此支援度應該 &gt; Python (?)，最後就選擇 NodeJS 作為這次的開發。</li>
</ul>
<p>最後，這個 QR code generator 是開源的，您可以透過 Pull Request 來修改這程式碼，以滿足您的特定需求。這對於開發者來說是一個很好的選擇，滿足您的商業或個人需求，並提高您的創意和體驗。</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Canvas</tag>
        <tag>QR Code</tag>
      </tags>
  </entry>
  <entry>
    <title>清大資工「軟體專案管理」企業參訪</title>
    <url>/2023/03/17/nthu-line-tour-2023-qa/</url>
    <content><![CDATA[<p><img src="https://vos.line-scdn.net/landpress-content-v2_1761/1679047399731.JPG?updatedAt=1679047400000"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我們是 LINE 台灣的開發者關係與技術推廣團隊。我們很高興能來到清華大學資訊工程系與大家見面。我們想跟大家介紹一下，LINE Taiwan 提供給理工相關科系學校同學的企業參訪機會。透過這個機會，學校同學可以深入了解 LINE 的研發工程文化，並探索相關的技術實習機會。我們期待能與大家交流互動，帶給大家更多有趣的資訊。</p>
<ul>
<li>整場簡報：<a href="https://speakerdeck.com/line_developers_tw/nthu-line-visit-2023">https://speakerdeck.com/line_developers_tw/nthu-line-visit-2023</a><span id="more"></span></li>
</ul>
<h1 id="淺談-Quality-Assurance-品質保證"><a href="#淺談-Quality-Assurance-品質保證" class="headerlink" title="淺談 Quality Assurance 品質保證"></a>淺談 Quality Assurance 品質保證</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b41a5144965e486596bc78384c1f48fc?slide=7" title="軟體品質不只測試: LINE QA團隊分享" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<p>Quality Assurance（品質保證）是一種過程，主要是通過預防措施，防止產品製造過程中出現錯誤和缺陷，從而確保產品的品質符合預期標準。QA Engineer 的角色就是確保產品的品質，確認產品符合需求，對產品進行測試並找出問題，並透過各種方法減少問題的發生，從而確保產品的品質，減少產品瑕疵率，提高客戶滿意度，並降低生產成本。</p>
<h2 id="Quality-Assurance-QA-和-Quality-Control-QC-的差異"><a href="#Quality-Assurance-QA-和-Quality-Control-QC-的差異" class="headerlink" title="Quality Assurance (QA) 和 Quality Control (QC) 的差異"></a>Quality Assurance (QA) 和 Quality Control (QC) 的差異</h2><p>Quality Assurance (QA) 和 Quality Control (QC) 都是產品品質管理的重要概念，但它們的重點和目的有所不同。</p>
<p>Quality Assurance 主要強調預防，著重於確保整個產品開發過程中的品質管理，以及在產品交付前的檢查。QA 包括建立標準和程序，以及審查和評估產品開發過程中的相關文件、測試計畫和測試報告等，以確保產品的品質符合預期標準。QA 的目的是降低產品開發過程中出現缺陷的風險，從而提高整個產品的品質和效率。</p>
<p>Quality Control 則著重於檢查和測試，以確定產品是否符合標準。QC 包括對產品進行檢查、測試和評估，並對缺陷進行分類和修復。QC 的目的是在產品交付前，對產品進行最終的檢查和確認，以確保產品的品質符合標準，並滿足客戶的需求。</p>
<p>總體來說，QA 和 QC 都是維護產品品質的重要手段，但它們的重點不同。QA 主要強調品質管理的全過程，從而預防產品出現缺陷，而 QC 則主要著眼於最終產品的檢查和確認，以確保產品的品質符合標準。</p>
<h1 id="LINE-TW-的軟體開發流程"><a href="#LINE-TW-的軟體開發流程" class="headerlink" title="LINE TW 的軟體開發流程"></a>LINE TW 的軟體開發流程</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b41a5144965e486596bc78384c1f48fc?slide=9" title="軟體品質不只測試: LINE QA團隊分享" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<p>LINE Taiwan 的軟體開發流程大致上分為以下幾個階段：</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b41a5144965e486596bc78384c1f48fc?slide=12" title="軟體品質不只測試: LINE QA團隊分享" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ol>
<li>計畫與設計階段：在這個階段中，團隊將討論並確定產品的目標、功能需求和時間表，QA 也會在當中提供意見，確保整的會遇到的問題可以提早被發現。而設計師將開始設計產品的使用者介面和體驗，並確保所有功能都可以良好運作。</li>
</ol>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b41a5144965e486596bc78384c1f48fc?slide=13" title="軟體品質不只測試: LINE QA團隊分享" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ol start="2">
<li>開發階段：在這個階段中，工程師將根據設計師提供的設計文件，開始編寫程式碼和測試產品的各項功能。在開發過程中，會定期進行程式碼的審查，並利用自動化測試工具進行測試。</li>
</ol>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b41a5144965e486596bc78384c1f48fc?slide=14" title="軟體品質不只測試: LINE QA團隊分享" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ol start="3">
<li>測試階段：在這個階段中，QA 工程師將對產品進行全面測試，以確保產品的功能和性能達到了標準，並且不會出現任何問題或錯誤。如果發現了問題，工程師將修復錯誤，直到產品可以正常運作為止。</li>
</ol>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b41a5144965e486596bc78384c1f48fc?slide=15" title="軟體品質不只測試: LINE QA團隊分享" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<ol start="4">
<li>上線階段：在完成測試並確保產品可以正常運作後，產品將被部署到線上環境中，讓客戶可以開始使用。在產品上線後，團隊會繼續監控產品的運作，以確保它可以持續地運作良好，並及時修復任何問題。</li>
</ol>
<p>LINE Taiwan 的軟體開發流程非常重視品質保證和測試，以確保產品可以符合客戶的需求和標準，並可以正常運作。此外，團隊也致力於不斷優化和改進流程，以提高生產效率和產品質量。</p>
<h1 id="使用的自動化與工具"><a href="#使用的自動化與工具" class="headerlink" title="使用的自動化與工具"></a>使用的自動化與工具</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b41a5144965e486596bc78384c1f48fc?slide=18" title="軟體品質不只測試: LINE QA團隊分享" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 314;" data-ratio="1.78343949044586"></iframe>

<p>會使用自動化工具的原因，主要是為了提高效率和減少錯誤。手動測試需要花費大量的時間和人力資源，且往往無法涵蓋所有可能的測試情境和用例。而自動化測試可以透過腳本或程式碼來模擬使用者操作，並自動化執行測試案例，比手動測試更快速和精確。</p>
<p>此外，自動化測試也可以幫助 QA 團隊進行回歸測試，即在進行軟體進版或修改後，自動執行測試用例，以確保修改後的程式碼不會對現有的系統功能造成負面影響。</p>
<p>另外，自動化測試還可以讓 QA 團隊更容易地進行測試結果的分析和報告，以及發現並解決程式碼的缺陷或錯誤。</p>
<h1 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h1><h3 id="想要了解從計畫早期階段到實作功能、部署以及若有危機管理的整個流程？"><a href="#想要了解從計畫早期階段到實作功能、部署以及若有危機管理的整個流程？" class="headerlink" title="想要了解從計畫早期階段到實作功能、部署以及若有危機管理的整個流程？"></a>想要了解從計畫早期階段到實作功能、部署以及若有危機管理的整個流程？</h3><ol>
<li><p>計畫：在進行任何開發前，我們會進行計畫階段，包括確定產品的需求、功能、目標和時程等。在此階段，QA 團隊會與開發團隊密切合作，以確保所有需求和功能都得到了充分的考慮和測試覆蓋。</p>
</li>
<li><p>設計：在設計階段，我們將著手設計產品架構、系統流程、介面設計等，並將測試方案納入設計，以確保所有設計和實現都符合產品需求和測試標準。</p>
</li>
<li><p>開發：開發人員將根據設計文件開始實現功能。此時，QA 團隊將與開發團隊緊密合作，進行各種測試，以確保開發過程中的程式碼品質和標準。</p>
</li>
<li><p>測試：QA 團隊將進行不同類型的測試，包括功能測試、壓力測試、安全測試、效能測試等，以確保產品的品質和穩定性。</p>
</li>
<li><p>部署：我們將產品部署到生產環境中。在此階段，QA 團隊將再次進行各種測試，以確保產品可以正常運行和符合期望效果。</p>
</li>
<li><p>進版與維護：一旦產品成功部署，QA 團隊將持續監控和維護產品，以確保其正常運行和符合品質標準。如果出現任何問題，QA 團隊將立即處理和解決。</p>
</li>
</ol>
<p>總之，以上是一個從產品計畫到部署的大致流程，QA 團隊在整個流程中發揮著重要的作用，以確保產品的品質和穩定性。</p>
<h3 id="軟體工程師通常每天都做些什麼？"><a href="#軟體工程師通常每天都做些什麼？" class="headerlink" title="軟體工程師通常每天都做些什麼？"></a>軟體工程師通常每天都做些什麼？</h3><p>作為 QA 工程師，我每天的日常工作主要包括：</p>
<ol>
<li>參與每日 Scrum meeting，了解團隊成員的進度與問題，並分享自己的進度與遇到的問題。</li>
<li>設計、撰寫、執行測試計畫，包括自動化測試和手動測試，並根據測試結果提供反饋和建議。</li>
<li>處理和管理 Bug tracking system，與開發團隊合作解決問題。</li>
<li>持續學習並研究新的測試方法、工具和技術，並與團隊分享。</li>
<li>參與 Code Review、設計討論等工作，確保軟體產品的品質和可靠性。</li>
</ol>
<p>作為 QA 工程師，我的日常工作主要是確保產品的品質，提供測試和回饋，並與團隊密切合作，以確保產品能夠按時交付並符合客戶的需求和期望。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>綜合以上，軟體品質是一個團隊責任，而非僅由 QA 工程師或測試團隊負責。除了測試，軟體品質受到流程的影響更大，因此需要整個團隊來協力改善。在開發過程中，選擇適合的方法和工具也非常重要，但最終的目標是提供穩定、高品質的產品給使用者。最後，感謝清大資工系同學的參訪，希望大家對於軟體品質有更深入的了解。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手資訊，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：<a href="https://qr-official.line.me/gs/M_908lugfe_BW.png">@line_tw_dev</a></p>
<img src="https://qr-official.line.me/gs/M_908lugfe_BW.png" width="200" height="200">

<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
  </entry>
  <entry>
    <title>台灣大學 AI 社團分享 -  竟然有人說 AI 不能拿來做行銷</title>
    <url>/2022/11/05/ntu-ai-club-2022/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我們是來自 LINE 台灣開發者關係與技術推廣部門 (Developer Relations)。 LINE Taiwan 開發工程團隊於 2022 年初的 「<a href="https://engineering.linecorp.com/zh-hant/blog/line-devrel-campus/">關於 LINE 台灣開發者關係與技術推廣部門的校園相關資源</a>」文章中，有敘述到關於 LINE 台灣有提供給理工相關科系學校同學的企業參訪機會，也提供學校的社團能夠邀請 LINE 研發工程團隊成原來位大家分享技術上的議題。</p>
<p>這一次則是收到台灣 AI 社團的邀請，<br>邀請資料工程團隊的 Johnson 分享如何透過機器學習來解決行銷議題上的經驗分享，讓同學對於 AI&#x2F;ML 上有更深入的了解。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="MarTech"><a href="#MarTech" class="headerlink" title="MarTech"></a>MarTech</h2><p>開始先提到在行銷上常使用 AARRR 來歸納用戶歷程的漏斗，從用戶進入服務、使用服務、引流服務的一段用戶歷程的角度來說明 LINE 將 AI 引入 Martech 的切入點。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=9" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1120px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>接著 Johnson 提到，運用知識圖譜來協助尋找用戶在哪、新用戶在哪、活躍用戶在哪的相關問題，在透過 <a href="https://official-blog-tw.line.me/archives/80236712.html">Smart Channel(個人化廣告)</a>的方式來投遞給對應用戶相關的資訊，其中也運用語意、卷積網路轉換特徵等等的方式來找到對應關係，也運用這個方法幫助 LINE SHOPPING、LINE SPOT、LINE POINTS…上找出近似關係搜尋，進而提高用戶成長。</p>
<h2 id="Uplift-Model-增益模型"><a href="#Uplift-Model-增益模型" class="headerlink" title="Uplift Model (增益模型)"></a>Uplift Model (增益模型)</h2><p>這邊提到在跟商業團隊討論時，如何優化廣告的效率是很重要的議題，因為一直廣灑的話會有背後成本考量的問題，所以行銷人員需要在有限的行銷資源下，把資源頭放對的用戶上，這裡使用增益模型來衡量廣告對用戶的影響評估，進而達到平衡廣告的效益。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=24" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1120px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>為了有效的投遞廣告，進而將用戶分眾來提升效益，因此定義了四個族群：</p>
<ul>
<li>Sure Thing: 即便不提供誘因，也會購買產品。</li>
<li>Sleeping Dog: 不投遞還好，一投遞廣告喚醒後，造成負面的影響。</li>
<li>Lost Cause: 看到廣告(誘因)也不會有反應的族群</li>
<li>The Persuadable: 容易受到廣告誘因才去購買內容，這部份的人是我們需要的族群</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=25" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1120px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>透過上方四個分眾，接著使用 Uplift Model 來找出相關的群眾(A&#x2F;B testing)，除了增加投資報酬率(廣告有效投放、)之外，也要進而降低官方帳號被封鎖，讓效果可以更有最大的效益。</p>
<h2 id="RFM"><a href="#RFM" class="headerlink" title="RFM"></a>RFM</h2><p>接著 Johnson 解釋在平常的購買行為上，是如何透過 <a href="https://en.wikipedia.org/wiki/RFM_(market_research)">RFM</a> 來了解你的客戶群：</p>
<ul>
<li>R：最近一次什麼時候來</li>
<li>F：來的頻率</li>
<li>M：花了多少錢，數量多少</li>
</ul>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=36" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1120px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>簡化成 RFM(衡量用戶歷史價值)＆CLV(用模型估測未來用戶帶來的價值)，個別對不同的用戶下不同的行銷操作，預測接下來收益的提升，增加用戶未來在行銷上的價值。</p>
<h2 id="CLV"><a href="#CLV" class="headerlink" title="CLV"></a>CLV</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=46" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1120px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>也解釋如何透過 CLV 來計算顧客終身價值，此外，用戶身上都會有 RFM 以及 CLV 的標籤，增加後續的行銷策略，讓未來的消費可以再更多一些，揭露用戶在未來的消費力。</p>
<h2 id="Foundation-Model"><a href="#Foundation-Model" class="headerlink" title="Foundation Model"></a>Foundation Model</h2><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=53" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1120px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>因為 LINE 的服務很多，其中也會有許多用戶歷程資料(都是用戶同意的)，並透過 Foundation models 學習更大量的用戶歷程資料，進而可以套用更多小規模資料的微調來達成任何行銷任務，讓同個解決方案能夠套用不同的服務與情境。</p>
<iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=54" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 560px; height: 314px;" data-ratio="1.78343949044586"></iframe>

<p>這樣多元的行銷科技解決方案可以透過 MLOps 的概念將層層環節模組化並集中化，把機器學習在行銷應用上的技術內容，套用不同的服務與情境。</p>
<h2 id="問：如何從事資料科學家相關職業？"><a href="#問：如何從事資料科學家相關職業？" class="headerlink" title="問：如何從事資料科學家相關職業？"></a>問：如何從事資料科學家相關職業？</h2><ul>
<li>從工程方向上，需要更多對於 coding 以及對於模型上的調校的經驗。</li>
<li>對於數據統計以及數學上的計算等等的技能。</li>
<li>對於新的資訊(如：論文)可以有好奇心，了解不同模型間的差異。</li>
<li>有像是 NLP、圖像相關領域的面向的領域，可以依照自己喜歡的方向去找到相關的職業。</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><iframe class="speakerdeck-iframe" frameborder="0" src="https://speakerdeck.com/player/b10ee31f40924274afb48a8d69f0ada1?slide=55" title="竟然有人說AI不能拿來做行銷" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 1120px; height: 628px;" data-ratio="1.78343949044586"></iframe>

<p>有了模型的輔助，除了幫助行銷同仁可以快速交付決策到市場上，並且也讓開發者在後續開發上能更有彈性以及擴展。</p>
<p>最後，希望透過這次的分享，能夠讓參加這次台大 AI 社課的同學可以更了解 LINE 台灣如何在 MarTech 上運用機器學習解決行銷需求上的一些經驗分享，如果你也喜歡這篇內容，歡迎分享！</p>
<p>若對於 LINE 台灣職缺有興趣，歡迎參考以下資訊：</p>
<ul>
<li><a href="https://careers.linecorp.com/jobs/83">2023 TECH FRESH</a></li>
<li><a href="https://careers.linecorp.com/jobs/1279">Machine Learning Engineer - LINE TODAY</a></li>
<li><a href="https://careers.linecorp.com/jobs/1278">Data Engineer - LINE TODAY</a></li>
<li><a href="https://careers.linecorp.com/jobs/1155">Senior Data Engineer - EC</a></li>
</ul>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 於 2019 年開始在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來查看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
</ul>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
  </entry>
  <entry>
    <title>【OBS】透過 Streamlabs 打造與觀眾互動的聊天室與訂閱資訊 | Youtube</title>
    <url>/2021/10/03/obs-streamlab-youtube-chat/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/obs-chat/11.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>忍編每天的樂趣就是看許多電競選手直播打遊戲分享他們遊戲上的樂趣以及不同的見解，隨著暗黑破壞神上市後我就想說玩的時候可以開個直播，雖然現在沒什麼人看(開好玩的)，但研究一些直播技巧與設定也覺得不錯，在網路上有看到許多前輩們有拍影片介紹以下的功能，但看完之後找不到當初那部影片，就先透過本篇來記錄一下如何收取<strong>訂閱資訊</strong>與<strong>聊天室</strong>內容(基於 Youtube)。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><img src="https://nijialin.com/images/2021/obs-chat/1.PNG"></p>
<p>首先先前往 <a href="https://streamlabs.com/">Streamlabs</a> 的網站，進去之後按下上方的 Dashboard 的按鈕進去控制面板，但因為直播平台上需要存取權限才能拿到聊天室等等的資訊，這邊我就先用 Youtube 登入。</p>
<blockquote>
<p>Steamlabs 是什麼? 他是一個直播軟體，可以讓大家快速運用各個平台快速起直播，不管手機或是電腦皆可，可以很無痛的就上手開始直播，而後台 Dashboard 也提供了許多很棒的功能讓想客製化的玩家可以使用，當然也有訂閱服務，用喜歡的朋友可以用看看喔!</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/obs-chat/2.PNG"></p>
<p>進到 Dashboard 就會看到左側有許多東西加上內容，以下我們就來新增聊天室跟訂閱資訊到 OBS 當中</p>
<h2 id="Chat-Box-觀眾也想看到實況主畫面上有自己打的文字"><a href="#Chat-Box-觀眾也想看到實況主畫面上有自己打的文字" class="headerlink" title="Chat Box - 觀眾也想看到實況主畫面上有自己打的文字"></a>Chat Box - 觀眾也想看到實況主畫面上有自己打的文字</h2><p><img src="https://nijialin.com/images/2021/obs-chat/0.PNG"></p>
<p>接著找到左邊紅色框框的內容(<mark>Alert Box</mark>, <mark>All Widgets</mark>)，這邊先選<mark>All Widgets</mark>，選擇右邊的 Chat Box</p>
<p><img src="https://nijialin.com/images/2021/obs-chat/3.PNG"></p>
<p>接下來看到這邊，線上有許多的 plugin 可以讓大家自由去選擇，接著看到這裡有個 Widget URL 就是稍後要放在 OBS 裡面的網址(他是對應設定唯一的網址)，這邊我選擇往下選一般的形式來用(等有人看再來調整即可)</p>
<p><img src="https://nijialin.com/images/2021/obs-chat/4.PNG"></p>
<p>往下之後有許多選項，不論是樣式、文字顏色、字體大小…等等都可以調整，調整完後複製剛剛說的 Widget URL 起來，切回到 OBS 畫面中</p>
<p><img src="https://nijialin.com/images/2021/obs-chat/5.png"></p>
<p>來到 OBS 裡面，按下下方的 <code>＋</code> 來找到瀏覽器選項，給他大力的點下去</p>
<p><img src="https://nijialin.com/images/2021/obs-chat/6.png"></p>
<p>進來之後把剛剛 Streamlabs 的 Widget URL 複製進網址欄位，確定儲存完之後可以選擇你想擺放的位置，接著我們就回到直播聊天室裡面去測試</p>
<blockquote>
<p>這邊我已經先把 OBS 的訊號都打出去了，讓整個測試可以順利，其實即便有觀眾他們也應該很樂意看實況主現場測試</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/obs-chat/7.PNG"></p>
<p>找到當前直播的聊天室之後開始打字來真實測試一次</p>
<p><img src="https://nijialin.com/images/2021/obs-chat/8.png"></p>
<p>回到 OBS 畫面中(觀眾看到的樣子)，就會看到剛剛打的文字</p>
<blockquote>
<p>是不是覺得這樣越來越專業了呢?</p>
</blockquote>
<h2 id="Alert-Box-訂閱時要有音效阿"><a href="#Alert-Box-訂閱時要有音效阿" class="headerlink" title="Alert Box - 訂閱時要有音效阿!"></a>Alert Box - 訂閱時要有音效阿!</h2><p><img src="https://nijialin.com/images/2021/obs-chat/9.PNG"></p>
<p>既然有了聊天室，那訂閱訊息也不能漏(感謝OOO的訂閱 之類的文字)，選擇左邊的 <strong>Alert Box</strong>，一樣看到中間的 Widget URL，這是等等也要複製進去的網址</p>
<blockquote>
<p>一般這些服務都會使用網址的方式讓用戶比較好操作，但在複製上也要注意是否有一些奇怪的資訊喔(ex: 電話號碼)</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/obs-chat/10.PNG"></p>
<p>往下可以調整你想要顯示的 gif、出現訂閱時間等等的設定，並且可以把上面的文字改移下，**{name}** 就是 Streamlabs 預設會把不同直播平台所接收到的使用者 ID 放入</p>
<p><img src="https://nijialin.com/images/2021/obs-chat/11.png"></p>
<p>最後依照剛剛放聊天室的方式把連結貼近新增<strong>瀏覽器</strong>的網址中，回到 Streamlabs 中有個 <strong>Test Subscribers</strong> 的按鈕，按下去之後就會跑出如上圖所示的內容喔!</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>弄成功之後自己覺得專業度提升許多(還是缺觀眾)，有了這些資訊之後觀眾在看台的時候也可以知道自己的資訊是否有出現在實況主的畫面當中(有被大家注意到)，如果你也有更多豐富的直播設定想法，歡迎在下面留言給我喔!</p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Streamlabs</tag>
        <tag>OBS</tag>
        <tag>直播</tag>
      </tags>
  </entry>
  <entry>
    <title>【PlantUML】在 Windows 上執行的步驟</title>
    <url>/2021/09/10/plantuml-windows/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>


<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今天因為要去注射疫苗請假了一天，想說最近有個 side project 想用 PlantUML 畫一下流程圖，但發現新買的這台 Windows 桌機似乎也沒灌 Java 相關的套件，因此輸出不了圖(如下)</p>
<p><img src="https://nijialin.com/images/2021/win-uml/1.PNG"></p>
<p>以下提供一下我成功安裝的方法給大家</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><ul>
<li><p>VSCode 安裝 <a href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml">PlantUML</a></p>
</li>
<li><p>首先到了 <a href="https://plantuml.com/zh/download">PlantUML 下載區域</a> 然後發現一堆選項</p>
</li>
</ul>
<p><img src="https://nijialin.com/images/2021/win-uml/2.PNG"></p>
<ul>
<li>選擇 <a href="http://sourceforge.net/projects/plantuml/files/plantuml.war/download">Java J2EE WAR File</a></li>
<li>下載完後可以存到自己喜歡的位置<ul>
<li>Edge 用戶預設路徑: C:\Users\用戶名稱\AppData\Local\Temp\MicrosoftEdgeDownloads</li>
</ul>
</li>
<li><a href="https://java.com/en/download/">下載 Java 8</a>，網站會自動判別作業系統</li>
</ul>
<p><img src="https://nijialin.com/images/2021/win-uml/3.PNG"></p>
<ul>
<li>下載完後直接安裝</li>
</ul>
<p><img src="https://nijialin.com/images/2021/win-uml/4.PNG"></p>
<ul>
<li>接著透過 PowerShell 到剛剛下載 <a href="http://sourceforge.net/projects/plantuml/files/plantuml.war/download">Java J2EE WAR File</a> 的檔案位置中輸入以下指令</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">javaw</span><span class="selector-class">.exe</span> .\<span class="selector-tag">plantuml</span><span class="selector-class">.war</span></span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/win-uml/5.PNG"></p>
<blockquote>
<p>備註: Windows 任何一個資料夾右鍵都會看到 <code>使用 Windows 終端機開啟</code> 的選項，若沒有請先安裝 PowerShell</p>
</blockquote>
<ul>
<li>最後 VSCode 重開在預覽一次就會成功囉!</li>
</ul>
<p><img src="https://nijialin.com/images/2021/win-uml/6.PNG"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>最後終於出現啦(灑花)，有些在 VSCode 上操作的相關內容有跳過，大家可以參考以下的文章(Mac 用戶也如下)。</p>
<ul>
<li><a href="https://nijialin.com/2020/06/03/create-plant-uml-in-hexo/">在 Hexo 樣式的部落格引入 PlantUML</a></li>
<li><a href="https://plantuml.com/zh/download">PlantUML download page</a></li>
<li><a href="https://www.evanlin.com/til-vscode-plantuml/">[TIL] 在 vscode 上面安裝並且使用 PlantUML</a></li>
</ul>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>PlantUML</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>如何部署 Parse Server 與 Dashboard 於 Heroku 上使用</title>
    <url>/2022/08/02/parse-server-heroku-note/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/parse-server/header.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>平常在寫 PoC 時，是否會像筆者一樣很困擾，每個東西都需要一個 DB，都要重新 create table、塞資料，像是每次寫 LINE Bot，一定都會綁用戶資訊(userId, name, email…)，如果範例專案共用的資料能放在一起，是不是就能更快上線呢？透過部署 Parse Server，讓許多的 CRUD 工作都可以省下來，避免許多東西重工的時間。因此這次就來介紹一下 Parse Server 這個開源莊案究竟有多好用吧！</p>
<blockquote>
<p>以下都是建立在 Heroku 上，若需要搭建在自家，請參考使用 Dockerfile。</p>
</blockquote>
<ul>
<li>Parse Server Dashboard 部署範例：<a href="https://github.com/louis70109/parse-dashboard-example">連結</a><ul>
<li>Fork 來自名間版本，目前由我會手動來改 package.json 裡面的版本。</li>
</ul>
</li>
<li><a href="https://parseplatform.org/">官網</a></li>
<li>Parse Server 專案：<a href="https://github.com/parse-community/parse-server">連結</a></li>
</ul>
<span id="more"></span>

<h1 id="Parse-Server-部署"><a href="#Parse-Server-部署" class="headerlink" title="Parse Server 部署"></a>Parse Server 部署</h1><p>參考 Parse Server 部署範例： <a href="https://github.com/louis70109/parse-server-example">連結</a></p>
<p>GitHub 下方有個 Heroku 部署的按鈕，按下去後會導向<code>部署畫面</code>，如下：</p>
<p><img src="https://nijialin.com/images/2022/parse-server/2.png"></p>
<blockquote>
<p>這 fork 的版本是由官方維護的，因此使用上不太需要擔心。</p>
</blockquote>
<h2 id="Parse-Server-環境變數"><a href="#Parse-Server-環境變數" class="headerlink" title="Parse Server 環境變數"></a>Parse Server 環境變數</h2><p><img src="https://nijialin.com/images/2022/parse-server/1.png"></p>
<p>在讀 parse-server 文件以及 Getting Start 可能會很疑惑現在到底要用什麼樣的環境變數，需要 prefix？那要加什麼？其實會看不太懂，以下透過 parse-server-example 做範例<br>以 parse-server-example 裡面的範例來說</p>
<ul>
<li>PARSE_MOUNT<ul>
<li>預設： &#x2F;parse，可自行調整</li>
</ul>
</li>
<li>APP_ID<ul>
<li>整個服務的名稱，官網範例都會用：myAppId</li>
</ul>
</li>
<li>MASTER_KEY<ul>
<li>“myMasterKey”</li>
</ul>
</li>
<li>DATABASE_URL<ul>
<li>設定 PostgreSQL || MongoDB 的網址，這邊網址設定請參考下個章節</li>
</ul>
</li>
<li>SERVER_URL”:<ul>
<li>放上 Domain+PARSE_MOUNT 的數值<ul>
<li><a href="http://yourappname.herokuapp.com/parse">http://yourappname.herokuapp.com/parse</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="資料庫設定-PostgreSQL"><a href="#資料庫設定-PostgreSQL" class="headerlink" title="資料庫設定 - PostgreSQL"></a>資料庫設定 - <a href="http://docs.parseplatform.org/parse-server/guide/#postgres">PostgreSQL</a></h2><p>官方文件會主推 MongoDB 來做，但因為 Heroku 現在已經不支援 mLab 的 MongoDB，因此在這環境下就得使用 PostgreSQL，但這邊有些需要注意的東西</p>
<ul>
<li>Heroku PostgreSQL -&gt; Hobby Dev<ul>
<li>會幫忙建立一個 <code>DATABASE_URL</code>，要另外建立環境變數 <code>DATABASE_URI</code> 給 parse server 使用</li>
</ul>
</li>
</ul>
<p>但原本的網址只換乘 DATABASE_URI 會無法使用，需要參考 parse server 官方文件下的 PostgreSQL 說明</p>
<blockquote>
<ol>
<li>SSL with verification - postgres:&#x2F;&#x2F;localhost:5432&#x2F;db?ca&#x3D;&#x2F;path&#x2F;to&#x2F;file</li>
<li>SSL with no verification - postgres:&#x2F;&#x2F;localhost:5432&#x2F;db?ssl&#x3D;true&amp;rejectUnauthorized&#x3D;false</li>
</ol>
</blockquote>
<p>如果你的 DB 是需要簽證(CA)以確保安全，就使用第一行；而這次因為求快速部署，因此選擇第二行先不執行認證(但有 SSL)。</p>
<h2 id="健康檢查路徑"><a href="#健康檢查路徑" class="headerlink" title="健康檢查路徑"></a>健康檢查路徑</h2><p>設定完所有東西之後，會不知道東西究竟有沒有正常啟動，可以參考以下的路徑打 API 測試看看，成功之後才繼續往下個章節移動 ✨</p>
<ul>
<li>API 路徑組成：<code>Domain</code>+<code>PARSE_MOUNT</code>+<code>/health</code></li>
</ul>
<p>使用以下指令測試看看是否有出錯：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl https:<span class="regexp">//</span>DOMAIN.herokuapp.com<span class="regexp">/parse/</span>health</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;status&quot;</span>: <span class="string">&quot;ok&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Parse-Server-Dashboard"><a href="#Parse-Server-Dashboard" class="headerlink" title="Parse Server Dashboard"></a>Parse Server Dashboard</h1><p>上述的健康檢查完之後，接下來可以開始部署 Dashboard，讓接下來對後端的操作可以更方便些。</p>
<blockquote>
<p>範例專案：<a href="https://github.com/louis70109/parse-dashboard-example">https://github.com/louis70109/parse-dashboard-example</a></p>
</blockquote>
<h2 id="如何部署"><a href="#如何部署" class="headerlink" title="如何部署"></a>如何部署</h2><p>這邊透過 Heroku 來協助部屬測試環境，如果有需要部署到其他地方可以參考 Dockerfile。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/louis70109/</span>parse-dashboard-example.git</span><br><span class="line">cd parse-dashboard-example</span><br><span class="line">heroku create</span><br><span class="line">git push heroku master</span><br></pre></td></tr></table></figure>

<p>部署好之後需要進去環境變數設定：</p>
<p><img src="https://nijialin.com/images/2022/parse-server/heroku-env.png"></p>
<p>主要對接 Parse Server 的六個參數需放入環境變數，做些最基本的權限控管(<a href="https://github.com/louis70109/parse-dashboard-example/blob/master/app.json">參考 app.json</a>):</p>
<ul>
<li>APP_ID<ul>
<li>對應剛剛 parse-server 設定的 ID，訪問 API 會使用。</li>
</ul>
</li>
<li>MASTER_KEY<ul>
<li>要訪問的 parse-server 金鑰，對資料庫操作時要使用。</li>
</ul>
</li>
<li>SERVER_URL<ul>
<li>parse-server 的網址 <a href="http://yourappname.herokuapp.com/parse">http://yourappname.herokuapp.com/parse</a></li>
</ul>
</li>
<li>APP_NAME<ul>
<li>UI 上顯示的名稱。</li>
</ul>
</li>
<li>USERNAME<ul>
<li>登入 Dashboard 的帳號</li>
</ul>
</li>
<li>PASSWORD<ul>
<li>登入 Dashboard 的密碼</li>
</ul>
</li>
</ul>
<h2 id="登入"><a href="#登入" class="headerlink" title="登入"></a>登入</h2><p><img src="https://nijialin.com/images/2022/parse-server/pd1.png"></p>
<p>輸入剛剛環境變數上的 <code>USERNAME</code> 以及 <code>PASSWORD</code>。</p>
<h2 id="欄位操作"><a href="#欄位操作" class="headerlink" title="欄位操作"></a>欄位操作</h2><p><img src="https://nijialin.com/images/2022/parse-server/pd2.png"></p>
<p>在 parse-server 裡面一個表(table)稱為 class，這邊先透過[1]去點選建立，接著在[2]的地方輸入這張表的名稱，按下建立後就可以開始操作表了。</p>
<p><img src="https://nijialin.com/images/2022/parse-server/pd3.png"></p>
<p>建立完之後也可以在這邊新增欄位，如果要新增資料，也可以在裡面找到地方去新增一藍，裡面俗稱 Object。</p>
<h2 id="測試資料"><a href="#測試資料" class="headerlink" title="測試資料"></a>測試資料</h2><p>Dashboard 方便點在於除了可以像 Firebase 一樣在網頁上放資料，另外還能有個介面直接測試 API，只要把該有的條件放好按下 <code>Send Query</code>，就能看測試資料如何囉！</p>
<p><img src="https://nijialin.com/images/2022/parse-server/pd4-test.png"></p>
<hr>
<p>如果你是 command line 愛好者，也可以參考 <a href="https://github.com/parse-community/parse-server#saving-an-object">parse-server 的範例</a>去找：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl -X GET \</span><br><span class="line">  -H <span class="string">&quot;X-Parse-Application-Id: APPLICATION_ID&quot;</span> \</span><br><span class="line">  http://localhost:1337/parse/classes/Items</span><br></pre></td></tr></table></figure>

<blockquote>
<p>objectId, createdAt, updatedAt, ACL 皆是 parse-server 預設管理欄位，看到他們別覺得驚訝，把你需要的欄位新增放在後面即可喔！</p>
</blockquote>
<h2 id="測試資料想刪除怎麼辦"><a href="#測試資料想刪除怎麼辦" class="headerlink" title="測試資料想刪除怎麼辦"></a>測試資料想刪除怎麼辦</h2><p>在 Dashboard 的右上角有個 <code>Edit</code>，點下去之後可以需要先刪掉所有資料(Row)，才可以刪 Class，此舉動是保護機制，避免管理者手誤亂刪到表，導致悲劇產生…XD (真貼心)</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這次部署完終於有久違的成就感了～～(感動)，官方也貼心的提供了許多前端 SDK 讓開發者們可以用，接下來就能開始建立服務來把資料集中儲存，後面 Parse Server 也有許多其他的功能(Webhook, GraphQL…)，後續玩完之後再來與大家分享！</p>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>Parse Server</tag>
        <tag>Dashboard</tag>
      </tags>
  </entry>
  <entry>
    <title>【Podcast】Grafana with Torkel Ödegaard</title>
    <url>/2020/07/08/podcast-grafana-sharing/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/kase2RE.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Grafana 是一個<code>視覺化</code>、<code>即時監控</code>以及 plug-in system 的工具，之前使用時也含有許多<code>儀表板(dashboard)</code>以及<code>圖表</code>來呈現 Server 狀態，且他們還很酷地將它 open source - <a href="https://github.com/grafana/grafana">Grafana</a>，使用 React JS 打造的可容下大量資料的畫面，Grafana 除了支援多平台外也支援 Docker，接下來就來看一下我聽這集的心得吧！</p>
<ul>
<li><a href="https://overcast.fm/+E6UCVIbFo">Podcast 連結</a></li>
<li><a href="https://softwareengineeringdaily.com/wp-content/uploads/2020/06/SED1088-Grafana.pdf">逐字稿</a><span id="more"></span></li>
</ul>
<h1 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h1><p>這集邀請到的是 Grafana Lab 的 Torkel Ödegaard 來談談關於 open source 以及創立公司種種的心路歷程，從中就簡單整理幾個在聽的過程中我較感興趣的問題 🙂</p>
<h2 id="1-When-you-first-created-Grafana-what-was-the-state-of-the-art-for-monitoring-and-visualization-products"><a href="#1-When-you-first-created-Grafana-what-was-the-state-of-the-art-for-monitoring-and-visualization-products" class="headerlink" title="1. When you first created Grafana, what was the state of the art for monitoring and visualization products?"></a>1. When you first created Grafana, what was the state of the art for monitoring and visualization products?</h2><p>簡單的介紹 Graphite 這個 <a href="https://zh.wikipedia.org/wiki/RRDtool">RRDtool</a> 以及 <a href="https://github.com/statsd/statsd">statsd</a> 有相當年紀的工具後，覺得 Graphite 有點難使用卻也需要 statsd 的功能，因此踏上蓋 Grafana 的路，也希望出現在 TV 牆上 😆</p>
<blockquote>
<p>心得: 大多的 open source、套件、工具基本上都是當前環境下的工具無法滿足自己因此打造一個工具，且剛好又與市場上的需求差不多，不僅星星數大增，也因此創造機會讓自己的專案可以成為一家公司，實在是大家的標竿啊。</p>
</blockquote>
<p><img src="https://i.imgur.com/yBLiLrn.png"></p>
<h3 id="Graphite-問題"><a href="#Graphite-問題" class="headerlink" title="Graphite 問題"></a>Graphite 問題</h3><p>來賓提到它的畫面是使用 render PNGs，在現在的前端中絕對不是一個好的方案，我認為因為 Grafana 是使用 React，因此在解決 render 問題上應該是駕輕就熟(使用 hook API - <a href="https://medium.com/@z3388638/react-hooks-%E6%96%B0%E6%89%8B%E7%AD%86%E8%A8%98-8c9f1cccd142">參考</a>)。</p>
<blockquote>
<p>三大框架都會有 hook API 的這種機制喔！</p>
</blockquote>
<p>像是 <a href="https://www.influxdata.com/">InfluxDB</a> 以及 Prometheus 這類的<code>時序型資料庫</code>都有改進 Graphite 上擁有的問題。</p>
<p>因此再者些問題下，Grafana 想要做出一個可以收來自各地的 metrics 以及 alert，除了基本的可視化之外，想要做出與這些資料庫更不一樣的地方。</p>
<h2 id="2-Streaming-問題"><a href="#2-Streaming-問題" class="headerlink" title="2. Streaming 問題"></a>2. Streaming 問題</h2><p>像是在 Grafana 這類工具來說，每一個圖表中基本上都是單次送 Query 去打 Server，因此在 Streaming 上如何做快取、資料來源…各種議題，但如何處理這種巨量資料目前還沒有想到一個最佳方案去解決。</p>
<blockquote>
<p>心得: 在看各種專案時，不免俗的會有各種 issue 跳出來希望可以做什麼，只是縱觀專案發展與可用性之類的事情都需要考慮進去，因此諸如 cache 這類的問題其實也是要更全面的考量下才能做出一個更好的解決方案。</p>
</blockquote>
<h2 id="3-Use-language"><a href="#3-Use-language" class="headerlink" title="3. Use language"></a>3. Use language</h2><p>在六年前開始他們是使用 Angular 2 來開發，隨著時間推移出現了 React 也將專案移到 React 上(可能 Angular 一直改版?)，也因為有前面提到的 <code>Hook API</code> 上</p>
<p>探討了許多與前端相關的議題，包括 <code>Hook API</code>、<code>UI components</code>、<code>data log search</code>、過往資料操作時都需要寫許多 callback 來處理，在這邊其實聽得出來現代框架為開發者們帶來的極大便利性，並且 Grafana 也是全 TypeScript，有效的定義<code>型別</code>與<code>Interface</code>，讓團隊成員可以更快速地了解程式邏輯。</p>
<blockquote>
<p>我的經驗就是從使用 jQuery 操作 DOM 到使用 Vue Hook components，現代三大框架不僅讓寫法上可以更簡潔，也降低效能的問題。</p>
</blockquote>
<h2 id="4-與其他工具不一樣"><a href="#4-與其他工具不一樣" class="headerlink" title="4. 與其他工具不一樣"></a>4. 與其他工具不一樣</h2><p>這邊提到 Grafana 不會儲存任何的 data，只會存一些事件(警報之類的)，且可以在圖表上下註解，因為它只是使用 Hook 的機制做很純粹的事情，不會有資料盜竊上的疑慮。</p>
<h2 id="5-安裝問題"><a href="#5-安裝問題" class="headerlink" title="5. 安裝問題"></a>5. 安裝問題</h2><p>Grafana 安裝時最小可以使用到 100~200 mb 的 RAM 並且搭配 SQLite，也因為他們是 Open Source Software(OSS)，因此也可自由的使用 Docker 來架設，當然若使用者太多時還是需要有效規劃來容納流量。</p>
<h2 id="6-Apache-Arrow"><a href="#6-Apache-Arrow" class="headerlink" title="6. Apache Arrow"></a>6. Apache Arrow</h2><p>顧名思義就是 Apache 的一個項目，它是使用二進制檔案結構去處理一些進行中非序列化的任務，降低序列化所產生的消耗，主要提供跨平台應用來加快大數據分析項目的運行速度。</p>
<blockquote>
<p>心得: 雖然沒做過大數據，但看起來像是在解決平行化處理時的一些內部資源問題，有機會來好好研究一下。</p>
</blockquote>
<p>想深入了解的話參考:</p>
<ul>
<li><a href="https://arrow.apache.org/">官網</a></li>
<li><a href="https://kknews.cc/zh-tw/tech/225x3kr.html">參考 1</a></li>
<li><a href="https://www.infoq.cn/article/apache-arrow">參考 2</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>每次聽這些節目都讓我認識到許多新的東西，且主持人也道出開發者們普遍會想知道的問題，經營開源專案要顧慮到的部分也與一般公司不一樣， 讓我收穫滿滿，同時藉由 onboard 前的時間培養英聽的能力也看逐字稿學習對科技英文的敏銳度。</p>
]]></content>
      <categories>
        <category>Cloud Native</category>
      </categories>
      <tags>
        <tag>Grafana</tag>
        <tag>Internal tool</tag>
      </tags>
  </entry>
  <entry>
    <title>【Podcast】Kubernetes vs Serverless with Matt Ward - Software Engineering Daily</title>
    <url>/2020/07/05/podcast-kuernetes-vs-serverless/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2020/06/28/22/09/falcon-5350832_1280.jpg"></p>
<blockquote>
<p>📸 by WFranz</p>
</blockquote>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Kubernetes 在分散式系統中已經成為一個高可用性平台，並且有許多人都會將程式部署在上面，雖然部署在 Kubernetes 上很好，但本身的管理以及學習都不那麼簡單，因此也有許多人會使用 Serverless 來解決需求。</p>
<p>而今天介紹這個集節目就邀請到 Mux 的 Matt Ward，他們家的產品主要是在做 video streaming APIs，現今他們有自己的 Kubernetes 也曾經在 Serverless 中使用過，以下就分享我從這集 podcast 學到的東西以及心得囉！</p>
<ul>
<li><a href="https://overcast.fm/+E6UBUIDF0">Podcast 連結</a></li>
<li><a href="https://softwareengineeringdaily.com/wp-content/uploads/2020/05/SED1079-Kube-vs-Serverless.pdf">Transcript 連結</a></li>
</ul>
<span id="more"></span>

<h1 id="Serverless"><a href="#Serverless" class="headerlink" title="Serverless"></a>Serverless</h1><p>來賓一開始提到，再做任何事情前都需要容量規劃(capacity planning)以及整體的計算資源(compute resources)，而像是 AWS Lambda 這類的平台讓開發者不需要擔心 CPU、RAM 以及提供 Auto Scaling 的功能，讓產品在前期可以更專注在開發上。</p>
<p>由於 AWS Lambda 也是都基於 EC2 去實作的一個功能(工具)，因此像是 GRPC、socket 之類的功能也都可以使用。</p>
<blockquote>
<p>當然用 Serverless 還是輕鬆許多，平台幫你處理好許多事 😆</p>
</blockquote>
<h2 id="好處"><a href="#好處" class="headerlink" title="好處"></a>好處</h2><p>Serverless 適合的情境在於當今天產品 Business Model 還不成熟，且很多功能的情境都還不確定下很適合，以 AWS 為例，若今天需要開發 API 就使用 API Gateway、需要 Queue 幫忙緩衝就用 SQS、需要關連式資料庫 RDS，像是拼圖一樣讓大家可以去拼出自己的產品服務，並且不用擔心<code>計算資源</code>以及<code>水平擴展</code>(Auto Scaling)的問題，一切都交給雲端提供商去處理即可。</p>
<h2 id="Cold-Start-問題"><a href="#Cold-Start-問題" class="headerlink" title="Cold Start 問題"></a>Cold Start 問題</h2><p>這部分以前我有寫過一篇文章 - <a href="https://nijialin.com/2020/02/16/serverless-cold-start/">Serverless cold start 問題</a>，簡單來說每個 Lambda Function 都是一個 Container，當過了一段時間後平台會將這 Container 關掉，而當 Function 被觸發後平台會重新啟動 Container，這期間的時間就屬於 Cold Start。</p>
<p>當然這邊可使用 Warm-up 相關工具，只是因為 FaaS 這類的服務都是以流量計價，如此一來就會增加無形中的費用。</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>不過當產品成長到一定程度時就會開始擔心費用、綁架…相關的問題，因此就會考慮到自架 Kubernetes 也可以達到類似的功能，因為 Serverless 有的功能基本上也能透過 Kubernetes API 去做相關的處理(Auto Scaling)。</p>
<h2 id="平台綁定"><a href="#平台綁定" class="headerlink" title="平台綁定"></a>平台綁定</h2><p>這集較多再分享兩邊的使用經驗，這邊順便分享我自己的觀點，若當前產品都是建置在 AWS 上，而市場都在<code>歐洲</code>、<code>美洲</code>之類的地方，在傳輸速度上就很快沒問題，但若市場在<code>台灣</code>，但因為 AWS 離台灣最近的節點只有在<code>日本</code>，在傳輸上還是跨了一座海，反應速度還是會有一定的影響，此時要搬到 GCP 上又會有成本，因此在使用平台時還是要關注一下類似市場這樣的問題喔！</p>
<h1 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h1><p>在我的印象中它就是可以將 Container 平行擴展的一個工具，不管 Container 裡是裝什麼都可以幫忙 Cluster，若是需要 Load Balance 官方也都有文件可以參考(<a href="https://kubernetes.io/docs/concepts/services-networking/ingress/">Ingress</a>)，如此一來才能讓彈性以及靈活性變高，且不會有 Cold Start 問題並能 real-time feedback。</p>
<p><a href="https://kubernetes.io/docs/concepts/overview/kubernetes-api/">Kubernetes API documents</a></p>
<p>而 Kubernetes 情況則有點相反，業務與市場都確定，且產品已經有大量流量在進出下很適合，使用 Cluster 的方式分散吞吐量，服務要架設都可以自己來，使用彈性高也不會被服務提供商綁架，每個服務都是一個 Container，當平台功能不敷使用時只要在另一個平台上將 Container 起起來即可。</p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p>如果現在需要一個擁有<code>三個節點</code>的 Redis Cluster 時，開發者不需要知道太多<code>主從式</code>裡的細節，只要交給 Kubernetes operators 會幫忙部署並且給出適當的 object 讓你能去客製化資源。</p>
<blockquote>
<p>we don’t have to think about every environment variable, every volume, or every kind of networking interface …</p>
</blockquote>
<p>我覺得上述這段話就是對於 Kubernetes 的讚嘆吧(?)，並且指出當今天只要跟 Kubernetes 說出你想要什麼服務，在內部的 operator 就會自動計算出適當的資源。</p>
<h1 id="部署在多個平台重要性-AWS-amp-GCP"><a href="#部署在多個平台重要性-AWS-amp-GCP" class="headerlink" title="部署在多個平台重要性 (AWS &amp; GCP)"></a>部署在多個平台重要性 (AWS &amp; GCP)</h1><p>來賓的產品主要是在 AWS 以及 GCP 上，因此他這邊也說推薦大家可以部署在 EKS、GKE 上面，除了服務支援度以外(region 之類)，就是避免因為平台問題(倒站)讓自家服務所停擺，因此部署到兩個平台以上可以較有效的避免服務停擺的問題，雖然可能會有費用上的疑慮，但這就跟買保險的概念一樣，買來保障遇到問題時的一個解決方案 😁。</p>
<blockquote>
<p>這部分可以參考 17 的文章 - <a href="https://medium.com/17media-tech/%E5%BE%9E-gcp-%E6%95%85%E9%9A%9C%E7%9C%8B-17-media-%E5%B7%A5%E7%A8%8B%E5%9C%98%E9%9A%8A%E7%9A%84%E7%81%BD%E9%9B%A3%E6%87%89%E8%AE%8A-51aa5701ba77">從 GCP 故障看 17 Media 工程團隊的災難應變</a></p>
</blockquote>
<h1 id="Knative"><a href="#Knative" class="headerlink" title="Knative"></a>Knative</h1><p>它是一個允許部署 Serverless 風格的應用程式在 Kubernetes 上，聽到這邊我想會有這個工具或許也是讓習慣開發 Serverless 的開發者可以叫無痛的轉到 Knative 上，而之後再逐步地轉到 GKE 上面吧 🤔</p>
<h1 id="監測工具-Metric"><a href="#監測工具-Metric" class="headerlink" title="監測工具(Metric)"></a>監測工具(Metric)</h1><p>不管使用什麼服務一定都需要監控狀態，在這集中我有聽到以下三個工具:</p>
<ul>
<li><a href="https://grafana.com/">Grafana</a>: 監控儀表板的功能，自由度很高可以透過套件來建立交互式的數據觀測平台。</li>
<li><a href="https://prometheus.io/">Prometheus</a>: 看起來儀表板性質與 Grafana 差不多，大家可以依照自己喜愛去試試看喔！</li>
<li><a href="https://www.elastic.co/kibana">Kibana</a>: Elasticsearch 的開源數據可視化儀表板。</li>
</ul>
<h1 id="透過-CDN-的方式讓產品可以交付到每個地方"><a href="#透過-CDN-的方式讓產品可以交付到每個地方" class="headerlink" title="透過 CDN 的方式讓產品可以交付到每個地方"></a>透過 <a href="https://zh.wikipedia.org/zh-tw/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF">CDN</a> 的方式讓產品可以交付到每個地方</h1><p>主持人與來賓聊到跟 Youtube 差異時有提到 CDN 的部分，簡單來說就是 <a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%9C%8D%E5%8A%A1%E4%BE%9B%E5%BA%94%E5%95%86">網際網路服務供應商</a>(ISP)會先告知它擁有的節點(node)，在 Client 端來請求支援時這些節點會去 cache Server 資料，當下次再重複請求時就可以從節點上直接取資料，加快請求速度也讓體驗更好。</p>
<blockquote>
<p>若有寫前端的朋友就會對在 Head 裡引入的 jQuery 或 Bootstrap 之類的&lt;script&gt; 的標籤應該不陌生</p>
</blockquote>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>來賓公司的服務有一部份將 kubernetes 建構在 kops，以下是 kops 的連結：</p>
<ul>
<li><a href="https://github.com/kubernetes/kops">kops Github</a></li>
<li><a href="https://kops.sigs.k8s.io/">kops 官網</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>這集 Podcast 講解 Serverless 的部分許多都跟我開發以來使用的體驗與經驗差不多，而雖然 Kubernetes 我只有聽過並未有實際使用經驗，但靠著來賓分享的經驗也讓我對於 Kubernetes 使用的情境與狀態能夠更加的瞭解。</p>
<p>然而開發上的議題總是需要顧慮到<code>時間</code>與<code>環境</code>，並不會有特定的工具就一定能吃下所有市場，因此在選擇工具時一定要考慮到產品所處的狀態才能讓工具發揮到最大的效果喔！</p>
]]></content>
      <categories>
        <category>Cloud Native</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>Kubernetes</tag>
        <tag>Podcast</tag>
      </tags>
  </entry>
  <entry>
    <title>【朱紫】腹鼓遺傳教學 | 適用 瑪力露麗, 冰砌鵝</title>
    <url>/2022/12/17/pokemon-scarlet-violet-inherit/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>寶可夢朱紫全破完之後，接下來除了湊滿各種圖鑑，另一個方向就是打太晶團體戰嚕！去巴哈或任何地方一定會先搜尋到夢特(個性:妖精皮膚) 的 仙子伊布，畢竟他是現在最穩定的神奇寶貝，只要搭配假哭冥想跟叫聲基本上都通關。</p>
<p>但剛開始打哪有可能這麼快就找到完美組合，因此這篇文章就提供初期可以很快達到的方法-<mark>腹鼓瑪力露麗</mark> 或 <mark>腹鼓冰砌鵝</mark>，我們也先不管努力值什麼，二周目打完哪有人在管的呢XD，以下介紹最快的方式給大家！</p>
<span id="more"></span>

<h1 id="腹鼓技能取得方法"><a href="#腹鼓技能取得方法" class="headerlink" title="腹鼓技能取得方法"></a>腹鼓技能取得方法</h1><p><img src="https://nijialin.com/images/pokemon/inherit/1.jpg"></p>
<p>首先先找隻<code>鐵掌力士</code>練到28等學會<code>腹鼓</code>，這基本上在前期一定愈得到，真的沒辦法就去找隻小隻的練上來，或是吃經驗糖果也行。</p>
<p><img src="https://nijialin.com/images/pokemon/inherit/5.jpg"></p>
<p>接著學會<code>腹鼓</code>之後把其他技能都忘光光(以防萬一)，然後隨便找個城鎮中的<code>吉利蛋蛋</code>，進去之後購買 <code>模仿香草</code>，想一次繼承幾隻就買幾個。</p>
<p><img src="https://nijialin.com/images/pokemon/inherit/2.jpg"></p>
<p>然後準備想要繼承的神奇寶貝，如果想要的技能不知道誰可以繼承，在 Google 上搜尋 -「<a href="https://www.google.com/search?q=%E7%A5%9E%E5%A5%87%E5%AF%B6%E8%B2%9D+%E8%85%B9%E9%BC%93+%E9%81%BA%E5%82%B3&sxsrf=ALiCzsaMx0lAZY7T9zj52eqinPJV4OrtFQ:1671259548425&ei=nGWdY47KGYWEr7wPm8632AU&ved=0ahUKEwiOiNj9hoD8AhUFwosBHRvnDVsQ4dUDCA8&uact=5&oq=%E7%A5%9E%E5%A5%87%E5%AF%B6%E8%B2%9D+%E8%85%B9%E9%BC%93+%E9%81%BA%E5%82%B3&gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAzIFCCEQoAEyBQghEKABOgoIABBHENYEELADOgUIABCiBDoKCAAQ8QQQHhCiBDoFCAAQgAQ6BwgAEIAEEAo6BAgjECc6CAgAELEDEIMBOggILhCxAxCDAToECAAQAzoHCAAQHhDxBEoECEEYAEoECEYYAFCHQ1jDbGD_bmgFcAF4AIABW4gBsgiSAQIxNpgBAKABAcgBCsABAQ&sclient=gws-wiz-serp">神奇寶貝 腹鼓 遺傳</a>」，把中間的文字換掉即可，應該會找到很多神人的資料，或是找 <a href="https://wiki.52poke.com/zh-hant/%E4%B8%BB%E9%A1%B5">52poke</a>尋找以前的資料。</p>
<p>這邊我就準備一隻<a href="https://tw.portal-pokemon.com/play/pokedex/875">冰砌鵝</a>(瑪力露麗也可)來遺傳技能，然後<mark>忘掉一格的技能</mark>，留給遺傳技能使用。</p>
<p><img src="https://nijialin.com/images/pokemon/inherit/3.jpg"></p>
<p>接著把牠們放上野餐，然後就可以收了，完全不用管時間。</p>
<p><img src="https://nijialin.com/images/pokemon/inherit/4.jpg"></p>
<p>接著打開背包看一下技能，就發現企鵝學會腹鼓啦！ (灑花)</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以前都是一定要公母配對，公的要有指定技能(鐵掌力士)，母的企鵝負責生蛋，這樣生出來的蛋才會有技能，但朱紫這次可以透過野餐來學會新技能，看來是跟朋友”交流交流”後就學會技能了呢！而且可以公公、母母配對，只要學習的一方有帶著<mark>模仿香草</mark>即可學會對方的技能(但要記得留位置)，如果還有不清楚的，也可以參考<a href="https://forum.gamer.com.tw/C.php?bsn=1647&snA=119417">巴哈的大大所寫的文章</a>，當中也寫得非常詳細喔！如果有什麼喜歡的內容歡迎留言讓我知道！</p>
]]></content>
      <categories>
        <category>遊戲</category>
      </categories>
      <tags>
        <tag>Pokemon</tag>
      </tags>
  </entry>
  <entry>
    <title>坐而言不如起而行，用 puppeteer 來幫忙搶 popcat 金牌</title>
    <url>/2021/08/12/popcat-js-auto-click/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/popcat/2021-08-12-16-27-10.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>這幾天很流行一個點擊迷因貓的網站 - <a href="https://popcat.click/">popcat</a>，用戶可以透過點擊的方式來讓自己國家加分數，而昨天台灣本來還在第五名的位置，在寫文章的同時已經在第二名了(此時下方的名次好像卡住)。</p>
<p>近期也剛好在研究 headless browser 的內容，可以模擬用戶點選瀏覽器畫面，常見是使用在模擬測試等等，但既然現在是要搶金牌，那當然是直接拿來幫忙搶金牌啦！</p>
<ul>
<li>popcat Twitter: <a href="https://twitter.com/PopCatClick">https://twitter.com/PopCatClick</a></li>
<li>GitHub: <a href="https://github.com/louis70109/popcat-automation">https://github.com/louis70109/popcat-automation</a></li>
</ul>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><img src="https://nijialin.com/images/2021/popcat/2021-08-12-16-28-29.png"></p>
<p>而且當名次上升時，popcat twitter 會幫忙推送名次上去，大家為此就瘋狂在搶名次啦！</p>
<p>且看到還有相關的分享：</p>
<ul>
<li>用遙控器點擊 popcat： <a href="https://twitter.com/akina_mochi_/status/1425052609308553221?s=20">https://twitter.com/akina_mochi_/status/1425052609308553221?s=20</a></li>
</ul>
<p><img src="https://nijialin.com/images/2021/popcat/2021-08-12-16-06-44.png"></p>
<ul>
<li>多手指同步點擊 popcat： <a href="https://twitter.com/akina_mochi_/status/1425052609308553221?s=20">https://twitter.com/akina_mochi_/status/1425052609308553221?s=20</a></li>
</ul>
<p><img src="https://nijialin.com/images/2021/popcat/2021-08-12-16-07-23.png"></p>
<p>當然還有看到許多不同的 Client 用法，那本次就透過模擬瀏覽器點擊的方式來實作啦！</p>
<h1 id="Headless-Browser-實作"><a href="#Headless-Browser-實作" class="headerlink" title="Headless Browser 實作"></a>Headless Browser 實作</h1><p>使用 Google 開發的 Headless Chrome Node.js API - <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> 來模擬用戶透過瀏覽器點擊來 popcat</p>
<ol>
<li>安裝套件</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> puppeteer</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>建立 index.js，引入 puppeteer 進 Node.js 後，用 IIFE 的方式匿名執行程式<br>a. launch: 初始化瀏覽器核心，<code>headless: false</code> 來開啟瀏覽器畫面<br>b. newPage(): 開新頁面<br>c. goto(): 前進 <strong>popcat</strong> !!!<br>d. setTimeout: 等待瀏覽器渲染完，避免還沒渲染就開始執行動作<br>e. 無窮迴圈開始點畫面！點選 div 標籤的 class&#x3D;”cat-img” 位置</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> puppeteer = <span class="built_in">require</span>(<span class="string">&#x27;puppeteer&#x27;</span>);</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> browser = <span class="keyword">await</span> puppeteer.launch(&#123;</span><br><span class="line">    headless: <span class="literal">false</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> page = <span class="keyword">await</span> browser.newPage();</span><br><span class="line">  <span class="keyword">await</span> page.goto(<span class="string">&#x27;https://popcat.click/&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">r</span>) =&gt;</span> <span class="built_in">setTimeout</span>(r, <span class="number">1000</span>));</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) <span class="keyword">await</span> page.click(<span class="string">&#x27;div.cat-img&#x27;</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>Demo:</p>
<blockquote>
<p>因為轉成 gif 幀數降低</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/popcat/demo.gif"></p>
<p>程式碼參考 GitHub: <a href="https://github.com/louis70109/popcat-automation">https://github.com/louis70109/popcat-automation</a></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>研究東西最開心的就是直接把它用上，這次 popcat 對我而言就是一個非常有成就的例子：），雖然不確定 popcat 後端 API 是否有限制，不過只要能夠搶分數就是要趕快上！</p>
<p>有任何建議或需要討論的部分歡迎留言讓我知道喔：Ｄ</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Headless</tag>
      </tags>
  </entry>
  <entry>
    <title>解決 SQLAlchemy 無法在 Heroku 上連接 PostgreSQL</title>
    <url>/2021/03/28/postgresql-sqlalchemy-prefix-debug/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/heroku.png"></p>
<h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><p>Heroku Postgresql 引入時預設 DATABASE_URL 的開頭是 <code>postgres</code>，因 Python ORM - SQLAlchemy 有先天限制問題，需另起一個環境變數並改成 <code>postgresql</code> 才不會遇到：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">sqlalchemy.exc.NoSuchModuleError: Can&#x27;t <span class="keyword">load</span> <span class="keyword">plugin</span>: sqlalchemy.dialects:postgres</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="抓蟲過程"><a href="#抓蟲過程" class="headerlink" title="抓蟲過程"></a>抓蟲過程</h1><p>以 Python 以及我的 Side Project - <a href="https://github.com/louis70109/PLeagueBot">PLeagueBot</a>為例，專案初期因對 ORM 相關設定不熟(懶)，因此在寫 DB 時因習慣選擇使用 <code>psycopg2-binary</code> 讓我直接寫 raw query 來操作 DB，在許多情境下連結 postgresql 參數時網址範例如下：</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">postgres:</span>//USER:PASSWORD<span class="subst">@127</span><span class="number">.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">5432</span>/postgres</span><br></pre></td></tr></table></figure>

<p>會使用這串的原因是我大部分專案都放在 Heroku 身上，因為都只是 Side Project，因此會選擇 <strong>Heroku Postgresql</strong> 作為我的 DB，在引入時會在 Heroku 環境變數中幫忙塞入如下:</p>
<p><img src="https://nijialin.com/images/2021/debug-heroku-postgres/1.png"></p>
<p>Database URL 的 prefix 被設定為 <code>postgres</code>，這個在透過 <code>psycopg2-binary</code> 操作時是沒問題，但在引入 SQLAlchemy 後就會出現以下的錯誤：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">sqlalchemy.exc.NoSuchModuleError: Can&#x27;t <span class="keyword">load</span> <span class="keyword">plugin</span>: sqlalchemy.dialects:postgres</span><br></pre></td></tr></table></figure>

<p>簡單來說就是 prefix 不能是 <strong>postgres</strong>，想想很奇怪啊， Heroku 引入應該沒問題？(盲從狀態)，雖然 <code>psycopg2-binary</code> 的官方文件中也有聲明是透過 <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING">libpq connection string</a> 來定義(簡單說 prefix 就是 <code>postgresql</code> 啦～)，</p>
<p>這個情境在使用 <code>psycopg2-binary</code> 時引入都沒問題，引入 ORM 後就出現問題了，可以<a href="https://stackoverflow.com/questions/24727902/what-is-the-form-of-my-local-postgresql-database-url">參考這個回答</a>，說明需要將 prefix 改成 <strong>postgresql</strong> 才可以使用。</p>
<p>問: 但 Heroku 引入 Postgrsql 時會自動產生一個 <strong>DATABASE_URL</strong> 的環境變入且開頭是 <strong>postgres</strong>，那他都不能改我 DB 連線要怎麼辦？<br>打: 不能怎麼辦，重新弄一個環境變數吧！除非你砍了 DB 的 add-on，不然這個網址一般來說都不會變，以我而言就另起一個環境變數名為 <code>DATABASE_URI</code> 複製參數過去並把開頭改成 <code>postgresql</code> 就沒問題了！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>為什麼會引入之後才遇到這個問題呢？因為初期我已經先把 DB 建立好後(使用 <code>postgresql</code>)，跑了許久之後才引入 SQLAlchemy(ORM)，在使用上都不會出現這個錯誤，但當我開始測試新的 Table 後就開始出現上述說的問題，本地端也是會遇到這個問題喔！大家使用上要多注意才行</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Heroku</tag>
        <tag>SQLAlchemy</tag>
        <tag>Postgresql</tag>
      </tags>
  </entry>
  <entry>
    <title>【KOLpower】快速剪輯後輸出 XML 變形處理</title>
    <url>/2022/02/26/premiere-kolpower-fast-editing-debug/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><img src="https://nijialin.com/images/2022/fast-edit/1.png"></p>
<p>首先感謝六指淵提供了這麼棒的<a href="https://kolpower.cc/video-editor">自動剪輯神器</a>，讓我這剛入門剪輯的新手可以很快速地做一些卡接風格的使用，不過照著步驟把一些卡接內容完成之後，原本的影片是 1920x1080，拉進去會變形(1280x720)，以下若是相關處理步驟，若也有遇到類似的問題可以參考。</p>
<ul>
<li>我的 Premiere 版本為 2022<span id="more"></span></li>
</ul>
<blockquote>
<p>※必看！使用說明：<br>建議先將檔案轉檔成以下格式<br>檔案格式：MP4<br>(限制)<br>檔案上限：200MB 內<br>(建議)<br>影片長度：30 分鐘內<br>(建議)<br>限電腦版使用<br>如無符合以上條件，操作時或輸出可能會導致影片失真</p>
</blockquote>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p><img src="https://nijialin.com/images/2022/fast-edit/2.png"></p>
<ol>
<li><p>把影片拉進去後把一些要調整卡接的地方弄完後，按下右下角的<code>下載 XML</code><br><img src="https://nijialin.com/images/2022/fast-edit/3.png"></p>
</li>
<li><p>下載完後到 Premiere 左上角 <code>File</code> 選擇 <code>Import..</code><br><img src="https://nijialin.com/images/2022/fast-edit/4.png"></p>
</li>
<li><p>Import 剛剛下載的 XML 後，會出現兩個檔案，原檔+卡接檔<br><img src="https://nijialin.com/images/2022/fast-edit/5.png"></p>
</li>
<li><p>引入進來之後發現影片似乎縮小了，有些時候會變大<br><img src="https://nijialin.com/images/2022/fast-edit/6.png"></p>
</li>
<li><p>找到剛剛拉入 sequence 的檔案(長度較短的版本)，<code>右鍵</code>選擇 <code>Sequence Settings..</code><br><img src="https://nijialin.com/images/2022/fast-edit/7.png"></p>
</li>
<li><p>這邊我出現的是 1280 與 720<br><img src="https://nijialin.com/images/2022/fast-edit/8.png"></p>
</li>
<li><p>因為我習慣使用 1920 與 1080，因此這邊就把大小改成這樣<br><img src="https://nijialin.com/images/2022/fast-edit/9.png"></p>
</li>
<li><p>按下儲存後會告知你如果改了就不能復原(當然 ok)<br><img src="https://nijialin.com/images/2022/fast-edit/10.png"></p>
</li>
<li><p>最後就看到結果是我要的大小啦 (撒花)</p>
</li>
</ol>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>有了這工具之後可以在 <a href="https://kolpower.cc/video-editor">KOLpower</a> 上快速的初剪，再透過引入後加速整體剪輯的速度！有這些工具只能感謝、感謝、再感謝～～好人喝珍奶會有粗吸管～</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://www.notion.so/XML-838912993fdc4b69be87992bac707cc7">若下載 XML 檔，連結影片後，遇到影片變形的問題，請參考此 教學 </a></li>
</ul>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Premiere</tag>
        <tag>KOLpower</tag>
        <tag>XML</tag>
      </tags>
  </entry>
  <entry>
    <title>【Python】類別(Class)中的變數層級位置有差嗎？</title>
    <url>/2020/06/16/python-class-instance-level-diff/</url>
    <content><![CDATA[<p><img src="https://media.istockphoto.com/photos/taiwan-on-map-picture-id153498409"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>常常在寫程式時沒搞清楚作用域時很容易留坑或邏輯混亂，因此花時間理解每個語言的作用域也很重要。</p>
<p>之前因為專案有踩過一些坑，而大家在看套件時很能很常看到類似以下的 code：</p>
<span id="more"></span>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Client</span>:</span></span><br><span class="line">    CLIENT_ID = os.environ.get(<span class="string">&#x27;LINE_NOTIFY_CLIENT_ID&#x27;</span>)</span><br><span class="line">    CLIENT_SECRET = os.environ.get(<span class="string">&#x27;LINE_NOTIFY_CLIENT_SECRET&#x27;</span>)</span><br><span class="line">    REDIRECT_URI = os.environ.get(<span class="string">&#x27;LINE_NOTIFY_REDIRECT_URI&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,</span></span></span><br><span class="line"><span class="function"><span class="params">                 client_id=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                 client_secret=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                 redirect_uri=<span class="literal">None</span></span>):</span></span><br><span class="line">        self.client_id = client_id <span class="keyword">or</span> self.CLIENT_ID</span><br><span class="line">        self.client_secret = client_secret <span class="keyword">or</span> self.CLIENT_SECRET</span><br><span class="line">        self.redirect_uri = redirect_uri <span class="keyword">or</span> self.REDIRECT_URI</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a href="https://github.com/louis70109/lotify/blob/master/lotify/client.py#L9">Lotify</a> 當中的片段</p>
</blockquote>
<p>因時常會搞不清楚為什麼參數會到處定義，接下來就介紹一下 Class 與 Instance 層級變數的差異。</p>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>以上述例子而言，在 Class 宣告完後會看到 CLIENT_ID、CLIENT_SECRET、REDIRECT_URI 這三個參數，在這層的變數就是 <code>&quot;Class Level&quot;</code>，而在 __init__ 下面三個變數 self.client_id、self.client_secret、self.redirect_url 就是待會會提到的 <code>&quot;Instance Level&quot;</code>。</p>
<h2 id="Class-Level"><a href="#Class-Level" class="headerlink" title="Class Level"></a>Class Level</h2><p>CLIENT_ID、CLIENT_SECRET、REDIRECT_URI 這三個參數是被所有有初始化 Client 的 Instances 使用，也就是說當數值改變時其他的 Instance 裡的 Class Level 參數也會跟著改變，在這層操作參數時要特別小心，因為只要改動到值是大家一起改，所以說若有一個地方給錯就其他的 Instance 都會一起錯。</p>
<h2 id="Instance-Level"><a href="#Instance-Level" class="headerlink" title="Instance Level"></a>Instance Level</h2><p>Instance 作用域只會在初始化後的那個物件身上，每個物件的<code>參數</code>間都是獨立的，而 Python 裡面定義的參數位置就在 __init__ 裡面，因此會大部分的程式碼定義的層級幾乎都會在 Instance Level。</p>
<blockquote>
<p>若在這還是看不懂的話現在會有實作範例。</p>
</blockquote>
<h2 id="Bonus-self-到底在指誰？"><a href="#Bonus-self-到底在指誰？" class="headerlink" title="Bonus - self 到底在指誰？"></a>Bonus - self 到底在指誰？</h2><p>初學的一定很容易搞混這個部分，因為兩個層級基本上是共用同一個 <code>self</code>，因此在變數的宣告上 class level 我一般習慣用全大寫，意指在 Class level 這層的「全域變數」，而小寫則是在 Instance level 中的「區域變數」，這個習慣基本上在每個語言間都是通用，因此在定義變數時若發現大小寫時記得要注意喔！</p>
<h1 id="實作一個範例"><a href="#實作一個範例" class="headerlink" title="實作一個範例"></a>實作一個範例</h1><p>製作一個 Example 的類別，包含著 <code>class_variable</code> 以及 <code>instance_variable</code> 兩個變數，其中 <code>instance_variable</code> 首次附值若初始化沒定義 instance_variable 的話則為 class_variable 的值 <code>123</code>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span>:</span></span><br><span class="line">     class_variable = <span class="number">123</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, instance_variable=<span class="literal">None</span></span>):</span></span><br><span class="line">         self.instance_variable = instance_variable <span class="keyword">or</span> <span class="built_in">type</span>(self).class_variable</span><br></pre></td></tr></table></figure>

<p>Example 的類別(Class)物件值如下：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI4MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjE3cHg7aGVpZ2h0OjgxcHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjE3IDgxIiB3aWR0aD0iMjE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48ZyBpZD0iZWxlbV9FeGFtcGxlIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjYwLjg5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE5NiIgeD0iNyIgeT0iNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYyIiB4PSI3NCIgeT0iMjEuOTk1MSI+RXhhbXBsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMjAyIiB5MT0iMjcuMjk2OSIgeTI9IjI3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTciIHg9IjEzIiB5PSI0NC4yOTIiPmNsYXNzX3ZhcmlhYmxlID0gIjEyMyI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg0IiB4PSIxMyIgeT0iNjAuNTg4OSI+aW5zdGFuY2VfdmFyaWFibGUgPSAiMTIzIjwvdGV4dD48L2c+PCEtLVNSQz1bb3FfQUlhcWtLTjJqSUNtam80ZGJXajhBTFdoOUVPZDVuVjViWUtNUFlLYjAwTGk1OUtDWk9vS2ExUGJ2bklNOVVTY2Y2NmUwXS0tPjwvZz48L3N2Zz4='>

<p>接著宣告<code>s1</code> &amp; <code>s2</code> 兩個 Instance 來做實驗：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI3NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDQxcHg7aGVpZ2h0Ojc0cHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDQxIDc0IiB3aWR0aD0iNDQxcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48ZyBpZD0iZWxlbV9zMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2MC44OTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYiIHg9IjciIHk9IjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNiIgeD0iOTciIHk9IjIxLjk5NTEiPnMxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIyMDIiIHkxPSIyNy4yOTY5IiB5Mj0iMjcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NyIgeD0iMTMiIHk9IjQ0LjI5MiI+Y2xhc3NfdmFyaWFibGUgPSAiMTIzIjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODQiIHg9IjEzIiB5PSI2MC41ODg5Ij5pbnN0YW5jZV92YXJpYWJsZSA9ICIxMjMiPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9zMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2MC44OTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYiIHg9IjIzOCIgeT0iNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1IiB4PSIzMjguNSIgeT0iMjEuOTk1MSI+czI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjM5IiB4Mj0iNDMzIiB5MT0iMjcuMjk2OSIgeTI9IjI3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTciIHg9IjI0NCIgeT0iNDQuMjkyIj5jbGFzc192YXJpYWJsZSA9ICIxMjMiPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4NCIgeD0iMjQ0IiB5PSI2MC41ODg5Ij5pbnN0YW5jZV92YXJpYWJsZSA9ICI0NTYiPC90ZXh0PjwvZz48IS0tU1JDPVtvcV9BSWFxa0tJV3N2MmVzTEIxSUlDdjlCMndFQnFpaW9hbkNvYWJMaTVMR0NaR29MZUI4UFVPTGJvSmM5UVRZSWRGYkdxcW51WWVzbWNFQTRJdkpKNHBEYjAwMF0tLT48L2c+PC9zdmc+'>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s1 = Example()</span><br><span class="line">s2 = Example(<span class="number">456</span>)</span><br><span class="line"></span><br><span class="line">s1.class_variable     <span class="comment"># 123</span></span><br><span class="line">s2.class_variable     <span class="comment"># 123</span></span><br></pre></td></tr></table></figure>

<p>此時因為初始化所以值都會 <code>123</code>，接下來直接改 Example 的 class 為 <code>&quot;I am CLASS !!&quot;</code>：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI3NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTIzcHg7aGVpZ2h0Ojc0cHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTIzIDc0IiB3aWR0aD0iNTIzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48ZyBpZD0iZWxlbV9zMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2MC44OTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMzciIHg9IjciIHk9IjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNiIgeD0iMTE3LjUiIHk9IjIxLjk5NTEiPnMxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIyNDMiIHkxPSIyNy4yOTY5IiB5Mj0iMjcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyNSIgeD0iMTMiIHk9IjQ0LjI5MiI+Y2xhc3NfdmFyaWFibGUgPSAiSSBhbSBDTEFTUyAhISI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg0IiB4PSIxMyIgeT0iNjAuNTg4OSI+aW5zdGFuY2VfdmFyaWFibGUgPSAiMTIzIjwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fczIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjAuODkwNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjM3IiB4PSIyNzkiIHk9IjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNSIgeD0iMzkwIiB5PSIyMS45OTUxIj5zMjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODAiIHgyPSI1MTUiIHkxPSIyNy4yOTY5IiB5Mj0iMjcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyNSIgeD0iMjg1IiB5PSI0NC4yOTIiPmNsYXNzX3ZhcmlhYmxlID0gIkkgYW0gQ0xBU1MgISEiPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4NCIgeD0iMjg1IiB5PSI2MC41ODg5Ij5pbnN0YW5jZV92YXJpYWJsZSA9ICI0NTYiPC90ZXh0PjwvZz48IS0tU1JDPVtvcV9BSWFxa0tJV3N2MmVzTEIxSUlDdjlCMndFQnFpaW9hbkNvYWJMaTVMR3liSDhwNUxtemQ0QzNiUEdMNUkyZ0NoQ0FvdjlwNGpFSEw1ZVE2SWluQ01MM3BORllBbE9ZMlpwWjcyUFBzOWdmV0cwXS0tPjwvZz48L3N2Zz4='>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#  直接改 Example 類別的值</span></span><br><span class="line">Example.class_variable = <span class="string">&quot;I am CLASS !!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  印出 class_variable &amp; instance_variable</span></span><br><span class="line">print(s1.class_variable)     <span class="comment"># &#x27;I am CLASS !!&#x27;</span></span><br><span class="line">print(s1.instance_variable)  <span class="comment"># 123</span></span><br><span class="line">print(s2.class_variable)     <span class="comment"># &#x27;I am CLASS !!&#x27;</span></span><br><span class="line">print(s2.instance_variable)  <span class="comment"># 456</span></span><br></pre></td></tr></table></figure>

<p>從上述實驗中驗證了 class Level 層級的變數在 s1 以及 s2 這兩個 Instance 中是共用的，接著來實驗 Instance 層級的變數：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(s1.instance_variable)  <span class="comment"># 123</span></span><br><span class="line">print(s2.instance_variable)  <span class="comment"># 456</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改 s1 的值</span></span><br><span class="line">s1.instance_variable = <span class="string">&quot;I am S1 variable&quot;</span></span><br><span class="line"></span><br><span class="line">print(s1.instance_variable)  <span class="comment"># &quot;I am S1 variable&quot;</span></span><br><span class="line">print(s2.instance_variable)  <span class="comment"># 456</span></span><br></pre></td></tr></table></figure>

<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI3NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTY5cHg7aGVpZ2h0Ojc0cHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTY5IDc0IiB3aWR0aD0iNTY5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48ZyBpZD0iZWxlbV9zMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2MC44OTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyODMiIHg9IjciIHk9IjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNiIgeD0iMTQwLjUiIHk9IjIxLjk5NTEiPnMxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIyODkiIHkxPSIyNy4yOTY5IiB5Mj0iMjcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyNSIgeD0iMTMiIHk9IjQ0LjI5MiI+Y2xhc3NfdmFyaWFibGUgPSAiSSBhbSBDTEFTUyAhISI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcxIiB4PSIxMyIgeT0iNjAuNTg4OSI+aW5zdGFuY2VfdmFyaWFibGUgPSAiSSBhbSBTMSB2YXJpYWJsZSI8L3RleHQ+PC9nPjxnIGlkPSJlbGVtX3MyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjYwLjg5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIzNyIgeD0iMzI1IiB5PSI3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUiIHg9IjQzNiIgeT0iMjEuOTk1MSI+czI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzI2IiB4Mj0iNTYxIiB5MT0iMjcuMjk2OSIgeTI9IjI3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjUiIHg9IjMzMSIgeT0iNDQuMjkyIj5jbGFzc192YXJpYWJsZSA9ICJJIGFtIENMQVNTICEhIjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODQiIHg9IjMzMSIgeT0iNjAuNTg4OSI+aW5zdGFuY2VfdmFyaWFibGUgPSAiNDU2IjwvdGV4dD48L2c+PCEtLVNSQz1bb3FfQUlhcWtLSVdzdjJlc0xCMUlJQ3Y5QjJ3RUJxaWlvYW5Db2FiTGk1TEd5Ykg4cDVMbXpkNEMzYlBHTDVJMmdDaENBb3Y5cDRqRW5MR09SQVcwNHJGWXVpZzc2Y3g0TE1uNGJFNTZrMG10Q0pMSjBXMDBdLS0+PC9nPjwvc3ZnPg=='>

<p>從這實驗中能看到個別 Instance 之間的參數不會互相影響，因此再更改變數值前記得要先了解當前的層級在哪才不會失手改錯造成問題。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>Class 層級的變數很適合給<code>環境變數</code>、<code>系統參數</code>，通常這兩個值影響都會是整個專案，而 Instance 之間因為不會互相影響所以適用於獨立情境中，例如 <code>Model 定義</code>、<code>JSON 物件</code> 就很適合。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Client</span>:</span></span><br><span class="line">    CLIENT_ID = os.environ.get(<span class="string">&#x27;LINE_NOTIFY_CLIENT_ID&#x27;</span>)</span><br><span class="line">    CLIENT_SECRET = os.environ.get(<span class="string">&#x27;LINE_NOTIFY_CLIENT_SECRET&#x27;</span>)</span><br><span class="line">    REDIRECT_URI = os.environ.get(<span class="string">&#x27;LINE_NOTIFY_REDIRECT_URI&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考 <a href="https://github.com/louis70109/lotify/blob/master/lotify/client.py">Lotify 範例</a></p>
</blockquote>
<p>透過幾個簡單的例子也了解到變數在定義時的位置是<code>很重要的</code>，因此不管在寫套件或是專案時要注意一下變數的位置以防出問題喔！</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Class level</tag>
        <tag>Instance level</tag>
      </tags>
  </entry>
  <entry>
    <title>把 JSON 字串寫入記憶體中的暫時檔案並放路徑至環境變數中 | Python, FastAPI</title>
    <url>/2022/04/02/python-env-import-json-string/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="為什麼寫這篇"><a href="#為什麼寫這篇" class="headerlink" title="為什麼寫這篇"></a>為什麼寫這篇</h1><ul>
<li>失誤把 private key 推到 GitHub 上<ul>
<li>明明有加到 .gitignore 中</li>
<li>但在剛建立 .git 時就一起 add 進去導致 key 都上去了</li>
</ul>
</li>
<li>想要同一份 git 推到不同的 git 倉庫上(ex. GitHub + Heroku)<ul>
<li>GitHub 不放 key</li>
<li>Heroku 需要 key 去訪問服務</li>
<li>存檔案在 Heroku 中休眠後會移除，因此要動態寫在記憶體中</li>
</ul>
</li>
</ul>
<blockquote>
<p>本次範例專案: <a href="https://github.com/louis70109/Python-import-env-json-string">https://github.com/louis70109/Python-import-env-json-string</a></p>
</blockquote>
<span id="more"></span>

<h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><ul>
<li>把 key 的 JSON 內容寫在環境變數中(e.g. export GOOGLE_KEY&#x3D;xxxxxx)</li>
<li>建立一個<code>暫時檔案</code>在<code>記憶體</code>中</li>
<li>讀出環境變數寫進記憶體中的暫時檔案</li>
<li>把檔案路徑寫進環境變數中</li>
<li>執行 web app</li>
<li>用 try catch finally 來關閉記憶體檔案</li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>以 Google Cloud Platform 為例子，有兩種方法可以訪問公有雲服務：</p>
<ol>
<li>用 gcloud + 一些設定方法來訪問(官方推薦)</li>
<li>用 JSON 設定檔來訪問(線上服務使用)</li>
</ol>
<p>但因為 git 要同時推到兩個環境，JSON key 不能存在 commit 中，因此要把 key 放在環境變數中。</p>
<p>而在下載的 JSON 在 import 進去<code>環境變數</code>時會是一個字串，因此先假設一個環境變數 key 名稱為 <code>SOME_KEY</code></p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">SOME_KEY</span>=<span class="string">&#x27;&#123;&quot;a&quot;: &quot;b&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>此外，GCP 的在使用 JSON 都是去讀路徑的檔案，因此最後需要寫一個路徑到環境變數中，這邊命名範例 key 為 <code>SOME_KEY_PATH</code></p>
<h3 id="Web-app-啟動"><a href="#Web-app-啟動" class="headerlink" title="Web app 啟動"></a>Web app 啟動</h3><p>在跑 Flask || FastAPI 等等的框架時都會有類似 <code>uvicorn.run(...)</code> 來啟動 web app，因此在之前要先把暫時檔案以及 JSON key 寫進記憶體中</p>
<p>這邊使用 <code>tempfile</code> 套件來建立，如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tempfile</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># 副檔名為 .json</span></span><br><span class="line">    temp = tempfile.NamedTemporaryFile(suffix=<span class="string">&#x27;.json&#x27;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 設定一個預設 JSON</span></span><br><span class="line">        SOME_KEY = os.environ.get(<span class="string">&#x27;SOME_KEY&#x27;</span>, <span class="string">&#x27;&#123;&#125;&#x27;</span>)</span><br><span class="line">        <span class="comment"># 寫進去檔案需要弄成 binary</span></span><br><span class="line">        temp.write(SOME_KEY.encode())</span><br><span class="line">        <span class="comment"># 從第 0 個位置開始寫</span></span><br><span class="line">        temp.seek(<span class="number">0</span>)</span><br><span class="line">        print(temp.read())</span><br><span class="line">        print(temp.name)</span><br><span class="line">        <span class="comment"># 寫路徑位置到環境變數中</span></span><br><span class="line">        os.environ[<span class="string">&#x27;SOME_KEY_PATH&#x27;</span>] = temp..name</span><br><span class="line">        <span class="comment"># 啟動服務</span></span><br><span class="line">        uvicorn.run(<span class="string">&quot;main:app&quot;</span>, host=<span class="string">&quot;0.0.0.0&quot;</span>, port=<span class="number">8080</span>, reload=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="comment"># 服務關掉才關閉檔案，不然會讀不到 key</span></span><br><span class="line">        temp.close()</span><br></pre></td></tr></table></figure>

<h3 id="測試是否正常"><a href="#測試是否正常" class="headerlink" title="測試是否正常"></a>測試是否正常</h3><p>因為 GCP 預設會讀取 <code>GOOGLE_APPLICATION_CREDENTIALS</code> 上面的路徑，因此在這 SOME_KEY_PATH 就是模仿 GCP 的使用，這邊建立 API：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">root</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;=&#x27;</span> * <span class="number">20</span>)</span><br><span class="line">    print(os.environ[<span class="string">&#x27;SOME_KEY&#x27;</span>])</span><br><span class="line">    print(os.environ[<span class="string">&#x27;SOME_KEY_PATH&#x27;</span>])</span><br><span class="line">    <span class="comment"># 讀路徑檔案</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(os.environ[<span class="string">&#x27;SOME_KEY_PATH&#x27;</span>]) <span class="keyword">as</span> f:</span><br><span class="line">        lines = f.read()</span><br><span class="line">        print(lines)</span><br><span class="line">        print(<span class="built_in">type</span>(lines))</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;SOME_KEY&quot;</span>: json.loads(lines)&#125;</span><br></pre></td></tr></table></figure>

<p>使用 curl 來呼叫測試 API:</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">curl localhost:<span class="number">8080</span></span><br><span class="line"></span><br><span class="line"># <span class="regexp">/var/</span>folders<span class="regexp">/80/g</span>k9bv_____000gp<span class="regexp">/T/</span>tmpd4b9rzzw.json</span><br><span class="line"># &#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;b&quot;</span>&#125;</span><br><span class="line"># &lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>因為這次失誤讓我學到以後複製專案過來時推上去的東西第一個一定要是 <code>.gitignore</code>，絕對不能通通都加進去(git add .)，剛好也得知還有把 JSON string 放入環境變數的這種做法可以弄，同步把這次學到的東西寫下來來加深印象避免日後犯了一樣的錯誤ＱＱ。</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Heroku</tag>
        <tag>GCP</tag>
      </tags>
  </entry>
  <entry>
    <title>【tetcontainer】使用 Python 在 Docker 中做資料庫的測試案例 | 來賓: PostgreSQL, Docker, Python, GitHub Actions</title>
    <url>/2021/11/24/python-testcontainer-fasstapi-database/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2021/testcontainer.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>這一陣子許多同事除了在內部分享會中分享 Testcontainer 的技術，也有到 JCConf 2021 上分享 - <a href="https://jcconf.tw/2021/">Integration testing with Testcontainers</a>，過往我在寫單元測試(Unit)時，時常都把資料庫的函式都直接擋住(Mock)，假裝他是成功的情況下往下走，但在一個 API 中資料庫往往是最容易在緊繃時掛掉，亦或是工程是手癢去改了某個欄位，讓整個服務瞬間炸掉，這些問題都是我們無法控制的部分…因此實際讓資料庫跑在測試時可以有個真的環境可以使用是很重要的一環，雖然看專案規模，測試時間有多有少有長有短，但放著一個 Container&#x2F;VM 在那邊沒用就是很浪費啊，因此就有本次要介紹的 Test Container。</p>
<blockquote>
<p>把 Test Container 分開寫比較懂他是幹嘛的，但在找資料時請以 testcontainer 去找才找得到喔！</p>
</blockquote>
<p>Test Container 是一個 Java 的函式庫，支援 JUnit 來做測試，在跑測試時可以幫忙起個容器(Container)，並可以放上各式資料庫、Selenium 瀏覽器…等等可以放在 Docker 上面跑的內容，那 Test Container 很好的地方就是他也提供 Python 的解決方案(<a href="https://github.com/testcontainers/testcontainers-python">testcontainers&#x2F;testcontainers-python</a>)，讓我這個 Python 開發者可以有機會在 Docker 裡面很快地起一個 Container 來跑資料庫相關的整合測試，接下來就讓我娓娓道來我踩坑的過程 🖌️</p>
<ul>
<li><a href="https://www.testcontainers.org/">Test Container 官網</a></li>
</ul>
<blockquote>
<p>有支援各種程式語言的函示庫喔，大家可以去挖挖看</p>
</blockquote>
<span id="more"></span>

<h1 id="Test-Container-Python"><a href="#Test-Container-Python" class="headerlink" title="Test Container - Python"></a>Test Container - Python</h1><p>由於我開發時習慣使用 PostgreSQL 來當資料庫(其他的也沒問題)，首先先到官方文件上看一下<a href="https://testcontainers-python.readthedocs.io/en/latest/database.html">相關的內容</a>，首先先安裝 Test Container 之後，接著提供了以下的做法開場</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> testcontainers <span class="comment"># 安裝套件 || 放入 requirements.txt</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> PostgresContainer(<span class="string">&quot;postgres:9.5&quot;</span>) <span class="keyword">as</span> postgres:</span><br><span class="line">    e = sqlalchemy.create_engine(postgres.get_connection_url())</span><br><span class="line">    result = e.execute(<span class="string">&quot;select version()&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="整合進-Global-宣告的-FastAPI-中"><a href="#整合進-Global-宣告的-FastAPI-中" class="headerlink" title="整合進 Global 宣告的 FastAPI 中"></a>整合進 Global 宣告的 FastAPI 中</h2><blockquote>
<p>以下程式來自我的 <a href="https://github.com/louis70109/WordsGame">Side Project</a></p>
</blockquote>
<p>我的後端 API 啟動時會建立相關的 engine，把相關資料庫的東西都一起建立出來:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.on_event(<span class="params"><span class="string">&quot;startup&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">startup</span>() -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">    SQLALCHEMY_DATABASE_URL = os.getenv(<span class="string">&#x27;DATABASE_URI&#x27;</span>)</span><br><span class="line">    engine = create_engine(SQLALCHEMY_DATABASE_URL)</span><br><span class="line">    db.Base.metadata.create_all(bind=engine)</span><br></pre></td></tr></table></figure>

<p>並同時會 reference 到以下的 Code: (<a href="https://github.com/louis70109/WordsGame/blob/master/fastapi-backend/main.py#L10">參考網址</a>)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">SQLALCHEMY_DATABASE_URL = os.getenv(<span class="string">&#x27;DATABASE_URI&#x27;</span>)</span><br><span class="line">engine = create_engine(SQLALCHEMY_DATABASE_URL)</span><br><span class="line">SessionLocal = sessionmaker(autocommit=<span class="literal">False</span>, autoflush=<span class="literal">False</span>, bind=engine)</span><br><span class="line">metadata = MetaData()</span><br><span class="line">Base = declarative_base()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_db</span>():</span></span><br><span class="line">    db = SessionLocal()</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">yield</span> db</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        db.close()</span><br></pre></td></tr></table></figure>

<p>這兩部分比較需要注意的就是 <code>create_engine</code> + <code>SessionLocal()</code>，這兩個攸關到資料庫連線的問題，接著把剛剛官網文件所提供的內容拿過來稍微改一下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> PostgresContainer(<span class="string">&quot;postgres:9.5&quot;</span>).with_bind_ports(<span class="number">5432</span>, <span class="number">47000</span>) <span class="keyword">as</span> postgres:</span><br><span class="line"></span><br><span class="line">    engine = create_engine(postgres.get_connection_url())</span><br><span class="line">    TestingSessionLocal = sessionmaker(autocommit=<span class="literal">False</span>, autoflush=<span class="literal">False</span>, bind=engine)</span><br><span class="line">    Base.metadata.create_all(bind=engine)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">override_get_db</span>():</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            db = TestingSessionLocal()</span><br><span class="line">            <span class="keyword">yield</span> db</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            db.close()</span><br><span class="line"></span><br><span class="line">    app.dependency_overrides[get_db] = override_get_db</span><br><span class="line"></span><br><span class="line">client = TestClient(app)</span><br><span class="line"></span><br><span class="line"><span class="meta">... </span>Already override Database connection <span class="keyword">and</span> session,</span><br><span class="line"></span><br><span class="line">Do some API Testing here</span><br></pre></td></tr></table></figure>

<blockquote>
<p>詳細的測試 Code 在這邊 -&gt; <a href="https://github.com/louis70109/WordsGame/blob/master/fastapi-backend/tests/test_main.py">彈幕遊戲</a></p>
</blockquote>
<p>相信你看到上面一定是滿頭黑人問號，先看最後一段有個 <code>dependency_overrides</code>，意思就是要把 API 環境裡面我寫的 get_db 這個資料庫函式的內容給覆蓋過去(override)，最後在透過 <code>TestClient</code> 起一個 API Server 在測試的環境下呼叫 API 做使用。</p>
<p>接著就可以在之後來呼叫 API 來試試看到底有沒有真的進 Container</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">response = client.get(<span class="string">&quot;/users/&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>如果這邊你不太相信是不是有進 Docker，可以在這邊放上 <code>import time; time.sleep(10000)</code> 去卡時間並到 Docker Desktop Dashboard 去看是不是有一個你看不懂的 postgres 的 Container 被晾在那邊，在這個測試過後會把 Container 刪掉，不佔你空間有可以讓你做資料庫的真實測試是不是很棒啊。</p>
<h1 id="GitHub-Actions"><a href="#GitHub-Actions" class="headerlink" title="GitHub Actions"></a>GitHub Actions</h1><p>因為本次是使用 GitHub Actions 作為 CI 工具，因此使用前要<a href="https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#preinstalled-software">先進文件</a>看一下使用的 Ubuntu 20 版是否有支援在裡面使用 Docker 的功能。</p>
<p>其中遇到了以下的問題，環境上整個專案是 Frontend 為主，其中一個資料夾是後端程式(參考<a href="https://github.com/louis70109/WordsGame">我的彈幕遊戲專案</a>)</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ERROR test</span>s/test_main.py - AttributeError: &#x27;NoneType&#x27; object has no attribute...</span><br></pre></td></tr></table></figure>

<p>在本地端沒遇到這問題，而在線上遇到這個原因是，因為本地端跑時我已經有放一個 .env 的內容在那幫我預設放入資料庫的環境變數(<code>DATABASE_URI=postgresql://postgres:postgres@db/postgres</code>)，且因為我的資料庫是隨著 API 起來他就會初始化(init)，因此在這邊就沒辦法透過 <code>create_engine</code> 來建立資料庫連線。</p>
<p>因此這邊有兩個做法可以做：</p>
<ul>
<li>在取環境變數時用 or 接一個資料庫預設的字串，如下：</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">SQLALCHEMY_DATABASE_URL = os.getenv(<span class="string">&#x27;DATABASE_URI&#x27;</span>) <span class="keyword">or</span> <span class="string">&#x27;postgresql://postgres:postgres@db/postgres&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>另一個則是直接寫在 CI yaml 檔裡面，預設一個環境變數給 CI 環境：</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">DATABASE_URI:</span> <span class="string">postgresql://postgres:postgres@db/postgres</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>再次呼籲：因為我的資料庫是 global 才需要這樣做，這邊就依照大家設定的環境不同而有所改變喔！</p>
</blockquote>
<p>最後在 trigger 一次就成功啦！！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>後續還有許多還沒做好的部分：</p>
<ul>
<li>Container 起來時要預設塞資料，才能有 Query 相關的功能</li>
<li>測試的架構分精細一點</li>
<li>with Function 再去讀一次<ul>
<li>因為這個不懂多花了很多時間</li>
</ul>
</li>
<li>整合測試的撰寫</li>
</ul>
<p>這次是一次很好的經驗來使用 Container 做資料庫相關的測試，有效的利用這個工具可以讓你的 API 交付出去時更有信心，且使用完也不佔空間，一舉兩得！</p>
<p>當然如果有任何問題歡迎留言，我會盡量在最短時間內回答你 ：）</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Docker</tag>
        <tag>Container</tag>
        <tag>PostgreSQL</tag>
        <tag>SQL</tag>
        <tag>testcontainer</tag>
      </tags>
  </entry>
  <entry>
    <title>快速轉移我的 Mac 開發環境</title>
    <url>/2020/07/15/restore-my-mac-environment/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/02/19/23/09/success-2081167_1280.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近重灌了兩次 Mac 系統，而加入 LINE 之後也需要在安裝自己的工作環境，而我日常都在<code>寫文章</code>、<code>寫範例</code>，除了日常已經將開發環境上傳 Gist 以外還有一些小細節需要注意，因此以下就介紹一些我認為較常用的工具以及一些環境設定的部分。</p>
<span id="more"></span>

<h1 id="常用環境"><a href="#常用環境" class="headerlink" title="常用環境"></a>常用環境</h1><ul>
<li>MacOS</li>
<li>VScode</li>
<li>Github</li>
</ul>
<h1 id="使用-SSH-key-免密碼上傳-Github"><a href="#使用-SSH-key-免密碼上傳-Github" class="headerlink" title="使用 SSH key 免密碼上傳 Github"></a>使用 SSH key 免密碼上傳 Github</h1><p>使用以下指令產生 public key:</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ssh-keygen</span></span><br></pre></td></tr></table></figure>

<p>看到類似下圖的話就成功囉！<br><img src="https://i.imgur.com/s4CvKGJ.png"></p>
<p>Unix like 系統一般都存在 <code>.ssh/</code> 底下，因此使用 <code>cat</code> 來找 public key 就行了：</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">cat ~<span class="regexp">/.ssh/i</span>d_rsa.pub</span><br></pre></td></tr></table></figure>

<blockquote>
<p>會看到 ssh-rsa 開頭，User Name 結尾的一組 public key，這就是接下來需要的東西</p>
</blockquote>
<p>接著到 Github 設定頁面，點選左邊 <code>SSH &amp; GPG keys</code> 後新增一筆新的資料，將 public key 填入 <code>key</code> 的欄位<br><img src="https://i.imgur.com/ZUtmZAu.png"><br>填入完後就會出現一筆新資料<br><img src="https://i.imgur.com/fSa7oGs.png"></p>
<p>接下來再使用 git 傳到 Github 時就不需要輸入帳號密碼囉！</p>
<h1 id="brew"><a href="#brew" class="headerlink" title="brew"></a><a href="https://brew.sh/index_zh-tw">brew</a></h1><p>MAC 的套件管理工具，在安裝許多終端機工具時都會使用到，據說還有另一個工具為<code>apt</code>，但我還是習慣使用<code>brew</code>，透過以下指令安裝後才方便之後做事：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/bin/</span>bash -c <span class="string">&quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/wzVzX6Z.png"></p>
<h1 id="VSCode-透過-Settings-Sync-安裝環境"><a href="#VSCode-透過-Settings-Sync-安裝環境" class="headerlink" title="VSCode 透過 Settings Sync 安裝環境"></a>VSCode 透過 Settings Sync 安裝環境</h1><blockquote>
<p>平時定期將 vscode 設定上傳至 Gist 是很重要的，因為我們都不會知道什麼時候<code>換電腦</code>、<code>電腦壞掉</code>種種因素讓開發環境需要重弄，因此定期上傳真的很重要喔！</p>
</blockquote>
<ol>
<li>下載完 vscode 之後皆安裝 settings Sync 這個套件來安裝我舊有的環境</li>
</ol>
<p><img src="https://i.imgur.com/vMx5qW9.png"></p>
<ol start="2">
<li>點選右邊按鈕<code>編輯設定檔</code></li>
</ol>
<p><img src="https://i.imgur.com/molC1r7.png"></p>
<ol start="3">
<li>看到這個畫面之後按下自動下載，在之後若其他電腦有更新的話這邊也會同步喔！</li>
</ol>
<p><img src="https://i.imgur.com/GywrjFi.png"></p>
<ol start="4">
<li>找到之前製作的設定檔，而 <code>Gist ID</code> 就是網址中接在使用者名稱後面的 ID</li>
</ol>
<p><img src="https://i.imgur.com/qfjEiAq.png"></p>
<ol start="5">
<li>點下右上角的 <code>Settings</code> 後會看到自己的管理後台頁面，並點選左下角的 <code>Developer settings</code> 進入設定頁面</li>
</ol>
<p><img src="https://i.imgur.com/SDMjle7.jpg"></p>
<ol start="6">
<li>進入後點選 <code>OAuth Apps</code> 會看到自己過往有透過 OAuth 連結 Github 的程式，這邊就點選 <code>code-settings-sync</code></li>
</ol>
<p><img src="https://i.imgur.com/OHaXXFD.png"></p>
<ol start="7">
<li>看到這畫面就點 <code>Regenerate token</code> 來產生一組新的 key 讓 vscode 可以連接</li>
</ol>
<p><img src="https://i.imgur.com/IRX4oGO.png"></p>
<ol start="8">
<li>會產生出一組亂數的 key 讓你貼到工具上</li>
</ol>
<p><img src="https://i.imgur.com/Ajqr3CR.png"></p>
<ol start="9">
<li>將 Gist ID &amp; Token 貼到 Setting Sync 上後重開就會開始下載啦！</li>
</ol>
<p><img src="https://i.imgur.com/WrO65G3.png"></p>
<ol start="10">
<li>重開後就開始下載囉！🎉</li>
</ol>
<p><img src="https://i.imgur.com/S9CsJbT.png"></p>
<h1 id="在終端機中使用-code-指令讓-vscode-幫你開啟專案"><a href="#在終端機中使用-code-指令讓-vscode-幫你開啟專案" class="headerlink" title="在終端機中使用 code 指令讓 vscode 幫你開啟專案"></a>在終端機中使用 <code>code</code> 指令讓 vscode 幫你開啟專案</h1><p>身為一個長期使用 vscode 的工程師，又怎麼能不從 command 下手了？</p>
<p>在 vscode 中按下 <code>command+shift+p</code> 後輸入 <code>command</code>，安裝下圖第二個選項，即可在終端機上輸入 <code>code</code> 接著路徑讓 vscode 幫你開專案～<br><img src="https://i.imgur.com/fUwJ5Ao.png"></p>
<h1 id="應用程式介紹"><a href="#應用程式介紹" class="headerlink" title="應用程式介紹"></a>應用程式介紹</h1><h2 id="Alfred"><a href="#Alfred" class="headerlink" title="Alfred"></a><a href="https://www.alfredapp.com/">Alfred</a></h2><p>這是我很推的一個搜尋工具，搜尋速度比 MAC 原生的 Spotlight 還要快上許多，很推薦大家直接安裝它體驗一下效率！😄</p>
<p><img src="https://i.imgur.com/DUXB0pU.jpg"></p>
<blockquote>
<p>Command + L 可以放大搜尋字喔！</p>
</blockquote>
<h2 id="Magnet"><a href="#Magnet" class="headerlink" title="Magnet"></a><a href="https://apps.apple.com/tw/app/magnet/id441258766?mt=12">Magnet</a></h2><p>它是我以前在 app store 特價時購入的，在分割視窗時很方便，簡單的組合鍵即可操作完成。</p>
<p>首次安裝有隱私權的問題，需置左上角的<code>蘋果符號</code> &gt; <code>系統偏好設定(Performance)</code> &gt; <code>安全性與隱私權</code> 中的 <code>輔助使用</code> 打勾 ✅<br><img src="https://i.imgur.com/vwWjijK.png"><br>記得點選登入時啟動喔！<br><img src="https://i.imgur.com/VD2Rbd6.png"></p>
<h2 id="Trello"><a href="#Trello" class="headerlink" title="Trello"></a><a href="https://trello.com/zh-Hant">Trello</a></h2><p>很常會需要一個地方紀錄著未成形的想法，而 Trello 本身支援跨平台功能，紅了很久也在最新瘋狂使用它，使用 Free tier 就很足夠囉！</p>
<h2 id="iTerm"><a href="#iTerm" class="headerlink" title="iTerm"></a><a href="https://www.iterm2.com/">iTerm</a></h2><p>iTerm 是一個很普及的終端機工具，而 Mac 內建的終端機雖然夠用，但有時需要裝外掛時會很難處理，因此使用 iTerm 搭配 zsh 來讓我可以更輕鬆的安裝外掛，通常都還會搭配另一個 zsh 框架 - <a href="https://ohmyz.sh/">oh-my-zsh</a>，網路上有許多相關安裝文章供大家可以參考，以下簡單提供兩個連結:</p>
<ul>
<li><a href="https://medium.com/statementdog-engineering/prettify-your-zsh-command-line-prompt-3ca2acc967f">超簡單！十分鐘打造漂亮又好用的 zsh command line 環境</a></li>
<li><a href="https://medium.com/%E6%95%B8%E6%93%9A%E4%B8%8D%E6%AD%A2-not-only-data/macos-%E7%9A%84-terminal-%E5%A4%A7%E6%94%B9%E9%80%A0-iterms-oh-my-zsh-%E5%85%A8%E6%94%BB%E7%95%A5-77d5aae87b10">如何讓 Terminal 看起來好用又好看｜ iTerms 2 + Oh-my-zsh 全攻略</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>藉由這次的整理讓之後若再重灌時就有文章可以快速參考了 😆，目前這樣的環境加上系統內建工具已經可以應付我日常許多工作內容，也因為現在 擁有 Google 與 Apple 這兩個神兵利器，讓重灌後許多帳號密碼之類需要記得的東西可以無痛轉移(相對資料就給別人了)，若是有些比較單純優化使用者體驗的部分之後再寫一些 debug 的文章來紀錄～ 😄</p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Workspace</tag>
        <tag>settings sync</tag>
      </tags>
  </entry>
  <entry>
    <title>【RO】184~200 虎砲修羅海二練功介紹 | 附贈奧丁簡單解說</title>
    <url>/2022/05/30/ro-184-to-200-Sura/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/ro-184/1.png" alt="修羅恩典正面"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>近期睽違兩年回鍋RO的懷抱，看著許多影片介紹來跟上現在版的RO，讓遊玩的過程更加順暢，以下為大家稍微介紹一下三轉修羅184之後到奧丁以及海洞的相關介紹，最後則會放上這次海二練功的建議給大家。</p>
<span id="more"></span>

<ul>
<li>當下幣值 1:13w，請自己推算台幣</li>
<li>184~200等</li>
<li>2022&#x2F;05&#x2F;31 這天有經驗300%</li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>這次裝備基本上幻影龜島二之後應該就可以穿了(160 UP)，以下介紹給大家:</p>
<h2 id="正面裝備"><a href="#正面裝備" class="headerlink" title="正面裝備"></a>正面裝備</h2><p><img src="https://nijialin.com/images/2022/ro-184/1.png" alt="修羅恩典正面"></p>
<ul>
<li>+7幻影連擊</li>
<li>恩典套裝只需要解到17.1任務即可</li>
<li>強身健體戒指<ul>
<li>需打吉芬大賽，或是露天商店買硬幣兌換(1350個)</li>
</ul>
</li>
<li>時空頭<ul>
<li>可用封印的<code>超時空頭冠</code>材料去換(買的到)</li>
</ul>
</li>
<li>卡片就是<strong>虎砲套</strong></li>
</ul>
<h2 id="背面裝備"><a href="#背面裝備" class="headerlink" title="背面裝備"></a>背面裝備</h2><p><img src="https://nijialin.com/images/2022/ro-184/2.png" alt="修羅1.0背面"></p>
<ul>
<li>背面用基本的修羅1.0即可，如有預算在上2.0</li>
<li>頭上中下運氣好總共花 6000萬買到</li>
<li>背部大概 1.3E 買到</li>
</ul>
<p>基本上有影子裝就有<strong>50%破防</strong>，對於打到幻影龜島之後基本都可以<strong>破防</strong>，而其他裝飾品(<strong>修羅石+武宗II</strong>)則是增加虎砲的傷害。</p>
<h2 id="屬性-三轉技能"><a href="#屬性-三轉技能" class="headerlink" title="屬性+三轉技能"></a>屬性+三轉技能</h2><p><img src="https://nijialin.com/images/2022/ro-184/3.png" alt="修羅三轉"></p>
<p>基本上以以下滿，其他隨意:</p>
<ul>
<li>潛龍昇天</li>
<li>虎砲</li>
<li>閃光連擊</li>
<li>點穴 - 活</li>
<li>點穴 - 球</li>
</ul>
<p>屬性點依序往下點滿:</p>
<ul>
<li>STR 120</li>
<li>VIT 120</li>
<li>DEX 100</li>
<li>INT 100</li>
<li>AGI 100</li>
</ul>
<h1 id="海洞練功影片"><a href="#海洞練功影片" class="headerlink" title="海洞練功影片"></a>海洞練功影片</h1><iframe width="560" height="315" src="https://www.youtube.com/embed/IHX73JqO8pk?start=92" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>基本上這樣裝的修羅需要以下接技才可以把海二的怪都打光，並配合大致的補品：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">閃光-雙龍腳-大纏-虎砲</span><br></pre></td></tr></table></figure>

<ul>
<li>補品：HP 增大、紅色藥草增強液、風肯</li>
<li>抗性：水抵抗藥、水靈鎧甲<ul>
<li>需要這兩個才不會被水球術KO</li>
</ul>
</li>
<li>並需要組隊有主教、樂師的相關技能</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以上裝備打奧丁可以一套基本的接技即可清掉怪(<code>雙龍腳-大纏-虎砲</code>)，但打奧丁需要配備:</p>
<ul>
<li>神聖鎧甲卷軸(聖鎧)</li>
<li>地抵抗藥(防雷鳴術)</li>
</ul>
<p>大致為此，在治裝費上還是有一定的成本，遊玩RO前請記得三思 XDDD</p>
<blockquote>
<p>(但現在開放四轉練功真的很輕鬆阿)</p>
</blockquote>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>]]></content>
      <categories>
        <category>遊戲</category>
      </categories>
      <tags>
        <tag>RO</tag>
      </tags>
  </entry>
  <entry>
    <title>開發結合 LINE Chatbot 的簡易彈幕系統</title>
    <url>/2021/01/11/screen-bullet-line-bot/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><img src="https://nijialin.com/images/2021/bullets/bullets-sample1.gif"></p>
<p>去年下半年時於 <a href="https://coscup.org/2020/">COSCUP 2020</a> 的閉幕閃電秀中與 <a href="https://github.com/Chatbot-Taiwan/meetups/blob/master/taipei/2020.md#chatbot-meetup-23-at-onramp-studio">Chatbot 社群小聚</a>看到社群朋友展示使用 LIFF 來發射彈幕覺得有趣又回憶滿滿，從以前在看<strong>ニコニコ動画</strong>時就很常看到彈幕出現在影片中(甚至有時候彈幕還比影片還好笑)，而透過這樣的互動讓觀眾並及時回饋，拉近活動(影片、直播、演唱會…)與觀眾的距離。想到去年因為疫情需要把社群聚會改成線上，剛好在前一陣子搜尋到<a href="https://qiita.com/youtoy/items/051dc658025a3b21c7f0">這篇文章</a>，以下就使用 Chatbot 搭配文章在使用 OBS 來使用它！</p>
<span id="more"></span>

<blockquote>
<p>完整專案: <a href="https://github.com/louis70109/Screen-LINE-Bullets">louis70109&#x2F;Screen-LINE-Bullets</a></p>
</blockquote>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="GSAP"><a href="#GSAP" class="headerlink" title="GSAP"></a><a href="https://greensock.com/docs/v3/Installation">GSAP</a></h2><p>對於一個動畫苦手卻又喜歡看特效的人有工具就再好不過了，除了可以自己寫 CSS Animation 以外，還可以使用 GSAP 這個套件來輔助，以下就使用參考文章中的範例來大概解釋一下運作原理</p>
<script src="https://gist.github.com/louis70109/886d43a4a5b8ca1a24429c147fa35baa.js"></script>

<ul>
<li>建立一個 <code>createText()</code> 函式讓 Javascript 產生<code>個別彈幕的 HTML</code></li>
<li>用<code>id=&quot;button01&quot;</code>按鈕監聽 <strong>click 事件</strong>來啟動 createText() 函式</li>
<li>24, 25 行: 使用亂數並以<code>視窗上方</code>(<code>Top</code>)為起點建立一個<code>隨機位置</code></li>
<li>26, 27 行: 加入文字於<code>子節點</code>(<code>子彈</code>)，再將整個 div 加入於 <body> 中(整個畫面)</li>
<li>針對特定 id 的 <code>&lt;div&gt;子彈</code> 進行動畫(右至左)，<code>duration</code> 則是移動速度</li>
<li>31 行: 跑到最左邊後要把<code>子彈</code>刪除</li>
</ul>
<h2 id="讓-Websocket-連結-Chatbot-跟前端吧！"><a href="#讓-Websocket-連結-Chatbot-跟前端吧！" class="headerlink" title="讓 Websocket 連結 Chatbot 跟前端吧！"></a>讓 Websocket 連結 Chatbot 跟前端吧！</h2><h2 id="Chatbot-API"><a href="#Chatbot-API" class="headerlink" title="Chatbot + API"></a>Chatbot + API</h2><p>首先先說明一下 Chatbot 這部分，一般來說寫 Chatbot 都是使用 Web API 的形式接收 Webhook 事件，但因為彈幕是即時性的且現在需求無需儲存文字，因此就使用 Websocket 來溝通前後端啦！</p>
<blockquote>
<p>NodeJS Webhook 寫法參考這篇: <a href="https://medium.com/enjoy-life-enjoy-coding/javascript-websocket-%E8%AE%93%E5%89%8D%E5%BE%8C%E7%AB%AF%E6%B2%92%E6%9C%89%E8%B7%9D%E9%9B%A2-34536c333e1b">JavaScript | WebSocket 讓前後端沒有距離</a></p>
</blockquote>
<p>那我是怎麼讓 Chatbot Webhook 事件透過 Websocket 送出去呢？答案很簡單，參考<a href="https://github.com/louis70109/Screen-LINE-Bullets/blob/master/chatbot/index.js">這份程式碼</a>或<code>下方 Gist</code></p>
<script src="https://gist.github.com/louis70109/fa0ae938a4b6f141e95191ff910a959e.js"></script>

<ul>
<li>第<strong>14、15 行</strong>，我設定了<code>BULLETS</code>、<code>USER_AVATAR</code> 兩個全域變數</li>
<li><strong>45 行</strong> 則是使用 <a href="https://developers.line.biz/en/docs/messaging-api/using-quick-reply/">Quick Reply</a> 功能讓用戶可以快速發送訊息</li>
<li>透過 <strong>65 行</strong>把 Socket Server 與 API Server 綁在一起</li>
<li>接著第 <strong>67~82 行</strong>的 Websocket 中使用 <code>setInterval()</code> 來週期性地送文字出去</li>
<li>發送後需要把<code>全域變數</code>清空，否則前端會出現 undefined</li>
</ul>
<blockquote>
<p>或許讀者已經注意到一開始的圖片是使用手機點選 <a href="https://developers.line.biz/en/docs/messaging-api/using-quick-reply/">Quick Reply</a>，這部分初步考量是為了避免來賓亂打字導致現場不可收拾，讀者若有照著實作請斟酌使用囉！</p>
</blockquote>
<h2 id="彈幕程式碼解析"><a href="#彈幕程式碼解析" class="headerlink" title="彈幕程式碼解析"></a>彈幕程式碼解析</h2><p>這邊為了方便我使用了 Vue 3，參考<a href="https://github.com/louis70109/Screen-LINE-Bullets/blob/master/frontend/src/components/Barrage.vue">這頁的程式碼</a>並引入了 <code>&#123; onMounted, onUnmounted &#125;</code> 來協助網頁生命週期當眾的<code>掛載</code>以及<code>卸載</code>，以下就來敘述一下程式碼區塊的用途：</p>
<script src="https://gist.github.com/louis70109/308be6a80d2e7977926ae099bb6471b8.js"></script>

<ul>
<li>12 行: 從環境變數中取得 <code>VUE_APP_WEBSOCKET_URL</code>並建立 Websocket 連線</li>
<li>19 行: 把 Websocket 的 <code>onmessage</code> 監聽事件掛載起來</li>
<li>29 行: createText() 為建立一個<code>子彈</code>的函式，當中除了上述有提到的隨機位置，因為訊息是從 Chatbot 來並夾帶著用戶的大頭貼 CDN 連結，因此在 <code>42 行</code> 就建立一個使用 Bootstrap 的<strong>元素</strong>(<strong>Element</strong>)</li>
<li>由於因為 Chatbot 是週期性發送訊號，會有沒內容的情況，因此需要加判斷式(Condition)來避免錯誤的產生</li>
</ul>
<h2 id="在本地端啟動專案"><a href="#在本地端啟動專案" class="headerlink" title="在本地端啟動專案"></a>在本地端啟動專案</h2><ul>
<li>先開三個終端機</li>
<li>第一個進入前端(frontend)資料夾，先<code>npm install</code>後<code>npm run dev</code>執行程式</li>
<li>第二個進入 chatbot 資料夾，一樣<code>npm install</code>後<code>npm run dev</code>執行程式</li>
<li>第三個使用 <code>npx ngrok http -region=ap --host-header=rewrite 3000</code> 來建立一個暫時含有 SSL 的網址<ul>
<li>npx 在安裝 NodeJS 時就安裝的工具，可以遠端執行一個終端指令，在用完之後會刪除，不會污染環境</li>
<li>使用 ap 這個區域</li>
<li>覆蓋網址的 Header，避免前端呼叫時 Header 是 localhost</li>
<li>使用的 Port &#x3D; 3000</li>
</ul>
</li>
</ul>
<blockquote>
<p>你也可以部署上 Heroku，效果會是一樣的喔！</p>
</blockquote>
<h2 id="彈幕與-OBS-融合"><a href="#彈幕與-OBS-融合" class="headerlink" title="彈幕與 OBS 融合"></a>彈幕與 OBS 融合</h2><blockquote>
<p>若你正在照著本篇實作，請先<a href="https://obsproject.com/download">下載 OBS</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/bullets/1.png"></p>
<ul>
<li>開啟 OBS 後，先建立一個場景，這邊我先放一張圖片跟視訊鏡頭讓畫面別那麼乾</li>
</ul>
<p><img src="https://nijialin.com/images/2021/bullets/2.png"></p>
<ul>
<li>因為是使用瀏覽器來建立彈幕，因此接著按下面的<code>+</code>並選擇<code>瀏覽器</code></li>
</ul>
<p><img src="https://nijialin.com/images/2021/bullets/3.png"></p>
<ul>
<li>接著會彈出這樣的視窗，可以改成你喜歡的名字後確定</li>
</ul>
<p><img src="https://nijialin.com/images/2021/bullets/4.png"></p>
<ul>
<li>確認後會出現這個頁面，由於是在<strong>本地端 Localhost</strong>操作，因此網址部分輸入<code>http://localhost:8080/</code>，且由於視窗關係，我選擇寬度 1200 x 高度 600</li>
</ul>
<p><img src="https://nijialin.com/images/2021/bullets/5.png"></p>
<ul>
<li>因為會隨著建立順序，會讓瀏覽器的<strong>排序層級</strong>在下方，因此需要將它<strong>移至最上層</strong>，畢竟彈幕就是要最先讓使用者看到呀！</li>
</ul>
<p><img src="https://nijialin.com/images/2021/bullets/6.png"></p>
<h2 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h2><ul>
<li>最後就可以在 Chatbot 中按下 Quick Reply 來跑彈幕囉！這樣是不是很好玩呢：）</li>
<li>最後你可以錄影或是透過串流來與觀眾玩玩看喔！</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>目前這個彈幕系統還只是很陽春的版本，未來可以加上後台調整各種內容(文字、速度…)，若你對於前端有較深的理解或是想練練手，歡迎送 <a href="https://github.com/louis70109/Screen-LINE-Bullets/pulls">Pull Request</a> 給我的 <a href="https://github.com/louis70109/Screen-LINE-Bullets">Screen-LINE-Bullets</a>，同時也歡迎大家拿去玩玩，之後有個多應用會再分享給大家！</p>
<blockquote>
<p>若對直播設定有興趣，請參考<a href="https://nijialin.com/2020/11/29/mac-stream-soundflower/">如何只使用一台 Mac 進行直播 feat. SoundFlower, OBS, Youtube</a></p>
</blockquote>
<h1 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
        <tag>OBS</tag>
        <tag>Vue3</tag>
      </tags>
  </entry>
  <entry>
    <title>Serverless cold start 問題</title>
    <url>/2020/02/15/serverless-cold-start/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/gjLODpG.jpg" alt="workload"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前鐵人賽寫了一篇文章有提到 <a href="https://nijialin.com/2019/10/14/Day30-%E8%80%81%E6%98%AF%E5%9C%A8%E5%90%B9-Serverless%EF%BC%8C%E4%BB%96%E7%9C%9F%E7%9A%84%E6%9C%89%E9%82%A3%E9%BA%BC%E5%A5%BD%EF%BC%9F/">Cold Start 的問題</a>，不過只有粗略介紹，最近看到大家忽然又開始討論這個話題，這次就來好好的搜尋資料介紹一下。</p>
<p>平常在做 open source 時比較常遇到休眠狀態應該就是 <code>Heroku</code>，而開頭要先澄清一下他是屬於 <code>PaaS</code> 的架構，而 AWS、Google、Azure 裡提供的 <code>Lambda</code>、<code>Cloud Run</code>、<code>Azure Function</code> 這些則屬於 FaaS 架構，而最常討論 <code>Cold start</code> 時最常會在 FaaS 上討論，只是剛好 Heroku 使用起來也是一樣，這次文章就把他一起抓進來討論啦～</p>
<blockquote>
<p>有很多各式各樣的服務，SaaS、FaaS、KaaS、IaaS… 等各式各樣的架構，每個都是為了解決某個問題所誕生的，至於好或不好其實就是看使用場景而定，所以大家在選用時要注意一下你使用的場景哦！</p>
</blockquote>
<h1 id="為什麼會休眠"><a href="#為什麼會休眠" class="headerlink" title="為什麼會休眠"></a>為什麼會休眠</h1><p>一般會有休眠機制是因為這些供應商在提供服務都是提供按次計費的方案，讓開發者在用時可以需要才喚醒使用，也就是說這些服務都是 <code>事件驅動</code>(<code>Event-Driven</code>)導向，意指是當前服務若收到訊息後，會呼叫對應的 Function 來處理對應服務所接收到的資料(Queue、Notify …)，但相對的就是會有<code>休眠</code>讓服務暫停，進而讓較少使用的服務不會因為掛在線上而一直被收費用，而重新啟動這件事就是本篇要提的<code>Cold start</code>。</p>
<h1 id="Cold-start-流程"><a href="#Cold-start-流程" class="headerlink" title="Cold start 流程"></a>Cold start 流程</h1><p>在處理資料之後過一段時間若沒有繼續執行，雲端供應商會將模組暫停，此時 function 會處於 inactive 狀態(cold)，而當 function 再度被觸發時(<code>cold start</code>)則會再啟動模組來執行對應 function 來處理事件，在模組與 function 之間的關係可以稱他們為 <code>Function chain</code>。</p>
<h3 id="休眠狀態喚醒流程"><a href="#休眠狀態喚醒流程" class="headerlink" title="休眠狀態喚醒流程"></a>休眠狀態喚醒流程</h3><p><img src="https://i.imgur.com/DQoGYns.png" alt="[參考](https://mikhail.io/2018/08/serverless-cold-start-war/#how-do-languages-compare-)"></p>
<p>以 AWS 為例，在喚醒時會到 S3 去取得檔案，接著找到相關的 Lambda 並載入相關模組套件，然後再執行觸發的事件，整理過後的下:</p>
<blockquote>
<p>事件處理 ➡️ 過段時間 ➡️ 暫停 function 模組(休眠) ➡️ 觸發 ➡️ 啟動 function 模組 ➡️ 事件處理…</p>
</blockquote>
<p>這整個流程就是俗稱的 <code>cold start</code>，因為在這個過程中會花些時間，所以若是拿來處理 api 相關問題的話就會有第一批請求很久，然後之後的請求卻特別快的狀態，請大家莫急莫慌莫害怕呀！</p>
<h1 id="平台比較表"><a href="#平台比較表" class="headerlink" title="平台比較表"></a>平台比較表</h1><table>
<thead>
<tr>
<th>平台</th>
<th>多少時間後暫停</th>
</tr>
</thead>
<tbody><tr>
<td>AWS Lambda</td>
<td>10 minutes</td>
</tr>
<tr>
<td>Google Cloud Functions</td>
<td><a href="https://mikhail.io/2018/08/serverless-cold-start-war/#gcp">介於 3 minutes 之間 5+ hours 都有</a></td>
</tr>
<tr>
<td>Azure Functions</td>
<td><a href="https://mikhail.io/2018/08/serverless-cold-start-war/#azure">20 minutes</a></td>
</tr>
<tr>
<td>Heroku</td>
<td><a href="(https://devcenter.heroku.com/articles/free-dyno-hours#dyno-sleeping)">30 minutes</a></td>
</tr>
</tbody></table>
<blockquote>
<p>前三個為 <code>FaaS</code> 架構，而 Heroku 則為 <code>PaaS</code> 架構喔！</p>
</blockquote>
<p>下圖則來自 2019&#x2F;09 的<a href="https://mikhail.io/serverless/coldstarts/big3/">一篇文章</a>，較深色的部分則為啟動時間。<br><img src="https://i.imgur.com/yZxWvlL.png" alt="FaaS platform cold start time"></p>
<h1 id="如何處理或是盡可能避免？"><a href="#如何處理或是盡可能避免？" class="headerlink" title="如何處理或是盡可能避免？"></a>如何處理或是盡可能避免？</h1><p>以我熟悉使用 <a href="https://serverless.com/">serverless framework</a> 部署到 AWS 來說，他們提供了一個 <a href="https://serverless.com/plugins/serverless-plugin-warmup/">warm-up</a> 的套件，可以設定排程時間讓這個 function 固定去戳其他 function，避免他們進入休眠的狀態，雖然這樣子就能達到跟一般服務一樣的常駐狀態，不過相對來說就要注意次數的使用問題，若是流量還小的話沒什麼問題，但若有一定的流量就須注意一下帳單，因為這些在互戳的過程中還是有算進費用的喔！使用上還要多注意才行。</p>
<p>另一方面要注意相依套件的問題，引用 google <a href="https://cloud.google.com/run/docs/tips#optimizing_performance">文件的其中一段</a>:</p>
<p>謹慎使用依附元件，如果您使用動態語言搭配相依的程式庫，例如匯入使用 Node.js 的模型，這些模組的載入時間會增加冷啟動期間的延遲時間。您可以透過以下方式縮短啟動延遲時間：</p>
<ul>
<li>儘可能減少相依元件的數量和大小以建置精簡的服務。</li>
<li>只有在必要時才載入不常用的程式碼 (如果您使用的語言支援)。</li>
<li>使用程式碼載入的最佳化，例如 PHP 的 composer 自動載入器最佳化。</li>
</ul>
<blockquote>
<p>畢竟在載入模組的時候相依套件也是要一起抓進來，若是程式本身太多依賴的話也是會導致 cold start 的時間變長哦！</p>
</blockquote>
<p>最後就在幫大家整理一下三大平台的 warm-up 資源：</p>
<ul>
<li><a href="https://serverless.com/plugins/serverless-plugin-warmup/">warm-up</a></li>
<li><a href="https://cloud.google.com/appengine/docs/standard/python/configuring-warmup-requests">Google App Engine warm up</a></li>
<li><a href="https://www.serverlessnotes.com/docs/scheduling-with-azure-functions">Google Schedule</a></li>
<li><a href="https://www.serverlessnotes.com/docs/scheduling-with-azure-functions">Scheduling with Azure Functions</a></li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>為什麼要有 cold start 的機制，以供應商的角度來說他們可以提供一定的量讓使用者免費在平台上先建置服務，但若要免費就是服務會被暫時暫停，畢竟現在流量就是錢嗎 💰，像我常用的 Heroku 就會是這樣，而當你流量大的時候就看你要不要搬家，不過一般應該都懶得搬，就會形成所謂的<code>養、套、殺</code>🤣(離題)。</p>
<p>總而言之，若是需要服務時常活著，就是需要付出點流量的錢 💰，也或許你的作品服務時間可能不用那麼長，只要在服勤時間內長駐活著就可以在省下一些費用，如果有需要的話還是付一些錢給供應商，畢竟人家也幫你保管了服務你說是不是？</p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://medium.com/faun/on-the-serverless-cold-start-problem-2fc0797da5cc">On the Serverless cold start problem</a></li>
<li><a href="https://serverless.com/blog/keep-your-lambdas-warm/#installing-the-warmup-plugin">Lambda Warm-up</a></li>
<li><a href="https://devcenter.heroku.com/articles/free-dyno-hours">Heroku cold start</a></li>
<li><a href="https://mikhail.io/2018/08/serverless-cold-start-war/#how-do-languages-compare-">serverless 啟動流程</a></li>
<li><a href="https://www.nuweba.com/blog/when-are-cold-starts-problem">Function Chain 來源</a></li>
<li><a href="https://github.com/ahmetb/cloud-run-faq#cold-starts">cloud run cold start</a></li>
</ul>
]]></content>
      <categories>
        <category>Serverless</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>Heroku</tag>
        <tag>GCP</tag>
        <tag>Azure</tag>
        <tag>cold start</tag>
      </tags>
  </entry>
  <entry>
    <title>【Python】測試階段的類別、函式、全域變數、期望值設定 | Pytest | Mock | MonkeyPatch</title>
    <url>/2021/04/05/pytest-mock-skills/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/pytest.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>過往在寫應用程式時總是為了趕上線  將程式寫完之後即部署，但往往總是上線後才發生了一些可預期的錯誤，導致工時增加，因此在撰寫程式時若有自動測試的程式碼，透過測試增加來程式碼的品質，為上線前做一個最後的把關。</p>
<p>而近期在寫 Side Project - <a href="https://github.com/louis70109/PLeagueBot">P+ League Bot</a> 時包裝了一些程式碼(FlexMessage、SQL Query…)，但再將資料庫函式改成 ORM - SQLAlchemy 時導致了一些上線錯誤，因此就開始補測試程式碼避免往後再有此類問題產生，本篇則紀錄使用 Pytest 時的一些小知識。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNjZweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU5NHB4O2hlaWdodDoyNjZweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1OTQgMjY2IiB3aWR0aD0iNTk0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMjYiIHgyPSIyNiIgeTE9IjM2LjI5NjkiIHkyPSIyMzEuMDkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxOTMuNSIgeDI9IjE5My41IiB5MT0iMzYuMjk2OSIgeTI9IjIzMS4wOTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjI2Ni41IiB4Mj0iMjY2LjUiIHkxPSIzNi4yOTY5IiB5Mj0iMjMxLjA5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNDU0LjUiIHgyPSI0NTQuNSIgeTE9IjM2LjI5NjkiIHkyPSIyMzEuMDkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI1NTUuNSIgeDI9IjU1NS41IiB5MT0iMzYuMjk2OSIgeTI9IjIzMS4wOTM4Ii8+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0MiIgeD0iNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIxMiIgeT0iMjQuOTk1MSI+JiMyMzU2MDsmIzI2Njk2OzwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQyIiB4PSI1IiB5PSIyMzAuMDkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIxMiIgeT0iMjUwLjA4ODkiPiYjMjM1NjA7JiMyNjY5Njs8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2MSIgeD0iMTYzLjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iMTcwLjUiIHk9IjI0Ljk5NTEiPlB5dGVzdDwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxIiB4PSIxNjMuNSIgeT0iMjMwLjA5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iMTcwLjUiIHk9IjI1MC4wODg5Ij5QeXRlc3Q8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2NCIgeD0iMjM0LjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MCIgeD0iMjQxLjUiIHk9IjI0Ljk5NTEiPkdpdEh1YjwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY0IiB4PSIyMzQuNSIgeT0iMjMwLjA5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MCIgeD0iMjQxLjUiIHk9IjI1MC4wODg5Ij5HaXRIdWI8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTgiIHg9IjM5NS41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0IiB4PSI0MDIuNSIgeT0iMjQuOTk1MSI+R2l0SHViQWN0aW9uczwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExOCIgeD0iMzk1LjUiIHk9IjIzMC4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0IiB4PSI0MDIuNSIgeT0iMjUwLjA4ODkiPkdpdEh1YkFjdGlvbnM8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2NSIgeD0iNTIzLjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MSIgeD0iNTMwLjUiIHk9IjI0Ljk5NTEiPkhlcm9rdTwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY1IiB4PSI1MjMuNSIgeT0iMjMwLjA5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MSIgeD0iNTMwLjUiIHk9IjI1MC4wODg5Ij5IZXJva3U8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxODIsNjMuNDI5NywxOTIsNjcuNDI5NywxODIsNzEuNDI5NywxODYsNjcuNDI5NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjYiIHgyPSIxODgiIHkxPSI2Ny40Mjk3IiB5Mj0iNjcuNDI5NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxIiB4PSIzMyIgeT0iNjIuMzYzOCI+JiMyNjQxMjsmIzIyMzIwOyYjMzE0NzE7JiMyMjUxOTsmIzM0ODkyOyYjMjgyMDQ7JiMzNTQzMDs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNyw5Mi41NjI1LDI3LDk2LjU2MjUsMzcsMTAwLjU2MjUsMzMsOTYuNTYyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzEiIHgyPSIxOTMiIHkxPSI5Ni41NjI1IiB5Mj0iOTYuNTYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NCIgeD0iNDMiIHk9IjkxLjQ5NjYiPiYjMjY0MTI7JiMyMjMyMDsmIzI4MjA0OyYjMzU0MzA7JiMyMzQzNjsmIzI1MTA0OygmIzI1MTA0OyYjMjExNTE7LyYjMjI4MzM7JiMyNTk0MzspPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjU0LjUsMTIxLjY5NTMsMjY0LjUsMTI1LjY5NTMsMjU0LjUsMTI5LjY5NTMsMjU4LjUsMTI1LjY5NTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI2IiB4Mj0iMjYwLjUiIHkxPSIxMjUuNjk1MyIgeTI9IjEyNS42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIiIHg9IjMzIiB5PSIxMjAuNjI5NCI+JiMzNjg2NTsmIzE5OTc4OyYjMjA0ODk7JiMyNDIzNTs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NDIuNSwxNTAuODI4MSw0NTIuNSwxNTQuODI4MSw0NDIuNSwxNTguODI4MSw0NDYuNSwxNTQuODI4MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjY2LjUiIHgyPSI0NDguNSIgeTE9IjE1NC44MjgxIiB5Mj0iMTU0LjgyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MiIgeD0iMjczLjUiIHk9IjE0OS43NjIyIj4mIzM1MzIwOyYjMzAzMzI7IENJPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjc3LjUsMTc5Ljk2MDksMjY3LjUsMTgzLjk2MDksMjc3LjUsMTg3Ljk2MDksMjczLjUsMTgzLjk2MDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI3MS41IiB4Mj0iNDUzLjUiIHkxPSIxODMuOTYwOSIgeTI9IjE4My45NjA5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0IiB4PSIyODMuNSIgeT0iMTc4Ljg5NSI+JiMzMjIxODsmIzE5OTc4OyBDSSAmIzI4MjA0OyYjMzU0MzA7JiMyMzQzNjsmIzI1MTA0OygmIzI1MTA0OyYjMjExNTE7LyYjMjI4MzM7JiMyNTk0MzspPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTQ0LDIwOS4wOTM4LDU1NCwyMTMuMDkzOCw1NDQsMjE3LjA5MzgsNTQ4LDIxMy4wOTM4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNjYuNSIgeDI9IjU1MCIgeTE9IjIxMy4wOTM4IiB5Mj0iMjEzLjA5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MSIgeD0iMjczLjUiIHk9IjIwOC4wMjc4Ij4mIzI4MjA0OyYjMzU0MzA7JiMyNTEwNDsmIzIxMTUxOyYjMjEzNjM7JiMzNzA5NjsmIzMyNjI2OzwvdGV4dD48IS0tU1JDPVtVeGdYdXpkMjNic3hXQ2dJckU4SUF1TGRTek95ZFJGWC1VaHJKLVRsVng2bXZ6Y0VESXpNQmtFMm9FaFFGR01oWGdjMkkzdlRyX0VpT3U4NjQzX2pjZ19fVENkNlByRWRRdDh6WFBoaGRiZFlLUGZhZlYyb2VWNzlaZ3dkM1ByRlR3dGNXV1oyOTFzSklwQnB5dWdqNTV1aXRfNXl2WHU1UHF5azUwYzQ4Uy10cG04UTBiSVdXQ3pnY0VhVWdLTnZzUUxNS0JLR0hLenhEeHppTmw1eXhvTzBdLS0+PC9nPjwvc3ZnPg=='>

<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="Mock-是什麼？為什麼要用它？"><a href="#Mock-是什麼？為什麼要用它？" class="headerlink" title="Mock 是什麼？為什麼要用它？"></a>Mock 是什麼？為什麼要用它？</h2><p>Mock 按造字面上解釋就是 <strong>模擬</strong>，在許多的測試中(單元、整合、黑&#x2F;白箱、回歸測試…)都可能因環境限制導致一些函式無法在測試中執行完成，因此這個時候就需要使用 Mock 來模擬回傳值，以下 <a href="https://docs.pytest.org/en/stable/">pytest</a> 搭配 unittest 函式庫加上一些範例帶大家使用。</p>
<blockquote>
<p>小知識：Mock 時只會模擬引入的的物件(import xxx…)，因此設定 Mock 變數要調整在測試裡的使用方法。</p>
</blockquote>
<h2 id="Class-vs-Function"><a href="#Class-vs-Function" class="headerlink" title="Class vs Function"></a>Class vs Function</h2><h3 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL; DR"></a>TL; DR</h3><ul>
<li>物件(Class)不會有回傳值，因此不用 return_value</li>
<li>函式(Function)若有回傳值(return ooo)，則需要 return_value</li>
</ul>
<h3 id="Function-說明"><a href="#Function-說明" class="headerlink" title="Function 說明"></a>Function 說明</h3><p>許多時候在撰寫程式碼時為了區分邏輯，會很習慣將某個區塊包裝成函式來表示它的用途， 既然在測試中要使用 Mock 來模擬函式的<strong>回傳值</strong>，我們就需要在 pytest 中使用 <strong>return_value</strong> 來幫助我們在執行函式時模擬一個回傳值，範例如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> mock <span class="keyword">import</span> patch</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestClient</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line"><span class="meta">  @patch(<span class="params"><span class="string">&#x27;path.to.function&#x27;</span></span>)</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test_campaign</span>(<span class="params">mock_function</span>):</span></span><br><span class="line">    mock_function.return_value = &#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>&#125;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<h3 id="步驟說明"><a href="#步驟說明" class="headerlink" title="步驟說明"></a>步驟說明</h3><ol>
<li><code>@patch</code>: 從當前專案目錄出發，以 <code>&quot;.&quot;</code> 的方式代表路徑，最後一個值通常為要 Mock 的<strong>物件(class)</strong>&#x2F;**函式(function)**。</li>
<li><code>mock_function</code>: 代表你剛剛模擬的<strong>物件</strong>&#x2F;<strong>函式</strong>。</li>
<li><code>mock_function.return_value</code>: 如果為函式並且有回傳值，則接 <strong>return_value</strong>，若為**物件(class)**則無需接任何參數。</li>
</ol>
<h3 id="Class-Function-使用說明"><a href="#Class-Function-使用說明" class="headerlink" title="Class + Function 使用說明"></a>Class + Function 使用說明</h3><p>這邊以常見的 SQLAlchemy 為例，一般都會先定義一個 Model，這邊我使用我的 PleagueBot 的<a href="https://github.com/louis70109/PLeagueBot/blob/master/models/stream.py#L8"> Stream 為例</a>，並使用他去查詢:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> models <span class="keyword">import</span> Stream</span><br><span class="line">...</span><br><span class="line">rows: <span class="built_in">list</span>[Stream] = Stream.query.order_by(text(<span class="string">&quot;stream.id desc&quot;</span>)).limit(<span class="number">12</span>).<span class="built_in">all</span>()</span><br></pre></td></tr></table></figure>

<p>因為是從 models 這個資料夾引入 Stream 這個 Class 物件，此時在測試時模擬這段時就要這樣寫：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@patch(<span class="params"><span class="string">&#x27;models.Stream&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_stream</span>(<span class="params">mock_stream</span>):</span></span><br><span class="line">    mock_stream.query.order_by.return_value.limit.return_value.<span class="built_in">all</span>.return_value = &#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h3><ul>
<li>測試的函式不需接函式裡面的參數值</li>
<li>為什麼要一直接 <strong>return_value</strong>？因為程式為一層一層接下去，每一層都會有個回傳值，因此就需要一直接著下去讓 <code>rows</code> 這個變數的值得到正確的回傳值。<ul>
<li>用錯的話印出來會看到 MagicMock 的物件在裡面，此時就代表有地方沒處理好。</li>
<li>若要更詳細每個函式的回傳值，則可以分開寫。</li>
</ul>
</li>
<li>可以使用 <strong>assert_called_once()</strong> 來確保該 Mock 值在測試階段是否有被順利執行一次。</li>
</ul>
<h2 id="全域-Global-變數怎麼處理？使用-MonkeyPatch-來處理"><a href="#全域-Global-變數怎麼處理？使用-MonkeyPatch-來處理" class="headerlink" title="全域(Global)變數怎麼處理？使用 MonkeyPatch 來處理"></a>全域(Global)變數怎麼處理？使用 MonkeyPatch 來處理</h2><p>一個應用程式中多少都會有些全域變數，可能是<strong>環境變數</strong>或是某些<strong>設定值</strong>(<strong>預設值</strong>)，常見一般都是<strong>全大寫</strong>代表全域變數居多。但是在單元測試時通常都只針對某個函式去處理，在函式外層的全域變數要怎麼處理呢？這裡我使用 MonkeyPatch 來針對變數做處理，使用 <strong>setattr</strong>(更多用法參考<a href="https://docs.pytest.org/en/stable/monkeypatch.html">官方文件</a>)，範例如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> _pytest.monkeypatch <span class="keyword">import</span> MonkeyPatch</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestClient</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        MonkeyPatch().<span class="built_in">setattr</span>(<span class="string">&#x27;utils.flex.SHARE_LINK&#x27;</span>, <span class="string">&quot;https://liff.line.me/TEST_ID&quot;</span>)</span><br></pre></td></tr></table></figure>

<ol>
<li>在 <strong>utils</strong> 資料夾下的 <strong>flex.py</strong> 有個 <strong>SHARE_LINK</strong> 的全域變數，將它設定為 <a href="https://liff.line.me/TEST_ID%E3%80%82">https://liff.line.me/TEST_ID。</a></li>
<li>pytest 內建有 MonkeyPatch，引入時要注意。</li>
<li>用法與 Mock 雷同，路徑一樣是用 <code>&quot;.&quot;</code> 來代表，最後一個值則為<strong>目標物件</strong>(<strong>變數</strong>)。</li>
<li>放在 setUp 代表在測試程式開始跑的初始階段，即設定相關模擬參數。</li>
</ol>
<h2 id="期望值過長？放成-JSON-檔吧！"><a href="#期望值過長？放成-JSON-檔吧！" class="headerlink" title="期望值過長？放成 JSON 檔吧！"></a>期望值過長？放成 JSON 檔吧！</h2><p>這邊是組合應用，以 LINE Bot 的 <a href="https://developers.line.biz/en/reference/messaging-api/#f-carousel">Flex Message 為例</a>，常常要輸出時 JSON 都可能是幾百行，放在測試函式中會造成讀取上的困擾(佔版面)，因此這裡我推薦使用一個檔案把期望值存下來，並用開檔案的方式讀取資料，如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(os.path.abspath(os.path.dirname(__file__))+<span class="string">&#x27;/tests/rank_flex.json&#x27;</span>)</span><br><span class="line">expected = json.load(f)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<h2 id="下-Pytest-指令都沒反應？"><a href="#下-Pytest-指令都沒反應？" class="headerlink" title="下 Pytest 指令都沒反應？"></a>下 Pytest 指令都沒反應？</h2><p>Python 在以前的版本有個規定就是需要在資料夾下加入 <strong>__init__.py</strong> 這個檔案，雖然在 3 版之後可以不需加入這檔案，但因為許多套件都需要向下相容支援 2 版的用戶，還是會需要在資料夾下 <strong>__init__.py</strong>，因此若在執行 pytest 時沒有看到類似以下的資訊，就代表在你的測試資料夾下需要加入 <strong>__init__.py</strong> 的空檔案喔！</p>
<figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line">collected <span class="number">10</span> items</span><br><span class="line"></span><br><span class="line">tests/test_flex.py <span class="params">...</span><span class="params">...</span><span class="params">...</span>.             <span class="meta">[</span><span class="number">100</span>%<span class="meta">]</span></span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>藉由此篇記錄一些每次回來寫測試時容易遇到的問題，透過此篇整理也讓我對於使用上有更清楚了些，讓 Side Project 也可以有品質的加持 😊，之後若有學到相關做法也會再持續更新！</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pytest</tag>
        <tag>Mock</tag>
      </tags>
  </entry>
  <entry>
    <title>續篇 — serverless + WSGI + flask + chatbot 的開發指南</title>
    <url>/2019/11/02/serverless-WSGI-flask-chatbot-development-guide/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>如果還不知道 Serverless (以下簡稱 sls )的朋友可以先看我<a href="https://nijialin.com/2019/10/31/%E4%BD%BF%E7%94%A8-Serverless-Line-Message-API-%E5%9C%A8-AWS-%E4%B8%8A%E6%89%93%E9%80%A0%E4%B8%80%E5%80%8B-Echo-bot/">上篇文章</a>，裡頭有介紹 <a href="https://github.com/louis70109/aws-line-echo-bot">Python</a> 以及 <a href="https://github.com/louis70109/aws-ruby-line-echo-bot">Ruby</a> 的範例。<br>還沒接觸 Serverless 之前，當開發完一包程式時就將它部署至 Heroku，實在是有夠方便又快速(還是免費的)。不過有個問題是當程式沒在運行時他會睡覺，身為一個免費仔做的小專案這樣是夠的，做為一個貪心的免費仔怎能容許睡覺睡這麼久 🤤！但若是照著我上篇分享的文章做，佈署程式沒問題，但就開發機器人我都要佈署才能測試，這未免也太不人性了 😒。<span id="more"></span><br>既然上次都用 Python 來寫了，為了解決這個問題，本篇會介紹如何在 Serverless 上導入 WSGI &amp; Flask，讓我們再開發時不僅可以在本地端 auto-reload，也可以搭配 ngrok 讓 chatbot wehook 能夠打過來做測試。</p>
<div class="tenor-gif-embed" data-postid="14472399" data-share-method="host" data-width="100%" data-aspect-ratio="2.2232142857142856"><a href="https://tenor.com/view/minions-amazing-cheer-yes-excited-gif-14472399">Minions Amazing GIF</a> from <a href="https://tenor.com/search/minions-gifs">Minions GIFs</a></div><script type="text/javascript" async src="https://tenor.com/embed.js"></script>

<blockquote>
<p>順便慶祝一下 python 以及 ruby 的兩個範例都過 Serverless 的 PR 了 ✌️</p>
</blockquote>
<p><img src="https://i.imgur.com/PVcuACel.png"><br><img src="https://i.imgur.com/RmqPM0bl.png"></p>
<h1 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h1><p>這次的主題是延續上次的文章，過程中若有像是 AWS key 之類的問題可以回顧一下～</p>
<ul>
<li><a href="https://nijialin.com/2019/10/31/%E4%BD%BF%E7%94%A8-Serverless-Line-Message-API-%E5%9C%A8-AWS-%E4%B8%8A%E6%89%93%E9%80%A0%E4%B8%80%E5%80%8B-Echo-bot/">使用 Serverless &amp; LINE Message API 在 AWS 上打造一個 Echo bot</a></li>
<li><a href="https://github.com/louis70109/aws-line-echo-bot?source=post_page-----f11de7dee7aa----------------------">aws-line-echo-bot</a></li>
</ul>
<p>首先先透過 sls 至 Github 將 Python 範例抓下來並建專案。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ serverless install --url https://github.com/louis70109/aws-line-echo-bot -n &lt;YOUR_FILE_NAME&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;YOUR_FILE_NAME&gt;</span><br></pre></td></tr></table></figure>

<p>接著參考 <a href="https://serverless.com/plugins/serverless-wsgi/">官方文件</a> 上的實例，引入 WSGI &amp; requirements Plugin。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sls plugin install -n serverless-wsgi</span><br><span class="line">$ sls plugin install -n serverless-python-requirements</span><br></pre></td></tr></table></figure>

<p>接著加入 Flask 以及 line-bot-sdk 的相依套件版本(寫這篇時是使用 Flask 1.0.2 以及 line-bot-sdk 1.12.1)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> “Flask==1.0.2\nline-bot-sdk==1.12.1” &gt; requirements.txt</span><br><span class="line">$ pip install -r requirements.txt -—user</span><br></pre></td></tr></table></figure>

<p>置換以下內容至 serverless.yml，讓 WSGI 去處理路由。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">service:</span> <span class="string">&lt;YOUR_FILE_NAME&gt;</span></span><br><span class="line"><span class="attr">provider:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">aws</span></span><br><span class="line">  <span class="attr">runtime:</span> <span class="string">python3.7</span></span><br><span class="line"><span class="attr">functions:</span></span><br><span class="line">  <span class="attr">api:</span></span><br><span class="line">    <span class="attr">handler:</span> <span class="string">wsgi_handler.handler</span></span><br><span class="line">    <span class="attr">events:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span> <span class="string">ANY</span> <span class="string">/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">http:</span> <span class="string">ANY</span> &#123;<span class="string">proxy+</span>&#125;</span><br><span class="line"><span class="attr">custom:</span></span><br><span class="line">  <span class="attr">wsgi:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">api.app</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-python-requirements</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">serverless-wsgi</span></span><br></pre></td></tr></table></figure>

<p>新增 api.py 並加入以下內容 (記得要換 chatbot token 哦！)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, abort</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> linebot <span class="keyword">import</span> (</span><br><span class="line">    LineBotApi, WebhookHandler</span><br><span class="line">)</span><br><span class="line"><span class="keyword">from</span> linebot.exceptions <span class="keyword">import</span> (</span><br><span class="line">    InvalidSignatureError</span><br><span class="line">)</span><br><span class="line"><span class="keyword">from</span> linebot.models <span class="keyword">import</span> (</span><br><span class="line">    MessageEvent, TextMessage, TextSendMessage,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/webhook&quot;</span>, methods=[<span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">webhook</span>():</span></span><br><span class="line">    line_bot_api = LineBotApi(<span class="string">&#x27;YOUR_CHANNEL_TOKEN&#x27;</span>)</span><br><span class="line">    handler = WebhookHandler(<span class="string">&#x27;YOUR_CNANNEL_SECRET_KEY&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># get X-Line-Signature header value</span></span><br><span class="line">    signature = request.headers[<span class="string">&#x27;X-Line-Signature&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    body = request.get_data(as_text=<span class="literal">True</span>)</span><br><span class="line">    event = json.loads(body)</span><br><span class="line">    print(event)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        handler.handle(body, signature)</span><br><span class="line">    <span class="keyword">except</span> InvalidSignatureError:</span><br><span class="line">        print(</span><br><span class="line">            <span class="string">&quot;Invalid signature. Please check your channel access token/channel secret.&quot;</span>)</span><br><span class="line">        abort(<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">    token = event[<span class="string">&#x27;events&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;replyToken&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> token == <span class="string">&quot;00000000000000000000000000000000&quot;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        line_bot_api.reply_message(token, TextSendMessage(</span><br><span class="line">            text=event[<span class="string">&#x27;events&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;message&#x27;</span>][<span class="string">&#x27;text&#x27;</span>]))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;OK&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>接著就透過 WSGI 起一個 local server(預設 port 為 5000)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sls wsgi serve</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/zVY6YYB.png"></p>
<p>並加上 ngrok 並指定用 5000 port</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./ngrok http 5000</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/K40h9e8.png"></p>
<p>將 ngrok 產生的網址貼進 webhook 欄位並加上 &#x2F;wehbook 。<br>(註: 透過 sls 起的 local server 並不會有 &#x2F;dev 或是 &#x2F;prod 開頭的網址哦！)<br><img src="https://i.imgur.com/0BzEsP1.png"></p>
<p>若測試流程都順利的話，最後就是 Deploy 上 AWS 囉！</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sls deploy</span></span><br></pre></td></tr></table></figure>

<p>佈署完應該會看到類似以下內容：<br><img src="https://i.imgur.com/vAiRaZS.png"></p>
<p>這裡大家可能會有個疑慮，為什麼上篇文章的 endpoints 會幫忙顯示路由，但這邊沒有呢？因為上篇文章的佈屬方法是屬於一個 function 對應一個 API，所以若寫了很多路由的話，在 AWS Dashboard 裡就會看到一大堆的 function，雖然佈署時都幫你顯示他的路由，但在後續管理上就會很麻煩。<br>而這次的實作只建立出一個 Lambda，透過 WSGI 幫忙轉發到裡面的路由，使用時只要更改 {proxy} 改自己寫的路由，這邊就是改成 &#x2F;webhook 就可以測試囉！</p>
<blockquote>
<p>若是玩完不想留著的話可以下以下指令來刪除這個專案有用到的 AWS 資源。</p>
</blockquote>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">sls <span class="built_in">remove</span></span><br></pre></td></tr></table></figure>

<h1 id="後記"><a href="#後記" class="headerlink" title="後記"></a>後記</h1><p>這次只是將上次的寫的 <a href="https://github.com/louis70109/aws-line-echo-bot">aws-line-echo-bot</a> 更新並加入 WSGI 以及 flask，在寫上篇文章當時在測試程式都要部署上去，或是用 serverless 的 invoke 來做本地端的模擬測試，但是要是接了像是 Line Message API 這類的第三方服務的話，根本沒辦法自己去模擬 replyToken 之類的參數，因此這次套用了 WSGI 以及 Flask 讓我可以在本地端搭配 ngrok 先測試完之後再將程式佈署上 AWS，如此以來既讓我的程式達到 Serverless，又不會為測試而影響到太多開發時間。<br>不過都只有 API 相關的路由好像有點難應用，接下來要研究一下怎麼讓前端框架可以一起上 AWS 並擁有 SSL (上次玩只到 http 沒有 SSL)，並加上 RDS 讓整體服務可以串起來，雖然這樣不像 Heroku 這麼人性化一鍵通包，不過至少也是讓服務可以個別管理擴充呢！<br>有興趣的朋友們可以參考我的 Github，若覺得不錯給個星星 ⭐️ 或是掌聲 👏 鼓勵我繼續研究下一個主題 😃！</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><blockquote>
<p>免費方案，AWS <a href="https://aws.amazon.com/tw/free/faqs/">常見問與答集</a></p>
</blockquote>
<p><img src="https://i.imgur.com/OTxONmI.png"><br><img src="https://i.imgur.com/ymZyKyN.png"></p>
<p>如果在做機器人時有用到類似 numpy, psycopg2 … 的套件的話，請參考 這篇文章，簡單來說因為 AWS 不會幫你編譯套件，所以需要透過 docker 來幫忙打包編譯並上傳。</p>
]]></content>
      <categories>
        <category>Serverless</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>LINE</tag>
        <tag>Serverless</tag>
      </tags>
  </entry>
  <entry>
    <title>做 LINE Chatbot Side Project 可能會遇到的一些眉角</title>
    <url>/2021/02/03/side-project-p-league/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><img src="https://nijialin.com/images/2021/pleague/P+QR.png"></p>
<p>跟在實事上的任何作品我相信都紅很快，如 口罩地圖、動森揪團系統…，只是這些題目紅的時候我個人沒有那麼大的憧憬去做相關題目。去年原本有<code>東南亞職業聯賽</code>(<strong>ABL</strong>)，我也做了一隻 Chatbot，只是當時用比較土炮的方法用 CSV 輸入議程，每次查詢時都進 CSV 查詢，但也適逢疫情關係而聯盟停辦進而機器人荒廢。但在最近出現了一個籃球新聯盟 <code>P+ league</code>，而我既然學 Python 也一段時間了也該拿來試試看爬蟲，因此下定決定開爬，以下會記錄一下在這過程中我有遇到的問題。</p>
<ul>
<li><a href="https://github.com/louis70109/PLeagueBot">P+ League 助理</a></li>
<li><a href="https://line.me/R/ti/p/%40611lsquw">加入好友</a><span id="more"></span></li>
</ul>
<h1 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h1><img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzMDlweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjUzMnB4O2hlaWdodDozMDlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MzIgMzA5IiB3aWR0aD0iNTMycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tZW50aXR5IFVzZXItLT48ZyBpZD0iZWxlbV9Vc2VyIj48ZWxsaXBzZSBjeD0iMjEuNSIgY3k9IjEyNi41NjU5IiBmaWxsPSIjRjFGMUYxIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yMS41LDEzNC41NjU5IEwyMS41LDE2MS41NjU5IE04LjUsMTQyLjU2NTkgTDM0LjUsMTQyLjU2NTkgTTIxLjUsMTYxLjU2NTkgTDguNSwxNzYuNTY1OSBNMjEuNSwxNjEuNTY1OSBMMzQuNSwxNzYuNTY1OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSI2IiB5PSIxOTEuMDYxIj5Vc2VyPC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9DaGF0Ym90Ij48ZWxsaXBzZSBjeD0iMTY3LjM0MDIiIGN5PSIxNTYuMjk5NyIgZmlsbD0iI0YxRjFGMSIgcng9IjU0Ljg0MDIiIHJ5PSIxNC43MzM4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MCIgeD0iMTM0LjM0MDIiIHk9IjE2MC4wNDczIj5DaGF0Ym90PC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9GbGV4ICYjMjA5ODk7JiMyNDMzNTsiPjxlbGxpcHNlIGN4PSIxMjMuNTg2OCIgY3k9IjI2LjgwNTYiIGZpbGw9IiNGMUYxRjEiIHJ4PSI1NS41ODY4IiByeT0iMTQuNzM5NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjEiIHg9IjkwLjA4NjgiIHk9IjMwLjU1MzIiPkZsZXggJiMyMDk4OTsmIzI0MzM1OzwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fJiMzNjAzOTsmIzI2MDA5OyYjMjQyMzU7Ij48ZWxsaXBzZSBjeD0iMzM1LjQwNzIiIGN5PSIyNi42NTciIGZpbGw9IiNGMUYxRjEiIHJ4PSI0MS40MDcyIiByeT0iMTQuNTkxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIiIHg9IjMxMS40ODIiIHk9IjMwLjM4NjUiPiYjMzYwMzk7JiMyNjAwOTsmIzI0MjM1OzwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fJiMyMDAyNzsmIzI3MjMxOyI+PGVsbGlwc2UgY3g9IjMzNS4yODQzIiBjeT0iMTU2LjA4OTUiIGZpbGw9IiNGMUYxRjEiIHJ4PSIzMS4yODQzIiByeT0iMTQuNTIzNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjgiIHg9IjMyMS4yODQzIiB5PSIxNTguOTM2MiI+JiMyMDAyNzsmIzI3MjMxOzwvdGV4dD48L2c+PGcgaWQ9ImVsZW1fJiMyMzQ0ODsmIzI2MDQxOyYjMzIxNzg7JiMzMTQ0OTsiPjxlbGxpcHNlIGN4PSIyNDkuMzU0MyIgY3k9IjI4Ny43NzQzIiBmaWxsPSIjRjFGMUYxIiByeD0iNTEuODU0MyIgcnk9IjE0LjcwODQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU2IiB4PSIyMTguMzU0MyIgeT0iMjkxLjUyMTkiPiYjMjM0NDg7JiMyNjA0MTsmIzMyMTc4OyYjMzE0NDk7PC90ZXh0PjwvZz48ZyBpZD0iZWxlbV9Zb3V0dWJlICYjMzg5NzE7JiMzNjk0NzsiPjxlbGxpcHNlIGN4PSI0MjEuNjk1MiIgY3k9IjI4Ny40MDUiIGZpbGw9IiNGMUYxRjEiIHJ4PSI2OS42OTUyIiByeT0iMTYuMzM5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MiIgeD0iMzcyLjY5NTIiIHk9IjI5MS4xNTI1Ij5Zb3V0dWJlICYjMzg5NzE7JiMzNjk0Nzs8L3RleHQ+PC9nPjwhLS1saW5rIFVzZXIgdG8gQ2hhdGJvdC0tPjxnIGlkPSJsaW5rX1VzZXJfQ2hhdGJvdCI+PHBhdGggZD0iTTM3LjEyNDYsMTU2LjA2NTkgQzUzLjk1MiwxNTYuMDY1OSA4MS43Njc0LDE1Ni4wNjU5IDEwNy4zOTQsMTU2LjA2NTkgIiBmaWxsPSJub25lIiBpZD0iVXNlci10by1DaGF0Ym90IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjExMi40ODYsMTU2LjA2NTksMTAzLjQ4NiwxNTIuMDY1OSwxMDcuNDg2LDE1Ni4wNjU5LDEwMy40ODYsMTYwLjA2NTksMTEyLjQ4NiwxNTYuMDY1OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjU1LjI1IiB5PSIxNDkuMTMyOCI+JiMyMTE1MjsmIzIyOTA5OyYjMjE0NTE7PC90ZXh0PjwvZz48IS0tcmV2ZXJzZSBsaW5rIEZsZXggPz8gdG8gQ2hhdGJvdC0tPjxnIGlkPSJsaW5rX0ZsZXggJiMyMDk4OTsmIzI0MzM1O19DaGF0Ym90Ij48cGF0aCBkPSJNMTUwLjI1Miw0Mi44OTk5IEMxNjAuMDk0LDUwLjA3MzkgMTcwLjEzOCw1OS41ODg5IDE3NS41LDcxLjA2NTkgQzE4Ni4yMjgsOTQuMDI2OSAxNzguODAzLDEyNC4zMTU5IDE3Mi44NjEsMTQxLjU0MjkgIiBmaWxsPSJub25lIiBpZD0iRmxleCAmIzIwOTg5OyYjMjQzMzU7LWJhY2t0by1DaGF0Ym90IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0Ni4wNiwzOS45Njg5LDE1MS4xNDI0LDQ4LjQwNTEsMTUwLjE1NzIsNDIuODM0NywxNTUuNzI3Niw0MS44NDk1LDE0Ni4wNiwzOS45Njg5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iMTgxLjUiIHk9Ijg0LjEzMjgiPiYjMzU1MzE7JiMyNzcxNDsmIzI5OTg2OyYjMjk5ODM7JiMyNzE3MTsmIzI2NDk1OzwvdGV4dD48L2c+PCEtLWxpbmsgRmxleCA/PyB0byBDaGF0Ym90LS0+PGcgaWQ9ImxpbmtfRmxleCAmIzIwOTg5OyYjMjQzMzU7X0NoYXRib3QiPjxwYXRoIGQ9Ik0xMTguOTYyLDQxLjM3ODkgQzExNS41OSw1My44Nzg5IDExMi4zNzgsNzIuNjM4OSAxMTcuNSw4OC4wNjU5IEMxMjMuODgzLDEwNy4yODk5IDEzOC4xNjYsMTI1LjQ2NTkgMTQ5LjgzOSwxMzguMDIzOSAiIGZpbGw9Im5vbmUiIGlkPSJGbGV4ICYjMjA5ODk7JiMyNDMzNTstdG8tQ2hhdGJvdCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNTMuMzY3LDE0MS43MzQ5LDE1MC4wNjQ3LDEzMi40NTYyLDE0OS45MjE5LDEzOC4xMTEyLDE0NC4yNjY4LDEzNy45Njg0LDE1My4zNjcsMTQxLjczNDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSIxMTguNSIgeT0iODQuMTMyOCI+JiMyMjIzODsmIzI1MDMzOyYjMjcxNzE7JiMyNjQ5NTs8L3RleHQ+PC9nPjwhLS1saW5rIEZsZXggPz8gdG8gPz8/LS0+PGcgaWQ9ImxpbmtfRmxleCAmIzIwOTg5OyYjMjQzMzU7XyYjMzYwMzk7JiMyNjAwOTsmIzI0MjM1OyI+PHBhdGggZD0iTTE4NC4zMTksMjYuNTY1OSBDMjE3LjUwOCwyNi41NjU5IDI1Ny45NjcsMjYuNTY1OSAyODguNjc2LDI2LjU2NTkgIiBmaWxsPSJub25lIiBpZD0iRmxleCAmIzIwOTg5OyYjMjQzMzU7LSYjMzYwMzk7JiMyNjAwOTsmIzI0MjM1OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNzkuMjAxLDI2LjU2NTksMTg4LjIwMSwzMC41NjU5LDE4NC4yMDEsMjYuNTY1OSwxODguMjAxLDIyLjU2NTksMTc5LjIwMSwyNi41NjU5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI5My45MDQsMjYuNTY1OSwyODQuOTA0LDIyLjU2NTksMjg4LjkwNCwyNi41NjU5LDI4NC45MDQsMzAuNTY1OSwyOTMuOTA0LDI2LjU2NTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIxOTcuNSIgeT0iMTkuNjMyOCI+JiMyMTQ2MjsmIzI0NDcxOyYjMzA0NTY7JiMzODM2NDsmIzM2MDM5OyYjMzUzMzg7PC90ZXh0PjwvZz48IS0tbGluayA/PyB0byA/Pz8/LS0+PGcgaWQ9ImxpbmtfJiMyMDAyNzsmIzI3MjMxO18mIzIzNDQ4OyYjMjYwNDE7JiMzMjE3ODsmIzMxNDQ5OyI+PHBhdGggZD0iTTMxMy4xNjgsMTY2LjU4MjkgQzI5MS42MjYsMTc3LjEyNjkgMjYwLjMxNCwxOTYuMzc1OSAyNDYuNSwyMjQuMDY1OSBDMjM5LjY5MywyMzcuNzEwNiAyNDEuMjUzLDI1NS4xODI0IDI0NC4wNSwyNjguMTgyMyAiIGZpbGw9Im5vbmUiIGlkPSImIzIwMDI3OyYjMjcyMzE7LXRvLSYjMjM0NDg7JiMyNjA0MTsmIzMyMTc4OyYjMzE0NDk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0NS4yMTMsMjczLjEwMzUsMjQ3LjAzNTcsMjYzLjQyNDgsMjQ0LjA2MjksMjY4LjIzNzYsMjM5LjI1MDIsMjY1LjI2NDksMjQ1LjIxMywyNzMuMTAzNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwIiB4PSIyNDcuNSIgeT0iMjM3LjEzMjgiPiYjMjM0NTA7JiMyNjE3ODsmIzI1MjM1OyYjMjE0NjI7JiMzMDQ1NjsmIzM4MzY0OyYjMjU5NzY7JiMyNTgxODsmIzM2MDM5OyYjMzUzMzg7PC90ZXh0PjwvZz48IS0tbGluayA/PyB0byBZb3V0dWJlID8/LS0+PGcgaWQ9ImxpbmtfJiMyMDAyNzsmIzI3MjMxO19Zb3V0dWJlICYjMzg5NzE7JiMzNjk0NzsiPjxwYXRoIGQ9Ik0zNDUuMDc3LDE3MC4yNjc5IEMzNTQuNzI4LDE4My42NzY5IDM2OS45NSwyMDUuMTEwMSAzODIuNSwyMjQuMDY1OSBDMzkxLjgwNywyMzguMTIzIDQwMS44NjksMjU0LjI3NCA0MDkuNDQxLDI2Ni42MzU4ICIgZmlsbD0ibm9uZSIgaWQ9IiYjMjAwMjc7JiMyNzIzMTstdG8tWW91dHViZSAmIzM4OTcxOyYjMzY5NDc7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQxMi4xMTIsMjcxLjAwNzksNDEwLjgzMzUsMjYxLjI0MjQsNDA5LjUwNTQsMjY2Ljc0MTEsNDA0LjAwNjYsMjY1LjQxMyw0MTIuMTEyLDI3MS4wMDc5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAiIHg9IjM5NC41IiB5PSIyMzcuMTMyOCI+JiMyMzQ1MDsmIzI2MTc4OyYjMjUyMzU7JiMyMTQ2MjsmIzMwNDU2OyYjMzgzNjQ7JiMyNTk3NjsmIzI1ODE4OyYjMzYwMzk7JiMzNTMzODs8L3RleHQ+PC9nPjwhLS1yZXZlcnNlIGxpbmsgPz8/IHRvID8/LS0+PGcgaWQ9ImxpbmtfJiMzNjAzOTsmIzI2MDA5OyYjMjQyMzU7XyYjMjAwMjc7JiMyNzIzMTsiPjxwYXRoIGQ9Ik0zMzUuNSw0Ni40Mzc5IEMzMzUuNSw3Mi40NDU5IDMzNS41LDExOC42NzU5IDMzNS41LDE0MS41MTg5ICIgZmlsbD0ibm9uZSIgaWQ9IiYjMzYwMzk7JiMyNjAwOTsmIzI0MjM1Oy1iYWNrdG8tJiMyMDAyNzsmIzI3MjMxOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMzUuNSw0MS4yMTA5LDMzMS41LDUwLjIxMDksMzM1LjUsNDYuMjEwOSwzMzkuNSw1MC4yMTA5LDMzNS41LDQxLjIxMDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSIzMzYuNSIgeT0iODQuMTMyOCI+JiMyMDc4NjsmIzIzMzg0OyYjMzYwMzk7JiMyNjAwOTs8L3RleHQ+PC9nPjwhLS1TUkM9WzJvckVCTEJHQlNmQ3BvWkhqTEZHU0N2OEI0ZEFCejZxS2RaUWpVM2ZxaHJGLXhrdnU4OEFrZ0s1ODRMa0VRYUwyYV9SenB4VHFtekstNjlyenhFREpTLWRCN2UtUFZ3cDVPa1ZwVHRGWFE5Mm1HUFhfOGxEeFMtY3BOb3dRcE44V2x2ZkpfVERWcHZ4bnlsZlN1M1lCclBxZVViM1N5X2lVU19RRXc0TVM2YXlzUjd4c1Nodkc0S2YtVUx2ODlMRnJ5cnVEY3RkeXNzUmRnLVUyTEEtUmpRcGNLdEZrWU8zaE83T3lNcGdaY1VKUHk1aW1qMFZjTHpRS2ZnS2dsMW9tVXdOWlBEOUNHNElBMlhVUXpkcVRFcUNZMFcwXS0tPjwvZz48L3N2Zz4='>

<p>過往在很習慣寫完一個 side project 就在技術社團發文介紹作品，但因為 Chatbot 較多是在應用層面，因此主力若在技術社團上發則會可能會遇到一些問題：</p>
<ul>
<li>受眾不同</li>
<li>面向不是範例或是研究的 Code</li>
</ul>
<p>因此在這次我就嘗試了新的作法：</p>
<ul>
<li>尋找 ptt 台灣相關籃球的版，最後找到<code>basketballTW</code></li>
<li>Facebook 一樣找一輪，找到 <a href="https://www.facebook.com/groups/292574422078791">P.LEAGUE + 台灣新職業籃球聯賽 (球迷討論區)</a></li>
<li>LINE OpenChat 有貼，但目前只有一個隊伍有討論區，效果有限</li>
<li>結合 Chatbot 與 LIFF 的 ShareTargetPicker 的分享，把影片、戰績、比分分享給朋友<ul>
<li><a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker 文件</a></li>
</ul>
</li>
</ul>
<p>這之間看著各個社群的推推(像是 <a href="https://www.ptt.cc/bbs/basketballTW/M.1610890596.A.AA5.html">ptt</a>)真的很有成就感 😁，也讓好友達到目前的 **450+**，當然再也別吝嗇將服務推上 GitHub 並社群的朋友可以借鏡來開發更多不一樣的服務，既然分享了我好友成長的途徑，積下來就來看一下我當中的一些技術方面註解吧！</p>
<h1 id="Flex-與-Carousel-如何共用同個-content-內容"><a href="#Flex-與-Carousel-如何共用同個-content-內容" class="headerlink" title="Flex 與 Carousel 如何共用同個 content (內容)"></a>Flex 與 Carousel 如何共用同個 content (內容)</h1><p>一般開發上很容易將 Flex 與 Carousel 搞混，剛好在這裡開發就一起分享，Carousel 與我們常在 <a href="https://developers.line.biz/flex-simulator/">Flex Message Simulator</a> 上複製的 JSON 當中 bubble 是同一層，詳細可以參考<a href="https://developers.line.biz/en/docs/messaging-api/flex-message-elements/#container">官方文件</a>。</p>
<p>但在我們最後要回應給 LINE 時會發類似以下的訊息:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">line_bot_api.reply_message(</span><br><span class="line">    event.reply_token,</span><br><span class="line">    messages=FlexSendMessage(</span><br><span class="line">      alt_text=<span class="string">&quot;測試訊息&quot;</span>,</span><br><span class="line">      contents=content,</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>最後與 LINE 對應的都會是 Flex Message 而不是 Carousel，這邊在再開發時需要多注意。</p>
<p>那現在知道 Bubble 與 Carousel 是同一層了，那兩者的差異在哪呢？Bubble 屬於一個較有彈性的樣式，雖然在文件中定義與 Carousel 同樣，但它是可以被放在 Carousel 裡面，到這邊大家應該有點搞混了，我們直接用範例展示。</p>
<p><img src="https://nijialin.com/images/2021/pleague/1.png"></p>
<p>以<strong>P+ 助理</strong>新聞為例，當前的 Carousel 則是由一堆 Bubble 所組成的，Code 則會像以下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">line_bot_api.reply_message(</span><br><span class="line">    event.reply_token,</span><br><span class="line">    messages=FlexSendMessage(</span><br><span class="line">      alt_text=<span class="string">&quot;測試訊息&quot;</span>,</span><br><span class="line">      contents=&#123;</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;carousel&quot;</span>,</span><br><span class="line">        <span class="string">&quot;contents&quot;</span>: [&#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;bubble&#x27;</span>, ...以下省略樣式<span class="number">1</span>&#125;, &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;bubble&#x27;</span>, ...以下省略樣式<span class="number">2</span>&#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>若今天我只是要送單一 Flex Message 訊息，此時我只要送一個 Bubble 的內容，因此樣式會長的像這樣：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">line_bot_api.reply_message(</span><br><span class="line">    event.reply_token,</span><br><span class="line">    messages=FlexSendMessage(</span><br><span class="line">      alt_text=<span class="string">&quot;測試訊息&quot;</span>,</span><br><span class="line">      contents=&#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;bubble&#x27;</span>, ...以下省略樣式<span class="number">1</span>&#125;,</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>有看到不一樣的地方嗎？沒錯差異只差再多了一個 <code>&quot;type&quot;: &quot;carousel&quot;</code> 的資訊，並指把很多的 Bubble 透過迴圈的方式<strong>加入</strong>陣列中，讓訊息能以圖卡的方式顯示，因此在這邊就可以把 FlexSendMessage 裡面的 <code>contents</code> 包裝成一個函式，透過一些簡易的判斷式來決定它輸出是 Carousel 或 單一 Bubble 訊息，將內容依照型別放入後出去就都沒問題囉！但要注意的是 contents 裡面不論是<strong>陣列</strong>或是<strong>物件</strong>都要是 Bubble 的 Type，才避免放入後出錯。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">message_type_condition</span>(<span class="params">alt: <span class="built_in">str</span>, contents: <span class="built_in">list</span> <span class="keyword">or</span> <span class="built_in">dict</span></span>):</span></span><br><span class="line">  output_flex_message: <span class="built_in">dict</span> = &#123;&#125;</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">type</span>(contents) == <span class="built_in">list</span>:</span><br><span class="line">    output_flex_message = &#123;</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;carousel&quot;</span>,</span><br><span class="line">        <span class="string">&quot;contents&quot;</span>: [*contents]</span><br><span class="line">      &#125;</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    output_flex_message = &#123;**contents&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> FlexSendMessage(</span><br><span class="line">      alt_text=alt,</span><br><span class="line">      contents=contents,</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

<p>到這有點離題了，讓我把主軸拉回 P+ Chatbot 身上吧！</p>
<h1 id="爬蟲時遇到-User-Agent-問題"><a href="#爬蟲時遇到-User-Agent-問題" class="headerlink" title="爬蟲時遇到 User-Agent 問題"></a>爬蟲時遇到 User-Agent 問題</h1><p>在開頭有看到整個服務的流程，在這個服務上最重要的就是爬蟲功能，當中我上線時遇到的第一個問題就是：在本地端爬蟲都可以順利抓到資料，但一上 Heroku 之後想說 Chatbot 沒反應，是不是資料庫沒資料？使用 <code>heroku run bash</code> 進去跑一次腳本之後發現陣列值都時空的(本地可以上線不行)？因此就乾脆把網頁內容整個印出來(範例)：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">res = requests.get(<span class="string">&#x27;https://example.com&#x27;</span>)</span><br><span class="line">soup = BeautifulSoup(res.content, <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(soup.pretty())</span><br></pre></td></tr></table></figure>

<p>發現一個很驚人的問題！當中的錯誤訊息認為我不是網頁因此擋下我的爬蟲(錯誤訊息待查)，實際原因是因為我沒有設定 <code>User-Agent</code> (<a href="https://stackoverflow.com/questions/27652543/how-to-use-python-requests-to-fake-a-browser-visit-a-k-a-and-generate-user-agent">參考</a>)，最後就將它加上，如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">res = requests.get(<span class="string">&#x27;https://example.com&#x27;</span>, headers=&#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Firefox browser\&#x27;s user-agent&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>這邊因為網站算小，因此不會有快取上的問題，而若讀者有遇到可以<a href="https://stackoverflow.com/questions/53899170/python-3-beautifulsoup-and-cache">參考設定</a></p>
</blockquote>
<p>過程中當然也別太頻繁去爬網站避免被擋下來，我設定白天每三個小時爬一次並同步於資料庫，而半夜則讓 Heroku 睡覺，如此一來就可以確保服務流程順暢啦。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>由於這些作品大部分都只是 Side Project，在功能的釋出上相對會較慢，且因為當前好友不多，因此我對於 Chatbot 的規劃則是一個月才通知所有使用者(藉由 Push Message 推播)，相信這樣的內容對於開發者(我)或是用戶的通知的次數也都會控制得較好(不會頻繁推播而被封鎖)，因此大家在 LINE 上開發 Chatbot 時評估功能盡量以 Reply 完成，真的有訊息一定給使用者的知道才推播，一方面避免浪費多餘的費用也能降低被封鎖率喔！希望此篇文章能對於你再開發 Chatbot 上有幫助</p>
<p><img src="https://nijialin.com/images/2021/pleague/2.png"></p>
]]></content>
      <categories>
        <category>Chatbot</category>
      </categories>
      <tags>
        <tag>Chatbot</tag>
        <tag>Crawler</tag>
        <tag>爬蟲</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Sentry 收集錯誤並將訊息送至 Slack</title>
    <url>/2019/11/12/sentry-in-serverless/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 <a href="https://www.facebook.com/groups/chatbot.tw/">Chatbot TW</a> 的 NiJia</p>
<p>當產品開發完上線後難免會遇到可能是邏輯上的 Bug、例外錯誤或是想記錄使用上的錯誤，當沒有工具時都只能等錯誤出來時乖乖的去翻 Log 找問題，對於每次出錯要 Debug 的我就覺得很困擾 😭。</p>
<p>公司強者寫 APP 的同事他們都很開心的在使用 Crashlytics 幫他們將 APP 出問題時將錯誤訊息丟上去，看了實在時羨慕，但那們寫 Web 的朋友要怎麼辦！</p>
<p>最近就發現了<code>Sentry</code>這個玩意兒(<strong>應該是有段時間的產品了</strong>)，支援了幾乎支持現在市場上主流的各種框架以及語言，且串接上也都很簡單就能實現，文件也都清楚解釋每個 API 的功能如何使用，以下就來介紹如何使用它吧 😎<br><img src="https://i.imgur.com/xVHa6qg.png"></p>
<blockquote>
<p>這邊顯示較常用的語言，還有支援很多其他種類的框架及語言</p>
</blockquote>
<h2 id="說明"><a href="#說明" class="headerlink" title="說明"></a>說明</h2><ul>
<li>文章的範例專案在此 -&gt; <a href="https://github.com/louis70109/aws-sentry-flask-example">https://github.com/louis70109/aws-sentry-flask-example</a></li>
<li>本篇是使用 flask 將 Sentry 透過 serverless 部署至 AWS 上 🗿</li>
</ul>
<h1 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h1><p>首先先到 <a href="https://sentry.io/welcome/">https://sentry.io/welcome/</a> <code>Get start</code></p>
<p><img src="https://i.imgur.com/LRIVYDH.jpg"></p>
<hr>
<p>這邊可以整合了<code>GitHub</code>或者<code>Azure DevOps</code>兩種 OAuth 的登入方式<br><img src="https://i.imgur.com/eIYugOF.png"></p>
<hr>
<p>接著就照著步驟來囉！<br><img src="https://i.imgur.com/5EDwA0N.png"></p>
<hr>
<p>選擇自己所使用的語言，這邊我使用 Flask(python) 框架來實作<br><img src="https://i.imgur.com/piHNxXB.png"></p>
<hr>
<p>接著官方會有個簡單的文件告訴你要如何實作這塊，這邊就先使用<code>pip</code>在本地安裝套件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install --upgrade <span class="string">&quot;sentry-sdk[flask]==0.13.2&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>若是使用雲端服務的話需要將<code>sentry-sdk[flask]==0.13.2</code>放入 requirements.txt 中</p>
</blockquote>
<p>將以下 init code 放入 api.py 裡，在 <code>app = Flask(__name__)</code> 之前</p>
<blockquote>
<p>這邊我將 Sentry 的 DSN 放入 .env 裡，若有參考這部分的朋友需要注意環境變數的地方喔！</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sentry_sdk</span><br><span class="line"><span class="keyword">from</span> sentry_sdk.integrations.flask <span class="keyword">import</span> FlaskIntegration</span><br><span class="line"></span><br><span class="line">sentry_sdk.init(</span><br><span class="line">    dsn=os.environ.get(<span class="string">&#x27;SENTRY_DSN&#x27;</span>),</span><br><span class="line">    integrations=[FlaskIntegration()]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/u9WJkZL.png"></p>
<hr>
<p>接著就開始丟錯誤上去看看狀態，我的專案上是串著 LINE Bot，功能只是當個應聲蟲，<strong>在這情況下只需要丟個貼圖給它就會出錯</strong>。</p>
<p>當錯誤丟出來之後原本監聽的紅色燈號就會打勾囉 ✅</p>
<blockquote>
<p>Sentry 預設都會寄信通知，所以若有錯誤記得看信箱哦！</p>
</blockquote>
<p><img src="https://i.imgur.com/JXfV97e.png"></p>
<hr>
<p>點進去後就可以很清楚的看到程式是錯在第幾行，寫到這有種莫名的感動，平常都是在 LOG 海裡找看看到底報錯在哪邊，終於有個地方能幫我接下來了 🎉<br><img src="https://i.imgur.com/JvVeSdd.png"></p>
<p>到這邊基本串接已經完成了，但身為免費導向的工程師怎麼能讓 5000&#x2F;月 限制我！接下來就要去過濾一下來的錯誤內容，若不是系統造成的錯誤就不上傳。</p>
<p>我選擇判斷 Log 達到<code>Waring</code>或是<code>Internal</code>就回報，並照著官方的指示新增以下內容:</p>
<ul>
<li><a href="https://docs.sentry.io/platforms/python/#filter-events--custom-logic">before_send</a></li>
<li><a href="https://docs.sentry.io/platforms/python/logging/">logging</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sentry_sdk</span><br><span class="line"><span class="keyword">from</span> sentry_sdk.integrations.flask <span class="keyword">import</span> FlaskIntegration</span><br><span class="line">+ <span class="keyword">import</span> logging</span><br><span class="line">+ <span class="keyword">from</span> http.client <span class="keyword">import</span> HTTPException</span><br><span class="line">+ <span class="keyword">from</span> sentry_sdk.integrations.logging <span class="keyword">import</span> LoggingIntegration</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+ <span class="function"><span class="keyword">def</span> <span class="title">strip_sensitive_data</span>(<span class="params">event, hint</span>):</span></span><br><span class="line">+     <span class="keyword">if</span> <span class="string">&quot;exc_info&quot;</span> <span class="keyword">in</span> hint:</span><br><span class="line">+         instance = hint[<span class="string">&#x27;exc_info&#x27;</span>][<span class="number">1</span>]</span><br><span class="line">+         <span class="keyword">if</span> <span class="built_in">isinstance</span>(instance, HTTPException) <span class="keyword">and</span> instance.code &lt; <span class="number">500</span>:</span><br><span class="line">+             <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">+     <span class="keyword">return</span> event</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+ sentry_logging = LoggingIntegration(</span><br><span class="line">+     level=logging.INFO,</span><br><span class="line">+     event_level=logging.WARNING</span><br><span class="line">+ )</span><br><span class="line"></span><br><span class="line">sentry_sdk.init(</span><br><span class="line">    dsn=os.environ.get(<span class="string">&#x27;SENTRY_DSN&#x27;</span>),</span><br><span class="line">+    before_send=strip_sensitive_data,</span><br><span class="line">+    integrations=[FlaskIntegration(), sentry_logging]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>strip_sensitive_data</code>: 過濾來自 Http 的 Exception 錯誤碼是否大於<code>500</code>，否則不回傳。</li>
<li><code>sentry_logging</code>: 使用 SDK 的 <code>LoggingIntegration</code> 來定義 log 回傳事件時的層級到哪層才上傳錯誤訊息，這邊我設定<code>Waring</code>等級，並加入到 init 的 <code>integrations</code> 裡。</li>
</ul>
<p>此時不管你打上都會將訊息送上 Sentry：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">logging.waring(<span class="string">&quot;i am waring&quot;</span>)</span><br><span class="line">logging.error(<span class="string">&quot;i am error&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>或者是</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">raise</span> InternalServerError(<span class="string">&quot;Hi Error&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>或者！！自己手殘讓程式崩潰也會送通知</p>
</blockquote>
<p>到這基本上已經完成串接完成並能過濾錯誤訊息，接下來則為將服務串至 Slack 上。</p>
<h1 id="Slack-bot-串接"><a href="#Slack-bot-串接" class="headerlink" title="Slack bot 串接"></a>Slack bot 串接</h1><p>首先來到<code>Settings</code>按下<code>Integrations</code>會看到以下畫面，並安裝一下<code>Slack</code><br><img src="https://i.imgur.com/Sbib4sv.png"></p>
<hr>
<p>接著就要跟 Slack 連動囉<br><img src="https://i.imgur.com/6wHC4Ci.png"></p>
<hr>
<p>連動完成後再按下<code>configure</code>來設定以下內容<br><img src="https://i.imgur.com/dSOV9KP.png"></p>
<hr>
<p>到了<code>Alerts</code>頁面後就開始設定以下內容囉，這部分參考<a href="https://docs.sentry.io/workflow/integrations/global-integrations/#slack">官方文件</a><br><img src="https://i.imgur.com/qd05OJO.png"></p>
<hr>
<p>可以指定透過哪個<code>group</code>去傳送至哪個<code>tag</code>，我就直接送到預設的<code>#general</code><br><img src="https://i.imgur.com/22Z3pV9.png"></p>
<hr>
<p>測試就直接送出貼圖來讓 bot 報錯，結果就收到<code>key</code>的錯誤啦～<br><img src="https://i.imgur.com/FAvjMwy.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>最後就能透過<code>sls deploy</code>將專案部署到 AWS 上，透過這次的紀錄對 Sentry SDK 運作在框架上的問題更加了解，同時也找到了一個不僅可以紀錄錯誤還能通知我錯誤訊息的地方，可以在第一時間直接進去分析 log，若完成了可以直接在 slack 上按<code>Reslove</code>來完成這個 issue。</p>
<p>本來有在考慮要串接<code>LINE Notify</code>，不過看著 Sentry 對 Slack 的整合比較好，也就放棄了這個念頭了 🤣，但串接哪個平台其實就看公司的需求，Sentry 一樣可以透過 webhook 將錯誤訊息傳至 Server。</p>
<p>此外它一樣可以整合<code>Github</code>、<code>GitLab</code>、<code>Azure DevOps</code>…等等，若錯誤處理好的話可以讓 Sentry 幫你送 Issue 上去，不僅整個超炫砲 😎，若是 open source 的專案也可以大家一起去修這個問題，真的是一舉兩得啊！！！</p>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>Serverless</tag>
        <tag>Sentry</tag>
      </tags>
  </entry>
  <entry>
    <title>【質感說話課】讀書心得</title>
    <url>/2022/02/13/talk-quality-sharing/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/talk-quality.jpeg"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">質感說話課：言語的溫柔力量，是送給自己和他人最美的禮物</span><br><span class="line">ISBN：9789573287629</span><br></pre></td></tr></table></figure>

<h1 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h1><p>隨著年紀與資歷的增長，許多事情都會陸續開始經手到並需要負責，如日常工作的會議、代表公司出去演講、日常生活的林林總總，許多我們講的每一句話，都會在每個人的心中留下些痕跡，也許增加好的印象，也或許會讓人受傷，因此就要更加注重自己講出來的話(是覺得不用到一字一句)。以下就以看到書的片段，並加上一些我的感想～ 😊</p>
<span id="more"></span>

<h1 id="常見角色"><a href="#常見角色" class="headerlink" title="常見角色"></a>常見角色</h1><p>範例但不限於</p>
<ul>
<li>演講者<ul>
<li>分享一段經歷、故事給大家，說話的方式就很重要</li>
</ul>
</li>
<li>主持人<ul>
<li>帶動整個場子的氣氛，語調、語氣、說話的質感都是觀眾很看重的地方</li>
</ul>
</li>
<li>會議領頭羊<ul>
<li>會議尚未開始前，可以先與大家聊個天緩和氣氛</li>
<li>商場如戰場，好的表達可以降低很多溝通的成本</li>
<li>開始後也要確保會議可以順利進行</li>
</ul>
</li>
<li>幕後人員<ul>
<li>與不同角色間的溝通</li>
<li>幕後如戰場，你的一字一句都可能會有後續影響</li>
</ul>
</li>
<li>各式需要依靠大量說話與溝通的角色</li>
</ul>
<h1 id="遇到講話尖銳？"><a href="#遇到講話尖銳？" class="headerlink" title="遇到講話尖銳？"></a>遇到講話尖銳？</h1><p>每個人個性不同，有急性子、慢郎中、只在意負責的部分…相信在很多場合，大家都可能會覺得「有些人講出來的話能聽嗎？」、「講話就講話何必這樣呢？」等等的想法讓人很恨得牙癢癢。</p>
<p>這邊分享一個我平常有個做法，以一個聚會來說，可能我+事主先到，會先與對方聊天瞭解一下當天這個人的狀態(熱情溝通、愛理不理、攻擊性文字…)。而再接下來的聚會中，出現了不太想聽到的一些語氣、文字等等，這時就可以拿先前了解的狀態，來去評估為什麼這個時候會發生這樣的事，進而去分析更多狀態。因此許多時候當下都在分析狀態(看情況大小有時間差)，把<strong>注意力</strong>放在對的地方分析整個情況，對於解決事情也比較有幫助。</p>
<h2 id="一句話分兩個層次"><a href="#一句話分兩個層次" class="headerlink" title="一句話分兩個層次"></a>一句話分兩個層次</h2><p>最近有個體悟，是對於「<strong>一句話分兩個層次</strong>」，很多時候在聽人家講話時，當中都會包含著「<code>問題</code>」+「<code>情緒</code>」，看到這有點沒連貫嗎？以下寫幾個範例：</p>
<ul>
<li>你為什麼做了ＯＯＯ(<code>問題</code>)，你就是 balabala…才 balabala…(<code>情緒</code>)</li>
<li>這東西怎麼每次都壞掉(<code>問題</code>)，每次過了誰才會這樣(<code>情緒</code>)</li>
<li>小孩大哭(<code>情緒</code>)，吃東西就好了(<code>問題</code>)</li>
</ul>
<p>而許多人在講這兩句時，注意力大多都在<code>情緒</code>身上，如小孩子一下，需要把對方注意力放在問題身上，嘗試以各種引導的方式協助對方去解決問題，避免你也加入你自己的情緒，讓本來可以解決的問題，惡化整個情況。</p>
<h1 id="問問題方式與禮儀"><a href="#問問題方式與禮儀" class="headerlink" title="問問題方式與禮儀"></a>問問題方式與禮儀</h1><p>在工作上、讀書時、朋友間…許多場景是否也遇到很多人開頭第一句「在嗎？」的問句呢？都很明顯後續一定有需要麻煩幫忙的事情在背後。</p>
<p>以我現在為例，並用寄送訊息為一個範例(信件、LINE 訊息、口頭上)，</p>
<ul>
<li>Hi OOO: 與對方打招呼，會依照個人或是團隊去做改變</li>
<li>我是誰，來自哪: <code>來自哪</code>可能是你的部門、公司、地區、誰介紹的…依照所需要的場景去改變</li>
<li>近期有個某個事件要發生(推動): 對方知道你要幫忙，而這邊需要讓對方先了解事情的來龍去脈(活動頁面、文件、或簡單列點給對方)</li>
<li>時間與地點在…: 告知需要協助的日期</li>
<li>參考資訊…: 對方可從哪邊看詳細資訊、你從哪得知與安排這檔事、也可能是旅遊小幫手之類的…</li>
<li>感謝對方協助、署名聯絡資訊: 訊息的尾端要感謝對方把上述這麼多需求都詳細看完。</li>
</ul>
<p>這邊參考書中許多範例來寫這段，在每次的詢問中都要盡可能地達到<strong>信件禮儀</strong>，讓對方感受舒服，後續事情也比較好做。</p>
<h1 id="聲音、與情緒養成"><a href="#聲音、與情緒養成" class="headerlink" title="聲音、與情緒養成"></a>聲音、與情緒養成</h1><p>作者在長時間的安排「止語時間」，因為每天都花很多時間講「好」話、很多的話，因此需要讓自己的喉嚨因此適當的休息，可能假日找個時間，從一兩個小時、半天、一天…循序漸進，讓喉嚨深度的休息一下。</p>
<p>另一方面，<code>飲食</code>也是相當重要，相信有在健身或是想維持好體態的人一定很常聽到<code>飲食</code>，當然在這邊也不爲過。書中提到要盡量比免讓自己有痰一直卡在喉嚨，許多東西都需要戒掉。以我自己來說，最需要改進的地方應該就是喝奶製品系列(本人特愛)，如每天一杯的咖啡拿鐵、紅茶拿鐵都是需要降低份量的，當然還有一些重口味的東西就不贅述了(明明是不敢說 😆)</p>
<p>在這些都開始執行後，最後就是需要「<code>定力</code>」，許多人可能透過打坐、番茄鐘…各種做法來達成，主要都是要讓自己的<code>定力</code>出來，讓做事可以事半功倍。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>剛好這個時間看到影片中的一段話「人生就像一齣戲」，我們需要把握好每個時光，就如同上面<code>飲食</code>、<code>定力</code>維持等等，讓自己的時間可以最大化，並藉由更有吸引、質感的說話，讓說出來的每一句話，在這齣戲中，可以讓底下的觀眾可以享受這些你的努力帶來的內容，給這齣戲的品質再更加上升！</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>閱讀</category>
      </categories>
  </entry>
  <entry>
    <title>雪之忍法帖：眾樂樂不如獨樂樂，給自己一個假期吧！【東京自由行】</title>
    <url>/2023/03/16/tokyo-2023-personal-trip/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2023/tokyo/IMG_3881.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>這次跟大家分享我 3&#x2F;11~3&#x2F;15 的自由行，因為自己的衝動造成了這次的旅遊，整體行程安排很輕鬆愜意，畢竟旅行對我來說就別給自己太多壓力，想去哪就去哪 😁(當然還是有大略找景點)，以下就讓我分享近期去東京的一些記錄吧！</p>
<span id="more"></span>

<p>大致行程安排：</p>
<ul>
<li>前兩天淺草</li>
<li>第二天上越後湯澤</li>
<li>三四天滑雪</li>
<li>第四天到澀谷</li>
<li>第五天逛完回家</li>
</ul>
<h1 id="Visit-Japan-Web"><a href="#Visit-Japan-Web" class="headerlink" title="Visit Japan Web"></a><a href="https://vjw-lp.digital.go.jp/zh-hant/">Visit Japan Web</a></h1><p>提供辦理入境手續的「檢疫」、「入境審查」、「海關申報」的網上服務。<br>除海外入境者之外，從海外回國者也可使用。</p>
<p>可以使用的機場</p>
<ul>
<li>成田國際機場</li>
<li>羽田機場</li>
<li>關西國際機場</li>
<li>中部國際機場</li>
<li>福岡機場</li>
<li>新千歲機場</li>
<li>那霸機場<br>所有機場均可執行「檢疫」。此外，海港也可執行。</li>
</ul>
<p>隨著近期開放日本自由行，如果想要快速進入日本的話，建議可以先進入此網站先把該填的內容填完，大致上就要知道你是誰、從哪來、有沒有帶些違法的東西…步驟挺多的，但填完到現場就相當方便省時，避免在現場才填寫表單，語言不通會很花時間唷！</p>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_3885.JPG"></p>
<p>下飛機之後跟著人群走，會看到有這樣的標示，填寫完的人就請走右邊，如果沒寫去左邊我覺得應該會排隊排很久，千萬要先寫好呀！</p>
<p>進去後會有兩台機器：</p>
<ul>
<li>先給機場狗狗聞行李，然後去掃海關 QR Code</li>
<li>入境審查準備 QR Code</li>
</ul>
<blockquote>
<p>建議先把他截圖下來，避免網路等等各種因素導致卡關，這樣會比較快！</p>
</blockquote>
<h1 id="抵達成田！"><a href="#抵達成田！" class="headerlink" title="抵達成田！"></a>抵達成田！</h1><p><img src="https://nijialin.com/images/2023/tokyo/IMG_3886.JPG"></p>
<p>接著我從成田空港出發，雖然我都知道要搭乘 skyliner，但距離上次來日本也三年前了，看了實在霧煞煞不知到走哪，所幸後來還是有看到時刻表，然後用著西瓜卡(可以在機器上買)嗶卡進去，本來要去淺草，但我卻還是搭到京成上野 😅，所幸轉乘有找到對的線進去，就能妥妥的去淺草橋找飯店了！</p>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_3894.JPG"></p>
<blockquote>
<p>小故事：在電車上發現自己的行動電源居然是無法充電，只剩 40%電力的我最後找到下車時可以使用 <a href="https://www.charge-spot.net/about-us">ChargeSPOT</a>，他們在日本也相當的方便且有市場，也可以 LINE Pay 付款，如果電力剛好沒有，不仿可以使用他們的 APP 看看喔！我這次自己借一次大概 70 多塊台幣 😍，對於沒電的我真的是救星！！</p>
</blockquote>
<h1 id="下錯站跑來上野公園"><a href="#下錯站跑來上野公園" class="headerlink" title="下錯站跑來上野公園"></a>下錯站跑來上野公園</h1><p><img src="https://nijialin.com/images/2023/tokyo/IMG_3892.JPG"></p>
<p>這次三月中真的是有點熱，上野公園的櫻花也綻放了！說實在第一次看到這麼大顆的櫻花樹真的很漂亮 🌸，讓走錯站的我覺得倍感欣慰 😆，這附近也是真的很好逛，推薦大家來這邊可以來公園看看！</p>
<h1 id="來日本怎能不來寶可夢中心？"><a href="#來日本怎能不來寶可夢中心？" class="headerlink" title="來日本怎能不來寶可夢中心？"></a>來日本怎能不來寶可夢中心？</h1><p><img src="https://nijialin.com/images/2023/tokyo/IMG_3909.JPG"></p>
<p>後來往旁邊的日本橋的 Pokemon DX 中心，發現這裡真的是很棒！該有的都有相當齊全，真的是會讓我失心瘋亂買的地方 😍😍😍，我這次的經驗<strong>日本橋 &gt; all</strong>，其他間的東西相對少一些些，但其實也是不錯的地方，寶可夢粉都可以去看看！</p>
<h1 id="來淺草就要來晴空塔走走"><a href="#來淺草就要來晴空塔走走" class="headerlink" title="來淺草就要來晴空塔走走"></a>來淺草就要來晴空塔走走</h1><p><img src="https://nijialin.com/images/2023/tokyo/IMG_3929.JPG"></p>
<p>第一天本來要直上晴空塔，但 KKday 買票只能買隔天(但比現場便宜些)，因此猶豫很久之後就先買隔天的票。雖然我是中午上去看，但上面的人還是真的很多呢！剛好也可以一覽淺草附近的景色，真的是覺得日本連房子都好整齊。看完這些風景只有一個感想，日本人都只打棒球跟踢足球嗎？怎麼棒球場跟足球場到處都是，啊籃球怎麼都沒有卻還有人打 NBA😆</p>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_3919.JPG"></p>
<p>晴空塔裡面的寶可夢中心有專屬的烈空座跟色違版本，真的是超級帥的，一定要來看看！</p>
<h1 id="來去隔壁的雷門"><a href="#來去隔壁的雷門" class="headerlink" title="來去隔壁的雷門"></a>來去隔壁的雷門</h1><p><img src="https://nijialin.com/images/2023/tokyo/IMG_3943.JPG"></p>
<p>雷門我最後的印象就是在烏龍派出所中，來到這裡真的是很壯觀，人潮也是滿滿的相當讚！進去走走體驗一下這古蹟帶來的魅力：）</p>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_3949.JPG"></p>
<p>來到這裡之後一定要來吃<a href="https://goo.gl/maps/LL2HurmcZytu8P2q8">吉備炸糰子</a>，這是連我這木舌都吃得出來好吃～～ 😋，發揮台灣人的精神！排隊排起來！！</p>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_3950.JPG"></p>
<p>剛好這次是日本的草莓季的樣子，路上只要賣水果的地方幾乎都是草莓，旁邊的銀花堂賣的大福也是真的不錯吃，如果喜歡吃大福的人應該很適合！</p>
<h1 id="還有時間就去旁邊的貓中途之家🐈"><a href="#還有時間就去旁邊的貓中途之家🐈" class="headerlink" title="還有時間就去旁邊的貓中途之家🐈"></a>還有時間就去旁邊的<a href="https://goo.gl/maps/o5ENunHK1WSCTc3W8">貓中途之家</a>🐈</h1><p><img src="https://nijialin.com/images/2023/tokyo/IMG_3982.JPG"></p>
<p>本來期望這裡應該是個咖啡廳，但進來之後店長非常親切會來說明，介紹每隻貓貓的特性，很適合在淺草附近逛累的人來這裡充電，一次入場費 1000 日圓。</p>
<h1 id="雪之忍法帖-Day3-Day4-滑雪啦！🏂"><a href="#雪之忍法帖-Day3-Day4-滑雪啦！🏂" class="headerlink" title="雪之忍法帖: Day3 ~ Day4 滑雪啦！🏂"></a>雪之忍法帖: Day3 ~ Day4 滑雪啦！🏂</h1><p><img src="https://nijialin.com/images/2023/tokyo/IMG_4080.JPG"></p>
<p>在春雪的時間還是要來滑雪才過癮！首先建議先買新幹線的票，到越後湯澤大概一個小時左右。感謝我朋友阿毛先在網路上幫買好，當天去的時候櫃檯是關著的，因為有先買到現場只要刷護照就可以拿票。拿票過站時記得兩張都一起塞進去比較保險，避免第一次在那邊看要一張還兩張苦惱很久～ 🏂</p>
<blockquote>
<p>Tips: 如果網路上買好幾個人的票，到機器上只要刷一個人就可以拿到大家的票。</p>
</blockquote>
<h2 id="青達雪具"><a href="#青達雪具" class="headerlink" title="青達雪具"></a><a href="https://goo.gl/maps/DS9CGqG5RuipZgud9">青達雪具</a></h2><p>這裡的店員基本上都會講中文(可能台灣人開的？)，第一次滑雪推薦可以來這邊借雪具，講中文溝通也比較不會浪費太多時間喔！且他們的<a href="https://chendarental.com/zh/">價目表都在網站上</a>可以看到，相當清楚，看這個才不會花冤望錢喔！當天我是早上八點就先去借，推薦給各位。</p>
<blockquote>
<p>雪票也可以在這邊一起買，有租他們東西的人才有接駁車會接送唷</p>
</blockquote>
<h2 id="🏂🏂🏂"><a href="#🏂🏂🏂" class="headerlink" title="🏂🏂🏂"></a>🏂🏂🏂</h2><p><img src="https://nijialin.com/images/2023/tokyo/IMG_4115.jpeg"></p>
<p>第一天我來到了石打丸山，當天運氣不好遇到了下雨，且積雪量不太夠，土都已經露出來了，對於初心者來說真的是很挑戰，但好險阿毛教練很給力，在第一天交會了我 Heel side 的落葉飄，光學會這個此趟就划算了～</p>
<blockquote>
<p>會來這邊是因為他的纜車有賽車椅，真的是做起來非常舒適！看到評價好就衝來了</p>
</blockquote>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_4081.JPG"></p>
<p>第二天來到了神樂雪場，由於半夜有下雪的關係，我們早上八點半滑雪時感覺完全不同！而且天氣很好也飄雪 ❄️，第一次看到這樣的雪景真的是很美！！</p>
<p>同時也學會了單邊的 J 轉，可以 Heel - Toe side，而且神樂的空間很大，若真的要慢慢學這裡也很適合！</p>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_4051.JPG"></p>
<p>但學滑雪真的不能急，當下覺得自己運動神經還行就想偷吃步，結果因為速度太快翻車，腳踝跟膝蓋都一起扭傷，所幸只是小小挫傷，要是有個萬一在山上叫救援可是要 20000 日圓喔！大家真的要注意安全。</p>
<p><img src="https://nijialin.com/images/2023/tokyo/IMG_4055.JPG"></p>
<blockquote>
<p>扭傷期間只能坐在旁邊曬太陽，順便幫路人顧板子，因為他們的板子滑出去變成地雷超級危險的！！</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>以下分享我這次的總花費，其中雪票、民宿跟租雪具皆從身上日幣扣，只有大略記下我主要支出的費用，提供給看到文末各位一些參考，總結這次我覺得從花的挺值得的！這次機票跟飯店都是從 <a href="https://travel.line.me/">LINE 旅遊</a>上訂購的，這次追求就是要快速可以訂到，只要價錢差不多能接受就好，如果下次我要找機票的話，應該會嘗試 <a href="https://www.google.com/flights?hl=zh-TW">Google Fly</a> 找找，它會將你導到官網上，看各位想追求的是什麼，就去選擇那個平台看看吧！</p>
<table>
<thead>
<tr>
<th>已花費</th>
<th>價錢</th>
<th>項目</th>
</tr>
</thead>
<tbody><tr>
<td>台幣</td>
<td>6,688</td>
<td>去程機票(酷航)</td>
</tr>
<tr>
<td>49,351</td>
<td>9,209</td>
<td>回程機票(虎航)</td>
</tr>
<tr>
<td>日幣</td>
<td>990</td>
<td>去程加購行李</td>
</tr>
<tr>
<td>219118.44</td>
<td>2035</td>
<td>第一天飯店</td>
</tr>
<tr>
<td></td>
<td>2489</td>
<td>第四天飯店</td>
</tr>
<tr>
<td></td>
<td>349</td>
<td>漫遊</td>
</tr>
<tr>
<td></td>
<td>200</td>
<td>買去程位置</td>
</tr>
<tr>
<td></td>
<td>500</td>
<td>雪鏡</td>
</tr>
<tr>
<td></td>
<td>190</td>
<td>回程機票位置</td>
</tr>
<tr>
<td></td>
<td>1912</td>
<td>藥妝</td>
</tr>
<tr>
<td></td>
<td>200</td>
<td>領錢手續費(國泰)</td>
</tr>
<tr>
<td></td>
<td>775</td>
<td>Uber 到桃機</td>
</tr>
<tr>
<td></td>
<td>23000</td>
<td>身上總日幣</td>
</tr>
<tr>
<td></td>
<td>685</td>
<td>晴空塔 KKDay</td>
</tr>
<tr>
<td></td>
<td>52</td>
<td>ChargeSPOT</td>
</tr>
<tr>
<td></td>
<td>77</td>
<td>ChargeSPOT</td>
</tr>
</tbody></table>
<p>最後我把西瓜卡綁在 Apple Pay 上，但因為沒記名一直搞不上去 Suica App 中，不能手機加值，好險最後朋友叫我把錢留著，不然我差點出不了站還沒錢，但這次經驗也發現原來西瓜卡在 Apple Pay 喚起之後，是可以去精算機用現金儲值，也是學到了一課呢！放到機器裡就感應到，真的很酷！</p>
]]></content>
      <categories>
        <category>日記</category>
      </categories>
      <tags>
        <tag>自由行</tag>
        <tag>滑雪</tag>
        <tag>日本</tag>
        <tag>東京</tag>
        <tag>寶可夢</tag>
        <tag>淺草</tag>
        <tag>神樂</tag>
      </tags>
  </entry>
  <entry>
    <title>【翻譯】使用 2020 Flex Message 的 10 個新功能 - 讓您在 LINE 的訊息設計更有彈性</title>
    <url>/2021/01/25/translate-flex-message-10-reason/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/translate/flex2/1.png"></p>
<blockquote>
<p>翻譯來自泰國的 Jirawatee 的<a href="https://medium.com/linedevth/10-%E0%B8%9F%E0%B8%B5%E0%B9%80%E0%B8%88%E0%B8%AD%E0%B8%A3%E0%B9%8C%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88%E0%B9%83%E0%B8%99-flex-message-%E0%B8%9B%E0%B8%B5-2020-%E0%B8%AD%E0%B8%B4%E0%B8%AA%E0%B8%A3%E0%B8%B0%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B9%80%E0%B8%AB%E0%B8%99%E0%B8%B7%E0%B8%AD%E0%B8%81%E0%B8%A7%E0%B9%88%E0%B8%B2%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%AD%E0%B8%AD%E0%B8%81%E0%B9%81%E0%B8%9A%E0%B8%9A%E0%B8%82%E0%B9%89%E0%B8%AD%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B9%83%E0%B8%99-line-47d9ba2cf9ed">文章</a></p>
</blockquote>
<p>經常許多開發人員會在 LINE 中設計 Flex Message，讓不同設備的使用者可以收到美美的訊息。在 2020 年也就是去年，Flex Message 開發團隊聽到各位開發者的聲音了，發布了比以往更輕鬆並能將您的想像力轉換成 LINE 樣式的版本。</p>
<p>若您對於 Flex Message 不熟悉，建議先了解<a href="https://medium.com/linedevth/%E0%B8%89%E0%B8%B5%E0%B8%81%E0%B8%81%E0%B8%8E%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B9%81%E0%B8%AA%E0%B8%94%E0%B8%87%E0%B8%9C%E0%B8%A5%E0%B8%82%E0%B9%89%E0%B8%AD%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B9%81%E0%B8%9A%E0%B8%9A%E0%B9%80%E0%B8%94%E0%B8%B4%E0%B8%A1%E0%B9%86%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B8%94%E0%B9%89%E0%B8%A7%E0%B8%A2-flex-message-4ad4370562f">這篇文章</a>。</p>
<ul>
<li><a href="https://medium.com/linedevth/%E0%B8%89%E0%B8%B5%E0%B8%81%E0%B8%81%E0%B8%8E%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B9%81%E0%B8%AA%E0%B8%94%E0%B8%87%E0%B8%9C%E0%B8%A5%E0%B8%82%E0%B9%89%E0%B8%AD%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B9%81%E0%B8%9A%E0%B8%9A%E0%B9%80%E0%B8%94%E0%B8%B4%E0%B8%A1%E0%B9%86%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B8%94%E0%B9%89%E0%B8%A7%E0%B8%A2-flex-message-4ad4370562f">使用 Flex Message 打破 LINE Messaging API 中的傳統顯示規則</a><span id="more"></span></li>
</ul>
<p>這次有 10 個新功能，將有助於了解 2020 年 Flex Message 中訊息設計的延展性。</p>
<ol>
<li>APNG Support</li>
<li>內容排版</li>
<li>字體大小和圖示大小（以 px 為單位）</li>
<li>Shrink-to-Fit</li>
<li>漸層背景(Gradient Background)</li>
<li>使用 px 來設定 Margin &amp; Spacing</li>
<li>圖片大小（以 px 和 ％ 為單位）</li>
<li>內容可為空的 Box(Empty Box)</li>
<li>增加了單一 Bubble 的 JSON Max size</li>
<li>增加了 Carousel 的 Bubble 數量</li>
</ol>
<p>您只需查看每個功能的名稱即可。我將會在你的查詢過程中告訴您～</p>
<h1 id="1-APNG-Support"><a href="#1-APNG-Support" class="headerlink" title="1. APNG Support"></a>1. APNG Support</h1><p>當今天有任何開發者想在 Flex Message 中使用動畫(APNG)，只需在 “圖片” 的 Component 中加入名為 animation 的 property 即可。</p>
<ul>
<li>animated: <code>true</code>, <code>false</code>(default)</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://apng.onevcat.com/assets/elephant.png&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;animated&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/2.gif"></p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul>
<li>需注意用戶是否有在 “設定 &gt; 照片．影片” 中開啟 <strong>“ Auto-play GIFs”</strong> 選項，否則 Animation 將會不能執行。</li>
<li>當前使用的圖片 URL 若大於 300KB，則動畫將無法使用，並且只會呈現第一張圖片。</li>
<li>每個訊息最多可以指定 <strong>3 個動畫圖片</strong> Component，超過則無法發送訊息。</li>
</ul>
<h1 id="2-內容排版"><a href="#2-內容排版" class="headerlink" title="2. 內容排版"></a>2. 內容排版</h1><p>當我們要對 Box 中的內容進行排序時，經常使用 flex、width 和 height 之類的 property 來劃分寬度（horizontal）和高度（vertical）的比例，藉此分配間距和邊距。 Box 裡的內容之間都會需要一定距離，讓整體內容看起來更舒適。<br>此時 Flex Message 團隊準備了 2 個新 property ，您只要在 Box 中使用它們，將能讓您的內容安排更加容易。</p>
<h2 id="2-1-justifyContent"><a href="#2-1-justifyContent" class="headerlink" title="2.1 justifyContent"></a>2.1 <a href="https://developers.line.biz/en/docs/messaging-api/flex-message-layout/#justify-content">justifyContent</a></h2><p>該 property 讓我們能在父階層中設置幫助安排內容，且以下每個值具有不同功能 property ：</p>
<ul>
<li><code>flex-start</code>：這將從起點開始對所有項目進行排列。如果是水平，則將基於 bubble 給出的方向：ltr(從左至右)或 rtl(從右至左)；反之若是垂直，則所有項目將從上至下進行排列。</li>
<li><code>center</code>：將所有項目排列在中心點</li>
<li><code>flex-end</code>：這將從末端開始對所有項目進行排列。如果是水平，則將基於 bubble 給出的方向：ltr(從左至右)或 rtl(從右至左)；反之若是垂直，則所有項目將從下至上進行排列。</li>
<li><code>space-between</code>：第一個與最後一個項目貼齊左右側的佈局，其餘項目平均分配到顯示畫面的中心。</li>
<li><code>space-around</code>：將每個項目之間的距離均勻地分配。</li>
<li><code>space-evenly</code>：平均劃分每個項目與訊息佈局的距離來進行排列</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;layout&quot;</span>: <span class="string">&quot;horizontal&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;justifyContent&quot;</span>: <span class="string">&quot;flex-start&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: [&#123;&#125;, &#123;&#125;, &#123;&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/3.png"></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;layout&quot;</span>: <span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;justifyContent&quot;</span>: <span class="string">&quot;flex-start&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;height&quot;</span>: <span class="string">&quot;200px&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: [&#123;&#125;, &#123;&#125;, &#123;&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/4.png"></p>
<h2 id="2-2-alignItems"><a href="#2-2-alignItems" class="headerlink" title="2.2 alignItems"></a>2.2 <a href="https://developers.line.biz/en/docs/messaging-api/flex-message-layout/#align-items">alignItems</a></h2><p>該 property 能讓我們指定父階層中的項目更換排序方向，而每個值具有以下 property 功能：</p>
<ul>
<li><code>flex-start</code>：如果父階層水平排列，則所有項目將自上而下；如果父母垂直排列，則所有項目將從一開始（取決於 Bubble 的方向）</li>
<li><code>center</code>：將所有項目排列在水平和垂直方向的中心點</li>
<li><code>flex-end</code>：如果將父階層水平排列，則所有項目將從下至上；並且如果將父接成垂直排列，則所有項目將從末端排列（取決於 Bubble 的方向）</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;layout&quot;</span>: <span class="string">&quot;horizontal&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;alignItems&quot;</span>: <span class="string">&quot;flex-start&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;height&quot;</span>: <span class="string">&quot;200px&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: [&#123;&#125;, &#123;&#125;, &#123;&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/5.png"></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;layout&quot;</span>: <span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;alignItems&quot;</span>: <span class="string">&quot;flex-start&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;height&quot;</span>: <span class="string">&quot;200px&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: [&#123;&#125;, &#123;&#125;, &#123;&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/6.png"></p>
<h1 id="3-字體大小和圖示大小（以-px-為單位）"><a href="#3-字體大小和圖示大小（以-px-為單位）" class="headerlink" title="3. 字體大小和圖示大小（以 px 為單位）"></a>3. 字體大小和圖示大小（以 px 為單位）</h1><p>過往只能指定 property 來決定<a href="https://developers.line.biz/en/docs/messaging-api/flex-message-elements/#text">文字的大小</a>，<a href="https://developers.line.biz/en/docs/messaging-api/flex-message-elements/#component">Span Component</a>和<a href="https://developers.line.biz/en/docs/messaging-api/flex-message-elements/#component"> Icon</a>也只能透過特定關鍵字來決定尺寸：xxs(11px)、xs(13px)、sm(14px)、md(16px)、lg(19px)、xl(22px)、xxl(29px)、3xl(35px)、4xl(48px)、5xl(74px)來規範這些 Component 的大小。像我以前就很希望能有不同的方式可以設定大小。</p>
<p>但是現在讓每個人的夢想都實現了。因為所有給定的 Component 大小都可以設定<code>像素</code>(<code>px</code>)。</p>
<ul>
<li>size: <code>keywords</code>, <code>px</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;...&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;span&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;LINE&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;size&quot;</span>: <span class="string">&quot;32px&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;weight&quot;</span>: <span class="string">&quot;bold&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;color&quot;</span>: <span class="string">&quot;#00ff00&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;span&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;text&quot;</span>: <span class="string">&quot; Developers&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;size&quot;</span>: <span class="string">&quot;24px&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/7.png"></p>
<hr>
<h1 id="4-Shrink-to-Fit"><a href="#4-Shrink-to-Fit" class="headerlink" title="4. Shrink-to-Fit"></a>4. Shrink-to-Fit</h1><p>如果按鈕內的文字的長度大於該項目的寬度，則會發生多餘的文字將被使用 <code>...</code> 隱藏起來。</p>
<p>以前，想要完全呈現長所有文字內容的方式是將名為 <strong>wrap</strong> 的 property 設置為 <code>true</code>，但這可能會使整體佈局變形，而 Text 或 Button 所設定的高度也可能因為展開內容會受到影響。</p>
<p>因此，Flex Message 2020 提供了 <strong>adjustMode</strong> property ，該 property 會自動減小字體大小以適應 Component 的寬度，從而使整體佈局與設計相同。</p>
<ul>
<li><strong>AdjustMode</strong>：<code>shrink-to-fit</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;button&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;action&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;uri&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;Buy a coffee to your friends anywhere&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;uri&quot;</span>: <span class="string">&quot;http://line.me&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;style&quot;</span>: <span class="string">&quot;primary&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;adjustMode&quot;</span>: <span class="string">&quot;shrink-to-fit&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/8.png"></p>
<h2 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h2><p>AdjustMode 可以在 LINE v10.13.0 以上的版本使用。</p>
<h1 id="5-漸層背景-Gradient-Background"><a href="#5-漸層背景-Gradient-Background" class="headerlink" title="5. 漸層背景(Gradient Background)"></a>5. 漸層背景(Gradient Background)</h1><p>之前我們可以使用名為 <strong>backgroundColor</strong> 的 property 來更改 Box 的背景顏色，並支援使用 alpha（rgba）的十六進制色碼。</p>
<p>今年，Flex Message 團隊讓我們能夠透過一個稱為 <strong>background</strong> 的 property 設定漸變背景顏色，它包含了以下的 property ：</p>
<ul>
<li>type：linearGradient（<strong>必填</strong>）</li>
<li>angle（<strong>必填</strong>）：漸層變化的起點角度，或是您也可以使用整數(含小數)來定義角度，例如 <strong>88.8</strong>deg。<ul>
<li>設定數值: <code>0deg — 360deg</code></li>
</ul>
</li>
<li>startColor：起始位置顏色的十六進制(6 或 8 個字元)色碼（<strong>必填</strong>）。</li>
<li>endColor：結束位置顏色的十六進制(6 或 8 個字元)色碼（<strong>必填</strong>）。</li>
<li>centerColor：中心位置的十六進制(6 或 8 個字元)色碼。</li>
<li>CenterPosition：從 Box 的 <strong>centerColor</strong> 位置對顏色做分區，一樣可以使用整數(含小數)來定義角度，如 <strong>88.8</strong>％。<ul>
<li>設定數值：<code>0 — 100%</code></li>
</ul>
</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;layout&quot;</span>: <span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: [],</span><br><span class="line">  <span class="attr">&quot;background&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;linearGradient&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;angle&quot;</span>: <span class="string">&quot;0deg&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;startColor&quot;</span>: <span class="string">&quot;#ff4d79&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;centerColor&quot;</span>: <span class="string">&quot;#ff0000&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;endColor&quot;</span>: <span class="string">&quot;#ffdb2c&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;centerPosition&quot;</span>: <span class="string">&quot;50%&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;height&quot;</span>: <span class="string">&quot;200px&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/9.png"></p>
<h1 id="6-使用-px-來設定-Margin-amp-Spacing"><a href="#6-使用-px-來設定-Margin-amp-Spacing" class="headerlink" title="6. 使用 px 來設定 Margin &amp; Spacing"></a>6. 使用 px 來設定 Margin &amp; Spacing</h1><p>先前定義整個 Flex Message 的間距只能透過輸入<code>關鍵字</code>(<code>keywords</code>)的 property(<code>none</code>、<code>xs</code>、<code>sm</code>、<code>md</code>、<code>lg</code>、<code>xl</code>、<code>xxl</code>)來調整。<br>但是為了提高整體訊息設計的辨識率和精準度，今年 Flex Message 團隊提供出能夠使用 <code>pixel</code> 來設定間距，參考範例如下：</p>
<ul>
<li>margin: <code>keywords</code>, <code>px</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Hello World!&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;margin&quot;</span>: <span class="string">&quot;16px&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>spacing: <code>keywords</code>, <code>px</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;layout&quot;</span>: <span class="string">&quot;horizontal&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;spacing&quot;</span>: <span class="string">&quot;16px&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;grape&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;separator&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;lemon&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/10.png"></p>
<h2 id="注意-2"><a href="#注意-2" class="headerlink" title="注意"></a>注意</h2><p>從現在開始，Box 中每個 component 的間距都可以使用 Margin 設定（以前不會影響 Box 中第一個列出的 component）</p>
<h1 id="7-圖片大小（以-px-和-％-為單位）"><a href="#7-圖片大小（以-px-和-％-為單位）" class="headerlink" title="7. 圖片大小（以 px 和 ％ 為單位）"></a>7. 圖片大小（以 px 和 ％ 為單位）</h1><p>過往設置圖片大小時，我們一樣只能使用關鍵字來定義大小(<code>xxs</code>、<code>xs</code>、<code>sm</code>、<code>md</code>、<code>lg</code>、<code>xl</code>、<code>xxl</code>、<code>3xl</code>、<code>4xl</code>、<code>5xl</code>、<code>full</code>)，以圖片的設定來說這樣設定的確會綁手綁腳。<br>但是從現在開始，圖片可以使用<code>關鍵字</code>、<code>百分比</code>、<code>pixel</code>設定，圖片的<strong>寬度</strong>和<strong>高度</strong>將會被自動計算出來，範例如下：</p>
<ul>
<li>size: <code>keywords</code>, <code>px</code>, <code>%</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://apng.onevcat.com/assets/elephant.png&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;size&quot;</span>: <span class="string">&quot;80%&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/flex2/11.png"></p>
<h1 id="8-內容可為空的-Box-Empty-Box"><a href="#8-內容可為空的-Box-Empty-Box" class="headerlink" title="8. 內容可為空的 Box(Empty Box)"></a>8. 內容可為空的 Box(Empty Box)</h1><p>Box 是提供整個 Flex Message 佈局的主要元件，類似於 Web 開發中的 <div>。</p>
<p>以前要設定 Box 的內容時我們都需要指定一個物件(Object)給 Box，但是在寫一些判斷式時會不小心會漏了定義給它 Object 導致內容為空，以至於我們無法發送 Chatbot 的訊息出去。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;layout&quot;</span>: <span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;contents&quot;</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>很慶幸的是，Flex Message 團隊考量到更大的靈活性，在 2020 推出可以讓 Box 的 contents <code>可為空</code>，讓開發者們可以送出空的物件，增加更多的彈性！</p>
<h1 id="9-增加了單一-Bubble-的-JSON-Max-size"><a href="#9-增加了單一-Bubble-的-JSON-Max-size" class="headerlink" title="9. 增加了單一 Bubble 的 JSON Max size"></a>9. 增加了單一 Bubble 的 JSON Max size</h1><p>曾經我認為 size 應該很夠用，但因為遇到了一些社群上的開發者將所有的 Flex Message 放到單一個 Bubble 裡面，導致訊息的 JSON 的大小就會超過 10KB 的限制。</p>
<p>但是從現在開始，您將能夠在訊息中使用 3 倍的訊息量，因為單個 Bubble 的 Flex Message 中 JSON 的大小已經擴展到 <code>30KB</code> 囉！但開發者們還是要小心使用避免因為超出限制而導致錯誤發生。</p>
<h1 id="10-增加了-Carousel-的-Bubble-數量"><a href="#10-增加了-Carousel-的-Bubble-數量" class="headerlink" title="10. 增加了 Carousel 的 Bubble 數量"></a>10. 增加了 Carousel 的 Bubble 數量</h1><p>很多人都知道，在 LINE 中以 Template Message 或 Flex Message 的形式創建 “Carousel Message” 時，每個訊息最多只能包含 10 個 Bubble。</p>
<p>而在讀過本篇的您將會很幸運，因為我會跟您說，一個 Flex Message 現在能夠讓您的每個 Carousel 訊息最多<strong>擁有 12 個 Bubble</strong>。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>2020 年 Flex Message 團隊聽到各位開發者的聲音並釋出了許多新功能並增加彈性來改善開發流程的體驗，這裡我要感謝泰國開發人員以及 LINE API Expert 提供我們許多意見回饋和新功能需求，讓我們的服務可以持續改善。</p>
<p>最後，我想用一個漂亮的句子結尾這篇文章…</p>
<blockquote>
<p>A Technology without a Community has no Meaning.</p>
</blockquote>
]]></content>
      <categories>
        <category>翻譯</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
        <tag>Flex Message</tag>
      </tags>
  </entry>
  <entry>
    <title>【翻譯】讓我們使用 Cypress 開始為 LIFF app 撰寫單元測試</title>
    <url>/2020/10/03/translate-cypress-liff-unit-test/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2020/cypress-liff/logo.png"></p>
<blockquote>
<p><a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%A3%E0%B8%B4%E0%B9%88%E0%B8%A1%E0%B8%95%E0%B9%89%E0%B8%99%E0%B9%80%E0%B8%82%E0%B8%B5%E0%B8%A2%E0%B8%99-unit-tests-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%81%E0%B8%B1%E0%B8%9A-liff-app-%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B8%84%E0%B8%B8%E0%B8%93%E0%B8%94%E0%B9%89%E0%B8%A7%E0%B8%A2-cypress-%E0%B8%81%E0%B8%B1%E0%B8%99-214f5b0c66b7">原文連結</a></p>
</blockquote>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，本篇將帶大家使用 Cypress 為您的 LIFF（LINE Frontend Framework）Application 寫單元測試。並且可以從本文的範例幫助來閱讀這篇文章的開發者朋友。若之前沒有嘗試過開發 LIFF App，建議您先閱讀以下文章。因為在本文中可能會有很多相關技術用詞，因此在使用它們之前必需要有 LIFF App 開發的相關基礎知識。</p>
<blockquote>
<p>Article: <a href="https://medium.com/linedevth/liff-v2-release-85fdfb678cc6">https://medium.com/linedevth/liff-v2-release-85fdfb678cc6</a></p>
</blockquote>
<span id="more"></span>

<h1 id="使用-LINE-平台進行-LIFF-應用測試的主要問題"><a href="#使用-LINE-平台進行-LIFF-應用測試的主要問題" class="headerlink" title="使用 LINE 平台進行 LIFF 應用測試的主要問題"></a>使用 LINE 平台進行 LIFF 應用測試的主要問題</h1><p>我相信每個開發人員都會以不同的方式測試 LIFF App。根據我在 LIFF App 進行自動化測試的經驗中，我遇到了很多問題。因此我想總結以下 3 個常見問題：<br><img src="https://nijialin.com/images/2020/cypress-liff/1.png"></p>
<ol>
<li>LIFF App 和 LINE Platform 具有很高的依賴性：例如，假設我們要使用 liff.getProfile() 這個 API，則需要先重新導向讓使用者進行 LINE Login，然後才能使用它。如此一來控制 LINE Login 就很困難。這樣情況下很容易變成 <code>Flaky Tests</code>（“Flaky Tests” 意指在測試中測試程式不改變的情況下，偶爾會有產生不同的測試結果，也就是不穩定的測試）。</li>
<li>無法 Simulate Negative Test：假設我們要使用 <code>Promise</code> 的 <code>Reject</code> 測試 liff.init() 並且檢查我們的應用程式是否可以處理各種 Scenario，在一般的測試下很難達到預期效果。</li>
<li>要在 LINE Native App 上模擬與 LIFF App 一樣的環境相當困難。因為有時我們的 LIFF App 對於每個平台可能會有不同的操作行為，例如在 LINE App 和外部瀏覽器上運行。兩種環境可能因為尺寸問題具有不同的 UI 設計和功能，它們的運作模式會有所不同。若此時我們想如何簡化模擬這些測試環境，我認為這會相當困難。</li>
</ol>
<blockquote>
<p>從以上所有問題 可以使用 Cypress 作為工具對 LIFF App 進行單元測試來進行編輯和實現。</p>
</blockquote>
<p>對於那些以前從未聽說過 Cypress 的人，您可以閱讀我之前寫過的<a href="https://medium.com/cypress-io-thailand/%E0%B8%A3%E0%B8%B9%E0%B9%89%E0%B8%88%E0%B8%B1%E0%B8%81-cypress-web-test-framework-%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B8%88%E0%B8%B0%E0%B8%97%E0%B8%B3%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%B8%E0%B8%93%E0%B8%A5%E0%B8%B7%E0%B8%A1-selenium-%E0%B9%84%E0%B8%9B%E0%B9%84%E0%B8%94%E0%B9%89%E0%B9%80%E0%B8%A5%E0%B8%A2-405a11d7341">介紹文章</a>。</p>
<p>很多人可能會認為 Cypress 是否僅適用於 End-to-End Test？答案不是！Cypress 可以在 Unit Test、Integration Test 和 End-to-End Test 中進行各種級別的測試，所以今天我將帶大家來看看如何使用 Cypress 進行 Unit Test，並與使用其他框架相比有什麼優勢。</p>
<h1 id="Let’s-Get-Started"><a href="#Let’s-Get-Started" class="headerlink" title="Let’s Get Started"></a>Let’s Get Started</h1><p>以下範例我選擇使用 Vue.js 來開發 LIFF App。</p>
<p><img src="https://nijialin.com/images/2020/cypress-liff/2.png"><br>我透過使用 vue-cli 來手動 Config 一個新的專案，如下所示：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sh$ vue create liff-cypress-unit-tests</span><br><span class="line">Please pick a preset: Manually select features</span><br><span class="line">Check the features needed <span class="keyword">for</span> your project: Babel, Router, Linter</span><br><span class="line">Use <span class="built_in">history</span> mode <span class="keyword">for</span> router? (Requires proper server setup <span class="keyword">for</span> index fallback <span class="keyword">in</span> production) Yes</span><br><span class="line">Pick a linter / formatter config: Airbnb</span><br><span class="line">Pick additional lint features: Lint on save</span><br><span class="line">Where <span class="keyword">do</span> you prefer placing config <span class="keyword">for</span> Babel, ESLint, etc.? In dedicated config files</span><br><span class="line">Save this as a preset <span class="keyword">for</span> future projects? No</span><br></pre></td></tr></table></figure>

<p>重要的是 Cypress 創建了一個名為 Cypress Vue unit test 的 plugin，以幫助我們輕鬆地在 Vue.js Application 上編寫單元測試。</p>
<p><a href="https://github.com/bahmutov/cypress-vue-unit-test">cypress-vue-unit-test</a>是基於 Vue 官方單元測試函式庫 - <a href="https://vue-test-utils.vuejs.org/">vue-test-utils</a> 所實作的套件。而它可以運行在真實的瀏覽器以及 Cypress 的所有功能上。</p>
<p>我們也可以通過 <a href="https://cli.vuejs.org/guide/cli-service.html">vue-cli</a> 安裝此套件。為了能夠使用此套件，您需要使用 <strong>Cypress 4.5.0</strong> 和 <strong>Node.js 8</strong> 或更高版本。</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sh$ vue add cypress-experimental <span class="comment"># vue-cli &gt; 3</span></span><br></pre></td></tr></table></figure>

<p>該方法會自動將 Cypress 添加到您的專案中，並創建一個 task: <code>test:components</code> 並包括 Cypress 的基本配置。因此，您也可以輕鬆地執行 Vue Components 的單元測試。</p>
<h1 id="執行-Vue-js-App"><a href="#執行-Vue-js-App" class="headerlink" title="執行 Vue.js App"></a>執行 Vue.js App</h1><p>首先先執行 Vue.js App，確保專案建立是否可以正常運行。</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">sh<span class="variable">$ </span>yarn serve</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2020/cypress-liff/3.png"></p>
<h1 id="加入-LIFF-SDK-於-Vue-Component-中"><a href="#加入-LIFF-SDK-於-Vue-Component-中" class="headerlink" title="加入 LIFF SDK 於 Vue Component 中"></a>加入 LIFF SDK 於 Vue Component 中</h1><p>我將通過像這樣通過 npm 包輕鬆安裝 LIFF SDK，開始將我的 Vue.js 應用轉換為 LIFF 應用。</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">sh$ yarn <span class="built_in">add</span> @<span class="built_in">line</span>/liff<span class="comment"> // LIFF SDK</span></span><br><span class="line">sh$ yarn <span class="built_in">add</span> vue-sweetalert2<span class="comment"> // for modal dialog</span></span><br></pre></td></tr></table></figure>

<h1 id="Test-Scenario-1-Initialize-LIFF-App"><a href="#Test-Scenario-1-Initialize-LIFF-App" class="headerlink" title="Test Scenario 1: Initialize LIFF App"></a>Test Scenario 1: Initialize LIFF App</h1><p>首先，在已經透過 vue-cli 建立的專案並在 Component 中初始化 LIFF app。並且已經在我的 <a href="https://developers.line.biz/console/">LINE Developer Console</a> 中註冊 LIFF App。</p>
<script src="https://gist.github.com/nottyo/ad63b1648ec9ee6c96be1a5626ddb31b.js"></script>

<h1 id="使用-Cypress-來寫-Vue-Component-Test"><a href="#使用-Cypress-來寫-Vue-Component-Test" class="headerlink" title="使用 Cypress 來寫 Vue Component Test"></a>使用 Cypress 來寫 Vue Component Test</h1><p>透過 <code>cypress-vue-unit-test</code> 提供的 <code>mount</code> API 來使用 Cypress 測試 Vue Component 是相當容易的，如此一來我們就可以安裝該套件來對其 Component 進行測試。在這裡我將使用 Cypress 控制 LIFF 的 APIs，按照所需測試使用 <a href="https://docs.cypress.io/guides/guides/stubs-spies-and-clocks.html">Cypress Stub Feature</a>，讓 liff.init() Stub 時 Promise 總是回傳 resolve。大致如下：</p>
<script src="https://gist.github.com/nottyo/cc86b71c2b597e537ef2888ddd52db53.js"></script>

<p>若 liff.init() 的 Parameters 正確傳送，我們能查看函數的變化嗎？<br>是的，接著我們可以使用此 Command 進行測試。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">sh$</span><span class="bash"> yarn <span class="built_in">test</span>:components</span></span><br></pre></td></tr></table></figure>

<p>Cypress 將啟動 UI Test Runner。</p>
<p><img src="https://nijialin.com/images/2020/cypress-liff/4.png"></p>
<p>讓我們選擇 <code>App.spec.js</code> 並按 “執行”，我們會看到 <strong>Test Passed</strong>。</p>
<p><img src="https://nijialin.com/images/2020/cypress-liff/5.png"></p>
<p>您可以看到在介面上都沒有測試，因為這是一項檢查是否 liff.init() 成功的測試。如此一來很快，不是嗎？</p>
<h1 id="Test-Scenario-2-Negative-Test-with-LIFF-SDK"><a href="#Test-Scenario-2-Negative-Test-with-LIFF-SDK" class="headerlink" title="Test Scenario 2: Negative Test with LIFF SDK"></a>Test Scenario 2: Negative Test with LIFF SDK</h1><p>在這次的範例中，我們打算做 LIFF SDK 的 Negative Test 。我會假設如果 liff.init() 的 Promise <code>Reject</code> 了 app，我們則須看在 App.vue 的程式碼中使否有 Handle Error。在這份程式碼中我已經使用 try&#x2F;catch 包裝 liff.init()，在執行失敗時彈出 modal 向用戶顯示錯誤。</p>
<p>通過模擬這種情況下的 Negative Test，我們將像之前一樣再次使用 Cypress Stub，將 liff.init() 設定返回 Promise Reject，可以這樣寫：</p>
<script src="https://gist.github.com/nottyo/fac82631d895d759ad7ea0bcdea64808.js"></script>

<p>使用 Cypress 進行測試時，將看到像這樣彈出 Error Modal。<br><img src="https://nijialin.com/images/2020/cypress-liff/6.png"></p>
<h1 id="Test-Scenario-3-Authentication-with-LINE-Login-Get-User-Profile"><a href="#Test-Scenario-3-Authentication-with-LINE-Login-Get-User-Profile" class="headerlink" title="Test Scenario 3: Authentication with LINE Login + Get User Profile"></a>Test Scenario 3: Authentication with LINE Login + Get User Profile</h1><p>在此範例中，我將建立一個用於顯示 LINE User Profile 的 Component，將使用 <code>liff.getProfile()</code> 這個 API 來索取用戶訊息，而在使用 liff.getProfile() 之前須先 LINE Login，確認用戶是否已登錄。若此時用戶還沒登入則會在 <code>liff.login()</code> 階段被 Redirect 至 LINE Login。</p>
<p>此外，我還使用 <code>liff.ready</code> 這個 API 來確認 APP 中的 Component 是否在 liff.init() 階段成功調用至 APP 中。</p>
<script src="https://gist.github.com/nottyo/e4c34130a1fcdb1eb6e996fb7c3cb1fa.js"></script>

<h1 id="動手做"><a href="#動手做" class="headerlink" title="動手做"></a>動手做</h1><p>為了測試 Profile Component，我必須先對 Property 進行 Stub 處理，假設 <code>liff.init()</code> 已經完成讓 <code>liff.ready</code> 順利通過，使 <code>liff.ready</code> 解析的結果等於 Promise Resolve，結果的部分可以寫成像 <code>Cypress.sinon.replace(liff, &#39;ready&#39;, Promise.resolve())</code> 這樣。</p>
<p>此外，我們會 Stub <code>liff.isLoggedIn</code> 讓它總是 Return True，如此一來就不會因為走 LINE Login 而複雜化流程。接著就是 Stub <code>liff.getProfile</code> 之後的 <code>promise resolve</code> 階段要返回 User Profile。</p>
<script src="https://gist.github.com/nottyo/fcfab3f6cd4d4c60c469eef406554a26.js"></script>

<p>當開始執行後，我們會看到我們之前已經 Stub User Profile 並回傳 Profile 的 component，而我們可以使用 Cypress Commands 觀察在 DOM 元素的狀態。</p>
<p>我們還可以使用 <code>Cypress.vue</code> 來訪問您的 Vue Instance，而且我們可以使用它來檢查 Vue Instance 中的各種 Property。例如在此範例中，我要檢查 User Profile 是否能跑 <code>Cypress.vue.$data.&lt;propertyName&gt;</code> 並正確儲存了 User Profile Object 的 <strong>Data Property</strong>。</p>
<p><img src="https://nijialin.com/images/2020/cypress-liff/7.png"></p>
<h1 id="Test-Scenario-4-Emulate-Opening-LIFF-App-from-LINE-Native-App"><a href="#Test-Scenario-4-Emulate-Opening-LIFF-App-from-LINE-Native-App" class="headerlink" title="Test Scenario 4: Emulate Opening LIFF App from LINE Native App"></a>Test Scenario 4: Emulate Opening LIFF App from LINE Native App</h1><p>在接下來的範例中，我們將模擬打開 LIFF App 的環境，像是從 Mobile app 中打開 LINE 的環境。我將使用 <code>liff.isInClient()</code> 這個 API 來檢查它是否已在 LINE App 中打開，並透過 <code>liff.getOS()</code> 查詢用戶是用何種平台開啟 LIFF。</p>
<script src="https://gist.github.com/nottyo/363bbd27695312e5d8302b1cbc9d18c7.js"></script>

<p>在寫測試時，我們對函數 <code>liff.isInClient()</code> 進行 Stub 讓回傳值為 true 並讓 <code>liff.getOS()</code> 回傳 ios。</p>
<p>此外，我還使用它 <code>cy.viewport(&#39;iphone-xr&#39;)</code> 來模擬手機螢幕大小，就像是在 iPhone 上運行一樣，Cypress 還為此準備了 <a href="https://docs.cypress.io/api/commands/viewport.html">Mobile Viewport</a> 供我們使用。您可以在此處查看更多相關資訊。</p>
<script src="https://gist.github.com/nottyo/c53bf9410dfe4399db4a9482426c82e9.js"></script>

<p><img src="https://nijialin.com/images/2020/cypress-liff/8.png"></p>
<h1 id="Cypress-與另一個-Unit-Test-Framework-比較"><a href="#Cypress-與另一個-Unit-Test-Framework-比較" class="headerlink" title="Cypress 與另一個 Unit Test Framework 比較"></a>Cypress 與另一個 Unit Test Framework 比較</h1><p>可以看出 Cypress 的優勢在於它可以在真實的瀏覽器上運行，並擁有支持所有瀏覽器的 <strong>API</strong>，以及能使用 Cypress 進行相對應測試案例的其他功能，例如 <strong>Time Travel</strong>、<strong>Debuggability</strong>…。Cypress 也可以建立虛擬的 Unit Test，且能提供更快的速度運行速度。</p>
<p>除了 Vue.js 之外，Cypress 也支援其他 Web 框架上的 Unit Test，如：<a href="https://github.com/bahmutov/cypress-react-unit-test">React</a> 和 <a href="https://github.com/bahmutov/cypress-angularjs-unit-test">Angularjs</a>。</p>
<p><img src="https://nijialin.com/images/2020/cypress-liff/9.png"></p>
<p>最後，可以在下面連結中查看查看本篇的所有 <a href="https://github.com/nottyo/liff-cypress-unit-test">Source Code</a>。若對對使用 Cypress 有任何疑問，您可以加入 <a href="https://www.facebook.com/groups/cypressiothailand">Cypress.io 泰國</a> 並詢問相關問題。</p>
<p>希望透過本篇能為所有開發人員提供一個動力，開始為我們的 LIFF App 撰寫單元測試(Unit Test)，以便我們的 LIFF App 可以長期的經營以及維護，並且具有良好的 Code Quality。大家可以使用它 Happy Testing!</p>
<blockquote>
<p>您可以在這看到本篇的完整範例：<a href="https://github.com/nottyo/liff-cypress-unit-test">liff-cypress-unit-tests</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2020/cypress-liff/10.png"></p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://github.com/bahmutov/cypress-vue-unit-test">cypress-vue-unit-test</a></li>
<li><a href="https://github.com/jessicasachs/vue-cli-plugin-cypress-experimental">vue-cli-plugin-cypress-experimental</a></li>
</ul>
]]></content>
      <categories>
        <category>翻譯</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>LIFF</tag>
        <tag>Cypress</tag>
        <tag>Testing</tag>
      </tags>
  </entry>
  <entry>
    <title>【翻譯】嘗試透過貼圖建立 Sticker-Driven Conversations 的 Chatbot</title>
    <url>/2021/03/05/translate-sticker-driven/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/translate/sticker-driven/1.png"></p>
<blockquote>
<p>翻譯來自泰國的 Tan 的<a href="https://medium.com/linedevth/line-chatbot-sticker-driven-conversation-920087b8fe44">文章</a></p>
</blockquote>
<p>大家好，我希望 2021 年對每個人來說都是美好的一年 😃，本次會分享一篇對於有在開發 LINE Chatbot 朋友相關的有趣文章。</p>
<p>12 月時，LINE 更新了 Messaging API 的新功能(<a href="https://developers.line.biz/en/news/2020/12/02/messaging-api-update-december-2020/">新聞連結</a>)，方法是當用戶將<strong>貼圖</strong>發送給 Chatbot 時，將會從 Webhook 的 <code>keywords</code> 中找到貼圖的<strong>關鍵字</strong>訊息。</p>
<span id="more"></span>

<p><img src="https://nijialin.com/images/2021/translate/sticker-driven/2.jpeg"></p>
<h1 id="關鍵字的效果如何？"><a href="#關鍵字的效果如何？" class="headerlink" title="關鍵字的效果如何？"></a>關鍵字的效果如何？</h1><p>以前，當用戶發送的貼圖給我們時，從中只能拿到 <code>stickerId</code> 與 <code>packageId</code>，很難使用它做其他的用途，也因此我們無法理解使用貼圖時的上下文為何。</p>
<p>但如今增加了 <code>keywords</code> 這個欄位，它將幫助我們透過 <strong>貼圖</strong>(<strong>Sticker</strong>) 更好地去理解其中含意，了解用戶的意圖與感受(WoW!)</p>
<blockquote>
<p>注意：<code>keywords</code> 欄位最多將只能擁有 15 個關鍵字，並且排序為<strong>隨機</strong>。</p>
</blockquote>
<h1 id="透過-Sticker-與您的-BMI-Chatbot-Dialogflow-對話。"><a href="#透過-Sticker-與您的-BMI-Chatbot-Dialogflow-對話。" class="headerlink" title="透過 Sticker 與您的 BMI Chatbot(Dialogflow)對話。"></a>透過 Sticker 與您的 BMI Chatbot(Dialogflow)對話。</h1><p>我將在本文中做的是開發給 <a href="https://medium.com/@jirawatee">Jirawatee</a> 使用的 BMI Chatbot，<a href="https://medium.com/@jirawatee">Jirawatee</a>希望 Chatbot 透過 Sticker 了解他的需求(Intent)，讓他能更方便的使用。但眾所周知，Dialogflow 僅支援文字類型，因此我們必須先創建一個 Proxy 幫忙轉譯，然後再將訊息轉發給 Dialogflow。</p>
<p><img src="https://nijialin.com/images/2021/translate/sticker-driven/3.png"></p>
<p>由於本篇是屬於半實驗性的開發，因此我將透過 ngrok，將其作為 Local Server，並使用 Node.js 進行開發。主要步驟如下:</p>
<ol>
<li>建立 LINE Official Account (Chatbot)</li>
<li>使用 Dialogflow 建構 BMI Chatbot</li>
<li>建立 Proxy Server</li>
<li>啟用 ngrok</li>
<li>將 Chatbot 收集到的詞彙添加到 Dialogflow 做訓練</li>
</ol>
<h2 id="1-建立-LINE-Official-Account-Chatbot"><a href="#1-建立-LINE-Official-Account-Chatbot" class="headerlink" title="1. 建立 LINE Official Account (Chatbot)"></a>1. 建立 LINE Official Account (Chatbot)</h2><p>如果您以前沒有建立過 LINE Chatbot，則可以查看 Jirawatee 的<a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%A3%E0%B8%B5%E0%B8%A2%E0%B8%99%E0%B8%A3%E0%B8%B9%E0%B9%89%E0%B8%81%E0%B8%B2%E0%B8%A3-integrate-line-bot-%E0%B9%80%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%81%E0%B8%B1%E0%B8%9A-dialogflow-%E0%B9%81%E0%B8%A5%E0%B8%B0-firebase-%E0%B8%9C%E0%B9%88%E0%B8%B2%E0%B8%99-bmi-bot-5a30a672f6ae">這篇文章</a>(泰文)。若你已經有帳號了，直接跳到下一小節。</p>
<blockquote>
<p>中文版的建立流程可以參考 - <a href="https://engineering.linecorp.com/zh-hant/blog/chatbot-taichung-08-line-workshop/#massaging-api">LINE 開發社群計畫: Chatbot 台中小聚 08 – LINE platform 工作坊紀錄</a></p>
</blockquote>
<h2 id="2-使用-Dialogflow-建構-BMI-Chatbot"><a href="#2-使用-Dialogflow-建構-BMI-Chatbot" class="headerlink" title="2. 使用 Dialogflow 建構 BMI Chatbot"></a>2. 使用 Dialogflow 建構 BMI Chatbot</h2><p>如前面 Jirawatee 建議的那樣，我們需要一隻 BMI Chatbot，想了解實作細節可以參考此篇(泰文)：<a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%A3%E0%B8%B5%E0%B8%A2%E0%B8%99%E0%B8%A3%E0%B8%B9%E0%B9%89%E0%B8%81%E0%B8%B2%E0%B8%A3-integrate-line-bot-%E0%B9%80%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%81%E0%B8%B1%E0%B8%9A-dialogflow-%E0%B9%81%E0%B8%A5%E0%B8%B0-firebase-%E0%B8%9C%E0%B9%88%E0%B8%B2%E0%B8%99-bmi-bot-5a30a672f6ae">如何透過 BMI Bot 將 LINE Bot、Dialogflow 和 Firebase 結合</a></p>
<h2 id="3-建立-Proxy-Server"><a href="#3-建立-Proxy-Server" class="headerlink" title="3. 建立 Proxy Server"></a>3. 建立 Proxy Server</h2><p>此步驟是使用 Node.js 撰寫一個 Web app，用來接收用戶向我們的 Chatbot 發送訊息時 LINE 發送回來的 Webhook，然後我們將從 Webhook 中 找出 <code>keywords</code> 欄位並轉發到 Dialogflow</p>
<script src="https://gist.github.com/tandevmode/a833ff7ca8b1e2bcd9fcc50770fa6667.js"></script>

<p>創建新 Text 類型的原則是:</p>
<ul>
<li><strong>Body</strong>：我們必須將 Sticker 類型轉換為 Text 類型的文字，以便 Dialogflow 能夠理解它。而實際上，我們也可以將其所有關鍵字發送過去。但是，如果仔細看，關鍵字的含義非常廣泛(例如：cony、sally、line.. 等等)，可能會使 Dialogflow 難以解釋 Intent，因此我嘗試僅發送 3 個隨機關鍵字給 Dialogflow。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> keywords = event.message.keywords;</span><br><span class="line"><span class="keyword">let</span> stickerIntent = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">2</span>; i++) &#123;</span><br><span class="line">    stickerIntent += randomItem(keywords) + <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomItem</span>(<span class="params">items</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> items[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * items.length)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Headers：我們在轉發到 Dialogflow 之前，需將 “x-line-signature” 和 “hosts” 一起使用，而 ‘content-length’ 也是需要注意的部分，因此也需要將 Body 加入其中。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">req.headers[<span class="string">&#x27;x-line-signature&#x27;</span>] = crypto</span><br><span class="line">  .createHmac(<span class="string">&#x27;SHA256&#x27;</span>, LINE_CHANNEL_SECRET)</span><br><span class="line">  .update(body)</span><br><span class="line">  .digest(<span class="string">&#x27;base64&#x27;</span>)</span><br><span class="line">  .toString();</span><br><span class="line">req.headers.host = <span class="string">&#x27;dialogflow.cloud.google.com&#x27;</span>;</span><br><span class="line">req.headers[<span class="string">&#x27;content-length&#x27;</span>] = Buffer.byteLength(body, <span class="string">&#x27;utf8&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>接著開始嘗試轉發到 Dialogflow 上，但 Dialogflow 都沒有連接成功。一直在原地轉圈圈 🥺。之後，我來諮詢 Jirawatee，討論了許久時間，我們發現需要修復’content-length’ 即可…</p>
<h3 id="index-js-的所有程式碼"><a href="#index-js-的所有程式碼" class="headerlink" title="index.js 的所有程式碼"></a>index.js 的所有程式碼</h3><script src="https://gist.github.com/tandevmode/e5045de4e811aa979f86fbf462e8c043.js"></script>

<h1 id="4-啟用-ngrok"><a href="#4-啟用-ngrok" class="headerlink" title="4. 啟用 ngrok"></a>4. 啟用 ngrok</h1><p>對於以前從未使用過 ngrok 的朋友，我們建議您閱讀<a href="https://medium.com/linedevth/linebot-ngrok-b319841a49d7">這篇文章</a>(泰文)，可以讓我們在 3000 port 下啟用 ngrok！</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ngrok http 3000</span><br></pre></td></tr></table></figure>

<p><img src="https://nijialin.com/images/2021/translate/sticker-driven/5.png"></p>
<p>像過往一樣，從 ngrok 獲取 URL 後，在網址後面添加 <code>/webhook</code> 並放入我們的 Chatbot Channel 當中。</p>
<p><img src="https://nijialin.com/images/2021/translate/sticker-driven/6.png"></p>
<h1 id="5-將-Chatbot-收集到的詞彙添加到-Dialogflow-做訓練"><a href="#5-將-Chatbot-收集到的詞彙添加到-Dialogflow-做訓練" class="headerlink" title="5. 將 Chatbot 收集到的詞彙添加到 Dialogflow 做訓練"></a>5. 將 Chatbot 收集到的詞彙添加到 Dialogflow 做訓練</h1><p>Dialogflow 的其中一個功能是我們可以輸入每個 Intent 的句子，因為我們 BMI Chatbot 輸入都是泰文句子，但是 <code>keywords</code> 裡回應的數值都是英文，因此我們也必須提供更多訓練的詞彙。</p>
<h3 id="5-1-Default-Welcome-Intent"><a href="#5-1-Default-Welcome-Intent" class="headerlink" title="5.1 Default Welcome Intent"></a>5.1 Default Welcome Intent</h3><p><img src="https://nijialin.com/images/2021/translate/sticker-driven/7.png"></p>
<h3 id="5-2-BMI-Intent"><a href="#5-2-BMI-Intent" class="headerlink" title="5.2 BMI Intent"></a>5.2 BMI Intent</h3><p><img src="https://nijialin.com/images/2021/translate/sticker-driven/8.png"></p>
<h3 id="5-3-BMI-—-custom-—-yes-Intent"><a href="#5-3-BMI-—-custom-—-yes-Intent" class="headerlink" title="5.3 BMI — custom — yes Intent"></a>5.3 BMI — custom — yes Intent</h3><p><img src="https://nijialin.com/images/2021/translate/sticker-driven/9.png"></p>
<h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><p><img src="https://nijialin.com/images/2021/translate/sticker-driven/10.gif"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>本文提供了一些貼圖的小技巧，透過這些技巧增加了一些功能，讓 Chatbot 透過貼圖(Sticker)類型讓 Chatbot 理解用戶的意圖，歡迎各位參考本篇文章並嘗試各種不同的應用吧：)</p>
<p><strong>Note</strong>: Keywords experimental phase - keywords 目前仍處於試驗階段，使用前須注意相關支援度喔！</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://medium.com/linedevth/%E0%B8%A7%E0%B8%B4%E0%B8%98%E0%B8%B5%E0%B8%97%E0%B8%B3%E0%B9%83%E0%B8%AB%E0%B9%89-line-bot-%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B8%9E%E0%B8%B1%E0%B8%92%E0%B8%99%E0%B8%B2%E0%B8%94%E0%B9%89%E0%B8%A7%E0%B8%A2-dialogflow-%E0%B8%A3%E0%B8%AD%E0%B8%87%E0%B8%A3%E0%B8%B1%E0%B8%9A-events-%E0%B8%95%E0%B9%88%E0%B8%B2%E0%B8%87%E0%B9%86%E0%B8%99%E0%B8%AD%E0%B8%81%E0%B9%80%E0%B8%AB%E0%B8%99%E0%B8%B7%E0%B8%AD%E0%B8%88%E0%B8%B2%E0%B8%81-text-2cae8214c647">揭示如何使 Dialogflow 開發的 LINE Bot 支持 Text 以外的各種事件</a></li>
</ul>
]]></content>
      <categories>
        <category>翻譯</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
      </tags>
  </entry>
  <entry>
    <title>開始贊助 Prettier 與推動公司支持 OSS</title>
    <url>/2022/02/15/translate-oss-and-uit-support-prettier/</url>
    <content><![CDATA[<blockquote>
<p>翻譯原文：<a href="https://engineering.linecorp.com/ja/blog/uit-support-prettier-and-oss/">https://engineering.linecorp.com/ja/blog/uit-support-prettier-and-oss/</a></p>
</blockquote>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是前端開發中心(也稱為 UIT) Front-End Dev.9 的花谷(<a href="https://twitter.com/potato4d">@potato4d</a>)。</p>
<p>在『UIT 新春 Tech Blog』 1&#x2F;27 的今天，我們將介紹由 UIT 團隊負責贊助的前端領域 OSS 的相關內容。</p>
<span id="more"></span>

<h2 id="與-LINE-的前端區域相關的-OSS-贊助狀態"><a href="#與-LINE-的前端區域相關的-OSS-贊助狀態" class="headerlink" title="與 LINE 的前端區域相關的 OSS 贊助狀態"></a>與 LINE 的前端區域相關的 OSS 贊助狀態</h2><p>截至 2022 年 1 月，LINE 支援的 OSS 專案(如以下)：</p>
<h3 id="Vue-js"><a href="#Vue-js" class="headerlink" title="Vue.js"></a>Vue.js</h3><ul>
<li>2021 年 4 月開始提供贊助，持續中</li>
<li>每月透過 Evan You 個人的 Patreon 平台支付 100 美元</li>
</ul>
<h3 id="Husky"><a href="#Husky" class="headerlink" title="Husky"></a>Husky</h3><ul>
<li>2021 年 3 月開始提供贊助，持續中</li>
<li>每月透過 Open Collective 公司向開發團隊帳戶支付 100 美元</li>
</ul>
<h3 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h3><ul>
<li>自 2021 年 6 月起，我們開始提供贊助，持續中</li>
<li>每月透過 Open Collective 公司向開發團隊帳戶支付 100 美元</li>
</ul>
<p>自 2021 年以來，組織對 OSS 贊助的認識不斷提升，並積極支援它。本月，我們決定向 Prettier 提供支援。</p>
<blockquote>
<p>話到這邊，有一個向 <a href="https://blog.cybozu.io/entry/2021/03/19/110000">Cybozu, Inc. 贊助</a>的先例，讓 LINE 可以持續對 OSS 的贊助。<br>感謝過去 LINE 的前輩的幫忙(先例)，讓我們接下來有更多的機會能夠做到幫助社會的事情。</p>
</blockquote>
<h2 id="為什麼要向-OSS-提出贊助？"><a href="#為什麼要向-OSS-提出贊助？" class="headerlink" title="為什麼要向 OSS 提出贊助？"></a>為什麼要向 OSS 提出贊助？</h2><p>有些人可能會對於商業公司贊助 OSS 抱有懷疑的疑慮？ 許多開放原始碼(Open Source)軟體是<strong>免費</strong>和<strong>非營利</strong>的，如果需要，可以 Clone 和修改。而作為一家商業公司，我們可能很難找到好的理由來支援非營利性開放原始碼軟體。</p>
<p>但是，你知道這種狀況背後可能存在風險嗎？</p>
<p>Node.js 生態系統中的許多開放原始碼軟體都是個人或志願者組成的，對於作為前端工程師的我們來說無疑是相當重要。然而，這些 OSS 並不總是具有足夠的可持續性。最近，有許多公司在開發和運營 Next.js 和 Hasura 等 OSS，有很多 OSS 持續在進行，但目前的情況是，沒產生直接收入的 OSS 卻佔絕大多數。</p>
<p>在這種情況下，Node.js 生態系統中經常出現焦慮。自去年發生了 <a href="https://news.ycombinator.com/item?id=28962168">UAParser.js</a> 相關事件以來，針對 Package 就有許多問題一直存在，維護者停止維護的情況也越來越多。</p>
<p>在這種情況下，如果出現難以修復的 BUG 或漏洞(不包括開發人員本身)，問題則會存在相當大的風險。對於我們這些承擔重任的營利性企業來說，這種風險是不可忽視的。到目前為止，OSS 的盈利能力一直受到許多開發者個人的支持，眼前需要更足夠的支持，就不能視而不見。</p>
<p>直至今日，這種不太好的文化已經顯現出來，即使只從風險對沖的角度來判斷，而不考慮對 OSS 文化的同情和支援，企業也都有充分的理由支持開放原始碼軟體。</p>
<h2 id="向-Prettier-詢問支援的意圖和內部使用狀況"><a href="#向-Prettier-詢問支援的意圖和內部使用狀況" class="headerlink" title="向 Prettier 詢問支援的意圖和內部使用狀況"></a>向 Prettier 詢問支援的意圖和內部使用狀況</h2><p>這一次的贊助，催化劑是來自以下文章的支援。</p>
<p><img src="https://nijialin.com/images/2022/uit-oss/0.png"></p>
<p><a href="https://sosukesuzuki.dev/posts/prettier-begins-paying-maintainers/">https://sosukesuzuki.dev/posts/prettier-begins-paying-maintainers/</a></p>
<p>本文由 Prettier 的主要維護者之一 Sosukesuzuki 撰寫，引用其中的內容，當前 Prettier 僅由兩個維護者支持，並且每月需向主要維護者支付 1,500 美元。</p>
<p>在 LINE 的 UIT 相關活動中，我們有機會在 <a href="https://uit-inside.linecorp.com/episode/37">UIT INSIDE ep.37 “貢獻和學習的 Prettier 的工作原理”</a>和 <a href="https://www.youtube.com/watch?v=Qsuk2KCDIxw">UIT INSIDE ep.100 的”開放源碼軟體免費講座”</a>中與 sosukesuzuki 談論當前狀態。我理解持續維護開放原始碼是相當不容易的。</p>
<p>Prettier 是現代前端專案不可取代的工具之一，無論是內部還是外部，對於前端的高生產率至關重要。雖然 OSS 可持續性的討論是當今的趨勢之一，但我們認為，繼續維護 Prettier 對前端開發人員非常重要，因此決定提供更多贊助的説明。</p>
<h2 id="LINE-內部-Prettier-使用方式"><a href="#LINE-內部-Prettier-使用方式" class="headerlink" title="LINE 內部 Prettier 使用方式"></a>LINE 內部 Prettier 使用方式</h2><p>當然，不僅整個軟體行業，公司內部也都廣泛的使用 Prettier。 LINE 當中使用到許多 <a href="https://engineering.linecorp.com/ja/blog/uit-front-end-tooling-survey-2020/">React&#x2F;Vue</a> 的情況，以及歷史悠久的 JavaScript 專案到的近期 TypeScript 的各種大、小型專案，每個專案使用的函式庫和基礎設施都會有所不同，但如果某些庫和基礎設施保持不變，就會用 Linter 來整理程式碼。</p>
<p>LINE 內部也部署了 ESLint&#x2F;Prettier，無論前端用了什麼語言或框架，前端開發指南都強烈建議使用 Prettier。</p>
<p><img src="https://nijialin.com/images/2022/uit-oss/1.png"></p>
<p>總體而言，Prettier 是 LINE 所有專案不可或缺的工具。因此，我們決定，因為 Prettier 帶給我們許多的幫助，所以我們決定提供贊助資源。</p>
<h2 id="瞭解相關説明與更多資訊"><a href="#瞭解相關説明與更多資訊" class="headerlink" title="瞭解相關説明與更多資訊"></a>瞭解相關説明與更多資訊</h2><p><img src="https://nijialin.com/images/2022/uit-oss/2.png"></p>
<p>過去 UIT 團隊一直持續支援 100 美元。這一次，我們決定贊助 3,000 美元。 相當於一次贊助兩個現在相當活躍的維護者。因為能夠一次性的在 OSS 領域中支援一筆資金是非常重要的。</p>
<p>與 Vue.js 和 Bootstrap 不同的地方在於，Prettier 當前很大程度上取決於少數維護者的動機，我們也看到局勢在不穩定和可持續中擺動。在這種情況下，像我們這樣的大型公司能夠在正確的時間提供支援，這將大大影響維護者的動機，並拋磚引玉創造機會讓其他公司將來可以採取類似的行動。</p>
<p>因此，在考慮繼續提供援助的同時，我們將先提供了 3,000 美元的援助。</p>
<h2 id="促進內部開放原始碼服務的關鍵"><a href="#促進內部開放原始碼服務的關鍵" class="headerlink" title="促進內部開放原始碼服務的關鍵"></a>促進內部開放原始碼服務的關鍵</h2><p>到目前為止，我們已經介紹了贊助 OSS 的意圖，以及支援 LINE 內部的 Prettier 的案例。最後，我想向大家介紹一下如何激勵企業支持開放原始碼軟體。</p>
<h2 id="明確支援-OSS-的動機"><a href="#明確支援-OSS-的動機" class="headerlink" title="明確支援 OSS 的動機"></a>明確支援 OSS 的動機</h2><p>作為開發人員，您願意説明 OSS 社群的優勢。但作為一個組織，您需要充分的理由來提供説明。因此，我們建議大家在拉贊助時，提前考慮組織支持什麼類型的政策。由於支援 OSS 的合理原因通常如以下其中之一：</p>
<ul>
<li>將 OSS 的風險降至最低<ul>
<li>如果可用的函式庫或框架對公司來說是不可替代的</li>
<li>沒有安全性更新也是一大風險</li>
</ul>
</li>
<li>在招募方面考慮公關面向<ul>
<li>藉由公司的政策讓他們對於特定技術印象深刻</li>
<li>他們可以自己規劃技術活動，在 Engineering Blog 上分享知識。而您可以更積極地展示對技術的投資。</li>
</ul>
</li>
<li>在組織內發展、釀造開發文化<ul>
<li>以公司、開發人員對 OSS 的積極態度為目標為主</li>
<li>除了自然地增加對 OSS 的興趣之外，它還有助於創建一個可以輕鬆聚集高度感興趣的開發人員的組織。</li>
</ul>
</li>
</ul>
<h2 id="預先調查-OSS-的支援計劃"><a href="#預先調查-OSS-的支援計劃" class="headerlink" title="預先調查 OSS 的支援計劃"></a>預先調查 OSS 的支援計劃</h2><p>在考慮向 OSS 提供説明時，最好提前查看計劃清單相關報告。</p>
<p>例如，如果透過 <a href="https://www.patreon.com/evanyou">Evan 的 Patreon</a> 來贊助 Vue.js，當中的說明(如圖)有豐富的說明。</p>
<p><img src="https://nijialin.com/images/2022/uit-oss/3.png"></p>
<p>根據金額的不同，廣告和 PV 等都清楚地顯示出來，因此，如果您特別重視品牌推廣和招募，則<strong>回饋</strong>是決定是否贊助的重要因素。我們建議您提前研究，讓贊助可以有充分的理由。</p>
<h2 id="量化採取後的狀態"><a href="#量化採取後的狀態" class="headerlink" title="量化採取後的狀態"></a>量化採取後的狀態</h2><p>最後，建議指標始終要能量化。</p>
<p>雖然提到了關於收益方面的 PV 等量化指標。但現實是需要考慮許多東西的，包含了品牌推廣的抽象元素等等，是無法完全量化測量。因此，希望透過關注公司組織內部開發人員的聲音和外部開發人員的聲音等指標的資訊來判斷效果是否足夠。</p>
<p>如果僅僅通過量化評估，忽略了隱性的影響，支援也可能隨時停止。因此在充分了解 OSS 贊助的性質後，我們也要根據相關的指標資訊來判斷效果是否有達到。</p>
<h2 id="明白這不是一個大金額"><a href="#明白這不是一個大金額" class="headerlink" title="明白這不是一個大金額"></a>明白這不是一個大金額</h2><p>最後，重要的要了解對於一個公司組織來說，大約 100 美元的捐款並不大。</p>
<p>當然，要是希望每個人每月為 OSS 提供 100 美元。你可能會退縮，但個人和公司在預算上有很大的差異。</p>
<p>如果有充足的理由，我認為多贊助些應該有很多好事會發生，並可以提出相關的建議給專案，這也許很重要。</p>
<h1 id="最後"><a href="#最後" class="headerlink" title="最後"></a>最後</h1><p>這一次，我介紹了在 Engineering Blog 中較少討論對開放原始碼軟體(OSS)的贊助計畫。</p>
<p>自 2017 年以來，我一直為 Nuxt.js 捐款。而去年 3 月，我首次作為一個組織捐款。雖然第一次有相當多的事情要做，一旦結果出來時，我就會意識到，以後是可以投入更多的成本來做這件事，希望有更多的組織使用本篇文章來支援、贊助新的開放原始軟體(OSS)。</p>
]]></content>
      <categories>
        <category>翻譯</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Frontend</tag>
        <tag>Prettier</tag>
      </tags>
  </entry>
  <entry>
    <title>在 GCS || GitHub 上傳圖片並取得網址</title>
    <url>/2022/10/02/upload-image-get-url-ways/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/common.jpeg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>從以前使用雲端硬碟，如 Dropbox, Google Drive, Box…我們都很習慣可以手動拉照片、影片上去放，而在開始寫程式之後理所當然就會想用 API 丟，但這些雲端硬碟一般來說除非用模擬器，不然理論上應該是不好用程式跑，而在公有雲出來後，就有像是 AWS S3, Google Cloud Storage 等等的服務陸續出來，讓大家可以使用他們的服務建立自己的硬碟空間，也不用自己架伺服器弄硬碟空間，權限管控都幫你弄好好，也可以用 API 訪問，實在是很方便呢！</p>
<p>隨著程式越寫越多，除了在 LINE Bot 上需要圖片網址才可以發送圖片外，像是 video.js 以及許多很多服務、工具越來越依靠　 https 相關的網址來找圖片，接下來就讓筆者就帶大家認識一下近期使用的一些範例以及我發現的另一種上傳方法。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>以下範例介紹 GCP &amp; GitHub 專案兩種方式來上傳圖片使用。</p>
<h2 id="Google-Cloud-Storage-GCS"><a href="#Google-Cloud-Storage-GCS" class="headerlink" title="Google Cloud Storage(GCS)"></a>Google Cloud Storage(GCS)</h2><p><img src="https://nijialin.com/images/2022/cloud-storage-productcard.jpg"></p>
<blockquote>
<p><a href="https://cloud.google.com/storage/pricing">定價表</a><br>Cloud Storage「一律免費」部分的用量限制<br>在 Google Cloud 免費方案下，使用者可免費使用一定限度的 Cloud Storage 資源。無論免費試用期是否已經結束，只要您未超過相關用量限制，都可以免費使用這類資源。免費試用期過後，如果超過「一律免費」方案的用量限制，系統就會根據上方價目表收費。<br>Cloud Storage「一律免費」方案的配額適用於 US-WEST1、US-CENTRAL1 和 US-EAST1 區域的資源用量，這 3 個區域的用量會合併計算。一律免費方案的內容隨時可能變更。</p>
</blockquote>
<table>
<thead>
<tr>
<th>資源</th>
<th>每月免費用量限制</th>
</tr>
</thead>
<tbody><tr>
<td>Standard Storage</td>
<td>Text</td>
</tr>
<tr>
<td>A 級作業</td>
<td>5,000 次</td>
</tr>
<tr>
<td>B 級作業</td>
<td>50,000 次</td>
</tr>
<tr>
<td>網路輸出</td>
<td>從北美洲到各個 GCP 輸出目的地各佔 1 GB* (澳洲和中國除外)</td>
</tr>
</tbody></table>
<p>雖然需要付錢，但相關的 API 文件都非常的豐富，網路上也有許多語言範例可以參考，在連結其他 GCP 服務上網內互打也會快滿多的，像是我在八月 <a href="https://nijialin.com/2022/08/20/gccp-creator-cc-subtitle/">COSCUP 分享的內容中</a>就是使用 GCS 搭配 eventarc，讓上傳後可以觸發後續動作，非常棒的服務！且另外也還可以放前端編譯完的靜態檔案(dist)上去，讓你網站部署後也可以使用。</p>
<blockquote>
<p>上傳至 GCS 範例：<a href="https://github.com/louis70109/FastAPI-GCS/blob/877189b984a6b10b8df1535e1f63b9e1b447c33c/utils/gcp.py#L4">louis70109&#x2F;FastAPI-GCS</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> google.cloud <span class="keyword">import</span> storage</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload_data_to_gcs</span>(<span class="params">bucket_name, data, target_key, meta=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        client = storage.Client()</span><br><span class="line">        bucket = client.bucket(bucket_name)</span><br><span class="line">        blob = bucket.blob(target_key)</span><br><span class="line">        blob.upload_from_string(data, content_type=meta)</span><br><span class="line">        <span class="keyword">return</span> blob.public_url</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line">        <span class="keyword">raise</span></span><br></pre></td></tr></table></figure>

<p>透過這個函式執行成功之後，就可以取得圖片網址嚕！但若網址拿到之後還是不行使用，請確認 GCS 的權限喔！</p>
<h2 id="GitHub-repo"><a href="#GitHub-repo" class="headerlink" title="GitHub repo"></a>GitHub repo</h2><ul>
<li>空間限制 5G(<a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-large-files-on-github">Document</a>)</li>
</ul>
<blockquote>
<p>We recommend repositories remain small, ideally less than 1 GB, and less than 5 GB is strongly recommended.</p>
</blockquote>
<p>官方建議專案盡量少於 5G，但因為初期使用可能還在評估到底要用哪家 Bucket 好，因此還是可以先寫一段上傳的 code 先把檔案放上去，後續也建議把它轉移到其他的儲存平台上才好喔！</p>
<h2 id="應用-LINE-Bot-收到圖片後傳到-GitHub-並使用"><a href="#應用-LINE-Bot-收到圖片後傳到-GitHub-並使用" class="headerlink" title="應用 - LINE Bot 收到圖片後傳到 GitHub 並使用"></a>應用 - LINE Bot 收到圖片後傳到 GitHub 並使用</h2><p>LINE Bot 在一次的 Webhook 收到圖片之後，會收到 Message Id，可以透過這個 ID 去取得圖片、影片、音檔以及檔案(<a href="https://developers.line.biz/en/reference/messaging-api/#get-content">Document</a>)，以下是使用 Python 為範例。</p>
<script src="https://gist.github.com/louis70109/d9badb4defce9c33a5e89b1d2c0c82ed.js"></script>

<ul>
<li>5~7 行將 content 內容中的 byte 給全部拉出來，檔案內容內容大概會像這樣 <code>b&#39;\x009\x002&#39;</code> (筆者忘了這是哪個編碼)。</li>
<li>從 LINE 拉下來的檔案需要 decode 成 ASCII 的格式，而 GitHub 只吃 base64，因此需要透過第 9 行的方式把它轉掉 <code>base64.b64encode(image_content).decode(&#39;ascii&#39;))</code>。</li>
<li>10~24 則是呼叫 GitHub 上傳檔案 API。<ul>
<li>如需使用請把 <code>committer</code> 以及 <code>url</code> 換成自己的內容喔！</li>
</ul>
</li>
</ul>
<p>搭配著 GitHub <a href="https://docs.github.com/en/rest/repos/contents#create-or-update-file-contents">上傳檔案的 API</a> 來將檔案上傳上去，其中在 <code>content</code> 的部分他規定 <code>The new file content, using Base64 encoding.</code></p>
<h3 id="那我要怎麼知道我的檔案網址呢？"><a href="#那我要怎麼知道我的檔案網址呢？" class="headerlink" title="那我要怎麼知道我的檔案網址呢？"></a>那我要怎麼知道我的檔案網址呢？</h3><p>一般我們從 GitHub 介面點上進去專案時路徑都大概像是 <code>https://github.com/帳號/專案名稱/blob/master/檔案.png</code>，但因為圖片使用上這樣會抓不到原檔，在 GitHub 的儲存位置上則是以下：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/帳號/</span>專案<span class="regexp">/master/</span>檔案.png</span><br></pre></td></tr></table></figure>

<p>如此一來不管在 LINE Bot、video.js、HTML src 上要使用都可以直接這樣傳輸，如此一來就可以帶大家度過 side project 啟動的初期了～</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>處理空間的位置一直都不是件容易的事情，尤其在現在大家都使用雲端空間的時代也很難自己在架設機器，都還是會傾向代管的方式執行，以上提供兩個方法讓大家開發時可以快速上手，如果你也覺得這篇有用的話，再請幫我多分享喔！想了解什麼內容也歡迎留言讓我知道😳 </p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>
]]></content>
      <categories>
        <category>應用</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Google</tag>
        <tag>GCP</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>【WFH 戰記】讓舊的 iPhone 手機變成 Mac 的隨身視訊鏡頭 | feat. OBS</title>
    <url>/2022/06/18/use-iphone-camera-mac-obs/</url>
    <content><![CDATA[<h1 id="裝備準備-iPhone-傳輸線-TypeC"><a href="#裝備準備-iPhone-傳輸線-TypeC" class="headerlink" title="裝備準備 - iPhone + 傳輸線(TypeC)"></a>裝備準備 - iPhone + 傳輸線(TypeC)</h1><p><img src="https://nijialin.com/images/2022/use-iphone-cam/0-1.JPG"></p>
<ul>
<li>iPhone XR</li>
<li>TypeC 傳輸線</li>
<li>Macbook Pro 15”</li>
</ul>
<p>江湖再走 Mac 要有，且現代手機鏡頭一個比一個還猛，當然蘋果用戶也會有機會換下舊的手機，這邊只要這三個東西就可以往接下來的步驟前進囉!</p>
<span id="more"></span>

<h1 id="OBS"><a href="#OBS" class="headerlink" title="OBS"></a>OBS</h1><p>除了直播&#x2F;錄影之外，OBS有另一個好用的東西就是<strong>虛擬鏡頭</strong>，讓大家可以客製化任何的東西，全部讓OBS幫你套在視訊上，這種需求可能在某些分享畫面中偵數會很低，透過視訊就可以拉高(約 30FPS)，因此以下就用虛擬鯨頭來帶大家把舊的 iPhone 客製成你的視訊鏡頭!</p>
<h2 id="加入場景"><a href="#加入場景" class="headerlink" title="加入場景"></a>加入場景</h2><p><img src="https://nijialin.com/images/2022/use-iphone-cam/1.png"></p>
<p>OBS 彈性很高，可以設定許多組不同的設定，讓應用場景可以客製化，因此這邊就先加入一個 [<strong>視訊鏡頭</strong>] 場景</p>
<p><img src="https://nijialin.com/images/2022/use-iphone-cam/2.png"></p>
<p>接著在場景內的 <strong>來源</strong>(Source) 中的<strong>視訊擷取裝置</strong>，在 Mac 上很方便直接把 iPhone 當成一個來源</p>
<p><img src="https://nijialin.com/images/2022/use-iphone-cam/3.png"></p>
<p>再下拉選單中找到你的 iPhone 名字</p>
<p><img src="https://nijialin.com/images/2022/use-iphone-cam/4.png"></p>
<p>會看到有一個長方形的框框被放入 OBS 當中，但手機可能會<strong>放橫的</strong>，因此我們就先來翻轉成我們要的方向</p>
<p><img src="https://nijialin.com/images/2022/use-iphone-cam/5.png"></p>
<p>在畫面上點選<em>右鍵</em>找到<strong>變型</strong>，接著會有以下兩種使用</p>
<ul>
<li>翻轉到自己要的位置</li>
<li>稍後會用到<strong>變型設定….</strong></li>
</ul>
<p><img src="https://nijialin.com/images/2022/use-iphone-cam/8.png"></p>
<p>一樣右鍵選擇 **變型設定….**，陸續把上下左右的剪裁逐步調整成適合的大小，這邊我 iPhone 相機使用 1:1 的大小，因此裁切起來就要切成正方形</p>
<blockquote>
<p>16:9 之類的會出現像是拍照鈕，畫面上不太適合出現，因此我就使用1:1。</p>
</blockquote>
<h2 id="客製化你的視訊鏡頭"><a href="#客製化你的視訊鏡頭" class="headerlink" title="客製化你的視訊鏡頭"></a>客製化你的視訊鏡頭</h2><p><img src="https://nijialin.com/images/2022/use-iphone-cam/9.png"></p>
<p>調整完之後就可以在畫面上開始放上各種圖片，讓你整個視訊看起來很繽紛，且可以用到手機的人像功能，但缺點是下面會出現一個自然光的字，如果不想出現就還是用一般的拍照囉!</p>
<h2 id="啟動鏡頭-開啟會議軟體"><a href="#啟動鏡頭-開啟會議軟體" class="headerlink" title="啟動鏡頭 + 開啟會議軟體"></a>啟動鏡頭 + 開啟會議軟體</h2><p><img src="https://nijialin.com/images/2022/use-iphone-cam/10.png"></p>
<p>在 OBS 右下角開啟<strong>虛擬相機</strong>，這樣就可以在各大會議軟體中使用啦，接著我使用 Zoom 來當作這次的測試</p>
<p><img src="https://nijialin.com/images/2022/use-iphone-cam/12.png"></p>
<p>在視訊旁邊就可以選擇 OBS Virtual Camera，這樣就可以看到你的 iPhone 變成你的視訊鏡頭，是不是覺得很方便呢?</p>
<blockquote>
<p>zoom 預設讓自己看到翻轉，這樣狀態是正常的，不用特別去調整。</p>
</blockquote>
<h1 id="主委加碼-iPhone-九宮格怎麼關"><a href="#主委加碼-iPhone-九宮格怎麼關" class="headerlink" title="主委加碼 iPhone 九宮格怎麼關"></a>主委加碼 iPhone 九宮格怎麼關</h1><p><img src="https://nijialin.com/images/2022/use-iphone-cam/1-3.PNG"></p>
<p>開啟設定的地方，往下找到相機的選項。</p>
<p><img src="https://nijialin.com/images/2022/use-iphone-cam/1-2.PNG"></p>
<p>找到格線的地方把他關起來就可以囉。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>雖然使用 iPhone 當作視訊鏡頭有點殺雞用牛刀，但透過這種方式讓遠距或接案工作者在隨時隨地都可以讓你的視訊會議質感上升，在疫情的環境下能看到精緻的畫面大家眼睛也會為之一亮呢!!</p>
<p>如果你也覺得這篇文章有用，歡迎分享給更多人知道喔！接下來嘗試看看 Windows 到底怎麼接上 iPhone 來當鏡頭。</p>
<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>]]></content>
      <categories>
        <category>WFH 戰記</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>iPhone</tag>
        <tag>視訊</tag>
      </tags>
  </entry>
  <entry>
    <title>【翻譯】如何個性化在 LINE 中顯示 Rich Menu 以匹配用戶的語系</title>
    <url>/2021/03/22/translate-richmenu-personalize/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/translate/richmenu-personalize/1.png"></p>
<blockquote>
<p>翻譯來自泰國的 Jirawatee 的<a href="https://medium.com/linedevth/%E0%B8%A7%E0%B8%B4%E0%B8%98%E0%B8%B5%E0%B9%81%E0%B8%AA%E0%B8%94%E0%B8%87%E0%B8%9C%E0%B8%A5-rich-menu-%E0%B9%83%E0%B8%99-line-%E0%B9%81%E0%B8%9A%E0%B8%9A-personalize-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%95%E0%B8%A3%E0%B8%87%E0%B8%81%E0%B8%B1%E0%B8%9A%E0%B8%A0%E0%B8%B2%E0%B8%A9%E0%B8%B2%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%9C%E0%B8%B9%E0%B9%89%E0%B9%83%E0%B8%8A%E0%B9%89%E0%B8%87%E0%B8%B2%E0%B8%99-9c3fd2083ba7">文章</a></p>
</blockquote>
<p>在過去的一年中，Rich Menu 上的文章非常受歡迎，它的優點是在用戶聊天頁面上顯示重要的**選單(Menu)**並可以選擇各種操作，降低用戶使用官方帳號的門檻。而對於擁有 LINE 正式帳戶或 LINE Chatbot 的用戶而言，加上創建步驟是相當簡單的，可以透過 <a href="https://manager.line.biz/">Official Account 後台</a>或是讓具有程式能力的朋友透過呼叫 API 的方式建立 Rich Menu，若能這麼容易就建立 Rich Menu，那麼成為每個帳戶必須具備的基本功能也就不足為奇了。</p>
<p>本文中我將邀請所有人開發一個 Rich Menu，以便能夠顯示出來每個用戶在手機上使用的語系。首先必須知道的是 “<strong>該用戶使用哪種語言？</strong>”，我們可以透過哪種方式獲取用戶手機上的語系，早期我們只能取得 <code>userId</code>、<code>displayName</code>、<code>pictureUrl</code>和<code>statusMessage</code>，而現今 LINE 已在用戶的個人資料訊息中添加了一個 <strong>language</strong> 參數以供使用。</p>
<p>到目前為止，我們已經準備好了想法。因此，讓我們看一下開發它的步驟：</p>
<ol>
<li>準備使用 Cloud Functions for Firebase 開發的 LINE Chatbot</li>
<li>準備<strong>泰語</strong>和<strong>英語</strong>的 Rich Menu</li>
<li>建立條件以獲取 Follow 類型 Webhook 的事件</li>
<li>從用戶個人資料中取得 “<strong>language</strong>” 參數</li>
<li>讓用戶匹配對應語系的 Rich Menu</li>
</ol>
<span id="more"></span>

<h1 id="1-準備使用-Cloud-Functions-for-Firebase-開發的-LINE-Chatbot"><a href="#1-準備使用-Cloud-Functions-for-Firebase-開發的-LINE-Chatbot" class="headerlink" title="1. 準備使用 Cloud Functions for Firebase 開發的 LINE Chatbot"></a>1. 準備使用 Cloud Functions for Firebase 開發的 LINE Chatbot</h1><p>對於從未開發過具有用於 Firebase 的 Cloud Functions 的 LINE Chatbot 的用戶，請遵循以下文章的步驟(1-3 章節就足夠了)，但如果有經驗的話，直接跳到步驟 2 - 準備<strong>泰語</strong>和<strong>英語</strong>的 Rich Menu。</p>
<blockquote>
<p><a href="https://medium.com/linedevth/%E0%B8%AA%E0%B8%A3%E0%B9%89%E0%B8%B2%E0%B8%87-line-bot-%E0%B8%94%E0%B9%89%E0%B8%A7%E0%B8%A2-messaging-api-%E0%B9%81%E0%B8%A5%E0%B8%B0-cloud-functions-for-firebase-20d284edea1b">使用 Messaging API 和 Cloud Functions 在 Firebase 建置 LINE Bot</a></p>
</blockquote>
<p>注意：隨著使用 Cloud Functions 開發 LINE Chatbot，因為您需要在 Google 網域外使用 LINE API，因此 Cloud Functions 會要求您從 <strong>Spark</strong> 切換到 <strong>Blaze</strong>，但好處是您會在 Blaze 中獲得更多的免費配額。</p>
<p><img src="https://nijialin.com/images/2021/translate/richmenu-personalize/2.png"></p>
<h1 id="2-準備泰語和英語的-Rich-Menu"><a href="#2-準備泰語和英語的-Rich-Menu" class="headerlink" title="2. 準備泰語和英語的 Rich Menu"></a>2. 準備<strong>泰語</strong>和<strong>英語</strong>的 Rich Menu</h1><p>此步驟將根據 <a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">在 LINE 中完成設定 Rich Menu</a> 文章將方法分為 3 個子步驟。</p>
<h2 id="2-1-使用-Rich-Menu-Maker-創建-Rich-Menu-圖像"><a href="#2-1-使用-Rich-Menu-Maker-創建-Rich-Menu-圖像" class="headerlink" title="2.1 使用 Rich Menu Maker 創建 Rich Menu 圖像"></a>2.1 使用 Rich Menu Maker 創建 Rich Menu 圖像</h2><p>讀者可以通過使用兩種語言為 Rich Menu 創建圖像來遵循文章的項目 1 ，在此示例中，圖像將創建 2 張圖像（下載並嘗試）。</p>
<p><img src="https://nijialin.com/images/2021/translate/richmenu-personalize/3.jpeg"></p>
<blockquote>
<p>英文的 Rich Menu 範例</p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/translate/richmenu-personalize/4.jpeg"></p>
<blockquote>
<p>泰文的 Rich Menu 範例</p>
</blockquote>
<h2 id="2-2-使用-LINE-Bot-Designer-為-Rich-Menu-創建-JSON"><a href="#2-2-使用-LINE-Bot-Designer-為-Rich-Menu-創建-JSON" class="headerlink" title="2.2 使用 LINE Bot Designer 為 Rich Menu 創建 JSON"></a>2.2 使用 LINE Bot Designer 為 Rich Menu 創建 JSON</h2><p>讀者們可以參考<a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">下列文章</a>的步驟 3 使用 <a href="https://developers.line.biz/zh-hant/services/bot-designer/">LINE Bot Designer</a> 建立 Rich Menu，透過使用兩種語系(泰語、英語)為 Rich Menu 建立兩個 JSON。</p>
<blockquote>
<p>泰文：<a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">在 LINE 中實作 Rich Menu 的相關訊息</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2021/translate/richmenu-personalize/5.png"></p>
<p>在這個範例中，如果點擊 Rich Menu 則將打開 <a href="https://developers.line.biz/">LINE Developers 網站</a>。</p>
<h2 id="2-3-通過-Messaging-API-創建-Rich-Menu"><a href="#2-3-通過-Messaging-API-創建-Rich-Menu" class="headerlink" title="2.3 通過 Messaging API 創建 Rich Menu"></a>2.3 通過 Messaging API 創建 Rich Menu</h2><p>請把從上述工法得到的 JSON 和參考<a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">下列文章</a>的第 4.1 項(Create Rich Menu) 和 4.2 項(Upload Rich Menu Image)，可以使用類似 <a href="https://www.postman.com/">Postman</a> 的工具來幫助呼叫 LINE API 以建立兩種語系的 Rich menu，其結果一定是 <strong>richMenuId</strong>，而我們需要建立兩次取得泰語與英語的 richMenuId。<br><img src="https://nijialin.com/images/2021/translate/richmenu-personalize/6.png"></p>
<blockquote>
<p>泰文：<a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">在 LINE 中實作 Rich Menu 的相關訊息</a></p>
</blockquote>
<h1 id="3-建立條件以獲取-Follow-類型-Webhook-的事件"><a href="#3-建立條件以獲取-Follow-類型-Webhook-的事件" class="headerlink" title="3. 建立條件以獲取 Follow 類型 Webhook 的事件"></a>3. 建立條件以獲取 Follow 類型 Webhook 的事件</h1><p>當用戶將我們的 Chatbot 添加為好友或封鎖時，我們將獲取 Webhook 事件的 Follow 類型，以便根據用戶的手機語系顯示對應的 Rich Menu。</p>
<p>根據 <a href="https://medium.com/linedevth/12-%E0%B8%AA%E0%B8%B1%E0%B8%8D%E0%B8%8D%E0%B8%B2%E0%B8%93%E0%B8%88%E0%B8%B2%E0%B8%81-webhook-events-%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B8%88%E0%B8%B0%E0%B8%9B%E0%B8%A5%E0%B8%B8%E0%B8%81%E0%B9%83%E0%B8%AB%E0%B9%89-line-bot-%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B8%84%E0%B8%B8%E0%B8%93%E0%B8%95%E0%B8%B7%E0%B9%88%E0%B8%99%E0%B8%88%E0%B8%B2%E0%B8%81%E0%B8%A0%E0%B8%A7%E0%B8%B1%E0%B8%87%E0%B8%84%E0%B9%8C-4cb7da653274">透過 webhook 事件的 15 種訊號來喚醒您的 LINE Chatbot</a> 文章的第 2 點，從 Follow 事件中的結構中得出我們感興趣的兩個欄位: <code>events[0].type</code> 與 <code>events[0].source.userId</code>，因此我們打算寫一個判斷式來獲取 <strong>userId</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exports</span>.LineBot = functions.https.onRequest(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> event = req.body.events[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">if</span> (event.type === <span class="string">&#x27;follow&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> userId = event.source.userId;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="4-從用戶個人資料中取得-“language”-參數"><a href="#4-從用戶個人資料中取得-“language”-參數" class="headerlink" title="4. 從用戶個人資料中取得 “language” 參數"></a>4. 從用戶個人資料中取得 “<strong>language</strong>” 參數</h1><p>此章節將接續著上一章節並透過使用 <strong>userId</strong> 識別用戶的語系，讓我們根據以下文章的 2.1 章節查看相關配置訊息。</p>
<blockquote>
<p>泰文：<a href="https://medium.com/linedevth/%E0%B8%A3%E0%B8%B9%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%88%E0%B8%9A%E0%B9%83%E0%B8%99%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B9%80%E0%B8%94%E0%B8%B5%E0%B8%A2%E0%B8%A7%E0%B8%81%E0%B8%B1%E0%B8%9A%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%94%E0%B8%B6%E0%B8%87-user-profile-%E0%B8%9C%E0%B9%88%E0%B8%B2%E0%B8%99-api-%E0%B8%95%E0%B9%88%E0%B8%B2%E0%B8%87%E0%B9%86%E0%B9%83%E0%B8%99-line-dafb17e5864a">透過 LINE 中的各式 API 比對用戶個人資料是否相同</a></p>
</blockquote>
<p>因此，我們需要建立一個 getProfile() 的函式：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getProfile = <span class="function">(<span class="params">userId</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request.get(&#123;</span><br><span class="line">    headers: LINE_HEADER,</span><br><span class="line">    uri: <span class="string">`<span class="subst">$&#123;LINE_MESSAGING_API&#125;</span>/profile/<span class="subst">$&#123;userId&#125;</span>`</span>,</span><br><span class="line">    json: <span class="literal">true</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>然後，您可以通過發送 <strong>userId</strong> 參數來使用函式。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exports</span>.LineBot = functions.https.onRequest(<span class="keyword">async</span> (req, res) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> event = req.body.events[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">if</span> (event.type === <span class="string">&#x27;follow&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> userId = event.source.userId;</span><br><span class="line">    <span class="keyword">const</span> profile = <span class="keyword">await</span> getProfile(userId);</span><br><span class="line">    <span class="keyword">const</span> language = profile.language;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：由於我們必須等待 getProfile() 函式的 callback 回傳，為了簡潔程式碼，因此我借助了 <strong>async &#x2F; await</strong> 來幫忙。</p>
</blockquote>
<h1 id="5-讓用戶匹配對應語系的-Rich-Menu"><a href="#5-讓用戶匹配對應語系的-Rich-Menu" class="headerlink" title="5. 讓用戶匹配對應語系的 Rich Menu"></a>5. 讓用戶匹配對應語系的 Rich Menu</h1><p>到了最後一步，我們需要根據每個用戶的語系來定義 Rich Menu。接下來將參考 - <a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">在 LINE 中實作 Rich Menu 的相關訊息(泰文)</a> 文章中的 4.6 項目來完成，我將建立一個函式 - linkRichMenu()，透過傳遞參數 <strong>userId</strong> 和 <strong>language</strong> 並結合上一步(第四小節)來進行相關操作，以下則是參考所有的程式碼：</p>
<script src="https://gist.github.com/jirawatee/ec8f05a496a2d5b95cedcd059a8a19ea.js"></script>

<p>準備好了整個程式碼區塊，接著就使用 Command Line 將 functions 文件夾進行部署上傳：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">firebase deploy --only <span class="built_in">functions</span></span><br></pre></td></tr></table></figure>

<p>然後讓我們看看結果。</p>
<p><img src="https://nijialin.com/images/2021/translate/richmenu-personalize/7.gif"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>透過加入了 <code>language</code> 參數判斷語系並讓 Rich Menu 可以更貼近特定語系的用戶，或者是針對不同語系的回覆等等。希望透過本文的講解讓讀者們可以發揮出更不同的應用情境，並期待著您可以創造出更多更驚豔的服務！</p>
]]></content>
      <categories>
        <category>翻譯</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Richmenu</tag>
        <tag>Chatbot</tag>
        <tag>Firebase</tag>
      </tags>
  </entry>
  <entry>
    <title>【設備分享】挑選一組初階的設備 | 直播、線上會議、錄影、Vlog 總會需要的清單</title>
    <url>/2022/03/19/video-format-camera-switch/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>想想從去年疫情爆發後陸續採購了許多設備，讓我在參加線上活動(研討會、社群、會議..)可以有比較像樣的品質跟大家互動，但隨著設備越來越多沒有一篇文章記錄下來真的很可惜，以下就跟大家分享一下我買的設備們。</p>
<span id="more"></span>

<h1 id="擷取盒-擷取相機畫面使用"><a href="#擷取盒-擷取相機畫面使用" class="headerlink" title="擷取盒 - 擷取相機畫面使用"></a>擷取盒 - 擷取相機畫面使用</h1><p>過去我們買 WEBCAM 都想說接 USB 進電腦就可以，不過隨著近期大老闆贊助了一台運動相機後，不拿來開會好像有點可惜(<del>不是這樣用的吧</del>)，因此就需要擷取盒來幫忙抓影像。</p>
<h3 id="圓剛擷取盒"><a href="#圓剛擷取盒" class="headerlink" title="圓剛擷取盒"></a>圓剛擷取盒</h3><p><img src="https://nijialin.com/images/2022/video-format/0.png"></p>
<p>▶ 不佔用電腦 CPU，輕鬆錄製遊戲<br>▶H.264 壓縮晶片<br>▶ 隨插即用，免安裝驅動</p>
<ul>
<li>好處：可以從 <code>相機</code> 導入聲音，意指麥克風接在相機的孔位上，並且可以另外有個 output 孔可以用外接螢幕監控即時影像。<ul>
<li>花更多錢買更高規的可以把東西存在擷取盒當中的記憶卡</li>
</ul>
</li>
<li>壞處：稍微微微微佔了點空間，不過不重就是了。<ul>
<li>至少 1 機、1 HDMI 線、1 Mini USB to USB 線</li>
</ul>
</li>
</ul>
<h3 id="遊戲直播專用-HDMI-影音擷取卡"><a href="#遊戲直播專用-HDMI-影音擷取卡" class="headerlink" title="遊戲直播專用 HDMI 影音擷取卡"></a>遊戲直播專用 HDMI 影音擷取卡</h3><p><img src="https://nijialin.com/images/2022/video-format/1.png"></p>
<p>◆ 專為 Switch &#x2F; PS4 &#x2F; Xbox 等遊戲機擷錄使用<br>◆ 相容 Windows, Mac OS 及 Android 系統<br>◆ 影音輸出 1080P 高畫質規格<br>◆ 外型輕巧，散熱快抗干擾<br>◆ 支援市面大多數擷取軟體<br>◆ 本產品純為硬體轉接商品，不附擷取軟體</p>
<ul>
<li>好處：方便好攜帶，HDMI 直接轉 USB，輕巧就是他最大優點<ul>
<li>擷取相機使用</li>
</ul>
</li>
<li>壞處：就是只能把 HDMI 影像轉進電腦，沒有過多的功能</li>
</ul>
<h1 id="相機-RX0-II"><a href="#相機-RX0-II" class="headerlink" title="相機 - RX0-II"></a>相機 - <a href="https://www.sony.com.tw/zh/electronics/cyber-shot-compact-cameras/dsc-rx0m2">RX0-II</a></h1><p><img src="https://nijialin.com/images/2022/video-format/2.png"></p>
<p>相機的部分就因人而異，看自己要的規格到什麼地方，我自己就有一個羅技最基本款的 USB Webcam (會大曝光的那種)，以及現在介紹的這台 RX0-II。</p>
<p>延續上一小題，既然要透過轉接頭把 HDMI 輸入到 USB，那這邊挑選就有以下幾點：</p>
<ul>
<li>好處：<ul>
<li>有 <code>Micro HDMI</code>，再買一個轉接線把 Micro HDMI 轉成一般 HDMI，藉由剛剛的擷取裝置，就可以相機的畫面當作視訊鏡頭囉！<ul>
<li>別像筆者一樣買到 Mini HDMI ….QQ</li>
</ul>
</li>
<li>RX0-II 另一個好處就是可以邊充電邊使用，不用像其他類單眼，需要透過假電池的相關配備才能邊充電邊用，讚！</li>
<li>線上議程錄影放在螢幕中間能讓眼神是置中，比較不會擋到演講稿。</li>
</ul>
</li>
<li>壞處：<ul>
<li>機身小電量難免比較不夠，如果帶出去的話需要多準備電池。(如果都 webcam 就另當別論)</li>
<li>外接若房子小就怎麼放都不對(應該是我的問題？)</li>
</ul>
</li>
</ul>
<blockquote>
<p>感謝大老闆贊助我這台運動相機，讓我寫這篇文章分享給大家！</p>
</blockquote>
<h1 id="麥克風"><a href="#麥克風" class="headerlink" title="麥克風"></a>麥克風</h1><p>這裡要看大家接這些的用途是在哪了，以下分類是我目前的配置，分享給大家：</p>
<blockquote>
<p>線上會議、議程、直播、轉播…</p>
</blockquote>
<h2 id="Blue-的-Snowball"><a href="#Blue-的-Snowball" class="headerlink" title="Blue 的 Snowball"></a>Blue 的 Snowball</h2><p><img src="https://nijialin.com/images/2022/video-format/4.png"></p>
<p>我個人使用 Blue 的 Snowball，當時買大概1900，就是入門款的麥克風，基本上可以應付所有的場景，並且<code>相容 PC 和 Mac，無需安裝驅動</code></p>
<ul>
<li>優點<ul>
<li>什麼都不懂時適合，買了後續再研究</li>
<li>隨插即用，不用想太多</li>
<li>好像可以裝桌上支架</li>
</ul>
</li>
<li>缺點<ul>
<li>沒有靜音鈕，在家工作有人衝進來來不及關</li>
<li>只能一個人用，多人要輪流</li>
<li>稍微有點大顆</li>
</ul>
</li>
</ul>
<h2 id="V8-聲卡"><a href="#V8-聲卡" class="headerlink" title="V8 聲卡"></a>V8 聲卡</h2><p><img src="https://nijialin.com/images/2022/video-format/1.JPG"></p>
<ul>
<li><p>Mac 只有一個輸入孔</p>
<ul>
<li>要嘛一轉二讓麥克風可以分開輸入</li>
</ul>
</li>
<li><p>買聲卡直接轉 USB 進電腦</p>
<ul>
<li>只能在蝦皮上買到，大概300左右可以弄到</li>
<li>如果使用一般 3.5mm 的麥克風(iPhone 耳機)聲音會悶悶的<br><img src="https://nijialin.com/images/2022/video-format/3.png"></li>
</ul>
</li>
<li><p>可以監聽聲音，滿酷的</p>
</li>
<li><p>有些很尬的罐頭笑聲</p>
</li>
<li><p>便宜又大碗，再升級貴的設備之前可以好好的使用</p>
</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><blockquote>
<p><del>這篇寫完忘了存檔就推出，結果內容都不見了QQ</del></p>
</blockquote>
<p>最近買了初階的空拍機幫忙拍些風景、室外的錄影紀錄，期望在接下來可以跟更多人分享我的 VLOG 設備們，往後也會錄一集影片跟大家分享這篇的內容，歡迎有看文的各位訂閱小弟的頻道，謝謝大家!</p>
<p><a href="https://www.youtube.com/channel/UCBdXCfIn_3jJ7QxmqdciiYw">https://www.youtube.com/channel/UCBdXCfIn_3jJ7QxmqdciiYw</a></p>
]]></content>
      <categories>
        <category>3C</category>
      </categories>
  </entry>
  <entry>
    <title>Vue.js Taiwan 006 小聚花絮分享</title>
    <url>/2020/08/20/vue-meetup-006/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/BSwS13h.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大家好，我是 LINE Taiwan Technology Evangelist - NiJia Lin，身為場地提供方也很感謝 Vue.js Taiwan 的大家配合相關防疫流程並座無虛席，在此也跟各位分享本次參與的心得，並且也希望透過社群分享的力量能夠讓聊天機器人的開發動能更加的盛大。(熊大也表示有新朋友來了 😆)</p>
<ul>
<li>Vue.js Taiwan 社群：<a href="https://www.facebook.com/groups/vuejs.tw/">https://www.facebook.com/groups/vuejs.tw/</a></li>
<li>活動報名頁面：<a href="https://vuejs.kktix.cc/events/v-tw-meetup-006">https://vuejs.kktix.cc/events/v-tw-meetup-006</a><span id="more"></span></li>
</ul>
<p><img src="https://i.imgur.com/XU0u7k3.jpg"></p>
<h1 id="開場"><a href="#開場" class="headerlink" title="開場"></a>開場</h1><p><img src="https://i.imgur.com/g6MUhEK.jpg"><br>一開始由我們 DelRel Team 的 Evan 快速跟大家講解 LINE Tech Fresh 的相關計畫與申請流程，若是學生身份的朋友歡迎參考<a href="https://engineering.linecorp.com/zh-hant/blog/tech-fresh-2020/">這個連結</a>，LINE 裡面不只高手雲集，且擁有很棒的環境！趕快來加入我們吧 🙂。</p>
<h1 id="Nuxt-i18n-實戰經驗分享"><a href="#Nuxt-i18n-實戰經驗分享" class="headerlink" title="Nuxt i18n 實戰經驗分享"></a>Nuxt i18n 實戰經驗分享</h1><p><img src="https://i.imgur.com/6WJkYGp.jpg"></p>
<p>首先由 LINE Today 的前端工程師 - Abel 為大家帶來在實際上線產品中使用 i18n 的甘苦談。</p>
<script async class="speakerdeck-embed" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>一開始帶了一個簡單的範例介紹設定檔與如何讓 i18n 知道要切換什麼語系，但隨著專案的成長與支援的語系越來越多情況下就會造成 loading 很重，以 LINE Today 來說他就支援了來說他就支援了 <strong>4 種語系</strong>並有 <strong>2500</strong> 多個訊息需要切換，因此就需要使用 lazy loading 來幫忙。</p>
<script async class="speakerdeck-embed" data-slide="6" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著講者提到因為 LINE Today 中有許多不同的 <code>模組(Module)</code>，會隨著不同區域的需求而導入，而載入時為了不影響原本的渲染而會使用 <code>Async</code>的方式來導入模組至 Component 中。</p>
<script async class="speakerdeck-embed" data-slide="8" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>在前面的條件都滿足的情況下就遇到了第一個問題，網頁載入速度太慢(效能只有 60 分)，並且知道哪些檔案拖慢的載入速度。</p>
<script async class="speakerdeck-embed" data-slide="11" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>雖然前面提到使用 lazy loading 來增加使用速度，但也因為訊息量太多(4 語系、2500 訊息) 讓 import 時特別慢，在這種情況下就需要將訊息量批次處理，這邊講者也分別講解了各個 Task 放的數量的 Performance 比較，雖然劃分不同的 Task 可以讓載入加快，但也因為 JSON 需要 merge 而速度不見得比整包快，在簡報中 case 範例中的權衡制宜下最好情況就是 100x7 是 best practice，數量在低效率影響有不多。</p>
<script async class="speakerdeck-embed" data-slide="12" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>接著提到的第二個問題則 <code>Server Side Rendering</code>(<code>SSR</code>) 語系切換時 Render 的問題，因為是 Async Component 的關係導致在第二個請求進入時因為沒有進入 <code>import message</code> 的環節而讓文字出錯。</p>
<script async class="speakerdeck-embed" data-slide="22" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>由於一開始尚未切分 Task 時直接 SSR 即可，但現行已劃分 Task 的情況下會出錯，因此這部分則是讓 <code>Client Side Rendering</code>(<code>CSR</code>) 來協助處理。</p>
<blockquote>
<p>簡報中都有隨著 sample code，大家可以參考看看 🎁。</p>
</blockquote>
<script async class="speakerdeck-embed" data-slide="23" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p>最後分享的部分則是在寫 Javascript 都需要注意的部分，Object literal &amp; JSON parse 的速度比較，這部分較多是與 V8 引擎相關實作上的問題(<a href="https://v8.dev/blog/cost-of-javascript-2019">參考</a>)，簡單來說若有使用 i18n 儲存相關訊息時記得使用 JSON 來處理。</p>
<script async class="speakerdeck-embed" data-slide="28" data-id="19960efd47314fba932e8403a9466108" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>參加社群活動除了認識朋友以外還能讓腦力激盪一下，可以讓大家使用更低的成本學到自己尚未習得的技能，台灣擁有這麼多這麼棒的社群何不來參加學習一下新技能呢 😊？</p>
<p><img src="https://i.imgur.com/RJnjJ7r.jpg"></p>
<p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://i.imgur.com/gxHgAzB.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>LINE</tag>
      </tags>
  </entry>
  <entry>
    <title>藉由 LINE Python SDK 初步認識開源專案</title>
    <url>/2020/07/10/use-line-sdk-join-oss/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/04/20/13/17/work-731198_1280.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>從一開始在社群中為了 demo code 將程式放上 GitHub，接著到了認識前輩們都在開源圈積極展示自己的成果也分享帶來的好處，造就了我也加入開源行列，但看了 open source 中許多好用的工具，也希望自己能夠看懂並加入開發，希望自己的貢獻能力(Pull Request)別只停於上傳範例以及修改文件，以下我就使用我第一個貢獻的 LINE SDK(python) 帶大家了解開源專案會有的樣子。</p>
<span id="more"></span>

<h1 id="專案結構"><a href="#專案結構" class="headerlink" title="專案結構"></a>專案結構</h1><p>這部分會儘可能讓大家知道普遍的架構為何，也一併了解一下 git 上的小知識 😊</p>
<p><img src="https://i.imgur.com/72lwPzy.png"></p>
<h2 id="1-測試結果、最新-commit-id、更新日期、commit-次數"><a href="#1-測試結果、最新-commit-id、更新日期、commit-次數" class="headerlink" title="1. 測試結果、最新 commit id、更新日期、commit 次數"></a>1. 測試結果、最新 commit id、更新日期、commit 次數</h2><ul>
<li>測試結果是 ✅ 或 ❌ 可確保<code>程式品質</code></li>
<li>Commit id 之後再追查時使用</li>
<li>更新日期中可以了解他的更新頻率</li>
<li>次數很多不一定好，也可能是開發者刷 commit，數量就是開發過程的一個根據</li>
</ul>
<h2 id="2-結構"><a href="#2-結構" class="headerlink" title="2. 結構"></a>2. 結構</h2><p>首先先拆分 <code>資料夾</code> 與 <code>一般檔案</code> 的部分</p>
<h3 id="資料夾"><a href="#資料夾" class="headerlink" title="資料夾"></a>資料夾</h3><p>LINE SDK 就是一個標準常見的 open source project</p>
<ul>
<li>.github: 放平台相關的設定</li>
<li>docs: 有些會放細部操作的文件，抑或是規範文件之類的</li>
<li>examples: 通常 SDK 要讓開發者快速入門就是需要 example，顧名思義就是要開發者趕快上手 😆</li>
<li>linebot: 在 python 中資料夾是引入套件其中一個 namespace，就看引入的名稱希望叫什麼，如果自己<a href="https://github.com/louis70109/lotify">開發的 lotify</a> 資料夾名稱就也是 lotify</li>
<li>tests: 含有測試的專案在品質上就有更高的可靠性</li>
</ul>
<h3 id="一般檔案"><a href="#一般檔案" class="headerlink" title="一般檔案"></a>一般檔案</h3><p>這邊就針對幾個較需注意的檔案做說明:</p>
<ul>
<li>.gitignore: 在 <code>git init</code> 時就會出現的檔案，有它就能避免一些<code>無意義檔案</code>(node_module…)或<code>重要的設定檔</code>(.env…)被上傳</li>
<li>LICENSE: 在使用專案時授權是<code>很重要</code>的，即便維護者將檔案傳至 Github 若沒經過同意也不能隨便商用，因此使用時要看授權的憑證是什麼再決定是否採用</li>
</ul>
<p><img src="https://i.imgur.com/jVrhlJ6.png"></p>
<ul>
<li>README: 使用套件一定要說明文件，有些會在這裡寫些簡單說明，而細節則是放在<code>docs/</code>底下，以 LINE SDK 來說，他就將範例一併都寫在裡面讓大家可以搜尋使用</li>
<li>requirement-XXX.txt: 好的專案一定要要把不同環境下所需的依賴套件分開，若全部放在一起則會在特定情況下污染環境，造成 debug 困難</li>
<li>setup.py: 為 python SDK 上傳時必備的檔案之一，裡面放著所有專案對外的基本資訊</li>
<li>tox.ini: 使用 tox 所需的設定檔，LINE SDK 用來檢查支援版本、測試環境、Lint 規則、避免幾個 Lint 規則</li>
</ul>
<h2 id="3-Commit-description"><a href="#3-Commit-description" class="headerlink" title="3. Commit description"></a>3. Commit description</h2><p>從描述中可以知道維護者對這個專案的用心到哪，若前面還有加上 prefix 的話會更加分喔！當然清楚的表達更動需求還是最重要的！</p>
<blockquote>
<p><a href="https://wadehuanglearning.blogspot.com/2019/05/commit-commit-commit-why-what-commit.html">prefix 參考</a></p>
</blockquote>
<p>若看到訊息為<code>xxxxxx (#123)</code> 這樣類型的語句則代表這個檔案是透過 PR 去 close Issue 的表示方式，透過這樣的方式也可看出是否有許多的開發者加入一起開發。</p>
<h1 id="Issue"><a href="#Issue" class="headerlink" title="Issue"></a>Issue</h1><p><img src="https://i.imgur.com/byHnUKA.png"></p>
<p> 這部分可以看出有什麼<code>議題</code>、<code>問題</code>被修除掉，LINE 這邊因為每個月都會有新釋出的 API，因此會有專人放上 Issue 讓大家可以透過 Pull Request 指定處理特定 Issue 來完成 features。</p>
<blockquote>
<p>一個程式說沒有<code>問題</code>不可能，不管是<code>使用</code>、<code>邏輯</code>、<code>寫法</code>等等都能算，看 Issue 這可以知道有沒有人在使用並<code>回報問題</code>，這裡的話數量因專案而異(有些 Issue 就是 feature)，若是 fix bug 太多的話我就會認為這專案的健康度不夠。</p>
</blockquote>
<h1 id="Pull-Request-PR"><a href="#Pull-Request-PR" class="headerlink" title="Pull Request (PR)"></a>Pull Request (PR)</h1><p>在 PR 中最大的好處就是可以透過 code review 來回溝通學習從 ➡️ <code>完成需求(implement)</code>、<code>提出問題(review)</code>、<code>釐清問題(ask)</code>、<code>完成功能(merge)</code>，在這過程中可能會有想法與做法的激烈碰撞，如：</p>
<ul>
<li>維護者希望維護品質覺得不該 xxx…</li>
<li>貢獻者覺得這樣做比較好，應該 refactor…</li>
</ul>
<p>這部分沒有誰對誰錯，看維護者希望專案走向決定貢獻者如何作業。<br><img src="https://i.imgur.com/yofq0LN.png"><br>一般來說一個 PR 會隨著 1~N 個 Issue，透過以 close 的 PR 就可以知道這個專案是否有遵造一般的開發 flow(提出問題、解決問題)，同時也可以藉由看其他人 PR 學習不同的寫法與溝通方式，以及維護者是如何管理這些 PR 請求。</p>
<blockquote>
<p>在大型 open source 中會盡量希望 closed PR 的數量越多越好，而 Open 中的 PR 適量(我認為十分之一就不錯)，代表著大家對這個專案很感興趣願意一直投入資源來貢獻(維護者與貢獻者)，這邊大家可以去觀察看看喔！</p>
</blockquote>
<h1 id="Tags-amp-Release"><a href="#Tags-amp-Release" class="headerlink" title="Tags &amp; Release"></a>Tags &amp; Release</h1><p><img src="https://i.imgur.com/NdWSTNhl.png"><br>Tags 代表當前版本，且通常都跟<code>套件庫</code>裡的版本號一樣，進版規則一般會隨著維護者的習慣 release，以 LINE SDK python 來說通常都是兩個小版本(小數點第三)號後跳一個中版本(小數點第二)，而大版號目前還沒看過，若會動到的話就會跟專案發展相關較有關聯。</p>
<blockquote>
<p>有時 Tags 排序會怪怪的，需要注意。</p>
</blockquote>
<p>偶爾會有因時程規劃上維護者 merge PR 卻沒有 release tag，此時除了詢問外若想玩新功能一般都會去抓 master 分支下來試用。</p>
<h1 id="Badge"><a href="#Badge" class="headerlink" title="Badge"></a>Badge</h1><blockquote>
<p>官方網站: <a href="https://shields.io/">https://shields.io/</a></p>
</blockquote>
<p>若希望提升專案專業度的話，添加 Badge 一定是不可避免的，而它除了美觀以外，在許多時候都是代表著一個 <code>事件(Event)</code> 結果，讓開發者在開頭閱讀文件時可以清楚並快速的了解初步狀態。<br><img src="https://i.imgur.com/BVj8th5.png"></p>
<p>以上圖來說，第一個代表分支跑過測試，第二個則是代表專案的最新版本號，第三個則是文件產生通過。藉由這三個 Badge 讓我在剛看文章時就可知道 <code>CI 跑過了沒</code>？<code>當前版本是多少</code>？(不需看 release tags)，快速取得閱讀者<code>目光</code>並且讓他<code>了解狀態</code>，如此有用的功能怎麼能不用呢？</p>
<p><img src="https://i.imgur.com/ksYGAak.png"></p>
<blockquote>
<p>上圖則是我開發 Lotify 時所使用的 Badge，想了解怎麼使用可直接看看<a href="https://github.com/louis70109/lotify/edit/master/README.md">我的 README 喔！</a></p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>初步帶大家使用 LINE Python SDK 認識開源專案，使用 LINE SDK 做介紹也是因為我透過它第一次學習到與不同地方的開發者一起貢獻一個很多人使用的 project，讓我深深感受到 open source 所帶來的魅力之處 🥰。</p>
<p>此外也是因為貢獻 SDK 並參考其架構後我才寫出 <a href="https://github.com/louis70109/lotify">LINE Notify SDK - lotify</a>，並且獲得可以在 <a href="https://coscup.org/2020/zh-TW/agenda/KNJDWQ">2020 COSCUP</a> 主要議程演講的機會，因此鼓勵大家多多與開源圈的前輩們請教與合作，真的是可以學到不少知識並且獲得一些機會喔！</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>LINE</tag>
        <tag>SDK</tag>
        <tag>Open source</tag>
      </tags>
  </entry>
  <entry>
    <title>Welcome to LINE API Expert and first thing — LINE Developer Day</title>
    <url>/2019/10/10/welcome-line-api-expert/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>人品爆發的下半年有幸被選為 LINE API Expert，謝謝過程中給我指點、意見還有每位來參加每個 chatbot TW 活動的朋友，你們支持讓我可以更努力去辦各種活動，社團裡歡迎大家踴躍提點子討論，抑或是來參加小聚跟大家互相交流，台北台中都有小聚哦！若有不清楚的地方歡迎詢問😃<br>Chatbot Developers Taiwan：<a href="https://www.facebook.com/groups/chatbot.tw">https://www.facebook.com/groups/chatbot.tw</a></p>
<h1 id="迎新"><a href="#迎新" class="headerlink" title="迎新"></a>迎新</h1><p>在 welcome party 中身為 Rookie of LINE API Expert 一定是要被每一位大神輪流 “熱情關照” 一波🤣，想想之前在開發時還在看卡米狗 卡卡米 的 IT 30 鐵人賽、寫 golang 看著 Evan Lin 的部落格、看保哥 Will Huang 在議程中各種秀高速開發技能 … 等等的，沒有到偶像們就直接坐在旁邊，看著看著我就快不行了😝。跟大神們聊完覺得自己做的事還只是冰山一角，看著大家都那麼有影響力下還是這麼努力向前進，做為菜鳥的我當然不能就這樣滿足！繼續抱著大神們的腿前進。(喂！放開自己走啊！)<br><img src="https://i.imgur.com/bkefPAh.jpg"></p>
<h1 id="成為-LAE-後的第一場開發者日"><a href="#成為-LAE-後的第一場開發者日" class="headerlink" title="成為 LAE 後的第一場開發者日"></a>成為 LAE 後的第一場開發者日</h1><p>緊接著第一場大型活動就是參加 LINE 的年度大會 — LINE Developer Day，過往都只能看著前輩們分享文章在電腦前面乾過癮，看著大家可以在國際間跟各路的開發者交流，這一直是我很羨慕的事情之一。但是！現在終於有機會以 LAE 的身分出發啦(媽我在這)！聽說去年有 60 場各種主題的座談會，而今年 LINE 主要會以推廣 人工智慧 為主軸，並且搭配其他在 LINE 中重要的技術形成了這次的 developer day，也開始漸漸露出在新聞版面了，看起來想拓展的企圖心也越來越強了🚀<br>以下是其他 LAE 以及社群創始人 Clement Tang 在 2018 年參加 LINE Dev Day 的文章分享</p>
<ul>
<li><a href="https://medium.com/@wolkesau/2018-%E5%B9%B4%E5%BA%A6%E5%A4%A7%E6%88%B2-line-api-expert-%E4%B9%8B%E6%97%85-4a12a79a0c04">2018 年度大戲 LINE API expert 之旅</a></li>
<li><a href="https://medium.com/@dlackty/%E5%BE%9E-line-developer-day-keynote-%E4%B8%80%E7%AA%BA-line%E7%94%9F%E6%85%8B%E7%B3%BB%E7%9A%84%E9%A1%98%E6%99%AF-ai-%E7%AF%87-f5be69e9c682">從 LINE Developer Day Keynote 一窺 LINE生態系的願景 — AI 篇</a></li>
<li><a href="http://studyhost.blogspot.com/2018/11/line-developer-day-2018_24.html?source=post_page-----6c69fdfc991d----------------------">LINE Developer Day 2018 東京豐盛技術之旅(下)</a></li>
<li><a href="https://medium.com/@clementtang/line-developer-day-2018-%E6%B4%BB%E5%8B%95%E8%A6%8B%E8%81%9E%E8%88%87-keynote-%E7%B4%80%E9%8C%84-6469de55c3f8">LINE Developer Day 2018 - 活動見聞與 Keynote 紀錄</a></li>
</ul>
<p>2019 的 Dev Day 資訊出來囉，<br>活動時間： 2019&#x2F;11&#x2F;20、21, 10:00~21:00 (日本時間)<br>活動地點：東京台場日航大酒店Grand Nikko Tokyo Daiba （2–6–1 Daiba, Minato-ku, Tokyo）<br>活動入場費用：免費<br>參加方式：繳交報名表、預先報名</p>
<blockquote>
<p>活動則環繞在開發工程(Engineering)以及產品開發(Production)上</p>
</blockquote>
<p><a href="https://www.techbang.com/posts/73284-lines-first-expansion-will-be-held-on-november-20th-and-21st-for-two-day-line-developer-day-2019?source=post_page-----6c69fdfc991d----------------------">「LINE DEVELOPER DAY」開發者大會將於11&#x2F;20、21東京登場 | T客邦</a></p>
<blockquote>
<p>屆時我會分享文章出來，還請各位多多關注😀</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>說了這麼多，還不去申請一波 LINE API Expert？讓自己的努力有個機會被 LINE 看見：<br><a href="https://www.line-community.me/contributors/request?source=post_page-----6c69fdfc991d----------------------">LINE developers community | Expert Request</a><br>或是你還不清楚要怎麼開始第一步，來小聚跟我們聊聊吧，社群的每位大大都很熱心跟各位分享，千萬別錯過這些機會哦！<br><a href="https://chatbots.kktix.cc/events/chatb13ts?source=post_page-----6c69fdfc991d----------------------">Chatb13ts meetup 聊天機器人小聚 #13 @ 台北商業大學</a><br>▎活動型態 Chatbots meetup 社群台北、台中皆有一個月一次的定期聚會，致力於提供並討論聊天機器人的相關應用，每回小聚將安排講者主題分享、新知討論，環繞 Chatbot。</p>
]]></content>
      <categories>
        <category>日記</category>
      </categories>
      <tags>
        <tag>LINE</tag>
      </tags>
  </entry>
  <entry>
    <title>【WFH 戰記】弄出屬於你的視訊背景 | OBS, XSplit VCam | 線上會議</title>
    <url>/2022/01/22/wfh-war-2-custom-video/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>這一兩年各大公司以及現在工作都開始了 Work From Home(以下簡稱 WFH)，各種會議、社群、研討會都紛紛轉向線上方式執行，雖然不能實體跟大家相見，線上也是要開鏡頭跟大家互動認識一下，才不會久了就開始生疏與人見面的狀態 🤝。</p>
<p>，不過大家在使用類似以下的軟體應該都會遇到個問題，就是視訊背景都被看光光啦 😭</p>
<ul>
<li>StreamYard</li>
<li>Gather Town</li>
<li>之前的 google meet (現在可以去背了)</li>
<li>…各種透過網頁來播的視訊軟體</li>
</ul>
<p>當然找個安全的地點(牆角、床邊)背景都沒問題，但可能就位置不好坐、燈源不好、角度怪怪(雙下巴爬出)等等的狀態。</p>
<p>因此本篇就來分享一下 WFH 之後使用各種軟體之後，可以透過什麼軟體的幫忙讓你的視訊背景可以很酷！</p>
<blockquote>
<p>以下環境都適用 MacOS 來展示</p>
</blockquote>
<span id="more"></span>

<h1 id="下載-Download"><a href="#下載-Download" class="headerlink" title="下載(Download)"></a>下載(Download)</h1><ul>
<li><a href="https://www.xsplit.com/zh-tw/vcam">XSplit Cam</a></li>
<li><a href="https://obsproject.com/">OBS Studio</a></li>
</ul>
<h1 id="XSplit-VCam"><a href="#XSplit-VCam" class="headerlink" title="XSplit VCam"></a>XSplit VCam</h1><ul>
<li>首先進來之後可以選擇登入或略過</li>
</ul>
<p><img src="https://nijialin.com/images/2022/wfh-2/1.png"></p>
<ul>
<li>進來之後就可以選擇各種背景來幫忙去背，像我就先拿過去用過的背景來放</li>
</ul>
<p><img src="https://nijialin.com/images/2022/wfh-2/2.png"></p>
<p>使用這個就可以去背了，但是背景上有個有 Logo 商標，除了建議大家可以付費移除之外，當然還有其他的方法可以處理</p>
<h1 id="透過-OBS-清除-Logo-與開啟虛擬相機"><a href="#透過-OBS-清除-Logo-與開啟虛擬相機" class="headerlink" title="透過 OBS 清除 Logo 與開啟虛擬相機"></a>透過 OBS 清除 Logo 與開啟虛擬相機</h1><ol>
<li>開啟 OBS</li>
</ol>
<p><img src="https://nijialin.com/images/2022/wfh-2/3.png"></p>
<ol start="2">
<li>OBS 左下角按下 <strong>＋</strong>，選取<strong>視訊裝置</strong></li>
</ol>
<p><img src="https://nijialin.com/images/2022/wfh-2/4.png"></p>
<ol start="3">
<li>選取 XSplit VCam 選項後，剛剛的去背大頭視訊就出來啦～</li>
</ol>
<p><img src="https://nijialin.com/images/2022/wfh-2/5.png"></p>
<ol start="4">
<li>這裡可以隨大家各種大小，想製作各種樣式都可以，旋轉180~360，放上各種你想放的東西</li>
</ol>
<p><img src="https://nijialin.com/images/2022/wfh-2/6.png"></p>
<ol start="5">
<li>除了用放大把 Logo 去除以外，當然也可以放上其他圖片來把它蓋掉，或是可以在上面壓個去背的圖片也是可以達成蓋住 Logo，並且讓背景變得更酷</li>
</ol>
<blockquote>
<p><a href="https://nijialin.com/2021/12/08/clear-image-background-mac/">【MAC】透過內建的預覽程式來去背吧！</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2022/wfh-2/7.png"></p>
<ol start="6">
<li>壓上圖片的版本</li>
</ol>
<p><img src="https://nijialin.com/images/2022/wfh-2/8.png"></p>
<ol start="7">
<li>另外製作去背圖片蓋上去的版本</li>
</ol>
<p><img src="https://nijialin.com/images/2022/wfh-2/9.png"></p>
<ol start="8">
<li>開啟虛擬相機！</li>
</ol>
<p><img src="https://nijialin.com/images/2022/wfh-2/10.png"></p>
<h1 id="到你的線上會議現場開啟你的成果吧-🎉"><a href="#到你的線上會議現場開啟你的成果吧-🎉" class="headerlink" title="到你的線上會議現場開啟你的成果吧 🎉"></a>到你的線上會議現場開啟你的成果吧 🎉</h1><p>選取 OBS Virtual Camera 後就完成囉！</p>
<p><img src="https://nijialin.com/images/2022/wfh-2/11.png"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>會這樣製作也是在 2021 年的 COSCUP 上看到有會眾製作很酷的視訊來跟我們互動，也因此促成了這篇文章(拖超久)才把它寫出來，如果你也想著要如何解決背景問題，歡迎參考上面的步驟製作喔！(但 Mac 風扇應該會狂吹💦)</p>
<blockquote>
<p>雖然免費方案還是有能解決的方案，不過若經濟允許也是推薦大家多付費訂閱喔！促進軟體圈的良好循環：）</p>
</blockquote>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://nijialin.com/2021/12/08/clear-image-background-mac/">【MAC】透過內建的預覽程式來去背吧！</a></li>
<li><a href="https://nijialin.com/2021/10/03/obs-streamlab-youtube-chat/">【OBS】透過 Streamlabs 打造與觀眾互動的聊天室與訂閱資訊 | Youtube</a><style>
section.compact {
  font-size: 150%  
}
img[alt~="center"] {
  display: block;
  margin: 0 auto;
}
</style></li>
</ul>
]]></content>
      <categories>
        <category>WFH 戰記</category>
      </categories>
      <tags>
        <tag>OBS</tag>
        <tag>視訊去背</tag>
        <tag>WFH</tag>
      </tags>
  </entry>
  <entry>
    <title>簽書會紀錄 | Vue3 | Composition API | Vite</title>
    <url>/2021/03/27/vue3-composition-vite-intro/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/vue3/1.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在 Vue 3 出來之後我有嘗試了一下新的功能，結合 LIFF 做了一個 side project - <a href="https://github.com/louis70109/announcer-vue">Announcer-Vue</a>，當然也有寫了一篇相關使用的文章 <a href="https://nijialin.com/2020/09/12/how-to-use-liff-in-vue3/">在 Vue3 中引入 LIFF 的 ShareTargetPicker 分享 FlexMessage 訊息給 LINE 好友</a>，那既然會用了，當然也要來了解一下一些 Composition API 的介紹，那以下就是我去參加 Kuro 的簽書會所聽到的內容。</p>
<span id="more"></span>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>新版本一出，大家就會想嚐鮮使用新版本，但這邊講者提到若開發需求需要支援 IE 時請勿當先行者直上 Vue3(<a href="https://book.vue.tw/appendix/migration.html#vue-2-x-%E8%87%B3-3-0-%E5%BF%AB%E9%80%9F%E5%8D%87%E7%B4%9A%E6%8C%87%E5%8D%97">文章有提到</a>)</p>
<ul>
<li>Vue3：透過 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy API</a> 來綁定 getter&#x2F;setter，但因為 IE 不支援 Proxy API，因此若需要處理到 IE 就請用 Vue2。(<a href="https://stackoverflow.com/questions/64836337/using-vue-3-in-ie11/64837153">相關參考</a>)</li>
<li>Vue2 是透過 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty</a> 實作，看到<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E7%80%8F%E8%A6%BD%E5%99%A8%E7%9B%B8%E5%AE%B9%E6%80%A7">瀏覽器相容列表</a> IE 是支援的。</li>
</ul>
<p>除了 IE 支援度問題以外，目前就我所知 Vue3 向下相容基本上達到九成以上，且也可以在 3 版中套入 2 版的相關 API 實作。</p>
<h2 id="Vue-2-與-3-Mount-的差異"><a href="#Vue-2-與-3-Mount-的差異" class="headerlink" title="Vue 2 與 3 Mount 的差異"></a>Vue 2 與 3 Mount 的差異</h2><p>Vue3 提供彈性讓開發者在 mount 時相關套件可以更方便的加入專案中，以下提供範例：</p>
<ul>
<li>Vue3 mount 都是在 <code>createApp()</code> 後面一直接著 <code>.use()</code> 來使用相關套件，最後在 mount 至 <code>#app</code> 中</li>
</ul>
<blockquote>
<p>小知識： <code>#</code> 的意思是會選擇 HTML 標籤裡的 id 元素， <code>#app</code> 的整體意思就等於選擇「HTML 標籤欄位名為 app」 的區塊中。<br>如果是 <code>.</code> 就是選擇 HTML 標籤欄位裡的 class 元素，但由於 id 是唯一的元素(<a href="https://developer.mozilla.org/zh-TW/docs/Web/HTML/Attributes#%E5%B1%AC%E6%80%A7%E5%88%97%E8%A1%A8">參考</a>)，因此大部分情況下不會選擇使用 class 來 mount。</p>
</blockquote>
<h4 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index&#x27;</span>;</span><br><span class="line"></span><br><span class="line">createApp(App).use(router).mount(<span class="string">&#x27;#app&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以拆開並寫成：</span></span><br><span class="line"><span class="comment">// const app = createApp(App);</span></span><br><span class="line"><span class="comment">// app.use(router);</span></span><br><span class="line"><span class="comment">// app.mount(&#x27;#app&#x27;);</span></span><br></pre></td></tr></table></figure>

<h2 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h2><p>看名字很容易覺得他只支援 Vue，實則不然，其實他支援了許多種前端框架(<a href="https://vitejs.dev/guide/#scaffolding-your-first-vite-project">文件</a>)，本文中就都會以 Vue 為主。</p>
<ul>
<li>vanilla</li>
<li>vue</li>
<li>vue-ts</li>
<li>react</li>
<li>react-ts</li>
<li>preact</li>
<li>preact-ts</li>
<li>lit-element</li>
<li>lit-element-ts</li>
</ul>
<blockquote>
<p>如果讀者想要把 Vite 上 Production 環境的話要考慮<a href="https://vitejs.dev/guide/build.html#browser-compatibility">瀏覽器相關支援度</a>喔</p>
</blockquote>
<h2 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a><a href="https://vitejs.dev/guide/#scaffolding-your-first-vite-project">簡介</a></h2><p>可以透過任一種方式去 init 一個專案：</p>
<p>NPM:</p>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> init @vitejs/app</span><br></pre></td></tr></table></figure>

<p>Yarn:</p>
<figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line">yarn create <span class="meta">@vitejs</span>/app</span><br></pre></td></tr></table></figure>

<p>建立完後進入專案資料夾中，看到 index.html 中最後引入了 <code>&lt;script type=&quot;module&quot; src=&quot;/src/main.ts&quot;&gt;&lt;/script&gt;</code> ，看到 type&#x3D;”module” 即為 Vite 所引入的 JavaScript</p>
<h3 id="alias-客製化你想要的路徑"><a href="#alias-客製化你想要的路徑" class="headerlink" title="alias - 客製化你想要的路徑"></a><a href="https://vitejs.dev/guide/migration.html#alias-behavior-change">alias</a> - 客製化你想要的路徑</h3><p>過去剛使用時常常搞不清楚為什麼是用 <code>@</code> 來開始一個路徑，若常使用 Linux 相關的指令會很直觀地想為什麼不用 <code>./</code> (當前目錄)、 <code>~/</code> (絕對路徑的目錄)、 <code>../</code> (當前檔案位置的上層資料夾)，這些都是我剛開始碰到的用法上的困擾(根本是文件沒看清楚 😆)，以 Vue 來說， <code>@</code> 的設定通常都是 <strong>src&#x2F;</strong> 下，Vite 這邊可以參考以下用法來客製化代表路徑：</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alias</span>: &#123; <span class="string">&#x27;/@foo&#x27;</span>: <span class="type">path</span>.resolve(__dirname, <span class="string">&#x27;some-special-dir&#x27;</span>) &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>引入時使用 <strong>&#x2F;@foo</strong> 這個字串就等於找到當前專案目錄(__dirname)的 <strong>some-special-dir</strong> 的資料夾</p>
</blockquote>
<blockquote>
<p><a href="https://vitejs.dev/config/#resolve-alias">Vite 官方文件</a>中說明在 resolve 路徑時是使用這個套件作成的 - <a href="https://github.com/rollup/plugins/tree/master/packages/alias">rollup&#x2F;plugins</a>。</p>
</blockquote>
<h2 id="Composition-API"><a href="#Composition-API" class="headerlink" title="Composition API"></a>Composition API</h2><p>過往需要共用 Component 時會需要使用 mixin 來處理，但因為每個 Component 都有各自的 Computed、Method…因此很容易在不同的 Component 之間造成衝突，且在渲染 life cycle 中也有機會影響到其他 Component。</p>
<h2 id="模擬-Vuex"><a href="#模擬-Vuex" class="headerlink" title="模擬 Vuex"></a>模擬 Vuex</h2><p>這邊一般都不推薦直接當作替代方案，因為原本設計的用計就不是做<strong>資料狀態管理</strong>，但也是許多人發現流程可以做出來，因此在某些情境下若無需透過 Global 來管理資料狀態的話，可以使用這個方式來對資料做檢疫的處理。</p>
<ul>
<li>需要使用 reactive 去 hook 相關數值。</li>
<li>每個 component API 都有自己的 data, method, compute，需要用時在個別去 import 避免在修改時影響到其他的頁面。</li>
<li>Use <strong>inject</strong> and <strong>provide</strong> to hook which would like Vuex mutation, and reactive data like Vuex Store。</li>
</ul>
<blockquote>
<p>範例專案: TBD</p>
</blockquote>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在這次聽講過程中也藉由過往有些使用 Vue 框架讓我在過程中<strong>較沒</strong>那麼苦手 😆，現場許多 Live Demo 也解開了我一些過往未解的疑惑，透過參加活動也讓我更了解新工具的相關操作方式，期待之後我也可以應用在我的 Side Project 上～</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Vite</tag>
        <tag>Composition API</tag>
      </tags>
  </entry>
  <entry>
    <title>我從 Lint 中學到了什麼？</title>
    <url>/2020/06/21/why-i-need-lint/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/08/12/17/14/taiwan-2634743_1280.jpg"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Lint 是靜態程式檢查語法的工具，最早出現於 C 語言，也有人稱為 Code Quality Tools，主要是用來標記程式碼中含有<code>某些可疑</code>、<code>不具結構性</code>或潛在問題的部分，也因只標記緣故，所以只會透過編輯器提醒使用者。之後則汎用於各個語言之中，如 ESSLint、flake8、Rubocop…</p>
<p>從前在改以前寫程式時都會有幾個問題，『排版好亂』、『這變數(a1)是？』諸如此類的問題，但就在加入社群後認識很多圈內的朋友並與之討論後才體悟到 Lint 的重要性，首先在跟人家解釋程式時從<code>變數</code>、<code>函式</code>名稱時就能讓對方更快速知道用途，透過 Lint 的提醒讓我修正而不用與其他人解釋 a1 a2 個別代表什麼，大大的降低溝通成本。</p>
<h2 id="優點"><a href="#優點" class="headerlink" title="優點"></a>優點</h2><span id="more"></span>

<ul>
<li>開發風格統一</li>
<li>不會有 tab、space 的問題</li>
<li>後續接手的人心力可以放更多在商業邏輯上</li>
<li>培養命名習慣，更謹慎地處理</li>
</ul>
<h2 id="缺點"><a href="#缺點" class="headerlink" title="缺點"></a>缺點</h2><ul>
<li>容易打擊剛加入開發領域的朋友<ul>
<li>Ａ：明明邏輯是對的但怎麼紅字一堆？</li>
</ul>
</li>
<li>設定太嚴謹時會為了修問題延誤邏輯開發時間<ul>
<li>時程很趕但 CI 一直擋住</li>
</ul>
</li>
</ul>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>以下會介紹三個我使用過的 Lint，並分享使用經驗。</p>
<h2 id="SonarQube"><a href="#SonarQube" class="headerlink" title="SonarQube"></a>SonarQube</h2><p>SonarQube 是我在之前的公司時所使用的 Lint，裡面的功能真的很完整，除了一些基本檢查以外，最有印象的就是它會找出<code>淺在風險</code>、<code>Code 品質</code>、<code>花多久時間可以看懂</code>…很多很特別的部分，也許這些功能可能只是參考，但看著數字很淒慘時工程魂就會上身，想要把它數值降低點別出現這麼可怕的數字 😅。</p>
<p><img src="https://i.imgur.com/PDyOvLF.png"></p>
<blockquote>
<p>Azure + Sonar 參考<a href="https://www.facebook.com/DotNetWalker/posts/3277105698995647?__xts__%5B0%5D=68.ARBkAILNJPiUfPxM6Prkqnc5a38h0vuBEmxvcb8WQRW1xbbJnMhddEwi7Lj2OudXHSJ2hrZ4jGtMMKEYzbF7GcdcZ0CoglZWSiexYSjlseEXBnReh6OoE5ZGIhlGTh75wVn5mHQ2B-bkTfatl-vIP-k83-G6yeoXm0ZcboLrq_e0gZqQLLTY0FPsbB_ROKWvYuYBbxY5-Vj2kpvVBU528mFDTCKDGTk5ih16hbuzlrxY0boNZUVuIcaT4zdnHBaAUFTminhF03jkys7pSpDeiBVz_A6z3jjPJChlAI9pZzZTrlmupgRR6yDzzQrjZ2CR6R2kWOZi5Liz7RfO9GkxZz4G6g&__tn__=-R">董老師的影片</a></p>
</blockquote>
<p>免費版具有容量限制，若是團隊人多的話我認為值得花錢買的 Lint，讓大家 Commit 的程式碼可以被檢查，而 SonarQube 應該是我目前遇到數一數二真的是在鞭打我 code 的一個凶狠 Lint 工具…</p>
<h2 id="ESLint"><a href="#ESLint" class="headerlink" title="ESLint"></a>ESLint</h2><p>起初我初學 Vue 時，在初始化專案時覺得是工程師就是要 Lint，就直接選 ESLint，且當時對於 config 設定檔一竅不通，因此除了執行時滿滿的錯字以外，也讓我對於寫 code quality 的成就感大大折損，對於 coding 年紀還年輕的朋友可以先養成對於 coding 有興趣後再來使用 Lint 我認為對於整個發展會比較健全(但還是看人)。</p>
<p>接著過了一陣子後，我開始修改一個 side project - <a href="https://github.com/louis70109/Twitch-Bot">Twitch-Bot</a>，這時期因參加社群一陣子也得知 Bottender 這個使用 Javascript 開發 Chatbot 框架，就依照 <a href="https://bottender.js.org/docs/en/getting-started">Bottender 的初始化</a>方式加上 ESLint，並且搭配 TypeScript 動態檢查所有 code。</p>
<blockquote>
<p>可以看<a href="https://github.com/louis70109/Twitch-Bot/pull/16/files">當時的 PR 連結</a>，讓其他人改 code 時也是透過一樣的方式來貢獻，就不會有太多檔案被修改的問題了。</p>
</blockquote>
<p>在一開始因為還不熟悉 Javascript 相關開發風格，而我使用很多 pythonic 的方式撰寫 Bot，導致整個專案被狠狠教訓了一遍，不過藉由 Lint 校正的好處是讓我再隔一段時間回來時修改 issue 時不會因為 coding style 不統一而引發的問題，再開發的過程中也會透過小蚯蚓告訴你命名或是哪邊有排版問題，只要遵守 Lint 的規則整份 code 沒有被標記起來就覺得神清氣爽 😆。</p>
<p>以下節錄我的 VSCode ESLint 相關設定：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// 儲存時 format</span></span><br><span class="line">  <span class="string">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 單引號設定</span></span><br><span class="line">  <span class="string">&quot;javascript.preferences.quoteStyle&quot;</span>: <span class="string">&quot;single&quot;</span>,</span><br><span class="line">  <span class="string">&quot;typescript.preferences.quoteStyle&quot;</span>: <span class="string">&quot;single&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ESLint 設定</span></span><br><span class="line">  <span class="string">&quot;eslint.autoFixOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;eslint.enable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;eslint.validate&quot;</span>: [<span class="string">&quot;javascript&quot;</span>, <span class="string">&quot;typescript&quot;</span>],</span><br><span class="line">  <span class="string">&quot;eslint.format.enable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;editor.codeActionsOnSave&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;source.fixAll.eslint&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a href="https://gist.github.com/louis70109/8ea88b9b26570d521c81922572f8309d">參考我的 Gist</a></p>
</blockquote>
<h3 id="Bonus-VSCode-settings"><a href="#Bonus-VSCode-settings" class="headerlink" title="Bonus - VSCode settings"></a>Bonus - VSCode settings</h3><p>開啟編輯器後的左上角按下<code>喜好設定</code>，英文則是 <code>Performance</code><br><img src="https://i.imgur.com/01XOZHL.png"></p>
<p>接著右上角有個<code>轉換檔案的圖案</code>按下去就可以看到 setting.json 囉！<br><img src="https://i.imgur.com/ut4sH60.png"></p>
<h2 id="Flake8"><a href="#Flake8" class="headerlink" title="Flake8"></a>Flake8</h2><p>當初會知道怎麼使用 Flake8 的原因是我去貢獻 <a href="https://github.com/line/line-bot-sdk-python">LINE SDK</a>，它們是使用 tox 來跑多版本的檢查(py2.7、3.4~3.7)，並透過 <code>tox.ini</code> 的設定來來制定使用的 Lint 及其相關設定(ignore…)。</p>
<p>以我前一陣子的寫的 <a href="https://github.com/louis70109/lotify#contributing">Lotify</a> 來說，在每次的上版前都一定要跑 flake8 檢查：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python -m pytest --flake8 tests/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上述範例是跑測試時要搭配 flake8 的格式。</p>
</blockquote>
<p>透過 flak8 的檢查讓我在 CI 環境時就可以檢查出錯誤，規範貢獻者們的開發風格(包含自己)，如此一來過陣子再回來修改 Lotify 時就可以駕輕就熟 😆，且其他的貢獻者也可以遵守這個規範下去開發。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>Lint 是集結各方工程師們的血汗結晶所產生的規則，在這開源的時代跟著大家的規則走能減少許多溝通成本，讓心思可以在(商業、工程)邏輯上。另一部分我則認為是對自我的要求，透過固定的格式再經過 <code>N 週/月</code> 後會來看 code 時不會因為一直因為不統一的 coding style 而導致連自己都看不懂的程式碼窘境，因此適當地遵循也是會對以後開發更有幫助喔！</p>
<p>每個工具沒有絕對的好壞，我認為適當的遵循是好的，但別一昧的堅持才能開發出好的程式碼。</p>
]]></content>
      <categories>
        <category>學習紀錄</category>
      </categories>
      <tags>
        <tag>Lint</tag>
        <tag>Flake8</tag>
        <tag>SonarQube</tag>
        <tag>ESLint</tag>
      </tags>
  </entry>
  <entry>
    <title>【Flex Message】部署與共用屬於你的 Flex Message API</title>
    <url>/2022/02/02/why-you-need-flex-message-api/</url>
    <content><![CDATA[<h1 id="他怎麼出現的？"><a href="#他怎麼出現的？" class="headerlink" title="他怎麼出現的？"></a>他怎麼出現的？</h1><p>當時因為<strong>公司</strong>、<strong>社群</strong>、<strong>工作坊</strong>以及<strong>各種朋友群組</strong>都會需要分享各種活動資訊，包括活動告知、訂位消息、個人資訊卡、新聞…而每個需求中都剛好包含著其他功能 🔧，有時用 JavaScript、有時 Python，而每次寫的 Flex Message 就會散落在各地，東西、時間一多都會忘了當時做的東西在哪 💦，也就浪費當時花費的精力，而且在微服務這麼盛行的現今怎能不切出來呢 🤔</p>
<p><img src="https://nijialin.com/images/2022/announcer/0.png"></p>
<span id="more"></span>

<h1 id="為什麼需要特別獨立-API？"><a href="#為什麼需要特別獨立-API？" class="headerlink" title="為什麼需要特別獨立 API？"></a>為什麼需要特別獨立 API？</h1><p>如果你也是喜歡做 LINE Bot，或是經常拿來做許多的 Demo(簡易使用者介面展示、各種 API 溝通技巧…)，那你會很需要架設獨立一個 API。</p>
<ul>
<li><a href="https://developers.line.biz/en/reference/liff/#share-target-picker">Share Target Picker</a><ul>
<li>分享給各種群組</li>
</ul>
</li>
<li>提供給其他性質 Side Project 使用 Flex Message</li>
<li>LINE 來說在回應時(Reply)只收 Flex Message 的樣板，而發送時會依照內容需求置換成 Carousel 或 Bubble，因此在 <a href="https://developers.line.biz/flex-simulator/">Simulator</a> 上取得的 JSON 外面還是要再包一層 Flex，透過共用的 API 來說就可以省去<strong>每次重新開發都忘記包 Flex 的這件事了</strong>。（切身之痛！）</li>
</ul>
<blockquote>
<p>專案位置 <a href="https://github.com/louis70109/Announcer">louis70109&#x2F;Announcer</a></p>
</blockquote>
<p><img src="https://nijialin.com/images/2022/announcer/1.png"></p>
<h1 id="專案介紹"><a href="#專案介紹" class="headerlink" title="專案介紹"></a>專案介紹</h1><h2 id="環境變數"><a href="#環境變數" class="headerlink" title="環境變數"></a>環境變數</h2><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">NODE_ENV</span>=develop</span><br><span class="line">CONCAT_ID=</span><br><span class="line">CHANNEL_ACCESS_TOKEN=</span><br><span class="line">CHANNEL_SECRET=</span><br><span class="line">GA=</span><br><span class="line"><span class="attr">LOGGING</span>=<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>NODE_ENV</code>: 開發環境會引入 <code>.env</code> 檔案，預設為 <strong>develop</strong><ul>
<li><code>if (process.env.NODE_ENV === &#39;develop&#39;) require(&#39;dotenv&#39;).config()</code></li>
</ul>
</li>
<li><code>CONCAT_ID</code>: 如果有使用 LIFF 的 <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">ShareTargetPicker</a> 分享，會把 LIFF 參數都放在此專案中</li>
<li><code>CHANNEL_ACCESS_TOKEN</code>: 如稍早看到的 LINE Bot 顯示畫面，讓管理者(我)可以透過 LINE Bot 來分享訊息</li>
<li><code>CHANNEL_SECRET</code>: 如上</li>
<li><code>GA</code>: 發 Flex Message 都有偷塞一個很小 pixel 的地方，只要有點到都會被計算。(做法來自 LAE 均民的<a href="https://taichunmin.idv.tw/blog/">部落格文章</a>)</li>
<li><code>LOGGING</code>: Debug 需要用的參數</li>
</ul>
<h1 id="如何快速部署"><a href="#如何快速部署" class="headerlink" title="如何快速部署"></a>如何快速部署</h1><p>參考專案中的<a href="https://github.com/louis70109/Announcer/blob/master/README.md">文件 README</a> 下方的 Heroku 部署按鈕即可快速部署到正式環境上，並把剛剛最主要的 LINE Bot 的兩個 Key、LIFF 的 <strong>CONCAT_ID</strong> 填入值，以及 <strong>NODE_ENV</strong> 改成 <strong>production</strong>，即可第一步快速上線並使用它。</p>
<p><img src="https://nijialin.com/images/2022/announcer/3.png"></p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>如果還不確定要不要使用，歡迎大家加入<a href="https://line.me/R/ti/p/%40608zklsi">此篇介紹的 LINE Bot 好友</a>，加入後任意打字即會出現樣板</p>
<ul>
<li><a href="https://line.me/R/ti/p/%40608zklsi">連結</a></li>
</ul>
<h3 id="API-路由"><a href="#API-路由" class="headerlink" title="API 路由"></a>API 路由</h3><ul>
<li><code>/</code>: 健康確認</li>
<li><code>/liff</code>: 取得 LIFF ID</li>
<li><code>/liff/share</code>: 取得 Flex Message Template</li>
<li><code>/webhooks/line</code>: 設定 LINE Bot 時 webhook 所需要的路由</li>
</ul>
<h2 id="搭配前端-LIFF-頁面做使用"><a href="#搭配前端-LIFF-頁面做使用" class="headerlink" title="搭配前端 LIFF 頁面做使用"></a>搭配前端 LIFF 頁面做使用</h2><p>除了讓其他服務呼叫取得 Flex Message 以外，稍早也有說到會使用 <a href="https://developers.line.biz/en/reference/liff/#share-target-picker">Share Target Picker</a> 功能來分享漂亮訊息給好友，因此這邊若你也有自己打造前端的話，歡迎參考<a href="https://github.com/louis70109/announcer-vue">另一個前端專案 - Announcer</a> 及以下流程:</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0OTlweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxNnB4O2hlaWdodDo0OTlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTYgNDk5IiB3aWR0aD0iODE2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMjciIHgyPSIyNyIgeTE9IjM2LjI5NjkiIHkyPSI0NjQuMTU2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxNDIuNSIgeDI9IjE0Mi41IiB5MT0iMzYuMjk2OSIgeTI9IjQ2NC4xNTYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjMxNS41IiB4Mj0iMzE1LjUiIHkxPSIzNi4yOTY5IiB5Mj0iNDY0LjE1NjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNTY0IiB4Mj0iNTY0IiB5MT0iMzYuMjk2OSIgeTI9IjQ2NC4xNTYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9Ijc4NyIgeDI9Ijc4NyIgeTE9IjM2LjI5NjkiIHkyPSI0NjQuMTU2MyIvPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDUiIHg9IjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iMTIiIHk9IjI0Ljk5NTEiPlVzZXI8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0NSIgeD0iNSIgeT0iNDYzLjE1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iMTIiIHk9IjQ4My4xNTE0Ij5Vc2VyPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDAiIHg9IjEyMi41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEyOS41IiB5PSIyNC45OTUxIj5Cb3Q8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0MCIgeD0iMTIyLjUiIHk9IjQ2My4xNTYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEyOS41IiB5PSI0ODMuMTUxNCI+Qm90PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDIiIHg9IjI5NC41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjgiIHg9IjMwMS41IiB5PSIyNC45OTUxIj5MSUZGPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDIiIHg9IjI5NC41IiB5PSI0NjMuMTU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4IiB4PSIzMDEuNSIgeT0iNDgzLjE1MTQiPkxJRkY8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0MSIgeD0iNTQ0IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjciIHg9IjU1MSIgeT0iMjQuOTk1MSI+VnVlPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDEiIHg9IjU0NCIgeT0iNDYzLjE1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNyIgeD0iNTUxIiB5PSI0ODMuMTUxNCI+VnVlPC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDUiIHg9Ijc2NSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSI3NzIiIHk9IjI0Ljk5NTEiPkxJTkU8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0NSIgeD0iNzY1IiB5PSI0NjMuMTU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSI3NzIiIHk9IjQ4My4xNTE0Ij5MSU5FPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTMwLjUsNjMuNDI5NywxNDAuNSw2Ny40Mjk3LDEzMC41LDcxLjQyOTcsMTM0LjUsNjcuNDI5NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjcuNSIgeDI9IjEzNi41IiB5MT0iNjcuNDI5NyIgeTI9IjY3LjQyOTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iMzQuNSIgeT0iNjIuMzYzOCI+JiMzNjY2NDsmIzIwODM3OyYjMjAyMTk7JiMyNDg0NzsmIzI1OTkxOyYjMjMzODM7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzguNSw5Mi41NjI1LDI4LjUsOTYuNTYyNSwzOC41LDEwMC41NjI1LDM0LjUsOTYuNTYyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzIuNSIgeDI9IjE0MS41IiB5MT0iOTYuNTYyNSIgeTI9Ijk2LjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iNDQuNSIgeT0iOTEuNDk2NiI+JiMyMjIzODsmIzI1MDMzOyYjMjcxNzE7JiMyNjQ5NTs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzAuNSwxMjEuNjk1MywxNDAuNSwxMjUuNjk1MywxMzAuNSwxMjkuNjk1MywxMzQuNSwxMjUuNjk1MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjcuNSIgeDI9IjEzNi41IiB5MT0iMTI1LjY5NTMiIHkyPSIxMjUuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxIiB4PSIzNC41IiB5PSIxMjAuNjI5NCI+JiM0MDY3MDsmIzM2OTg0OyYjMjQ4MTk7JiMzNTIwMTsmIzMwMzQwOyYjMjcxNzE7JiMyNjQ5NTs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMDMuNSwxNTAuODI4MSwzMTMuNSwxNTQuODI4MSwzMDMuNSwxNTguODI4MSwzMDcuNSwxNTQuODI4MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTQyLjUiIHgyPSIzMDkuNSIgeTE9IjE1NC44MjgxIiB5Mj0iMTU0LjgyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDkiIHg9IjE0OS41IiB5PSIxNDkuNzYyMiI+JiMyMjMxMjsmIzI4Njg3OyYjMzUyNjE7JiMyMjEyMDsmIzE5OTc4OyYjMjUxNzE7JiMzODI4MzsgTElGRiAmIzM4OTEzOyYjMzg3NTQ7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTUyLjUsMTc5Ljk2MDksNTYyLjUsMTgzLjk2MDksNTUyLjUsMTg3Ljk2MDksNTU2LjUsMTgzLjk2MDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMxNS41IiB4Mj0iNTU4LjUiIHkxPSIxODMuOTYwOSIgeTI9IjE4My45NjA5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjI1IiB4PSIzMjIuNSIgeT0iMTc4Ljg5NSI+JiMzNjY4MTsmIzIzNTY2OyYjMjEwNDA7JiMyMTA2OTsmIzMxNDcxOyBFbmRwb2ludCAmIzIwMDA2OyYjMjQxMTg7JiMxOTk3ODsgbGlmZi5zdGF0ZTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyNi41LDIwOS4wOTM4LDMxNi41LDIxMy4wOTM4LDMyNi41LDIxNy4wOTM4LDMyMi41LDIxMy4wOTM4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMjAuNSIgeDI9IjU2My41IiB5MT0iMjEzLjA5MzgiIHkyPSIyMTMuMDkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY3IiB4PSIzMzIuNSIgeT0iMjA4LjAyNzgiPkxJRkYgJiMyMTAyMTsmIzIyOTg3OyYjMjEyNzA7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzc1LjUsMjM4LjIyNjYsNzg1LjUsMjQyLjIyNjYsNzc1LjUsMjQ2LjIyNjYsNzc5LjUsMjQyLjIyNjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMxNS41IiB4Mj0iNzgxLjUiIHkxPSIyNDIuMjI2NiIgeTI9IjI0Mi4yMjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjMyMi41IiB5PSIyMzcuMTYwNiI+JiMzMDMzMTsmIzIwODM3OyYjMzU0Njk7JiMzNTY1NzsmIzI5OTkyOyYjMjUxNDI7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTc1LjUsMjY3LjM1OTQsNTY1LjUsMjcxLjM1OTQsNTc1LjUsMjc1LjM1OTQsNTcxLjUsMjcxLjM1OTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjU2OS41IiB4Mj0iNzg2LjUiIHkxPSIyNzEuMzU5NCIgeTI9IjI3MS4zNTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk5IiB4PSI1ODEuNSIgeT0iMjY2LjI5MzUiPiYjMjIyMzg7JiMyMDY1OTsmIzI0NDYwOyYjMjMzODQ7JiMyOTk5MjsmIzI1MTQyOyYjMzYwMzk7JiMzNTMzODsmIzIxMDQwOyBsb2NhbHN0b3JhZ2U8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NTIuNSwyOTYuNDkyMiw1NjIuNSwzMDAuNDkyMiw1NTIuNSwzMDQuNDkyMiw1NTYuNSwzMDAuNDkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjcuNSIgeDI9IjU1OC41IiB5MT0iMzAwLjQ5MjIiIHkyPSIzMDAuNDkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MyIgeD0iMzQuNSIgeT0iMjk1LjQyNjMiPiYjMjI2MzU7JiMyMDgzNzsmIzM4NjU2OyYjMzUyMDE7JiMzNjY2NDsmIzIwODM3OyYjMzAzNDA7JiMyNzE3MTsmIzI2NDk1OyYjMzYwMzk7JiMzNTMzODs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjYuNSwzMjUuNjI1LDMxNi41LDMyOS42MjUsMzI2LjUsMzMzLjYyNSwzMjIuNSwzMjkuNjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMjAuNSIgeDI9IjU2My41IiB5MT0iMzI5LjYyNSIgeTI9IjMyOS42MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDgiIHg9IjMzMi41IiB5PSIzMjQuNTU5MSI+JiMyMDM1MTsmIzI5OTkyOyBMSUZGIEFQSSAtIFNoYXJlVGFyZ2V0UGlja2VyPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzc1LjUsMzU0Ljc1NzgsNzg1LjUsMzU4Ljc1NzgsNzc1LjUsMzYyLjc1NzgsNzc5LjUsMzU4Ljc1NzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMxNS41IiB4Mj0iNzgxLjUiIHkxPSIzNTguNzU3OCIgeTI9IjM1OC43NTc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3IiB4PSIzMjIuNSIgeT0iMzUzLjY5MTkiPiYjMzUyMDE7JiMyNzcxNDsmIzI5OTkyOyYjMjUxNDI7JiMzMDM0MDsmIzIyOTA5OyYjMjE0NTE7JiMyODE2NTsmIzIxOTM0OzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM4LjUsMzgzLjg5MDYsMjguNSwzODcuODkwNiwzOC41LDM5MS44OTA2LDM0LjUsMzg3Ljg5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMyLjUiIHgyPSI3ODYuNSIgeTE9IjM4Ny44OTA2IiB5Mj0iMzg3Ljg5MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTciIHg9IjQ0LjUiIHk9IjM4Mi44MjQ3Ij4mIzIyMjM4OyYjMjA2NTk7JiMyODE2NTsmIzIxOTM0OyYjMjAxNzE7JiMzODc1NDsmIzMyMTAyOyYjMjk5OTI7JiMyNTE0Mjs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3NzUuNSw0MTMuMDIzNCw3ODUuNSw0MTcuMDIzNCw3NzUuNSw0MjEuMDIzNCw3NzkuNSw0MTcuMDIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjcuNSIgeDI9Ijc4MS41IiB5MT0iNDE3LjAyMzQiIHkyPSI0MTcuMDIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwNiIgeD0iMzQuNSIgeT0iNDExLjk1NzUiPiYjMzY5ODQ7JiMyNTc5OTsmIzM1MjAxOyYjMzAzMzI7JiMzNjg2NTsmIzMyMTAyOyBGcmllbmQvR3JvdXAvUm9vbTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc3NS41LDQ0Mi4xNTYzLDc4NS41LDQ0Ni4xNTYzLDc3NS41LDQ1MC4xNTYzLDc3OS41LDQ0Ni4xNTYzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMTUuNSIgeDI9Ijc4MS41IiB5MT0iNDQ2LjE1NjMiIHkyPSI0NDYuMTU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyOSIgeD0iMzIyLjUiIHk9IjQ0MS4wOTAzIj4mIzM0MjQ5OyYjMzAwMDE7IFNoYXJlVGFyZ2V0UGlja2VyICYjMjM0MzY7JiMyNTEwNDsmIzMwMzMyOyYjMzY4NjU7JiMzNTMzODsmIzI0Njg3OzwvdGV4dD48IS0tU1JDPVtQUDVWSXk5VzVDUmx6b2RVQnMzVVVuNEtRMFdJS2pkemk1Y0lFUGRwdGZNWUl5c1dxMm9MX2swUVlRTDhDYlpjYnpidmp0c0JaaHdzb2t4NmRsQ3l4LXl2OXZPTDlFOVI5dmtZNzIzRVhtNzVkY01RajUyZFpIOENjWHAtZHlpbjcwaUdrRWxJYWFocjl6Z1BTUjdWSmpWaWtlZjFweVFFZmpZdFhVTjhxWG05WHE5ZVJranNsa3ZlS3NaZmJkNUVySWt0S0xiZW5Cck50Q3Vaal9aNi1Wc1NXMm5KNU9PTksxdzJNaEZ4Um9JT0ZpWThvUkhDQjRDM091ODk5OUxDOURRb0NZeUI3NWYtTmJoYUdCYTNwbk1lRGhwT0k3V3g2MjFzb3lJRXBhbEQ2UVpzakt4QjRzdWtVRXpZSHBXVG1zU0wxWlRDVHlPYkhwejc0ZjhJdXRtZ0F1aUlWb1h1X1BkaGVPLWZSWmtGX1RhTWxJcW0tcnoyUXBoM1IwUXc0R3FKN3phenVZTFhadlNFMUpjUVoxeUJxV2VzdmpCSEFHRjJRRVhEZUx3WEhYNFFobndfVG9HaW0ySkJoRTFZeE5UanNWSVJjTU5FQnRQTGNiLWl6VTdjNUhtWjhJYWZmMF95TXZBT29fWHRIRjVhNVFFOUlubHpmb05tTWdOYkluUTRUUWRveldLMF0tLT48L2c+PC9zdmc+'>

<blockquote>
<p>當然以上是一個簡易的請求流程，會依照大家的需求去決定流程要怎麼變通。</p>
</blockquote>
<h2 id="樣板們-更多請看這"><a href="#樣板們-更多請看這" class="headerlink" title="樣板們 - 更多請看這"></a>樣板們 - <a href="https://github.com/louis70109/Announcer">更多請看這</a></h2><h3 id="Template-1"><a href="#Template-1" class="headerlink" title="Template 1"></a>Template 1</h3><p><img src="https://nijialin.com/images/2022/announcer/template1.png"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    template: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">    title: <span class="string">&#x27;Title&#x27;</span>,</span><br><span class="line">    place: <span class="string">&#x27;location&#x27;</span>,</span><br><span class="line">    time: <span class="string">&#x27;12/26 15:00&#x27;</span>,</span><br><span class="line">    url: <span class="string">&#x27;HTTP string&#x27;</span>,</span><br><span class="line">    imageUrl: <span class="string">&#x27;HTTP string&#x27;</span>,</span><br><span class="line">    description: <span class="string">&#x27;aaa\nbbb\nccc&#x27;</span>,</span><br><span class="line">    activity: <span class="string">&#x27;some tag&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Template-2"><a href="#Template-2" class="headerlink" title="Template 2"></a>Template 2</h3><p><img src="https://nijialin.com/images/2022/announcer/template2.png"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">staffList = &#123;</span><br><span class="line">  template: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">  title: <span class="string">&#x27;title&#x27;</span>,</span><br><span class="line">  place: <span class="string">&#x27;here&#x27;</span>,</span><br><span class="line">  url: <span class="string">&#x27;HTTP link&#x27;</span>,</span><br><span class="line">  activity: <span class="string">&#x27;tag&#x27;</span>,</span><br><span class="line">  map: <span class="string">&#x27;Google Map link&#x27;</span>,</span><br><span class="line">  people: [&#123;<span class="attr">name</span>: <span class="string">&#x27;NiJia&#x27;</span>, <span class="attr">time</span>: <span class="string">&#x27;10:00~12:00&#x27;</span>&#125;],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Template-3"><a href="#Template-3" class="headerlink" title="Template 3"></a>Template 3</h3><p><img src="https://nijialin.com/images/2022/announcer/template3.png"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Card = &#123;</span><br><span class="line">  template: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">  title: <span class="string">&#x27;title&#x27;</span>,</span><br><span class="line">  description: <span class="string">&#x27;aaa\nbbb&#x27;</span>,</span><br><span class="line">  avatar: <span class="string">&#x27;HTTP link&#x27;</span>,</span><br><span class="line">  back: <span class="string">&#x27;HTTP image background link&#x27;</span>,</span><br><span class="line">  followUrl: <span class="string">&#x27;HTTP link&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>隨著開發的東西越來越多，性質相同且能共用的東西都盡可能的拉成一包，讓未來不管再帶工作坊、社群或是任何地方需要使用到 Flex Message 時可以很快速地取得到想要的樣板(curl, Postmen…)，當然可能因為專案屬性還是需要自己刻 Flex，但有了原本官方提供的 <a href="https://developers.line.biz/flex-simulator/">Simulator</a> 以及這個工具，制哨讓我往後作業時間可以再縮短一些，如果大家對於這次專案有興趣或是任何建議，歡迎以下留訊息給我喔！</p>
<blockquote>
<p>專案位置歡迎支持星星 <a href="https://github.com/louis70109/Announcer">louis70109&#x2F;Announcer</a></p>
</blockquote>
]]></content>
      <categories>
        <category>LINE</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>LINE</tag>
        <tag>LINE Bot</tag>
        <tag>Flex Message</tag>
      </tags>
  </entry>
  <entry>
    <title>【訪談】TECH FRESH 工作老實說 - 後續花絮與相關資訊整理</title>
    <url>/2021/07/14/what-is-tech-fresh-1/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/fresh1.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>各位讀者好，我是 LINE Taiwan Technology Evangelist - Nijia Lin，也是本次活動的主持人，這次想透過文章幫大家整理在 7&#x2F;13 的<a href="https://www.youtube.com/watch?v=XG2g4yoatEw">【訪談】TECH FRESH 工作老實說</a>活動中有提到的內容。</p>
<blockquote>
<p>但如果螢幕前的你已經準備好相關履歷，直接投履歷吧！ <a href="https://careers.linecorp.com/jobs/83">連結</a></p>
</blockquote>
<span id="more"></span>

<p><a href="https://www.youtube.com/watch?v=XG2g4yoatEw">整場活動影片</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XG2g4yoatEw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><h2 id="訪談同學自我介紹"><a href="#訪談同學自我介紹" class="headerlink" title="訪談同學自我介紹"></a>訪談同學自我介紹</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/XG2g4yoatEw?start=601" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>本次邀請到兩位實習生，分別是資料工程團隊的 Maggie，另一位則是電商團隊的 Carolyn。</p>
<p>首先 Maggie 分享了團隊中會有定時的 Team Building (密室逃脫、槍戰…)增進與其他成員之間的感情，讓大家除了平常的工作之外還能有更多時間的交流。</p>
<p>另一部份 Carolyn 則是分享在特定節日時由人資、公關、設計部門同事們所舉辦的相關活動，如感恩節、聖誕節、近期<a href="https://linecorp.com/zh-hant/pr/news/global/2021/78">台灣辦公室開箱</a> 等等的內容，甚至在過往的活動中還有請到歌手來同台獻唱，讓身為主持人的我羨慕不已 😭</p>
<h2 id="如何得知計畫內容"><a href="#如何得知計畫內容" class="headerlink" title="如何得知計畫內容"></a>如何得知計畫內容</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/XG2g4yoatEw?start=905" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>當中分享到除了求職網站之外，也有在<a href="https://careers.linecorp.com/jobs/83">官方求職平台</a>上發現有實習相關的機會，因此也就參考了類似近期的官方部落格文章：<a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2020-graduate/">TECH FRESH 實習的一年間，除了開發還有什麼內部活動呢？</a>來了解一下實習中到底會遇到些什麼活動，讓大家在評估實習工作時能有參考內容讓大家選擇。</p>
<blockquote>
<p>小編補充：近期 LINE 也有與<a href="https://linecorp.com/zh-hant/pr/news/zh-hant/2021/3818">陽明交大共同舉辦黑客松</a>，當中有 LINE Bot 生態圈與開發介紹，歡迎大家搜尋或點擊相關內榮！</p>
</blockquote>
<h2 id="還有參加哪些公司的其他活動"><a href="#還有參加哪些公司的其他活動" class="headerlink" title="還有參加哪些公司的其他活動"></a>還有參加哪些公司的其他活動</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/XG2g4yoatEw?start=1107" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>這部分兩位同學最有印象的是在 TECHPULSE 2020 中與每位會眾互動，不論是透過演講、攤位詢問皆讓兩位同學收穫滿滿，去年也是首次讓同學們有機會可以上台展現自己，而 Carolyn 正是其中一位講者，更多活動內容可以<a href="https://engineering.linecorp.com/zh-hant/blog/line-tech-fresh-2020-graduate/#techpulse-%E7%9A%84%E8%88%9E%E5%8F%B0%E4%B8%8A%E5%88%86%E4%BA%AB%E5%AF%A6%E7%BF%92%E7%B6%93%E9%A9%97">參考此篇文章</a>。</p>
<p>當中也有像是 TECH FRESH 畢業展、On Job Training、內部黑客松、LINE FRESH(<a href="https://www.facebook.com/LINEFRESHTW/posts/118244337179127">2021 活動已經開跑囉</a>！)、讀書會等等讓大家可以自由參加，當然在內部活動有很多選擇的狀況下，同學們沒辦法在訪談中一一跟大家敘述，欲知詳情就請各位投下履歷，有機會加入 LINE 大家庭跟著我們一起參加更多活動！</p>
<h2 id="工作中吸引的內容或成就分享"><a href="#工作中吸引的內容或成就分享" class="headerlink" title="工作中吸引的內容或成就分享"></a>工作中吸引的內容或成就分享</h2><iframe width="560" height="315" src="https://www.youtube.com/embed/XG2g4yoatEw?start=1635" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>若能在大家每天都用的 LINE 上面加入自己打造的內容是不是覺得很酷呢？Maggie 分享了他們團隊中打造的其中一個推薦系統，當中與團隊夥伴共同合作開發，把自己所學所開發的內容實際投放給真實用戶上，覺得非常地以成就感。且大家在平常也都不藏私互相交流，透過讀書會、brainstorming 等等來互相學習，讓彼此在互相學習之餘也可以多交流感情 😊！</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/lets-play-in-data-park/">LINE 資料工程團隊如何透過專業分工與 MLOps 打造不同服務 | 以 MarTech &amp; NLP 為例</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-dev-meetup-15/#%E8%B3%87%E6%96%99%E5%B7%A5%E7%A8%8B%E5%9C%98%E9%9A%8A">MarTech: from 0 to 1</a></li>
</ul>
<p>Carolyn 分享在實習中其實也不只有工作，在工作時間內公司也會開放許多工作坊，像是 DevOps、Clean Architecture、各種軟體開發課程等等，讓 Carolyn 在加入後能大量吸收到許多業界的新知，讓實習生活中除了工作之外也能帶著更多更有價值且對軟體開發有幫助的相關知識。</p>
<h2 id="收錄活動中的-QA-問答"><a href="#收錄活動中的-QA-問答" class="headerlink" title="收錄活動中的 QA 問答"></a>收錄活動中的 QA 問答</h2><p>Q: 想問一下今年面試官跟前幾年的面試官相同嗎?因為幾年前我是外系的並且幾乎零基礎，面試很慘烈，怕造成不好印象…但如今念台大資訊領域的研究所了 明年想再試一次</p>
<p>A: HR 會依照每個人的專長去分發給不同部門的面試官，相信有上進心且積極進取的你在精心準備後結果一定不會讓你失望的！</p>
<hr>
<p>Q: 履歷內容包含什麼會比較加分？<br>A: 如影片中同學也有分享其他觀點，把自己在學校有做過的內容整理好推上 GitHub，並把 README 的內容寫清楚，因為這些作品代表著您的專業能力，因此良好的文件撰寫、技術使用等等的內容都是面試官會注重的部分。此外履歷中建議更為您所想學&#x2F;專業的方向更加著墨(前端、後端、SRE…)，讓 HR 與面試官再看到同時就能對特定內容多加詢問(加分)</p>
<hr>
<p>Q: 請問 LINE 裡面會有類似讀書會或是共同成長的社團嗎？<br>A: 除了上述讀書會、黑客松、月會等等以外，裡面也有許多各式各樣的社團等著大家來參加！</p>
<hr>
<p>Q: 請問如果投履歷至 LINE 沒後續消息，有可能是什麼原因呢？<br>A: 感謝同學熱烈的響應，履歷進件量相當可觀，審核時間較長，如內部評估您具備相當的潛力，會於之後分享合適職缺給您。</p>
<hr>
<p>Q: 現在實習是 WFH 嗎? 實習時程有規劃多久呢? 有轉正機會嗎?<br>A: TECH FRESH 實習為一年，一週需到班至少三天的制度。因應疫情與新型態辦公模式，公司會有配套的工作型態來回應。WFH 的機制會因各團隊或職務需求有所不同，詳情會於加入團隊後有更詳細評估與說明。TECH FRESH Program 是 LINE 非常重視的人才計劃，如同學之後有就職計畫，歡迎於實習時鎖定內部公告消息，申請正職面試。</p>
<hr>
<p>Q: 想問如果在 LINE 實習，有可能會跟其他國家的 LINE 一起合作嗎？<br>A: 依照團隊性質所定，大家再加入時都有機會與不同國家的同仁跨國合作(KR、JP、TH、ID…)</p>
<hr>
<p>Q: 請問現在還有哪些團隊在找實習生？</p>
<p>A: 最後加開日期 ~ <code>7/14 截止</code>，目前尋找的類別：</p>
<ul>
<li>Front-end</li>
<li>Back-end</li>
<li>Data</li>
<li>QA</li>
<li>SRE</li>
</ul>
<p>若你有相關資歷請在履歷中更為相關專業多加著墨囉！</p>
<p>期望參加 2022 年 3 月 TECH FRESH 春季班的同學，請密切關注 10 月份即將發佈的招募資訊～</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>希望透過這個活動讓每位尚在評估相關實習機會的同學可以把握最後加開的日子(<code>7/14 截止</code>)投遞您的履歷(<a href="https://careers.linecorp.com/jobs/83">連結</a>)，期待接下來有機會可以在 LINE 的大家庭中與我們相見，更多更有趣的內容請參閱部落格中相關的內容。</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>研討會</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>TECH FRESH</tag>
      </tags>
  </entry>
  <entry>
    <title>【HHKB】為什麼要它？怎麼在二手市集挑？</title>
    <url>/2022/08/20/why-you-need-hhkb/</url>
    <content><![CDATA[<p><img src="https://nijialin.com/images/2022/hhkb/1.JPG"></p>
<h1 id="購買之前"><a href="#購買之前" class="headerlink" title="購買之前"></a>購買之前</h1><p>在跟同事聊天之前先聊到對於一個工程師的使用習慣 - <code>ctrl</code>，過去不管在哪個系統，ctrl+c 一定是很長按的組合鍵(複製、關閉程式)，但就一半鍵盤使用時小拇指或無名指就會有個很奇怪的姿勢。</p>
<span id="more"></span>

<p><img src="https://nijialin.com/images/2022/hhkb/0.JPG"></p>
<p>這個姿勢是不是非常的彆扭 🤨，因此在討論後他推薦參考 HHKB 的方式把 ctrl(control)改到 cap lock 上，也就是我們平常在切換大小寫的那顆按鍵。</p>
<p><img src="https://nijialin.com/images/2022/hhkb/cap.png"></p>
<p>換了之後至少在正常的打字操作下也比較輕鬆了。</p>
<p><img src="https://nijialin.com/images/2022/hhkb/5.JPG"></p>
<p>而且想了一下其實日常也沒那麼需要平凡切大小寫，像是 MAC 用戶真的需要的話也可以直接使用 ctrl+space 來快速切換輸入法，也就不會那麼卡了。</p>
<h1 id="下定決心買-HHKB-了？"><a href="#下定決心買-HHKB-了？" class="headerlink" title="下定決心買 HHKB 了？"></a>下定決心買 HHKB 了？</h1><p>因為有了改按鍵這件事，且在使用 MAC 長久下來其實對於數字鍵、F1 等等的這些功能都不太需要，因此也想要自己的鍵盤輕巧、乾淨些，真的需要用時拿組合鍵其實也沒問題，在公司一堆同仁都拿 HHKB 下我也先來買個二手的試試看，是不是這麼好用？<br><img src="https://nijialin.com/images/2022/hhkb/2.JPG"></p>
<p>這時就剛好想到許多人都會把 HHKB 覆蓋在 MAC 的鍵盤上使用，過去我也覺得這有點<del>狂熱</del>，但因為我買的當下在家裡其實忘了帶轉街頭回來，導致我想用新鍵盤時其實也得作這件事 👀，因此就給他疊上去了，但大家一定會很好奇你的鍵盤不會擋住電腦螢幕嗎？來人 上圖</p>
<p><img src="https://nijialin.com/images/2022/hhkb/3.JPG"></p>
<p>就視覺上來說基本上算貼合，雖然工程師了些，但也滿足了我終於可以玩玩新鍵盤了 🤩</p>
<p>如果你是 MAC 用戶，可以參考以下配置使用，基本上就是給蘋果用戶使用(圖片來自同事的鍵盤)。</p>
<p><img src="https://nijialin.com/images/2022/hhkb/4.jpg"></p>
<h1 id="如何挑選二手？"><a href="#如何挑選二手？" class="headerlink" title="如何挑選二手？"></a>如何挑選二手？</h1><p>我是個很愛在二手市場裡面 <strong>找尋&#x2F;賣</strong> 好物的人 🎯，因此下面分享一些小撇步讓大家在挑二手物可以有個參考：</p>
<ul>
<li>先看評價，但也有可能是假的</li>
<li>評價中是否有常賣類似物品，評價如何？</li>
<li>其他鍵盤照片賣相如何？<ul>
<li>以我這次為例子，對方的 flico 鍵盤鍵帽就有大量使用痕跡，而 HHKB 鍵盤卻跟新的一樣(2017 買的)，這在我的判斷中這個人是很喜歡玩鍵盤，但他不習慣這個鍵盤，因此忍痛割愛。</li>
</ul>
</li>
<li>跟賣家聊天時的狀態如何？有其他照片、影片、用多久、為什麼不用，這些都可以看對方的反應決定要不要買。</li>
</ul>
<p>二手市場是個非常容易買到磚塊的地方，在購買到之後開箱時<mark>記得錄影</mark>，你不知道哪天可能出事，先錄影下來未來去那邊都有存證，保障自己的消費安全！</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>在寫文章的當下是剛買的第二天，許多組合鍵也都還不太適應，但就使用上的感覺其實還算滿順手的，手也不會跑太遠，希望這個鍵盤可以如大家所說的增進工作效率，就讓我們拭目以待 👀</p>
]]></content>
      <categories>
        <category>3C</category>
      </categories>
      <tags>
        <tag>HHKB</tag>
        <tag>鍵盤</tag>
        <tag>二手</tag>
      </tags>
  </entry>
  <entry>
    <title>第一次寫 Python SDK 實戰全記錄</title>
    <url>/2020/05/03/%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%AF%AB-python-%E5%A5%97%E4%BB%B6%E7%9A%84%E5%AF%A6%E6%88%B0%E5%85%A8%E8%A8%98%E9%8C%84/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/Rms5ZNG.png"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>對於 LINE Notify 其實早早就一直有在使用，不管是 server 健康檢查、空汙通知、直播主開台通知…等，都一直使用著，也是因為一直在用時有個困擾，就是每次都要找 <a href="https://notify-bot.line.me/doc/en/">API 文件</a>並且看對應的參數…這在開發流程上浪費了不少時間，也因為到 Pypi 套件庫裡找 LINE Notify 相關套件時大多都只有推送功能，幾乎沒有對於認證流程的操作的 function ，文件也不齊全，在此同時也看到卡米哥的 GitHub 在此時上傳了一個 <a href="https://github.com/etrex/lotify">Notify SDK</a>，畢竟我對 Ruby 還不算陌生，就直接參考卡米哥的架構並加上單元測試來完成本篇要介紹的 - <a href="https://github.com/louis70109/lotify">Lotify</a></p>
<span id="more"></span>

<h1 id="Lotify-介紹"><a href="#Lotify-介紹" class="headerlink" title="Lotify 介紹"></a><a href="https://github.com/louis70109/line-notify">Lotify</a> 介紹</h1><p>先簡單列幾點以下會提到的部分：</p>
<ol>
<li>tests&#x2F; 是 mock 住 server 而不是 mock 請求函式</li>
<li>requirements 分層用意</li>
<li>SDK function init 設計用途</li>
<li>README markdown to rst</li>
</ol>
<h3 id="使用-flask-框架的範例程式碼-flask-line-notify"><a href="#使用-flask-框架的範例程式碼-flask-line-notify" class="headerlink" title="使用 flask 框架的範例程式碼 - flask-line-notify"></a>使用 flask 框架的範例程式碼 - <a href="https://github.com/louis70109/flask-line-notify">flask-line-notify</a></h3><p>這是 Lotify 的展開圖:<br><img src="https://i.imgur.com/uXo7jA8.png" alt="目錄架構"></p>
<p>架構上參考許多 <a href="https://github.com/line/line-bot-sdk-python">line-bot-sdk-python</a> 的使用方式，包括 <code>tests</code> 的寫法、<code>Travis</code>、<code>requirements</code>的環境分層、<code>tox</code>支援多版本的寫法…</p>
<p>因為 python 有多版本支援的問題，雖然最後我沒支援到 2.7，不過寫法上其實已經可以支援，只差設定檔搞不清楚是哪邊的問題，這邊的優先權就排後面點～</p>
<h1 id="使用-responses-mock-對於-LINE-server-請求與回應"><a href="#使用-responses-mock-對於-LINE-server-請求與回應" class="headerlink" title="使用 - responses mock 對於 LINE server 請求與回應"></a>使用 - <a href="https://pypi.org/project/responses/">responses</a> mock 對於 LINE server 請求與回應</h1><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> responses</span><br></pre></td></tr></table></figure>

<p>只要簡單使用 python 常用的 decorator 就可以讓這個函式快速的 mock 所有 requests，並且透過 <code>add()</code> 的方式可以把所有的 <code>Method</code>、<code>Url</code>、<code>status_code</code>、<code>json</code> 都模擬出來，使用方法可以參考以下的 code:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> responses</span><br><span class="line"></span><br><span class="line"><span class="meta">@responses.activate</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_get_access_token</span>(<span class="params">self</span>):</span></span><br><span class="line">    responses.add(</span><br><span class="line">        responses.POST,</span><br><span class="line">        <span class="string">&#x27;&#123;url&#125;/oauth/token&#x27;</span>.<span class="built_in">format</span>(url=self.bot_origin),</span><br><span class="line">        json=&#123; <span class="string">&#x27;access_token&#x27;</span>: self.token &#125;,</span><br><span class="line">        status=<span class="number">200</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    result = self.tested.get_access_token(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">    request = responses.calls[<span class="number">0</span>]</span><br><span class="line">    response = json.loads(request.response.content.decode())</span><br><span class="line">    self.assertEqual(<span class="string">&#x27;POST&#x27;</span>, request.request.method)</span><br><span class="line">    self.assertEqual(result, response.get(<span class="string">&#x27;access_token&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>會這麼用是因為若只用 patch 來 mock requests 的話對於測試真實度就會失真(黑箱)，讓請求正常執行而只擋下第三方 server，，雖然兩者行為差不多，但這樣的做法還是比較正確。</p>
<h1 id="Requirements-txt-分層設計"><a href="#Requirements-txt-分層設計" class="headerlink" title="Requirements.txt 分層設計"></a>Requirements.txt 分層設計</h1><p>一般來說 python 的大家習慣使用<code>requirements.txt</code>這個檔案，但在寫 SDK 時需要跑測試，因此需要使用<code>pytest</code>以及<code>flake8</code>(Lint)相關套件，但使用者 clone 檔案時不一定需要跑測試，因此我就分為<code>requirements.txt</code>以及<code>requirements.dev.txt</code>，將兩個環境有需要的都放在<code>requirements.txt</code>中，跑測試需要的則都是放在另一個檔案。</p>
<p><code>requirements.dev.txt</code>只要在開頭放上<code>-r requirements.txt</code>就可以把另一個文字檔的套檢引進來囉！</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">-r</span> <span class="selector-tag">requirements</span><span class="selector-class">.txt</span></span><br><span class="line"><span class="selector-tag">responses</span></span><br><span class="line"><span class="selector-tag">pytest</span></span><br></pre></td></tr></table></figure>

<h1 id="Client-設計原則"><a href="#Client-設計原則" class="headerlink" title="Client 設計原則"></a>Client 設計原則</h1><script src="https://gist.github.com/louis70109/e39302e76c66a450991fb2aea5838a35.js"></script>

<h2 id="傳至-Dummy-server"><a href="#傳至-Dummy-server" class="headerlink" title="傳至 Dummy server"></a>傳至 Dummy server</h2><p>這邊 api_origin &amp; bot_origin 會這樣設計是某次看到 bottender 文件上有使用這樣的設計，目的為了讓開發者可以把請求打回自己建立的 server 上，不管壓力測試或是負載平衡，如此一來彈性就大增了 🙂，因此參考之下就加入 SDK 的設計了。</p>
<blockquote>
<p>Dummy 是很多地方都會用到的東西，像 AWS X-Ray 若需要阻擋下來的話也是用這個關鍵字去搜尋喔‼️</p>
</blockquote>
<h2 id="預設環境變數-LINE-CLIENT-ID、LINE-CLIENT-SECRET、LINE-REDIRECT-URI"><a href="#預設環境變數-LINE-CLIENT-ID、LINE-CLIENT-SECRET、LINE-REDIRECT-URI" class="headerlink" title="預設環境變數 - LINE_CLIENT_ID、LINE_CLIENT_SECRET、LINE_REDIRECT_URI"></a>預設環境變數 - <code>LINE_CLIENT_ID</code>、<code>LINE_CLIENT_SECRET</code>、<code>LINE_REDIRECT_URI</code></h2><p>設定三個目的是可以讓使用者只要在<code>環境變數</code>中引入這三個參數，SDK 預設就會去載入至 Instance 中，當然使用者也可以手動輸入指定自己定義的變數名稱。<br>😆<br>放在 class level 用意是若開發者在起 server 時已經放在環境變數中，則不需要每次在 instance level 時才去環境變數中取值，稍微增加點效率(<del>根本無感</del>)。</p>
<blockquote>
<p>若對這部分不了解可以<a href="https://www.digitalocean.com/community/tutorials/understanding-class-and-instance-variables-in-python-3">參考這篇</a></p>
</blockquote>
<h1 id="Markdown-轉-RestructuredText-的麻煩事-使用-m2r-套件"><a href="#Markdown-轉-RestructuredText-的麻煩事-使用-m2r-套件" class="headerlink" title="Markdown 轉 RestructuredText 的麻煩事 - 使用 m2r 套件"></a>Markdown 轉 RestructuredText 的麻煩事 - 使用 m2r 套件</h1><p>畢竟第一次寫，對於實際操作還不清楚， 在寫完第一版之後需要上傳，官方文件寫說 <code>long_description_content_type</code> 這個參數能設定 markdown 格式，但每每要上傳時都寫說不是 rst 格式不能上傳。</p>
<p>找了許久後找到 <a href="https://github.com/miyakogi/m2r">m2r 這個套件</a>，好處是可以在程式裡面就直接幫忙轉格式，因為若額外寫一個檔案對我來說在管理上實在太不方便，因此用套件幫忙轉，藉由這樣的方式每次更新完後就不用擔心 README 的問題囉！下面的 code 則是使用的片段:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">from</span> m2r <span class="keyword">import</span> parse_from_file</span><br><span class="line"></span><br><span class="line">    readme = parse_from_file(readme_file)</span><br><span class="line"><span class="keyword">except</span> ImportError:</span><br><span class="line">    <span class="comment"># m2r may not be installed in user environment</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(readme_file) <span class="keyword">as</span> f:</span><br><span class="line">        readme = f.read()</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    ...</span><br><span class="line">    long_description=readme,</span><br><span class="line">    long_description_content_type=<span class="string">&quot;text/x-rst&quot;</span>,</span><br><span class="line">    ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>雖然只是單純包裝 LINE Notify 並加上<code>測試</code>確保狀態，但在這過程中遇到<code>設計問題</code>、<code>文件格式</code>、<code>Mock</code>、<code>依賴套件分層</code>的各種問題，運用在前公司學到的以及參考 open source  中很多的設計理念，不知道之後還有沒有機會開發新的 python SDK，學個經驗未來有個參考的文章 😁</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>LINE</tag>
        <tag>Lotify</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Serverless &amp; LINE Message API 在 AWS 上打造一個 Echo bot</title>
    <url>/2019/10/31/%E4%BD%BF%E7%94%A8-Serverless-Line-Message-API-%E5%9C%A8-AWS-%E4%B8%8A%E6%89%93%E9%80%A0%E4%B8%80%E5%80%8B-Echo-bot/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Serverless 架構是一個基於 FaaS(Function as a Service) 實作的一個服務，讓開發者可以更專注在開發功能，將 yml 檔設定好其餘維運的問題都交給 AWS、Google、Azure 這些服務商去處理，只要把信用卡準備好就好(?)，讓開發者在寫完程式之後不用煩惱部署得問題，減少的不少的麻煩事。<br>那因為現任公司的服務都是基於 AWS，如此這般我就接觸到 Serverless(以下簡稱 sls) 這個框架啦 (想更深入了解 FaaS 架構可以參考 AWS)<br>[2019&#x2F;07&#x2F;04 更新]<br>若已經暸解的朋友可以參考我的 python 版本:<br><a href="https://github.com/louis70109/aws-line-echo-bot">louis70109&#x2F;aws-line-echo-bot</a><br>Ruby 的範例版本:<br><a href="https://github.com/louis70109/aws-ruby-line-echo-bot">louis70109&#x2F;aws-ruby-line-echo-bot</a></p>
<h1 id="為什麼要-Serverless"><a href="#為什麼要-Serverless" class="headerlink" title="為什麼要 Serverless"></a>為什麼要 Serverless</h1><p>[2019&#x2F;06&#x2F;29 更新]<br>以用一個 Ruby on Rails 寫的機器人為例，在寫完個 webhook function 後，設定路由然後部署，一般主機或是虛擬機就很麻煩，要安裝佈署環境以及一安裝堆相關套件，完了之後設定 Domain 什麼的有夠花時間。但若是使用 heroku 部署就很方便，Login — Create-Deploy 馬上就結束，機器人馬上就上線了，實在是俗又大碗呀～<br>但我覺得像是 LINE Message 這種 stateless 的服務，且只要一個 function + route 就能實作的程式最適合 Serverless 了，讓專案可以簡潔有力，只要寫一個 function+yml 設定並打個指令就部署了，而且 domain 還附贈 SSL，將服務交給 AWS 也不需要擔心，整個就是超級方便啊！<br>Cold start time 問題，依照我目前使用的結果下來，在 heroku 以及 AWS Lambda 同時睡著的情況下，AWS 起床的回應速度大概 1 秒左右，而 heroku 則大概落在 10~15 秒(參考)。如下圖所示的免費方案，基本上開發階段應該是不至於到 100 萬&#x2F;月 個請求吧 😆，所以這部分就別擔新大力地給他用下去～ (感謝 petertc 幫忙找這方面的問題 💪)</p>
<p>AWS Lambda 免費方案<br>接下來就讓我介紹如何使用 sls + LINE Message API 建立一個 Echo bot 吧！<br><img src="https://i.imgur.com/pNCDY4e.png"></p>
<h1 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h1><p>npm 6.9.0<br>python 3.7.3<br>serverless 1.45.1</p>
<h1 id="建立-AWS-存取金鑰"><a href="#建立-AWS-存取金鑰" class="headerlink" title="建立 AWS 存取金鑰"></a>建立 AWS 存取金鑰</h1><p>首先要先有個 AWS 帳號(廢話) ，如果沒有綁定信用卡記得去綁定才能繼續，接下來就可以去就可以去建立鑰匙囉！<br><img src="https://i.imgur.com/XHuvbyX.png"><br>如上圖，按下紅色框框的部分，接著按箭頭指的按鈕，就會建立一個我們要的金鑰囉！<br><img src="https://i.imgur.com/FzRCna0.png" alt="AWS secret &amp; ID key"></p>
<p>如上圖所示，可以下載 key，AWS 不會幫忙保存 Secret key，若這視窗關掉的話 key 就不見了，所以使用者可以自行下載檔案保存，以免哪天要部署的時候找不到 key。<br>接著就將這兩個參數加入環境變數中：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> AWS_ACCESS_KEY_ID=&lt;your-key-here&gt;</span><br><span class="line"><span class="built_in">export</span> AWS_SECRET_ACCESS_KEY=&lt;your-secret-key-here&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Serverless-建立與部署"><a href="#Serverless-建立與部署" class="headerlink" title="Serverless 建立與部署"></a>Serverless 建立與部署</h1><p>首先先透過以下指令讓 npm 幫忙安裝 sls 的指令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install serverless -g</span><br></pre></td></tr></table></figure>

<p>安裝完之後就透過 sls 指令來建立專案嚕！</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">serverless create — template aws-python — path aws-line-echo-bot</span><br></pre></td></tr></table></figure>

<blockquote>
<p>severless 指令可以縮寫成 sls<br>template &#x3D; 想用什麼平台以及語言就在此模板了 (參考)<br>path &#x3D; 檔案名稱</p>
</blockquote>
<p><img src="https://i.imgur.com/2KNweWB.png"><br><img src="https://i.imgur.com/HDonmjF.png"></p>
<p>透過 severless 建立專案指令<br>依照不同的 template 可能會建立 N 個檔案，但主要還是以下三個檔案</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.gitignore</span><br><span class="line">handler.py = 主程式的地方</span><br><span class="line">serverless.yml = 所有設定都在這裡，funtion 參數會對應到指定的路由</span><br></pre></td></tr></table></figure>

<p>在部署前須至 serverless.yml 裡，把 runtime 的 python2.7 改至 3.7，否則會因版本問題導致錯誤。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">serverless deploy <span class="comment"># sls deploy</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/18Fnran.png" alt="Serverless 部署畫面"></p>
<p>接著到 AWS Lambda 以及 S3 就可以看到第一次部署完的程式以及檔案囉！</p>
<h1 id="加入-LINE-Message-API"><a href="#加入-LINE-Message-API" class="headerlink" title="加入 LINE Message API"></a>加入 LINE Message API</h1><p>既然是寫 python，那一定是要用 line-python-sdk<br>照著官方用法應該是要執行以下指令安裝套件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install line-bot-sdk</span><br></pre></td></tr></table></figure>

<p>不過我們是要部署到 AWS 的 Lambda 上，且因為他是無伺服器運算的服務，所以他沒辦法跑 pip 去幫我安裝套件。<br>此時就要出動 requirements.txt 來管理相依套件 ，但只有加入它 sls 根本不認識，因此我們需要安裝 pulgin 來讓 sls 認得(requirements.txt)。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sls plugin install -n serverless-python-requirements</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/0NFfVi6.png"></p>
<hr>
<p><img src="https://i.imgur.com/pS7s8ls.png"></p>
<p>安裝指令 &amp; package.json<br>如圖，安裝過程中會自動建立 package.json，且會幫忙在 serverless.yml 裡面加入 pulgin，這樣 sls 在部署時就認得 requirements.txt 囉！<br>接著將 LINE SDK 加入 requirements.txt， AWS 就會幫忙安裝套件了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;line-bot-sdk==1.12.1&quot;</span> &gt; requirements.txt</span><br></pre></td></tr></table></figure>

<p>然後新增一個 setup.cfg 並加入以下內容：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[install]</span><br><span class="line">prefix=</span><br></pre></td></tr></table></figure>

<p>由於 AWS Lambda 上都會將套件安裝在本地端(Lambda 上)，因此在執行 pip install -t . -r requirements.txt 時會需要 setup.cfg。<br>至於詳細原因嘛～還有請各位大大幫小弟解答 🙏<br>最後就處理 handler.py 以及 serverless.yml 囉！<br>將上述兩個 gist 分別貼到自己的 handler.py &amp; serverless.yml，在 hanlder.py 裡的 CHANNEL KEY &amp; TOKEN 記得換成自己的機器人 👾 哦！<br><img src="https://i.imgur.com/WVBHxL3.png" alt="佈屬完狀態"><br>接著在執行一次 sls deploy，將程式部署上去，如上圖所示，在 endpoints 那行會有一個網址，將那網址放到 LINE Webhook URL 上並 Verify 看看有沒有成功，如下圖所示。<br><img src="https://i.imgur.com/CQMwc8V.png"><br>最後對著自己的機器人發個話，看他有沒有回應你一模一樣的文字，若成功了就能往下一步應用層繼續開發囉！若失敗了就要檢查一下是不是有哪個步驟做錯了～</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>因為公司的緣故讓我能夠接觸到這神奇的 Serverless，經過這次的分享加深我對於 FaaS 的架構更加了熟悉，由於我也是初碰，我認為使用上可以把它當作是一個 Docker 的容器或許概念上會比較好理解，後續還有很多的設定檔都還沒詳細研究，最近讓我先研究研究一下再上來分享。</p>
<blockquote>
<p>文章中有任何勘誤歡迎指正</p>
</blockquote>
<p>如果覺得這篇文章有幫助的話請給我個掌聲鼓勵我一下 👋<br>下列是我的這次實作的專案，如果有幫助也來顆星星吧！<br><a href="https://github.com/louis70109/aws-line-echo-bot?source=post_page-----1e3e785a2a01----------------------">louis70109&#x2F;aws-line-echo-bot</a></p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="https://aws.amazon.com/tw/lambda/pricing/">AWS Lambda 費率問題</a></li>
<li><a href="https://github.com/serverless/serverless">Serverless GitHub</a></li>
<li><a href="https://serverless.com/plugins/serverless-python-requirements/">Serverless Python Requirements</a></li>
<li><a href="https://github.com/line/line-bot-sdk-python">LINE Python SDK</a></li>
<li><a href="https://aws.amazon.com/cn/blogs/china/iaas-faas-serverless/">FaaS 概念</a></li>
<li><a href="https://mikhail.io/2018/08/serverless-cold-start-war/">AWS, GCP, Azure cold start time</a></li>
</ul>
]]></content>
      <categories>
        <category>Serverless</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>LINE</tag>
        <tag>Serverless</tag>
      </tags>
  </entry>
  <entry>
    <title>鐵人賽-文章列表</title>
    <url>/2019/10/20/%E9%90%B5%E4%BA%BA%E8%B3%BD-%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/abW5lFB.jpg"></p>
<p>大家好，我是 NiJia</p>
<p>以下是我最近參加 IT 邦幫忙 30 天鐵人賽的<a href="https://ithelp.ithome.com.tw/users/20111481/ironman/2475">文章列表</a>，主要是紀錄從我進入新公司後學到的<code>Serverless</code>，並透過結合 <code>LINE API</code> 實現在 <code>AWS</code> 上，歡迎大家參考取用 😃</p>
<hr>
<ul>
<li><a href="https://nijialin.com/2019/09/16/Day1-serverless-%E4%BB%8B%E7%B4%B9/">Day1 - serverless 介紹</a></li>
<li><a href="https://nijialin.com/2019/09/17/Day2-%E5%AE%89%E8%A3%9D%E4%B8%A6%E4%BD%BF%E7%94%A8%20wsgi%20&%20flask%20%E5%BB%BA%E7%AB%8B%E7%AC%AC%E4%B8%80%E5%80%8B%20Serverless%20%E7%9A%84%E5%B0%88%E6%A1%88/">Day2 - 安裝並使用 wsgi &amp; flask 建立第一個 Serverless 的專案</a></li>
<li><a href="https://nijialin.com/2019/09/18/Day3-LINE-Notify-%E4%BB%8B%E7%B4%B9/">Day3 - LINE Notify 介紹</a></li>
<li><a href="https://nijialin.com/2019/09/19/Day4-%E8%AA%8D%E8%AD%98%E8%88%87%E4%BD%BF%E7%94%A8-S3-%E5%AE%B9%E5%99%A8/">Day4 - 認識與使用 S3 容器</a><span id="more"></span></li>
<li><a href="https://nijialin.com/2019/09/20/Day5-%E5%81%9A%E4%B8%80%E5%80%8B%E8%88%87-LINE-Notify-%E9%80%A3%E5%8B%95%E7%9A%84%E6%9C%8D%E5%8B%99/">Day5 - 做一個與 LINE Notify 連動的服務</a></li>
<li><a href="https://nijialin.com/2019/09/21/Day6-%E5%BB%BA%E7%AB%8B%E4%B8%80%E5%80%8B%E4%BD%BF%E7%94%A8-Query-string-%E4%BE%86%E5%B9%AB%E5%BF%99%E7%99%BC%E9%80%81%E7%9A%84-LINE-Notify/">Day6 - 建立一個使用 Query string 來幫忙發送的 LINE Notify</a></li>
<li><a href="https://nijialin.com/2019/09/21/Day7-%E5%9C%A8-serverless-%E8%A3%A1%E4%BD%BF%E7%94%A8%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%AE%93%E9%80%99%E4%BA%9B-key-%E5%A5%BD%E7%AE%A1%E7%90%86/">Day7 - 在 serverless 裡使用環境變數讓這些 key 好管理</a></li>
<li><a href="https://nijialin.com/2019/09/22/Day8-SQS-%E7%B0%A1%E5%96%AE%E4%BB%8B%E7%B4%B9-%E5%BB%BA%E7%AB%8B/">Day8 - SQS 簡單介紹 &amp; 建立</a></li>
<li><a href="https://nijialin.com/2019/09/23/Day9-SQS-%E4%B8%B2%E6%8E%A5-Notify-%E5%AF%A6%E4%BD%9C%EF%BC%81/">Day9 - SQS 串接 Notify 實作！</a></li>
<li><a href="https://nijialin.com/2019/09/24/Day10-LINE-%E7%9A%84%E6%9C%8D%E5%8B%99%E9%83%BD%E7%8E%A9%E4%BA%86%EF%BC%8C%E6%80%8E%E9%BA%BC%E8%83%BD%E5%BF%98%E4%BA%86-Message-api-Bot-%E5%91%A2%EF%BC%9F-1-%E4%BB%8B%E7%B4%B9/">Day10 - LINE 的服務都玩了，怎麼能忘了 Message api (Bot) 呢？ (1) - 介紹</a></li>
<li><a href="https://nijialin.com/2019/09/25/Day11-LINE-%E7%9A%84%E6%9C%8D%E5%8B%99%E9%83%BD%E7%8E%A9%E4%BA%86%EF%BC%8C%E6%80%8E%E9%BA%BC%E8%83%BD%E5%BF%98%E4%BA%86-Message-api-Bot-%E5%91%A2%EF%BC%9F-2-%E7%94%B3%E8%AB%8B%E4%B8%80%E6%AD%A5%E6%AD%A5/">Day11 - LINE 的服務都玩了，怎麼能忘了 Message api (Bot) 呢？ (2) - 申請一步步</a></li>
<li><a href="https://nijialin.com/2019/09/26/Day12-LINE-%E7%9A%84%E6%9C%8D%E5%8B%99%E9%83%BD%E7%8E%A9%E4%BA%86%EF%BC%8C%E6%80%8E%E9%BA%BC%E8%83%BD%E5%BF%98%E4%BA%86-Message-api-Bot-%E5%91%A2%EF%BC%9F-3-%E6%87%89%E8%81%B2%E8%9F%B2%E5%AF%A6%E4%BD%9C/">Day12 - LINE 的服務都玩了，怎麼能忘了 Message api (Bot) 呢？ (3) - 應聲蟲實作</a></li>
<li><a href="https://nijialin.com/2019/09/27/Day13-%E8%A9%A6%E7%8E%A9-python-SDK/">Day13 - 試玩 python SDK</a></li>
<li><a href="https://nijialin.com/2019/09/28/Day14-LINE-Richmenu-%E4%BB%8B%E7%B4%B9/">Day14 - LINE Richmenu 介紹</a></li>
<li><a href="https://nijialin.com/2019/09/29/Day15-%E4%B8%B2%E6%8E%A5-LINE-Richmenu-API/">Day15 - 串接 LINE Richmenu API</a></li>
<li><a href="https://nijialin.com/2019/09/30/Day16-%E5%AF%A6%E4%BD%9C%E4%B8%80%E5%80%8B%E4%B8%8A%E4%B8%8B%E9%A0%81%E7%9A%84-richmenu/">Day16 - 實作一個上下頁的 richmenu</a></li>
<li><a href="https://nijialin.com/2019/10/01/Day17-%E7%9C%8B%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E5%AF%AB%E7%9A%84%E6%9D%B1%E8%A5%BF%E9%83%BD%E5%8E%BB%E5%93%AA%E4%BA%86/">Day17 - 看一下自己寫的東西都去哪了</a></li>
<li><a href="https://nijialin.com/2019/10/02/Day18-%E5%9C%A8-Serverless-%E4%B8%8A%E8%A8%AD%E5%AE%9A%E5%80%8B%E6%8E%92%E7%A8%8B%E4%BE%86%E7%99%BC%E9%80%81%E7%A9%BA%E6%B0%A3%E6%B1%A1%E6%9F%93%E6%AA%A2%E6%B8%AC%E5%90%A7/">Day18 - 在 Serverless 上設定個排程來發送空氣污染檢測吧</a></li>
<li><a href="https://nijialin.com/2019/10/03/Day19-LINE-LOGIN-%E4%BB%8B%E7%B4%B9/">Day19 - LINE LOGIN 介紹</a></li>
<li><a href="https://nijialin.com/2019/10/04/Day20-LINE-Login-%E7%94%B3%E8%AB%8B%E8%88%87%E5%9F%BA%E6%9C%AC%E9%A0%81%E9%9D%A2/">Day20 - LINE Login 申請與基本頁面</a></li>
<li><a href="https://nijialin.com/2019/10/05/Day21-LINE-Login-%E5%AF%A6%E4%BD%9C/">Day21 - LINE Login 實作</a></li>
<li><a href="https://nijialin.com/2019/10/06/Day22-%E6%9C%80%E5%B8%B8%E7%94%A8%E7%9A%84%E6%90%AD%E9%85%8D-%E4%BD%BF%E7%94%A8-Login-Message-API-%E8%AE%93%E4%BD%BF%E7%94%A8%E8%80%85%E5%9C%A8%E6%8E%83%E6%8F%8F%E5%8A%A0%E5%85%A5%E5%A5%BD%E5%8F%8B%E6%99%82%E5%B0%B1%E7%B6%81%E5%AE%9A%E5%B8%B3%E8%99%9F/">Day22 - 最常用的搭配 - 使用 Login + Message API 讓使用者在掃描加入好友時就綁定帳號</a></li>
<li><a href="https://nijialin.com/2019/10/07/Day23-LIFF-LINE-Front-end-Framework-%E7%B0%A1%E4%BB%8B/">Day23 - LIFF(LINE Front-end Framework) 簡介</a></li>
<li><a href="https://nijialin.com/2019/10/08/Day24-%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8-LINE-LIFF-API/">Day24 - 簡單使用 LINE LIFF API</a></li>
<li><a href="https://nijialin.com/2019/10/09/Day25-Lambda-%E5%A5%BD%E5%83%8F%E6%9C%89%E6%99%82%E5%80%99%E4%B8%80%E9%96%8B%E5%A7%8B%E5%9B%9E%E6%87%89%E5%BE%88%E4%B9%85%EF%BC%9F%E7%94%A8-warm-up-%E4%BE%86%E7%86%B1%E6%A9%9F%E5%90%A7/">Day25 - Lambda 好像有時候一開始回應很久？用 warm-up 來熱機吧</a></li>
<li><a href="https://nijialin.com/2019/10/10/Day26-Use-CDN-1-%E5%BB%BA%E7%AB%8B-Certificate-%E8%88%87-Domain/">Day26 - Use CDN (1) - 建立 Certificate 與 Domain</a></li>
<li><a href="https://nijialin.com/2019/10/11/Day27-Use-CDN-2-CloudFront/">Day27 - Use CDN (2) - CloudFront</a></li>
<li><a href="https://nijialin.com/2019/10/12/Day28-%E7%94%A8-S3-%E5%B9%AB%E5%BF%99%E8%BD%89%E5%9D%80%E5%88%B0%E5%8E%9F%E6%9C%89%E7%9A%84%E6%9C%8D%E5%8B%99%E4%B8%8A/">Day28 - 用 S3 幫忙轉址到原有的服務上</a></li>
<li><a href="https://nijialin.com/2019/10/13/Day29-LINE-API-%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/">Day29 - LINE API 的使用心得</a></li>
<li><a href="https://nijialin.com/2019/10/14/Day30-%E8%80%81%E6%98%AF%E5%9C%A8%E5%90%B9-Serverless%EF%BC%8C%E4%BB%96%E7%9C%9F%E7%9A%84%E6%9C%89%E9%82%A3%E9%BA%BC%E5%A5%BD%EF%BC%9F/">Day30 - 老是在吹 Serverless，他真的有那麼好？</a></li>
</ul>
]]></content>
      <categories>
        <category>2019鐵人賽</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>LINE</tag>
        <tag>Serverless</tag>
      </tags>
  </entry>
  <entry>
    <title>【翻譯】透過 Rich Menu Switch Action 快速地切換 LINE 的個人化的 Rich Menu</title>
    <url>/2021/06/29/translate-spped-richmenu-switch-action/</url>
    <content><![CDATA[<style>
  section.compact {
    font-size: 150%  
  }
  img[alt~="center"] {
    display: block;
    margin: 0 auto;
  }
</style>

<p><img src="https://nijialin.com/images/2021/switch-richmenu/1.jpeg"></p>
<blockquote>
<p>翻譯原文網址：<a href="https://medium.com/linedevth/richmenu-swich-action-ba3aa0a9f80a">https://medium.com/linedevth/richmenu-swich-action-ba3aa0a9f80a</a></p>
</blockquote>
<p>相信有在使用 LINE 官方帳號(Official Account)的朋友，基本上都會知道 Rich Menu 可以有效幫助並引導使用者來使用服務中的主要內容。其中要使用到 Rich Menu 非常容易，只需使用工具(<a href="https://manager.line.biz/">Official Account Manager</a>)或撰寫程式即可完成。</p>
<p>在本篇中，將會透過撰寫程式來建立 Rich Menu，而撰寫的優點則是讓使用者可以自行切換 Rich Menu，例如：</p>
<span id="more"></span>

<p><img src="https://nijialin.com/images/2021/switch-richmenu/2.gif"></p>
<p>從上圖可以看出，當前的 Rich Menu 切換延遲許多，因為後面實際執行了許多步驟。</p>
<p><img src="https://nijialin.com/images/2021/switch-richmenu/3.png"></p>
<ol>
<li>使用者按下 Rich Menu 後透過訊息或 Postback 從聊天室向 LINE Server 發送操作請求。</li>
<li>LINE Server 會將 Webhook 事件轉發到我們的 Bot 應用程式中。</li>
<li>Boy 應用程式處理來自 Webhook 事件的 Rich Menu 切換訊號，並將切換請求發送回 LINE Server。</li>
<li>LINE Server 處理完請求後並更新使用者的 Rich Menu。</li>
</ol>
<blockquote>
<p>注意：從切換 Rich Menu 到使用者看到之前，必須有 4 個請求需要處理，當然請求越多，延遲時間也會跟著越高。</p>
</blockquote>
<hr>
<h1 id="了解-Richmenu-Switch-Action"><a href="#了解-Richmenu-Switch-Action" class="headerlink" title="了解 Richmenu Switch Action"></a>了解 Richmenu Switch Action</h1><p><strong>Richmenu Switch Action</strong> 是為 Rich Menu 而生的 Action，它能比上述的例子更快地幫助使用者切換 Rich Menu，因為實際操作在 Client 和 LINE Server 之間的請求只有 2 個。</p>
<p><img src="https://nijialin.com/images/2021/switch-richmenu/4.png"></p>
<ol>
<li>使用者按下 Rich Menu 後向 LINE Server 發送請求。</li>
<li>LINE Server 接受請求後並將 Rich Menu 切換到使用者欲使用的樣式。</li>
</ol>
<p>注意：LINE Server 收到請求後，除了為使用者切換 Rich Menu 外，同時還會以 Postback 事件的形式向 Bot 應用程式發送 Webhook。</p>
<p>關於如何使用 Richmenu Switch Action 建立 Rich Menu，它有 4 個步驟需要操作：</p>
<ol>
<li>準備兩款 Rich Menu: A 和 B 型</li>
<li>建立 Rich Menu</li>
<li>自定義 Rich Menu 別名</li>
<li>將 Rich Menu 分配給使用者</li>
<li>其他與 Alias 相關的 API</li>
</ol>
<hr>
<h1 id="1-準備兩款-Rich-Menu-A-和-B-型"><a href="#1-準備兩款-Rich-Menu-A-和-B-型" class="headerlink" title="1. 準備兩款 Rich Menu: A 和 B 型"></a>1. 準備兩款 Rich Menu: A 和 B 型</h1><p>要為 A 和 B 的 Rich Menu 建立圖片，請按照以下文章的第 1 步執行。</p>
<blockquote>
<p><a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">使用 LINE 的 Rich Menu 打造一個食譜選單</a></p>
</blockquote>
<p>然後按照上述文章的第 3 項為兩個 Rich Menu 建立 JSON 。例如，我將 Rich Menu 命名為 <strong>richmenu-a</strong>（另一幅名為 <strong>richmenu-b</strong> 的圖像），並將更多按鈕（另一幅圖像為 Back 按鈕）的區域定義為可點擊。此時忽略操作設置。</p>
<p><img src="https://nijialin.com/images/2021/switch-richmenu/5.png"></p>
<blockquote>
<p>注意：名稱可以與連接字母(<code>-</code>)一起使用，但不得包含空格。</p>
</blockquote>
<hr>
<h1 id="2-建立-Rich-Menu"><a href="#2-建立-Rich-Menu" class="headerlink" title="2. 建立 Rich Menu"></a>2. 建立 Rich Menu</h1><p>在這一步中，先取到上一步的 JSON，並修改成以下新的 Action：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Action 的 Rich Menu 樣板 A</span></span><br><span class="line">areas<span class="selector-class">.action</span><span class="selector-class">.type</span>: <span class="string">&quot;richmenuswitch&quot;</span></span><br><span class="line">areas<span class="selector-class">.action</span><span class="selector-class">.richMenuAliasId</span>: <span class="string">&quot;richmenu-b&quot;</span></span><br><span class="line">areas<span class="selector-class">.action</span><span class="selector-class">.data</span>: <span class="string">&quot;richmenu=b&quot;</span></span><br><span class="line"><span class="comment">// Action 的 Rich Menu 樣板 B</span></span><br><span class="line">areas<span class="selector-class">.action</span><span class="selector-class">.type</span>: <span class="string">&quot;richmenuswitch&quot;</span></span><br><span class="line">areas<span class="selector-class">.action</span><span class="selector-class">.richMenuAliasId</span>: <span class="string">&quot;richmenu-a&quot;</span></span><br><span class="line">areas<span class="selector-class">.action</span><span class="selector-class">.data</span>: <span class="string">&quot;richmenu=a&quot;</span></span><br></pre></td></tr></table></figure>

<script src="https://gist.github.com/jirawatee/da1e9a6e6430140f406118789c8c140e.js"></script>

<p>一旦我們自定義了兩種 Rich Menu 的 JSON 類型，那麼我們必須參考<a href="https://medium.com/linedevth/%E0%B9%80%E0%B8%81%E0%B9%88%E0%B8%87-rich-menu-%E0%B9%83%E0%B8%99-line-messaging-api-%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%84%E0%B8%A3%E0%B8%9A%E0%B8%AA%E0%B8%B9%E0%B8%95%E0%B8%A3-6cf12b394f38">文章</a>的 4.1（建立）和 4.2（上傳）步驟來建立一個 Rich Menu 。您可以使用 <a href="https://www.postman.com/">Postman</a> 之類的工具來輔助。<code>richMenuId</code> 結果如下：</p>
<p><img src="https://nijialin.com/images/2021/switch-richmenu/6.png"></p>
<hr>
<h1 id="3-自定義-Rich-Menu-別名"><a href="#3-自定義-Rich-Menu-別名" class="headerlink" title="3. 自定義 Rich Menu 別名"></a>3. 自定義 Rich Menu 別名</h1><p>在這一步中，我們需要將先前建立的 Alias 分配給 Rich Menu(A 和 B)。</p>
<figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">Headers:</span><br><span class="line">  + Authorization: Bearer <span class="comment">&#123;channel access token&#125;</span></span><br><span class="line">  + Content-<span class="keyword">Type</span>: application/json</span><br><span class="line">Endpoint: https:<span class="comment">//api.line.me/v2/bot/richmenu/alias</span></span><br><span class="line"><span class="function"><span class="keyword">Method</span>:</span> POST</span><br><span class="line">Body:</span><br><span class="line">  + richMenuId: 此 ID 從 Rich Menu 第二步驟中取得</span><br><span class="line">  + richMenuAliasId: 此項目是 Rich Menu 的別稱。可以指定為 a-z、A-Z、<span class="number">0</span>-<span class="number">9</span>、_ 和 - ，最多 <span class="number">100</span> 個字元。</span><br></pre></td></tr></table></figure>

<p>如果成功，您將獲得狀態碼 200 與 <code>&#123;&#125;</code>。</p>
<hr>
<h1 id="4-將-Rich-Menu-分配給使用者"><a href="#4-將-Rich-Menu-分配給使用者" class="headerlink" title="4. 將 Rich Menu 分配給使用者"></a>4. 將 Rich Menu 分配給使用者</h1><p>最後一步，讓我們在 OA 或 LINE Chatbot 展示 Rich Menu，定義的內容為<a href="https://medium.com/linedevth/6cf12b394f38">文章</a>中的 4.3、4.6 以及 4.7 項目，接著我們來看看結果，看它有多快！</p>
<p><img src="https://nijialin.com/images/2021/switch-richmenu/7.gif"></p>
<h1 id="5-其他與-Alias-相關的-API"><a href="#5-其他與-Alias-相關的-API" class="headerlink" title="5. 其他與 Alias 相關的 API"></a>5. 其他與 Alias 相關的 API</h1><h2 id="5-1-Update-Rich-Menu-Alias"><a href="#5-1-Update-Rich-Menu-Alias" class="headerlink" title="5.1 Update Rich Menu Alias"></a>5.1 Update Rich Menu Alias</h2><p>定義 Rich Menu Alias 的其中一個便利之處是我們不用像之前一樣更新使用者對應的 Rich Menu ID，它是透過 Cache 機制來更新，而不是透過 real-time 來更新使用者的 Rich Menu。</p>
<figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">Headers:</span><br><span class="line">  + Authorization: Bearer <span class="comment">&#123;channel access token&#125;</span></span><br><span class="line">  + Content-<span class="keyword">Type</span>: application/json</span><br><span class="line">Endpoint: https:<span class="comment">//api.line.me/v2/bot/richmenu/alias/&#123;richMenuAliasId&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">Method</span>:</span> POST</span><br><span class="line">Param:</span><br><span class="line">  + richMenuAliasId: Rich Menu 名稱(最多 <span class="number">100</span> 字元)</span><br><span class="line">Body:</span><br><span class="line">  + richMenuId: 同一個 Channel 中的其他 Rich Menu ID</span><br></pre></td></tr></table></figure>

<p>如果成功，您將獲得狀態碼 200 與 <code>&#123;&#125;</code>。</p>
<h2 id="5-2-Get-List-of-Rich-Menu-Alias"><a href="#5-2-Get-List-of-Rich-Menu-Alias" class="headerlink" title="5.2 Get List of Rich Menu Alias"></a>5.2 Get List of Rich Menu Alias</h2><figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">Headers:</span><br><span class="line">  + Authorization: Bearer <span class="comment">&#123;channel access token&#125;</span></span><br><span class="line">Endpoint: https:<span class="comment">//api.line.me/v2/bot/richmenu/alias/list</span></span><br><span class="line"><span class="function"><span class="keyword">Method</span>:</span> GET</span><br></pre></td></tr></table></figure>

<p>如果成功，您將獲得狀態碼 200，並回傳以下結構的 JSON：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;aliases&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;richMenuAliasId&quot;</span>: <span class="string">&quot;richmenu-alias-a&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;richMenuId&quot;</span>: <span class="string">&quot;richmenu-862e6ad6...&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;richMenuAliasId&quot;</span>: <span class="string">&quot;richmenu-alias-b&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;richMenuId&quot;</span>: <span class="string">&quot;richmenu-88c05ef6...&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-3-Get-Rich-Menu-Alias-Info"><a href="#5-3-Get-Rich-Menu-Alias-Info" class="headerlink" title="5.3 Get Rich Menu Alias Info"></a>5.3 Get Rich Menu Alias Info</h2><figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">Headers:</span><br><span class="line">  + Authorization: Bearer <span class="comment">&#123;channel access token&#125;</span></span><br><span class="line">Endpoint: https:<span class="comment">//api.line.me/v2/bot/richmenu/alias/&#123;richMenuAliasId&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">Method</span>:</span> GET</span><br><span class="line">Param:</span><br><span class="line">  + richMenuAliasId: Rich Menu 名稱(最多 <span class="number">100</span> 字元)</span><br></pre></td></tr></table></figure>

<p>如果成功，將返回狀態 200，並返回這樣結構的 JSON。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;richMenuAliasId&quot;</span>: <span class="string">&quot;richmenu-alias-a&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;richMenuId&quot;</span>: <span class="string">&quot;richmenu-88c05ef6...&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-4-Delete-Rich-Menu-Alias"><a href="#5-4-Delete-Rich-Menu-Alias" class="headerlink" title="5.4 Delete Rich Menu Alias"></a>5.4 Delete Rich Menu Alias</h2><p>由於 1 個 Chatbot 最多可以有 1000 個 Rich Menu Alias，所以以防萬一它有限制並且想要創建更多。您需要先刪除不使用的任何別名。</p>
<figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">Headers:</span><br><span class="line">  + Authorization: Bearer <span class="comment">&#123;channel access token&#125;</span></span><br><span class="line">Endpoint: https:<span class="comment">//api.line.me/v2/bot/richmenu/alias/&#123;richMenuAliasId&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">Method</span>:</span> DELETE</span><br><span class="line">Param:</span><br><span class="line">  + richMenuAliasId: Rich Menu 名稱(最多 <span class="number">100</span> 字元)</span><br></pre></td></tr></table></figure>

<p>如果成功，您將獲得狀態碼 200 與 <code>&#123;&#125;</code>。</p>
<hr>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>LINE 發布的 <code>Richmenu Switch Action</code> 從使用者的角度幫助了大家做最即時的 Rich Menu 切換，同時也減少了開發者的工作量。更多更有趣的應用，歡迎大家在社群分享給其他開發者朋友知道吧！下一篇文章再見囉！</p>
<h1 id="活動小結"><a href="#活動小結" class="headerlink" title="活動小結"></a>活動小結</h1><p>立即加入「LINE 開發者官方社群」官方帳號，就能收到第一手 Meetup 活動，或與開發者計畫有關的最新消息的推播通知。▼</p>
<p>「LINE 開發者官方社群」官方帳號 ID：@line_tw_dev<br><img src="https://www.evanlin.com/images/2020/line-tw-dev-qr.png"></p>
<h1 id="關於「LINE-開發社群計畫」"><a href="#關於「LINE-開發社群計畫」" class="headerlink" title="關於「LINE 開發社群計畫」"></a>關於「LINE 開發社群計畫」</h1><p>LINE 今年年初在台灣啟動「LINE 開發社群計畫」，將長期投入人力與資源在台灣舉辦對內對外、線上線下的開發者社群聚會、徵才日、開發者大會等，已經舉辦 30 場以上的活動。歡迎讀者們能夠持續回來察看最新的狀況。詳情請看:</p>
<ul>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019-plan/">2019 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/line-taiwan-developer-relations-2019/">LINE Taiwan Developer Relations 2019 回顧與 2019 開發社群計畫報告</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2020-line-tw-devrel/">2020 年 LINE 開發社群計畫活動時程表</a></li>
<li><a href="https://engineering.linecorp.com/zh-hant/blog/2021-line-tw-devrel/">2021 年 LINE 開發社群計畫活動時程表 (持續更新)</a></li>
</ul>
]]></content>
      <categories>
        <category>翻譯</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Richmenu</tag>
      </tags>
  </entry>
  <entry>
    <title>【翻譯】結合 LINE Chatbot 與 Spotify API 創建一個很酷的自動點唱機！</title>
    <url>/2020/08/04/use-spotify-LINE-build-jukebox/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/JKOR5lp.jpg"></p>
<blockquote>
<p>原文出自 <a href="https://medium.com/linedevth/jukebox-chatbot-line-spotify-e410a84b50d8">มาสร้างตู้เพลง Jukebox เท่ห์ๆด้วย LINE Chatbot ผ่าน Spotify API กัน!</a></p>
</blockquote>
<p>今天我將透過這篇文章帶大家在 LINE 中創建聊天機器人 “Nickelodeon”。會實作此聊天機器人是因為有時會有朋友來我家做飯，我會同時在家中播放音樂。但是朋友們會一下這首一下要求那首。所以我有了新主意：嘿，不如讓 Chatbot 擔任我的助手，幫助我脫離 555+ 種 DJ 身份。而實際上這個 Chatbot 可以應用於其他情境，例如在辦公室中或開車和朋友一起旅行等。</p>
<h1 id="點唱機是什麼？"><a href="#點唱機是什麼？" class="headerlink" title="點唱機是什麼？"></a>點唱機是什麼？</h1><span id="more"></span>

<p>我想簡短地解釋一下 Nickelodeon 以及 Jukebox。（我趕不上那個年代。我只在博物館裡看過了 😃。）點唱機實際上是一個電唱機。但像自動販賣機一樣，使用方法是可以按按鈕選擇您想要的歌曲，然後投幣收聽該歌曲。在過去，人們經常把它放在餐館裡以及一些 Bar。</p>
<p><img src="https://i.imgur.com/wiHNaC3.jpg"></p>
<blockquote>
<p>Cr. Photo by nuno_lopes from pixabay.com</p>
</blockquote>
<h1 id="Requirement"><a href="#Requirement" class="headerlink" title="Requirement"></a>Requirement</h1><p>我想要的是在 LINE app 上利用 Chatbot 尋找歌曲並將該歌曲添加到我的播放列表中，並透過我的裝置連接音響相關設備。</p>
<ul>
<li>所需的功能是自動創建 Spotify 播放列表（如果尚未有歌單）</li>
<li>可以在 Spotify 中搜索歌曲並發送精美的 Flex message（若搜尋結果太多，使用分頁以便用戶可以找到更多資訊。）</li>
<li>可以將歌曲添加到播放列表中。當我們開始使用此播放清單播放音樂時，剛添加的新歌曲將直接加入歌單並自動播放。</li>
</ul>
<h1 id="開發過程"><a href="#開發過程" class="headerlink" title="開發過程"></a>開發過程</h1><p><img src="https://i.imgur.com/cWL5PKu.png"></p>
<p>由於本文是半實驗性質，因此我使用 ngrok 作為版地端服務器，並使用 Node.js 進行開發。主要步驟如下：</p>
<ol>
<li>創建 LINE 官方帳號（Chatbot）。</li>
<li>使用 Spotify Developer Portal 上創建應用程式。</li>
<li>創建一個類別來管理與 Spotify API 連接的元件。</li>
<li>管理 Webhooks 並將結果使用 Flex message 發送給用戶。</li>
<li>啟用 ngrok 並更新 config。</li>
</ol>
<h1 id="1-創建-LINE-官方帳號（Chatbot）"><a href="#1-創建-LINE-官方帳號（Chatbot）" class="headerlink" title="1. 創建 LINE 官方帳號（Chatbot）"></a>1. 創建 LINE 官方帳號（Chatbot）</h1><p>如果您以前尚未創建 LINE Chatbot，請參閱 Jirawatee <a href="https://medium.com/linedevth/%E0%B8%9B%E0%B8%90%E0%B8%A1%E0%B8%9A%E0%B8%97%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%AA%E0%B8%A3%E0%B9%89%E0%B8%B2%E0%B8%87-line-bot-b2cb90643901">這篇文章</a>。若已完成此操作，請直接看下一小結。</p>
<h1 id="2-使用-Spotify-Developer-Portal-創建應用程式"><a href="#2-使用-Spotify-Developer-Portal-創建應用程式" class="headerlink" title="2. 使用 Spotify Developer Portal 創建應用程式"></a>2. 使用 Spotify Developer Portal 創建應用程式</h1><p>接下來，在 Spotify Developer Portal 上創建一個 “application” 來訪問 Spotify API:</p>
<ul>
<li>前往 <a href="https://developer.spotify.com/">https://developer.spotify.com</a></li>
<li>選擇 <strong>Dashboard</strong>。</li>
<li>登錄並接受使用條款。</li>
<li>點擊 “Create an app” 按鈕。</li>
</ul>
<p><img src="https://i.imgur.com/go3fgJm.png"></p>
<ul>
<li>然後填寫像是 Name、Description 之類的訊息，接著會詢問我們是 Commercial 還是 Non-Commercial 。讓我們選擇 Non-Commercial。</li>
</ul>
<p><img src="https://i.imgur.com/j7bxbbo.png"></p>
<ul>
<li>接受條款後我們將在 Spotify 中獲得一個 application。在此頁面上，有我們開發需要的兩個參數，分別是 Client ID 和 Client Secret（點選顯示 Show Client Secret 的連結 ）。</li>
</ul>
<p><img src="https://i.imgur.com/KKsix3y.png"></p>
<h1 id="3-創建一個類別來管理與-Spotify-API-連接的元件"><a href="#3-創建一個類別來管理與-Spotify-API-連接的元件" class="headerlink" title="3. 創建一個類別來管理與 Spotify API 連接的元件"></a>3. 創建一個類別來管理與 Spotify API 連接的元件</h1><h2 id="soptify-js"><a href="#soptify-js" class="headerlink" title="soptify.js"></a>soptify.js</h2><p>在此步驟中，我們將創建一個名為 spotify.js 的 Util 類別，該類將幫助管理與 Spotify API 的連接，包括創建用於用戶登錄到 Spotify 的 URL，創建播放列表（如果尚未存在），搜索歌曲並將歌曲添加到播放列表。</p>
<script src="https://gist.github.com/tandevmode/3afd7e338ce499ceb5cdeebccf844cc7.js"></script>

<h1 id="4-管理-Webhooks-並將結果使用-Flex-message-發送給用戶"><a href="#4-管理-Webhooks-並將結果使用-Flex-message-發送給用戶" class="headerlink" title="4. 管理 Webhooks 並將結果使用 Flex message 發送給用戶"></a>4. 管理 Webhooks 並將結果使用 Flex message 發送給用戶</h1><p>當用戶使用我們的 Chatbot 並獲得回應，此過程將使用 Node.js 編寫一個 Web 應用程序來處理來自 Webhook 的請求。</p>
<h2 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h2><p>該檔案管理和執行 Express Web Server，並且有 Controller 調用 Class Util 來處理用戶的 Webhook。</p>
<script src="https://gist.github.com/tandevmode/d1a0d3580245af346f38c9f29bd3c85b.js"></script>

<h2 id="lineapp-js"><a href="#lineapp-js" class="headerlink" title="lineapp.js"></a>lineapp.js</h2><p>它是一個 Util 檔案，透過對搜索結果進行排序來管理 LINE 相關部分並創建漂亮的 Flex message，包括在用戶點擊 Flex message 中的按鈕時出現的 Postback event。並且擁有有兩個按鈕：</p>
<ul>
<li>用戶想要查詢更多歌曲時的 <strong>More</strong> 按鈕。</li>
<li><strong>Add</strong> 按鈕可將歌曲添加到播放列表。</li>
</ul>
<script src="https://gist.github.com/tandevmode/f178e49d81ebb715efa460c7d893fedb.js"></script>

<h1 id="5-啟用-ngrok-並更新-config"><a href="#5-啟用-ngrok-並更新-config" class="headerlink" title="5. 啟用 ngrok 並更新 config"></a>5. 啟用 ngrok 並更新 config</h1><h2 id="5-1-啟用-ngrok"><a href="#5-1-啟用-ngrok" class="headerlink" title="5.1 啟用 ngrok"></a>5.1 啟用 ngrok</h2><p>對於以前從未使用過 ngrok 的初學者，建議您參考<a href="https://medium.com/linedevth/linebot-ngrok-b319841a49d7">這篇文章</a>，<a href="https://medium.com/@kamnan43">Sitthi</a>對於這方面相當熟悉，歡迎大家參考！</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ngrok http 3000</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/05shvgv.png"></p>
<h2 id="5-2-更新-Config"><a href="#5-2-更新-Config" class="headerlink" title="5.2 更新 Config"></a>5.2 更新 Config</h2><h3 id="env"><a href="#env" class="headerlink" title=".env"></a>.env</h3><p>我們應用程序的另一個重要檔案為<code>.env</code>。這是一個儲存環境變數的檔案。我們必須將與 LINE 和 Spotify 相關的各種參數複製該檔案中，如下所示：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">//</span> API endpoint</span><br><span class="line">LINE_MESSAGING_API = https：<span class="regexp">//</span>api.line.me<span class="regexp">/v2/</span>bot/message</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>從 LINE Developer Console 取得，用於發送訊息的 Access token</span><br><span class="line">LINE_ACCESS_TOKEN =</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>從 Spotify Developer Portal 複製過來</span><br><span class="line">SPOTIFY_CLIENT_ID =</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>在本文第二步驟中的 Spotify Developer Portal 中複製過來</span><br><span class="line">SPOTIFY_CLIENT_SECRET =</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>請添加 URL 以便讓 Spotify 的 callback URL 啟用 ngrok</span><br><span class="line">SPOTIFY_CALLBACK = https：<span class="regexp">//</span>xxxxxxxx.ngrok.io/spotify</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>作為音響連接裝置的用戶 ID（將使用此 ID 創建播放列表）</span><br><span class="line">SPOTIFY_USER_ID =</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>我們將在 Spotify 上創建的播放列表名稱</span><br><span class="line">SPOTIFY_PLAYLIST_NAME = BrownJukebox</span><br></pre></td></tr></table></figure>

<p>我們可以透過 Spotify App 獲得 Spotify 用戶 ID &gt; Setting &gt; Account （我找了很長時間…😓）</p>
<p><img src="https://i.imgur.com/adK2DaE.png"></p>
<blockquote>
<p>建議：若使用的主要帳戶是 “高級” 帳戶。您將能夠聽到更多音樂而非 “廣告”。</p>
</blockquote>
<h3 id="Spotify-設置"><a href="#Spotify-設置" class="headerlink" title="Spotify 設置"></a>Spotify 設置</h3><p>接著到 Spotify Developer Dashboard，您必須在先設置 Callback URL。當用戶完成登錄後，authorization code 將發送到此 endpoint URL 上，我們將使用它接收 AccessToken&#x2F;RefreshToken。</p>
<p>路徑為 Edit Settings &gt; Redirect URIs &gt; 輸入 <code>https://&#123;ngrok_URL&#125;/spotify</code>。</p>
<p><img src="https://i.imgur.com/xcvclUs.png"></p>
<blockquote>
<p>重要！不要忘記點下 <strong>ADD</strong> 按鈕。我已經跌了好多次 😭。</p>
</blockquote>
<h3 id="LINE-Messaging-API-Settings"><a href="#LINE-Messaging-API-Settings" class="headerlink" title="LINE Messaging API Settings"></a>LINE Messaging API Settings</h3><p>請從 ngrok 複製網址並加上 <code>/webhook</code> 後添加到 Chatbot Channel 中的 Webhook URL 中。</p>
<p><img src="https://i.imgur.com/sfs1eVu.png"></p>
<h3 id="Ready"><a href="#Ready" class="headerlink" title="Ready!"></a>Ready!</h3><p>最後，讓我們使用以下 CLI 執行 npm start 啟動 server！並將我們音響設備登錄至下列 URL 中。</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Authorization</span> required. Please visit</span><br><span class="line"></span><br><span class="line"><span class="attribute">https</span>://accounts.spotify.com/authorize?client_id=a<span class="number">982</span>c<span class="number">17</span>d<span class="number">58</span>cf<span class="number">4</span>e<span class="number">8</span>cbbdcbb<span class="number">53</span>xxxxxxxx&amp;response_type=code&amp;redirect_uri=https://ed<span class="number">27</span>de<span class="number">618</span>cf<span class="number">4</span>.ngrok.io/spotify&amp;scope=playlist-read-private%<span class="number">20</span>playlist-modify%<span class="number">20</span>playlist-modify-private&amp;state=default-state</span><br><span class="line"></span><br><span class="line"><span class="attribute">Server</span> available <span class="literal">on</span> port <span class="number">3000</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/XCkxVLQ.png"></p>
<p>登錄完成後，我們將在我們的 Spotify 中找到一個名為 “BrownJukebox” 的播放列表。</p>
<p><img src="https://i.imgur.com/fcsED7m.png"></p>
<h1 id="測試"><a href="#測試" class="headerlink" title="測試"></a>測試</h1><p><img src="https://miro.medium.com/max/280/1*is6EVaQ_Zit7TsqJHaX65Q.gif"></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>就我個人而言，我真的很喜歡這個聊天機器人，且在使用 Spotify API 實作時也很有趣，並使用搜索結果來設計 Flex message，但是正如我所說的，這只是一個半實驗品，且還有很多地方可以改進。例如更好地管理 Access token&#x2F;Refresh token，或者如果朋友在其中按了隨機歌曲的選項，他們要能點擊按鈕退出播放列表。</p>
<p>希望藉由這篇文章能啟發各位開發人獲得新點子，並繼續使用 LINE API 開發出出色的服務，所有程式碼均在下面的連結中，下次見 🙂。</p>
<p>若想知道更多可以參考我們的 <a href="https://github.com/linedevth/LINE-Bot-Jukebox-Spotify">Github</a>。</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://developer.spotify.com/documentation/web-api/reference/">Web API Reference</a></li>
<li><a href="http://michaelthelin.se/spotify-web-api-node/">Documentation for the Spotify Web API Node.JS wrapper</a></li>
</ul>
]]></content>
      <categories>
        <category>翻譯</category>
      </categories>
      <tags>
        <tag>LINE</tag>
        <tag>Chatbot</tag>
        <tag>Spotify</tag>
        <tag>Jukebox</tag>
      </tags>
  </entry>
</search>
